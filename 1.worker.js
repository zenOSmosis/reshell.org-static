/*! For license information please see 1.worker.js.LICENSE.txt */
!function(r){var o={};function __webpack_require__(i){if(o[i])return o[i].exports;var d=o[i]={i:i,l:!1,exports:{}};return r[i].call(d.exports,d,d.exports,__webpack_require__),d.l=!0,d.exports}__webpack_require__.m=r,__webpack_require__.c=o,__webpack_require__.d=function(r,o,i){__webpack_require__.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:i})},__webpack_require__.r=function(r){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},__webpack_require__.t=function(r,o){if(1&o&&(r=__webpack_require__(r)),8&o)return r;if(4&o&&"object"===typeof r&&r&&r.__esModule)return r;var i=Object.create(null);if(__webpack_require__.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:r}),2&o&&"string"!=typeof r)for(var d in r)__webpack_require__.d(i,d,function(o){return r[o]}.bind(null,d));return i},__webpack_require__.n=function(r){var o=r&&r.__esModule?function getDefault(){return r.default}:function getModuleExports(){return r};return __webpack_require__.d(o,"a",o),o},__webpack_require__.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},__webpack_require__.p="/",__webpack_require__(__webpack_require__.s=85)}([function(r,o,i){r.exports=i(47)},function(r,o){r.exports=function _classCallCheck(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}},function(r,o){function _defineProperties(r,o){for(var i=0;i<o.length;i++){var d=o[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(r,d.key,d)}}r.exports=function _createClass(r,o,i){return o&&_defineProperties(r.prototype,o),i&&_defineProperties(r,i),r}},function(r,o){function asyncGeneratorStep(r,o,i,d,g,v,_){try{var E=r[v](_),b=E.value}catch(T){return void i(T)}E.done?o(b):Promise.resolve(b).then(d,g)}r.exports=function _asyncToGenerator(r){return function(){var o=this,i=arguments;return new Promise((function(d,g){var v=r.apply(o,i);function _next(r){asyncGeneratorStep(v,d,g,_next,_throw,"next",r)}function _throw(r){asyncGeneratorStep(v,d,g,_next,_throw,"throw",r)}_next(void 0)}))}}},function(r,o){function _getPrototypeOf(o){return r.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(o)}r.exports=_getPrototypeOf},function(r,o,i){var d=i(51);r.exports=function _inherits(r,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),o&&d(r,o)}},function(r,o,i){var d=i(4),g=i(52),v=i(53);r.exports=function _createSuper(r){var o=g();return function _createSuperInternal(){var i,g=d(r);if(o){var _=d(this).constructor;i=Reflect.construct(g,arguments,_)}else i=g.apply(this,arguments);return v(this,i)}}},function(r,o,i){var d=i(50);function _get(o,i,g){return"undefined"!==typeof Reflect&&Reflect.get?r.exports=_get=Reflect.get:r.exports=_get=function _get(r,o,i){var g=d(r,o);if(g){var v=Object.getOwnPropertyDescriptor(g,o);return v.get?v.get.call(i):v.value}},_get(o,i,g||o)}r.exports=_get},function(r,o,i){var d=i(56),g=i(57),v=i(19),_=i(58);r.exports=function _toConsumableArray(r){return d(r)||g(r)||v(r)||_()}},function(r,o,i){var d=i(48),g=d.EVT_NO_INIT_WARN,v=d.EVT_READY,_=d.EVT_UPDATED,E=d.EVT_BEFORE_DESTROY,b=d.EVT_DESTROY_STACK_TIMED_OUT,T=d.EVT_DESTROYED;r.exports=d,r.exports.EVT_NO_INIT_WARN=g,r.exports.EVT_READY=v,r.exports.EVT_UPDATED=_,r.exports.EVT_BEFORE_DESTROY=E,r.exports.EVT_DESTROY_STACK_TIMED_OUT=b,r.exports.EVT_DESTROYED=T},function(r,o){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(d){"object"===typeof window&&(i=window)}r.exports=i},function(r,o,i){var d=i(19);r.exports=function _createForOfIteratorHelper(r,o){var i;if("undefined"===typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(i=d(r))||o&&r&&"number"===typeof r.length){i&&(r=i);var g=0,v=function F(){};return{s:v,n:function n(){return g>=r.length?{done:!0}:{done:!1,value:r[g++]}},e:function e(r){throw r},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,E=!0,b=!1;return{s:function s(){i=r[Symbol.iterator]()},n:function n(){var r=i.next();return E=r.done,r},e:function e(r){b=!0,_=r},f:function f(){try{E||null==i.return||i.return()}finally{if(b)throw _}}}}},function(r,o){r.exports=function _assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}},function(r,o,i){var d=i(20);r.exports=function getClassName(r){return d(r).name}},function(r,o){r.exports=function getIsClassInstance(r){return Boolean("object"===typeof Object.getPrototypeOf(r))}},function(r,o,i){var d=i(32);function ownKeys(r,o){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);o&&(d=d.filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),i.push.apply(i,d)}return i}r.exports=function _objectSpread2(r){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(i),!0).forEach((function(o){d(r,o,i[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(i,o))}))}return r}},function(r,o,i){var d=i(64),g=i(65),v=i(19),_=i(66);r.exports=function _slicedToArray(r,o){return d(r)||g(r,o)||v(r,o)||_()}},function(r,o,i){"use strict";(function(r){i.d(o,"a",(function(){return registerRPCMethod}));var d=i(0),g=i.n(d),v=i(45),_=i(46),E=new Map;function registerRPCMethod(r,o){if(E.get(r))throw new Error('rpcMethodMap already has a handler for method: "'.concat(r,'"'));E.set(r,o)}r.addEventListener("message",function(){var o=Object(v.a)(g.a.mark((function _callee(o){var i,d,v,_,b,T;return g.a.wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:if(i=o.data,d=i.method,v=i.params,_=i.id,!(b=E.get(d))){g.next=13;break}return g.prev=3,g.next=6,b(v);case 6:T=g.sent,r.postMessage({id:_,method:d,result:T}),g.next=13;break;case 10:g.prev=10,g.t0=g.catch(3),r.postMessage({id:_,method:d,error:g.t0});case 13:case"end":return g.stop()}}),_callee,null,[[3,10]])})));return function(r){return o.apply(this,arguments)}}()),r.postMessage(_.EVT_READY)}).call(this,i(10))},function(r,o){var i,d,g=r.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(r){if(i===setTimeout)return setTimeout(r,0);if((i===defaultSetTimout||!i)&&setTimeout)return i=setTimeout,setTimeout(r,0);try{return i(r,0)}catch(o){try{return i.call(null,r,0)}catch(o){return i.call(this,r,0)}}}!function(){try{i="function"===typeof setTimeout?setTimeout:defaultSetTimout}catch(r){i=defaultSetTimout}try{d="function"===typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(r){d=defaultClearTimeout}}();var v,_=[],E=!1,b=-1;function cleanUpNextTick(){E&&v&&(E=!1,v.length?_=v.concat(_):b=-1,_.length&&drainQueue())}function drainQueue(){if(!E){var r=runTimeout(cleanUpNextTick);E=!0;for(var o=_.length;o;){for(v=_,_=[];++b<o;)v&&v[b].run();b=-1,o=_.length}v=null,E=!1,function runClearTimeout(r){if(d===clearTimeout)return clearTimeout(r);if((d===defaultClearTimeout||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(r);try{return d(r)}catch(o){try{return d.call(null,r)}catch(o){return d.call(this,r)}}}(r)}}function Item(r,o){this.fun=r,this.array=o}function noop(){}g.nextTick=function(r){var o=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)o[i-1]=arguments[i];_.push(new Item(r,o)),1!==_.length||E||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=noop,g.addListener=noop,g.once=noop,g.off=noop,g.removeListener=noop,g.removeAllListeners=noop,g.emit=noop,g.prependListener=noop,g.prependOnceListener=noop,g.listeners=function(r){return[]},g.binding=function(r){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(r){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},function(r,o,i){var d=i(28);r.exports=function _unsupportedIterableToArray(r,o){if(r){if("string"===typeof r)return d(r,o);var i=Object.prototype.toString.call(r).slice(8,-1);return"Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i?Array.from(r):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(r,o):void 0}}},function(r,o,i){var d=i(14);r.exports=function getClass(r){return d(r)?r.constructor:r}},function(r,o,i){var d=i(15),g=i(1),v=i(2),_={trace:0,debug:1,info:2,warn:3,error:4,silent:5},E=function(){"use strict";function Logger(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this,Logger);var o={logLevel:2,prefix:function prefix(r){return"[".concat(r,"]")}};this._options=d(d({},o),r),this.log=null,this._logLevel=this._options.logLevel,this.setLogLevel(this._options.logLevel)}return v(Logger,[{key:"setLogLevel",value:function setLogLevel(r){var o=this;if("string"===typeof r&&(r=_[r]),!Object.values(_).includes(r))throw new Error("Unknown log level: ".concat(r));this._logLevel=r,this.log=function(){var i=o._options.prefix,d={};d.trace=r<=0?Function.prototype.bind.call(console.trace,console,i("trace")):function(){return null},d.debug=r<=1?Function.prototype.bind.call(console.debug,console,i("debug")):function(){return null},d.info=r<=2?Function.prototype.bind.call(console.info,console,i("info")):function(){return null},d.warn=r<=3?Function.prototype.bind.call(console.warn,console,i("warn")):function(){return null},d.error=r<=4?Function.prototype.bind.call(console.error,console,i("error")):function(){return null};var g=d.info;return Object.keys(d).forEach((function(r){g[r]=d[r],o[r]=d[r]})),g}()}},{key:"getLogLevel",value:function getLogLevel(){return this._logLevel}}]),Logger}();r.exports=E,r.exports.LOG_LEVEL_TRACE=0,r.exports.LOG_LEVEL_DEBUG=1,r.exports.LOG_LEVEL_INFO=2,r.exports.LOG_LEVEL_WARN=3,r.exports.LOG_LEVEL_ERROR=4,r.exports.LOG_LEVEL_SILENT=5},function(r,o){r.exports=function getUnixTime(){var r=new Date,o=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds());return Math.round(o/1e3)}},function(r,o,i){var d=i(8),g=i(14);r.exports=function getClassInstancePropertyNames(r){if(!g(r))throw new TypeError("classInstance must be an instance of a class");var o=new Set,i=r;do{Object.getOwnPropertyNames(i).map((function(r){return o.add(r)}))}while(i=Object.getPrototypeOf(i));return d(o.keys())}},function(r,o,i){var d=i(23);r.exports=function getClassInstanceMethodNames(r){return d(r).filter((function(o){return"function"===typeof r[o]}))}},function(r,o,i){var d=i(38),g=d.EVT_UPDATED,v=d.EVT_BEFORE_DESTROY,_=d.EVT_DESTROY_STACK_TIMED_OUT,E=d.EVT_DESTROYED,b=d.EVT_CHILD_INSTANCE_ADDED,T=d.EVT_CHILD_INSTANCE_REMOVED;r.exports=d,r.exports.EVT_CHILD_INSTANCE_ADDED=b,r.exports.EVT_CHILD_INSTANCE_REMOVED=T,r.exports.EVT_UPDATED=g,r.exports.EVT_BEFORE_DESTROY=v,r.exports.EVT_DESTROY_STACK_TIMED_OUT=_,r.exports.EVT_DESTROYED=E},function(r,o,i){var d=i(15),g=i(1),v=i(2),_=i(5),E=i(6),b=i(9),T=b.EVT_NO_INIT_WARN,O=b.EVT_READY,x=b.EVT_UPDATED,I=b.EVT_BEFORE_DESTROY,D=b.EVT_DESTROY_STACK_TIMED_OUT,k=b.EVT_DESTROYED,C=function(r){"use strict";_(PhantomState,r);var o=E(PhantomState);function PhantomState(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(this,PhantomState),(r=o.call(this,d))._state={},i&&r.setState(i),r.registerCleanupHandler((function(){r._state=null})),r}return v(PhantomState,[{key:"getState",value:function getState(){return this._state}},{key:"setState",value:function setState(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("object"!==typeof r)throw new TypeError("partialNextState must be an object");this._state=o?d(d({},this._state),r):r,this.emit(x,r)}}]),PhantomState}(b);r.exports=C,r.exports.EVT_NO_INIT_WARN=T,r.exports.EVT_READY=O,r.exports.EVT_UPDATED=x,r.exports.EVT_BEFORE_DESTROY=I,r.exports.EVT_DESTROY_STACK_TIMED_OUT=D,r.exports.EVT_DESTROYED=k},function(r,o,i){(function(r,o){!function(r,i){"use strict";if(!r.setImmediate){var d,g=1,v={},_=!1,E=r.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(r);b=b&&b.setTimeout?b:r,"[object process]"==={}.toString.call(r.process)?function installNextTickImplementation(){d=function registerImmediate(r){o.nextTick((function(){runIfPresent(r)}))}}():!function canUsePostMessage(){if(r.postMessage&&!r.importScripts){var o=!0,i=r.onmessage;return r.onmessage=function(){o=!1},r.postMessage("","*"),r.onmessage=i,o}}()?r.MessageChannel?function installMessageChannelImplementation(){var r=new MessageChannel;r.port1.onmessage=function(r){runIfPresent(r.data)},d=function registerImmediate(o){r.port2.postMessage(o)}}():E&&"onreadystatechange"in E.createElement("script")?function installReadyStateChangeImplementation(){var r=E.documentElement;d=function registerImmediate(o){var i=E.createElement("script");i.onreadystatechange=function(){runIfPresent(o),i.onreadystatechange=null,r.removeChild(i),i=null},r.appendChild(i)}}():function installSetTimeoutImplementation(){d=function registerImmediate(r){setTimeout(runIfPresent,0,r)}}():function installPostMessageImplementation(){var o="setImmediate$"+Math.random()+"$",i=function onGlobalMessage(i){i.source===r&&"string"===typeof i.data&&0===i.data.indexOf(o)&&runIfPresent(+i.data.slice(o.length))};r.addEventListener?r.addEventListener("message",i,!1):r.attachEvent("onmessage",i),d=function registerImmediate(i){r.postMessage(o+i,"*")}}(),b.setImmediate=function setImmediate(r){"function"!==typeof r&&(r=new Function(""+r));for(var o=new Array(arguments.length-1),i=0;i<o.length;i++)o[i]=arguments[i+1];var _={callback:r,args:o};return v[g]=_,d(g),g++},b.clearImmediate=clearImmediate}function clearImmediate(r){delete v[r]}function runIfPresent(r){if(_)setTimeout(runIfPresent,0,r);else{var o=v[r];if(o){_=!0;try{!function run(r){var o=r.callback,i=r.args;switch(i.length){case 0:o();break;case 1:o(i[0]);break;case 2:o(i[0],i[1]);break;case 3:o(i[0],i[1],i[2]);break;default:o.apply(void 0,i)}}(o)}finally{clearImmediate(r),_=!1}}}}}("undefined"===typeof self?"undefined"===typeof r?this:r:self)}).call(this,i(10),i(18))},function(r,o){r.exports=function _arrayLikeToArray(r,o){(null==o||o>r.length)&&(o=r.length);for(var i=0,d=new Array(o);i<o;i++)d[i]=r[i];return d}},function(r,o,i){"use strict";var d,g="object"===typeof Reflect?Reflect:null,v=g&&"function"===typeof g.apply?g.apply:function ReflectApply(r,o,i){return Function.prototype.apply.call(r,o,i)};d=g&&"function"===typeof g.ownKeys?g.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:function ReflectOwnKeys(r){return Object.getOwnPropertyNames(r)};var _=Number.isNaN||function NumberIsNaN(r){return r!==r};function EventEmitter(){EventEmitter.init.call(this)}r.exports=EventEmitter,r.exports.once=function once(r,o){return new Promise((function(i,d){function errorListener(i){r.removeListener(o,resolver),d(i)}function resolver(){"function"===typeof r.removeListener&&r.removeListener("error",errorListener),i([].slice.call(arguments))}eventTargetAgnosticAddListener(r,o,resolver,{once:!0}),"error"!==o&&function addErrorHandlerIfEventEmitter(r,o,i){"function"===typeof r.on&&eventTargetAgnosticAddListener(r,"error",o,i)}(r,errorListener,{once:!0})}))},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var E=10;function checkListener(r){if("function"!==typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}function _getMaxListeners(r){return void 0===r._maxListeners?EventEmitter.defaultMaxListeners:r._maxListeners}function _addListener(r,o,i,d){var g,v,_;if(checkListener(i),void 0===(v=r._events)?(v=r._events=Object.create(null),r._eventsCount=0):(void 0!==v.newListener&&(r.emit("newListener",o,i.listener?i.listener:i),v=r._events),_=v[o]),void 0===_)_=v[o]=i,++r._eventsCount;else if("function"===typeof _?_=v[o]=d?[i,_]:[_,i]:d?_.unshift(i):_.push(i),(g=_getMaxListeners(r))>0&&_.length>g&&!_.warned){_.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+_.length+" "+String(o)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=r,E.type=o,E.count=_.length,function ProcessEmitWarning(r){console&&console.warn&&console.warn(r)}(E)}return r}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(r,o,i){var d={fired:!1,wrapFn:void 0,target:r,type:o,listener:i},g=onceWrapper.bind(d);return g.listener=i,d.wrapFn=g,g}function _listeners(r,o,i){var d=r._events;if(void 0===d)return[];var g=d[o];return void 0===g?[]:"function"===typeof g?i?[g.listener||g]:[g]:i?function unwrapListeners(r){for(var o=new Array(r.length),i=0;i<o.length;++i)o[i]=r[i].listener||r[i];return o}(g):arrayClone(g,g.length)}function listenerCount(r){var o=this._events;if(void 0!==o){var i=o[r];if("function"===typeof i)return 1;if(void 0!==i)return i.length}return 0}function arrayClone(r,o){for(var i=new Array(o),d=0;d<o;++d)i[d]=r[d];return i}function eventTargetAgnosticAddListener(r,o,i,d){if("function"===typeof r.on)d.once?r.once(o,i):r.on(o,i);else{if("function"!==typeof r.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r);r.addEventListener(o,(function wrapListener(g){d.once&&r.removeEventListener(o,wrapListener),i(g)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function get(){return E},set:function set(r){if("number"!==typeof r||r<0||_(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");E=r}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(r){if("number"!==typeof r||r<0||_(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(r){for(var o=[],i=1;i<arguments.length;i++)o.push(arguments[i]);var d="error"===r,g=this._events;if(void 0!==g)d=d&&void 0===g.error;else if(!d)return!1;if(d){var _;if(o.length>0&&(_=o[0]),_ instanceof Error)throw _;var E=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw E.context=_,E}var b=g[r];if(void 0===b)return!1;if("function"===typeof b)v(b,this,o);else{var T=b.length,O=arrayClone(b,T);for(i=0;i<T;++i)v(O[i],this,o)}return!0},EventEmitter.prototype.addListener=function addListener(r,o){return _addListener(this,r,o,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(r,o){return _addListener(this,r,o,!0)},EventEmitter.prototype.once=function once(r,o){return checkListener(o),this.on(r,_onceWrap(this,r,o)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(r,o){return checkListener(o),this.prependListener(r,_onceWrap(this,r,o)),this},EventEmitter.prototype.removeListener=function removeListener(r,o){var i,d,g,v,_;if(checkListener(o),void 0===(d=this._events))return this;if(void 0===(i=d[r]))return this;if(i===o||i.listener===o)0===--this._eventsCount?this._events=Object.create(null):(delete d[r],d.removeListener&&this.emit("removeListener",r,i.listener||o));else if("function"!==typeof i){for(g=-1,v=i.length-1;v>=0;v--)if(i[v]===o||i[v].listener===o){_=i[v].listener,g=v;break}if(g<0)return this;0===g?i.shift():function spliceOne(r,o){for(;o+1<r.length;o++)r[o]=r[o+1];r.pop()}(i,g),1===i.length&&(d[r]=i[0]),void 0!==d.removeListener&&this.emit("removeListener",r,_||o)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(r){var o,i,d;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[r]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[r]),this;if(0===arguments.length){var g,v=Object.keys(i);for(d=0;d<v.length;++d)"removeListener"!==(g=v[d])&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(o=i[r]))this.removeListener(r,o);else if(void 0!==o)for(d=o.length-1;d>=0;d--)this.removeListener(r,o[d]);return this},EventEmitter.prototype.listeners=function listeners(r){return _listeners(this,r,!0)},EventEmitter.prototype.rawListeners=function rawListeners(r){return _listeners(this,r,!1)},EventEmitter.listenerCount=function(r,o){return"function"===typeof r.listenerCount?r.listenerCount(o):listenerCount.call(r,o)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?d(this._events):[]}},function(r,o,i){var d=i(0),g=i(3),v=i(1),_=i(2),E=i(5),b=i(6),T=i(29),O=i(13),x=i(31),I="before-destroy",D="destroy-stack-timed-out",k="destroyed";r.exports=function(r){"use strict";E(DestructibleEventEmitter,r);var o=b(DestructibleEventEmitter);function DestructibleEventEmitter(){var r;return v(this,DestructibleEventEmitter),(r=o.call(this))._isDestroying=!1,r._isDestroyed=!1,r.on(k,(function(){if(!r._isDestroyed)throw r.destroy(),new Error("EVT_DESTROYED was incorrectly emit without initially being in a destroyed state. Destructing instance due to potential state invalidation.")})),r}return _(DestructibleEventEmitter,[{key:"getTotalListenerCount",value:function getTotalListenerCount(){var r=this;return this.eventNames().map((function(o){return r.listenerCount(o)})).reduce((function(r,o){return r+o}),0)}},{key:"getIsDestroying",value:function getIsDestroying(){return this._isDestroying}},{key:"getIsDestroyed",value:function getIsDestroyed(){return this._isDestroyed}},{key:"destroy",value:function(){var r=g(d.mark((function _callee(){var r,o,i,g=this,v=arguments;return d.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:if(r=v.length>0&&void 0!==v[0]?v[0]:function(){return null},o=v.length>1&&void 0!==v[1]?v[1]:function(){return null},!this._isDestroying){d.next=6;break}x.warn("".concat(O(this)," is already being destroyed. The subsequent call has been ignored. Ensure callers are checking for destroy status before calling destroy().")),d.next=32;break;case 6:if(!this._isDestroyed){d.next=10;break}throw new Error('"'.concat(O(this),'" has already been destroyed.'));case 10:return this._isDestroying=!0,this.emit(I),i=setTimeout((function(){g.emit(D)}),5e3),d.prev=13,d.next=16,r();case 16:d.next=21;break;case 18:throw d.prev=18,d.t0=d.catch(13),d.t0;case 21:return d.prev=21,clearTimeout(i),d.finish(21);case 24:return this._isDestroyed=!0,this.emit(k),this.removeAllListeners(),d.next=29,o();case 29:if(!this.getTotalListenerCount()){d.next=31;break}throw new Error("An event handler has been registered in a post destruct callback which could cause a potential memory leak.");case 31:this._isDestroying=!1;case 32:case"end":return d.stop()}}),_callee,this,[[13,18,21,24]])})));return function destroy(){return r.apply(this,arguments)}}()}]),DestructibleEventEmitter}(T),r.exports.EVT_BEFORE_DESTROY=I,r.exports.EVT_DESTROY_STACK_TIMED_OUT=D,r.exports.EVT_DESTROYED=k},function(r,o,i){var d=i(21);r.exports=new d},function(r,o){r.exports=function _defineProperty(r,o,i){return o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r}},function(r,o,i){var d=i(55);r.exports=function getPackageJSON(){return d}},function(r,o,i){var d=i(0),g=i(3),v=i(8),_=i(1),E=i(2),b="FIFO",T="LIFO";r.exports=function(){"use strict";function FunctionStack(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;if(_(this,FunctionStack),r!==b&&r!==T)throw new ReferenceError('opsOrder must either be "FIFO" or "LIFO"');this._opsOrder=r,this._fns=[]}return E(FunctionStack,[{key:"getOpsOrder",value:function getOpsOrder(){return this._opsOrder}},{key:"push",value:function push(r){if("function"!==typeof r)throw new TypeError("fn must be a function");this._fns=v(new Set([].concat(v(this._fns),[r])))}},{key:"remove",value:function remove(r){this._fns=this._fns.filter((function(o){return o!==r}))}},{key:"clear",value:function clear(){this._fns=[]}},{key:"getQueueDepth",value:function getQueueDepth(){return this._fns.length}},{key:"exec",value:function(){var r=g(d.mark((function _callee(){var r;return d.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:if(!this._fns.length){o.next=5;break}return r=this._opsOrder===b?this._fns.shift():this._fns.pop(),o.next=4,r();case 4:return o.abrupt("return",this.exec());case 5:case"end":return o.stop()}}),_callee,this)})));return function exec(){return r.apply(this,arguments)}}()}]),FunctionStack}(),r.exports.FUNCTION_STACK_OPS_ORDER_FIFO=b,r.exports.FUNCTION_STACK_OPS_ORDER_LIFO=T},function(r,o,i){var d=i(24),g=i(14);r.exports=function autoBindClassInstanceMethods(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!g(r))throw new TypeError("classInstance must be an instance of a class");d(r).forEach((function(i){var d=r[i];d===r.constructor||o.includes(d)||(r[i]=r[i].bind(r))}))}},function(r,o,i){var d=i(15);r.exports=function shallowMerge(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null===r&&(r={}),null===o&&(o={}),d(d({},r),o)}},function(r,o,i){"use strict";(function(o){var d=i(67);function compare(r,o){if(r===o)return 0;for(var i=r.length,d=o.length,g=0,v=Math.min(i,d);g<v;++g)if(r[g]!==o[g]){i=r[g],d=o[g];break}return i<d?-1:d<i?1:0}function isBuffer(r){return o.Buffer&&"function"===typeof o.Buffer.isBuffer?o.Buffer.isBuffer(r):!(null==r||!r._isBuffer)}var g=i(68),v=Object.prototype.hasOwnProperty,_=Array.prototype.slice,E="foo"===function foo(){}.name;function pToString(r){return Object.prototype.toString.call(r)}function isView(r){return!isBuffer(r)&&("function"===typeof o.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(r):!!r&&(r instanceof DataView||!!(r.buffer&&r.buffer instanceof ArrayBuffer))))}var b=r.exports=ok,T=/\s*function\s+([^\(\s]*)\s*/;function getName(r){if(g.isFunction(r)){if(E)return r.name;var o=r.toString().match(T);return o&&o[1]}}function truncate(r,o){return"string"===typeof r?r.length<o?r:r.slice(0,o):r}function inspect(r){if(E||!g.isFunction(r))return g.inspect(r);var o=getName(r);return"[Function"+(o?": "+o:"")+"]"}function fail(r,o,i,d,g){throw new b.AssertionError({message:i,actual:r,expected:o,operator:d,stackStartFunction:g})}function ok(r,o){r||fail(r,!0,o,"==",b.ok)}function _deepEqual(r,o,i,d){if(r===o)return!0;if(isBuffer(r)&&isBuffer(o))return 0===compare(r,o);if(g.isDate(r)&&g.isDate(o))return r.getTime()===o.getTime();if(g.isRegExp(r)&&g.isRegExp(o))return r.source===o.source&&r.global===o.global&&r.multiline===o.multiline&&r.lastIndex===o.lastIndex&&r.ignoreCase===o.ignoreCase;if(null!==r&&"object"===typeof r||null!==o&&"object"===typeof o){if(isView(r)&&isView(o)&&pToString(r)===pToString(o)&&!(r instanceof Float32Array||r instanceof Float64Array))return 0===compare(new Uint8Array(r.buffer),new Uint8Array(o.buffer));if(isBuffer(r)!==isBuffer(o))return!1;var v=(d=d||{actual:[],expected:[]}).actual.indexOf(r);return-1!==v&&v===d.expected.indexOf(o)||(d.actual.push(r),d.expected.push(o),function objEquiv(r,o,i,d){if(null===r||void 0===r||null===o||void 0===o)return!1;if(g.isPrimitive(r)||g.isPrimitive(o))return r===o;if(i&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(o))return!1;var v=isArguments(r),E=isArguments(o);if(v&&!E||!v&&E)return!1;if(v)return _deepEqual(r=_.call(r),o=_.call(o),i);var b,T,x=O(r),I=O(o);if(x.length!==I.length)return!1;for(x.sort(),I.sort(),T=x.length-1;T>=0;T--)if(x[T]!==I[T])return!1;for(T=x.length-1;T>=0;T--)if(!_deepEqual(r[b=x[T]],o[b],i,d))return!1;return!0}(r,o,i,d))}return i?r===o:r==o}function isArguments(r){return"[object Arguments]"==Object.prototype.toString.call(r)}function expectedException(r,o){if(!r||!o)return!1;if("[object RegExp]"==Object.prototype.toString.call(o))return o.test(r);try{if(r instanceof o)return!0}catch(i){}return!Error.isPrototypeOf(o)&&!0===o.call({},r)}function _throws(r,o,i,d){var v;if("function"!==typeof o)throw new TypeError('"block" argument must be a function');"string"===typeof i&&(d=i,i=null),v=function _tryBlock(r){var o;try{r()}catch(i){o=i}return o}(o),d=(i&&i.name?" ("+i.name+").":".")+(d?" "+d:"."),r&&!v&&fail(v,i,"Missing expected exception"+d);var _="string"===typeof d,E=!r&&v&&!i;if((!r&&g.isError(v)&&_&&expectedException(v,i)||E)&&fail(v,i,"Got unwanted exception"+d),r&&v&&i&&!expectedException(v,i)||!r&&v)throw v}b.AssertionError=function AssertionError(r){this.name="AssertionError",this.actual=r.actual,this.expected=r.expected,this.operator=r.operator,r.message?(this.message=r.message,this.generatedMessage=!1):(this.message=function getMessage(r){return truncate(inspect(r.actual),128)+" "+r.operator+" "+truncate(inspect(r.expected),128)}(this),this.generatedMessage=!0);var o=r.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,o);else{var i=new Error;if(i.stack){var d=i.stack,g=getName(o),v=d.indexOf("\n"+g);if(v>=0){var _=d.indexOf("\n",v+1);d=d.substring(_+1)}this.stack=d}}},g.inherits(b.AssertionError,Error),b.fail=fail,b.ok=ok,b.equal=function equal(r,o,i){r!=o&&fail(r,o,i,"==",b.equal)},b.notEqual=function notEqual(r,o,i){r==o&&fail(r,o,i,"!=",b.notEqual)},b.deepEqual=function deepEqual(r,o,i){_deepEqual(r,o,!1)||fail(r,o,i,"deepEqual",b.deepEqual)},b.deepStrictEqual=function deepStrictEqual(r,o,i){_deepEqual(r,o,!0)||fail(r,o,i,"deepStrictEqual",b.deepStrictEqual)},b.notDeepEqual=function notDeepEqual(r,o,i){_deepEqual(r,o,!1)&&fail(r,o,i,"notDeepEqual",b.notDeepEqual)},b.notDeepStrictEqual=function notDeepStrictEqual(r,o,i){_deepEqual(r,o,!0)&&fail(r,o,i,"notDeepStrictEqual",notDeepStrictEqual)},b.strictEqual=function strictEqual(r,o,i){r!==o&&fail(r,o,i,"===",b.strictEqual)},b.notStrictEqual=function notStrictEqual(r,o,i){r===o&&fail(r,o,i,"!==",b.notStrictEqual)},b.throws=function(r,o,i){_throws(!0,r,o,i)},b.doesNotThrow=function(r,o,i){_throws(!1,r,o,i)},b.ifError=function(r){if(r)throw r},b.strict=d((function strict(r,o){r||fail(r,!0,o,"==",strict)}),b,{equal:b.strictEqual,deepEqual:b.deepStrictEqual,notEqual:b.notStrictEqual,notDeepEqual:b.notDeepStrictEqual}),b.strict.strict=b.strict;var O=Object.keys||function(r){var o=[];for(var i in r)v.call(r,i)&&o.push(i);return o}}).call(this,i(10))},function(r,o,i){var d=i(16),g=i(8),v=i(32),_=i(11),E=i(0),b=i(3),T=i(1),O=i(2),x=i(12),I=i(7),D=i(4),k=i(5),C=i(6),P=i(37),A=i(9),R=A.EVT_NO_INIT_WARN,L=A.EVT_READY,j=A.EVT_UPDATED,N=A.EVT_BEFORE_DESTROY,V=A.EVT_DESTROY_STACK_TIMED_OUT,W=A.EVT_DESTROYED,U="child-instance-added",Y="child-instance-removed",H="childKey",B="beforeDestroyHandler",q=function(r,o){"use strict";k(PhantomCollection,r);var R=C(PhantomCollection);function PhantomCollection(){var r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(T(this,PhantomCollection),!Array.isArray(o))throw new TypeError("initialPhantomInstances must be an array");(r=R.call(this,d))._children=[],r._childrenMetadata=new Map;var g=i(72);return r._childEventBridge=new g(x(r)),o.forEach((function(o){return r.addChild(o)})),r}return O(PhantomCollection,[{key:"destroyAllChildren",value:function(){var r=b(E.mark((function _callee(){var r;return E.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return r=this.getChildren(),o.abrupt("return",Promise.all(r.map((function(r){return r.destroy()}))));case 2:case"end":return o.stop()}}),_callee,this)})));return function destroyAllChildren(){return r.apply(this,arguments)}}()},{key:o,get:function get(){var r=this.getChildren();return E.mark((function _callee2(){var o,i,d;return E.wrap((function _callee2$(g){for(;;)switch(g.prev=g.next){case 0:o=_(r),g.prev=1,o.s();case 3:if((i=o.n()).done){g.next=9;break}return d=i.value,g.next=7,d;case 7:g.next=3;break;case 9:g.next=14;break;case 11:g.prev=11,g.t0=g.catch(1),o.e(g.t0);case 14:return g.prev=14,o.f(),g.finish(14);case 17:case"end":return g.stop()}}),_callee2,null,[[1,11,14,17]])}))}},{key:"addChild",value:function addChild(r){var o,i=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,E=this.getChildWithKey(d);if(E){if(E!==r)throw new ReferenceError('A duplicate key is trying to be added with a different PhantomCore instance than what is already registered with the key: "'.concat(d,'"'))}else{if(!A.getIsLooseInstance(r))throw new TypeError("PhantomCollection cannot add a child that is not a known PhantomCore instance. Perhaps the child is of a different PhantomCore symbol than this library recognizes.");if(this.getIsSameInstance(r))throw new ReferenceError("A PhantomCollection cannot be passed to itself");if(r.getIsDestroyed())throw new ReferenceError("Cannot add a destroyed PhantomCore instance");var b,T=_(this.getChildren());try{for(T.s();!(b=T.n()).done;){var O=b.value;if(O.getIsSameInstance(r))return}}catch(I){T.e(I)}finally{T.f()}var x=function handleBeforeDestroy(){i._children=i._children.filter((function(o){return o!==r})),r.once(W,(function(){return i.removeChild(r)}))};this._childrenMetadata.set(r,(v(o={},H,d),v(o,B,x),o)),r.once(N,x),this._children=[].concat(g(this._children),[r]),this.emit(U,r),this.emit(j)}}},{key:"removeChild",value:function removeChild(r){var o=this._childrenMetadata.get(r);if(o){var i=o.beforeDestroyHandler;r.off(N,i),this._children=this._children.filter((function(o){return o!==r})),this._childrenMetadata.delete(r),this.emit(Y,r),this.emit(j)}}},{key:"removeAllChildren",value:function removeAllChildren(){var r,o=_(this.getChildren());try{for(o.s();!(r=o.n()).done;){var i=r.value;this.removeChild(i)}}catch(d){o.e(d)}finally{o.f()}}},{key:"getChildren",value:function getChildren(){return this._children}},{key:"getChildWithKey",value:function getChildWithKey(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(r){var o,i=_(this._childrenMetadata.entries());try{for(i.s();!(o=i.n()).done;){var g=d(o.value,2),v=g[0],E=g[1];if(E.childKey===r)return v}}catch(b){i.e(b)}finally{i.f()}}}},{key:"getKeys",value:function getKeys(){return g(this._childrenMetadata.entries()).map((function(r){return d(r,2)[1].childKey})).filter((function(r){return r}))}},{key:"broadcast",value:function broadcast(r,o){var i,d=_(this.getChildren());try{for(d.s();!(i=d.n()).done;){i.value.emit(r,o)}}catch(g){d.e(g)}finally{d.f()}}},{key:"bindChildEventName",value:function bindChildEventName(r){this._childEventBridge.addBridgeEventName(r)}},{key:"unbindChildEventName",value:function unbindChildEventName(r){this._childEventBridge.removeBridgeEventName(r)}},{key:"getBoundChildEventNames",value:function getBoundChildEventNames(){return this._childEventBridge.getBridgeEventNames()}},{key:"destroy",value:function(){var r=b(E.mark((function _callee4(){var r,o=this,i=arguments;return E.wrap((function _callee4$(d){for(;;)switch(d.prev=d.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:function(){return null},d.abrupt("return",I(D(PhantomCollection.prototype),"destroy",this).call(this,b(E.mark((function _callee3(){return E.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r();case 2:return o.removeAllChildren(),P.strictEqual(o._children.length,0),P.strictEqual(g(o._childrenMetadata.entries()).length,0),i.next=7,o._childEventBridge.destroy();case 7:case"end":return i.stop()}}),_callee3)})))));case 2:case"end":return d.stop()}}),_callee4,this)})));return function destroy(){return r.apply(this,arguments)}}()}],[{key:"getIsLooseInstance",value:function getIsLooseInstance(r){return!(!A.getIsLooseInstance(r)||"function"!==typeof r.addChild||"function"!==typeof r.removeChild||"function"!==typeof r.getChildren||"function"!==typeof r.getKeys||"function"!==typeof r.broadcast||"function"!==typeof r.removeAllChildren||"function"!==typeof r.destroyAllChildren)}},{key:"getChildrenDiff",value:function getChildrenDiff(r,o){return{added:o.filter((function(o){return!r.includes(o)})),removed:r.filter((function(r){return!o.includes(r)}))}}}]),PhantomCollection}(A,Symbol.iterator);r.exports=q,r.exports.EVT_NO_INIT_WARN=R,r.exports.EVT_READY=L,r.exports.EVT_UPDATED=j,r.exports.EVT_BEFORE_DESTROY=N,r.exports.EVT_DESTROY_STACK_TIMED_OUT=V,r.exports.EVT_DESTROYED=W,r.exports.EVT_CHILD_INSTANCE_ADDED=U,r.exports.EVT_CHILD_INSTANCE_REMOVED=Y},function(r,o,i){var d=i(73),g=d.EVT_UPDATED,v=d.EVT_BEFORE_DESTROY,_=d.EVT_DESTROY_STACK_TIMED_OUT,E=d.EVT_DESTROYED;r.exports=d,r.exports.EVT_UPDATED=g,r.exports.EVT_BEFORE_DESTROY=v,r.exports.EVT_DESTROY_STACK_TIMED_OUT=_,r.exports.EVT_DESTROYED=E},function(r,o,i){var d=i(74),g=d.EVT_CHILD_INSTANCE_ADDED,v=d.EVT_CHILD_INSTANCE_REMOVED,_=d.EVT_UPDATED,E=d.EVT_BEFORE_DESTROY,b=d.EVT_DESTROY_STACK_TIMED_OUT,T=d.EVT_DESTROYED;r.exports=d,r.exports.EVT_CHILD_INSTANCE_ADDED=g,r.exports.EVT_CHILD_INSTANCE_REMOVED=v,r.exports.EVT_UPDATED=_,r.exports.EVT_BEFORE_DESTROY=E,r.exports.EVT_DESTROY_STACK_TIMED_OUT=b,r.exports.EVT_DESTROYED=T},function(r,o,i){(function(o){r.exports=function getIsNodeJS(){return"undefined"!==typeof o.versions.node}}).call(this,i(18))},function(r,o,i){var d=i(20),g=i(43);r.exports=function getSuperClass(r){var o=d(r),i=Object.getPrototypeOf(o);if(g(i))return i}},function(r,o){r.exports=function getIsClass(r){return Boolean("function"===typeof r&&r.name)}},function(r,o,i){"use strict";var d;i.r(o),i.d(o,"v1",(function(){return k})),i.d(o,"v3",(function(){return P})),i.d(o,"v4",(function(){return A})),i.d(o,"v5",(function(){return R})),i.d(o,"NIL",(function(){return L})),i.d(o,"version",(function(){return j})),i.d(o,"validate",(function(){return _})),i.d(o,"stringify",(function(){return x})),i.d(o,"parse",(function(){return C}));var g=new Uint8Array(16);function rng(){if(!d&&!(d="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(g)}var v=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var _=function validate(r){return"string"===typeof r&&v.test(r)},E=[],b=0;b<256;++b)E.push((b+256).toString(16).substr(1));var T,O,x=function stringify(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(E[r[o+0]]+E[r[o+1]]+E[r[o+2]]+E[r[o+3]]+"-"+E[r[o+4]]+E[r[o+5]]+"-"+E[r[o+6]]+E[r[o+7]]+"-"+E[r[o+8]]+E[r[o+9]]+"-"+E[r[o+10]]+E[r[o+11]]+E[r[o+12]]+E[r[o+13]]+E[r[o+14]]+E[r[o+15]]).toLowerCase();if(!_(i))throw TypeError("Stringified UUID is invalid");return i},I=0,D=0;var k=function v1(r,o,i){var d=o&&i||0,g=o||new Array(16),v=(r=r||{}).node||T,_=void 0!==r.clockseq?r.clockseq:O;if(null==v||null==_){var E=r.random||(r.rng||rng)();null==v&&(v=T=[1|E[0],E[1],E[2],E[3],E[4],E[5]]),null==_&&(_=O=16383&(E[6]<<8|E[7]))}var b=void 0!==r.msecs?r.msecs:Date.now(),k=void 0!==r.nsecs?r.nsecs:D+1,C=b-I+(k-D)/1e4;if(C<0&&void 0===r.clockseq&&(_=_+1&16383),(C<0||b>I)&&void 0===r.nsecs&&(k=0),k>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");I=b,D=k,O=_;var P=(1e4*(268435455&(b+=122192928e5))+k)%4294967296;g[d++]=P>>>24&255,g[d++]=P>>>16&255,g[d++]=P>>>8&255,g[d++]=255&P;var A=b/4294967296*1e4&268435455;g[d++]=A>>>8&255,g[d++]=255&A,g[d++]=A>>>24&15|16,g[d++]=A>>>16&255,g[d++]=_>>>8|128,g[d++]=255&_;for(var R=0;R<6;++R)g[d+R]=v[R];return o||x(g)};var C=function parse(r){if(!_(r))throw TypeError("Invalid UUID");var o,i=new Uint8Array(16);return i[0]=(o=parseInt(r.slice(0,8),16))>>>24,i[1]=o>>>16&255,i[2]=o>>>8&255,i[3]=255&o,i[4]=(o=parseInt(r.slice(9,13),16))>>>8,i[5]=255&o,i[6]=(o=parseInt(r.slice(14,18),16))>>>8,i[7]=255&o,i[8]=(o=parseInt(r.slice(19,23),16))>>>8,i[9]=255&o,i[10]=(o=parseInt(r.slice(24,36),16))/1099511627776&255,i[11]=o/4294967296&255,i[12]=o>>>24&255,i[13]=o>>>16&255,i[14]=o>>>8&255,i[15]=255&o,i};var v35=function(r,o,i){function generateUUID(r,d,g,v){if("string"===typeof r&&(r=function stringToBytes(r){r=unescape(encodeURIComponent(r));for(var o=[],i=0;i<r.length;++i)o.push(r.charCodeAt(i));return o}(r)),"string"===typeof d&&(d=C(d)),16!==d.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var _=new Uint8Array(16+r.length);if(_.set(d),_.set(r,d.length),(_=i(_))[6]=15&_[6]|o,_[8]=63&_[8]|128,g){v=v||0;for(var E=0;E<16;++E)g[v+E]=_[E];return g}return x(_)}try{generateUUID.name=r}catch(d){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID};function getOutputLength(r){return 14+(r+64>>>9<<4)+1}function safeAdd(r,o){var i=(65535&r)+(65535&o);return(r>>16)+(o>>16)+(i>>16)<<16|65535&i}function md5cmn(r,o,i,d,g,v){return safeAdd(function bitRotateLeft(r,o){return r<<o|r>>>32-o}(safeAdd(safeAdd(o,r),safeAdd(d,v)),g),i)}function md5ff(r,o,i,d,g,v,_){return md5cmn(o&i|~o&d,r,o,g,v,_)}function md5gg(r,o,i,d,g,v,_){return md5cmn(o&d|i&~d,r,o,g,v,_)}function md5hh(r,o,i,d,g,v,_){return md5cmn(o^i^d,r,o,g,v,_)}function md5ii(r,o,i,d,g,v,_){return md5cmn(i^(o|~d),r,o,g,v,_)}var P=v35("v3",48,(function md5(r){if("string"===typeof r){var o=unescape(encodeURIComponent(r));r=new Uint8Array(o.length);for(var i=0;i<o.length;++i)r[i]=o.charCodeAt(i)}return function md5ToHexEncodedArray(r){for(var o=[],i=32*r.length,d="0123456789abcdef",g=0;g<i;g+=8){var v=r[g>>5]>>>g%32&255,_=parseInt(d.charAt(v>>>4&15)+d.charAt(15&v),16);o.push(_)}return o}(function wordsToMd5(r,o){r[o>>5]|=128<<o%32,r[getOutputLength(o)-1]=o;for(var i=1732584193,d=-271733879,g=-1732584194,v=271733878,_=0;_<r.length;_+=16){var E=i,b=d,T=g,O=v;i=md5ff(i,d,g,v,r[_],7,-680876936),v=md5ff(v,i,d,g,r[_+1],12,-389564586),g=md5ff(g,v,i,d,r[_+2],17,606105819),d=md5ff(d,g,v,i,r[_+3],22,-1044525330),i=md5ff(i,d,g,v,r[_+4],7,-176418897),v=md5ff(v,i,d,g,r[_+5],12,1200080426),g=md5ff(g,v,i,d,r[_+6],17,-1473231341),d=md5ff(d,g,v,i,r[_+7],22,-45705983),i=md5ff(i,d,g,v,r[_+8],7,1770035416),v=md5ff(v,i,d,g,r[_+9],12,-1958414417),g=md5ff(g,v,i,d,r[_+10],17,-42063),d=md5ff(d,g,v,i,r[_+11],22,-1990404162),i=md5ff(i,d,g,v,r[_+12],7,1804603682),v=md5ff(v,i,d,g,r[_+13],12,-40341101),g=md5ff(g,v,i,d,r[_+14],17,-1502002290),i=md5gg(i,d=md5ff(d,g,v,i,r[_+15],22,1236535329),g,v,r[_+1],5,-165796510),v=md5gg(v,i,d,g,r[_+6],9,-1069501632),g=md5gg(g,v,i,d,r[_+11],14,643717713),d=md5gg(d,g,v,i,r[_],20,-373897302),i=md5gg(i,d,g,v,r[_+5],5,-701558691),v=md5gg(v,i,d,g,r[_+10],9,38016083),g=md5gg(g,v,i,d,r[_+15],14,-660478335),d=md5gg(d,g,v,i,r[_+4],20,-405537848),i=md5gg(i,d,g,v,r[_+9],5,568446438),v=md5gg(v,i,d,g,r[_+14],9,-1019803690),g=md5gg(g,v,i,d,r[_+3],14,-187363961),d=md5gg(d,g,v,i,r[_+8],20,1163531501),i=md5gg(i,d,g,v,r[_+13],5,-1444681467),v=md5gg(v,i,d,g,r[_+2],9,-51403784),g=md5gg(g,v,i,d,r[_+7],14,1735328473),i=md5hh(i,d=md5gg(d,g,v,i,r[_+12],20,-1926607734),g,v,r[_+5],4,-378558),v=md5hh(v,i,d,g,r[_+8],11,-2022574463),g=md5hh(g,v,i,d,r[_+11],16,1839030562),d=md5hh(d,g,v,i,r[_+14],23,-35309556),i=md5hh(i,d,g,v,r[_+1],4,-1530992060),v=md5hh(v,i,d,g,r[_+4],11,1272893353),g=md5hh(g,v,i,d,r[_+7],16,-155497632),d=md5hh(d,g,v,i,r[_+10],23,-1094730640),i=md5hh(i,d,g,v,r[_+13],4,681279174),v=md5hh(v,i,d,g,r[_],11,-358537222),g=md5hh(g,v,i,d,r[_+3],16,-722521979),d=md5hh(d,g,v,i,r[_+6],23,76029189),i=md5hh(i,d,g,v,r[_+9],4,-640364487),v=md5hh(v,i,d,g,r[_+12],11,-421815835),g=md5hh(g,v,i,d,r[_+15],16,530742520),i=md5ii(i,d=md5hh(d,g,v,i,r[_+2],23,-995338651),g,v,r[_],6,-198630844),v=md5ii(v,i,d,g,r[_+7],10,1126891415),g=md5ii(g,v,i,d,r[_+14],15,-1416354905),d=md5ii(d,g,v,i,r[_+5],21,-57434055),i=md5ii(i,d,g,v,r[_+12],6,1700485571),v=md5ii(v,i,d,g,r[_+3],10,-1894986606),g=md5ii(g,v,i,d,r[_+10],15,-1051523),d=md5ii(d,g,v,i,r[_+1],21,-2054922799),i=md5ii(i,d,g,v,r[_+8],6,1873313359),v=md5ii(v,i,d,g,r[_+15],10,-30611744),g=md5ii(g,v,i,d,r[_+6],15,-1560198380),d=md5ii(d,g,v,i,r[_+13],21,1309151649),i=md5ii(i,d,g,v,r[_+4],6,-145523070),v=md5ii(v,i,d,g,r[_+11],10,-1120210379),g=md5ii(g,v,i,d,r[_+2],15,718787259),d=md5ii(d,g,v,i,r[_+9],21,-343485551),i=safeAdd(i,E),d=safeAdd(d,b),g=safeAdd(g,T),v=safeAdd(v,O)}return[i,d,g,v]}(function bytesToWords(r){if(0===r.length)return[];for(var o=8*r.length,i=new Uint32Array(getOutputLength(o)),d=0;d<o;d+=8)i[d>>5]|=(255&r[d/8])<<d%32;return i}(r),8*r.length))}));var A=function v4(r,o,i){var d=(r=r||{}).random||(r.rng||rng)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,o){i=i||0;for(var g=0;g<16;++g)o[i+g]=d[g];return o}return x(d)};function f(r,o,i,d){switch(r){case 0:return o&i^~o&d;case 1:case 3:return o^i^d;case 2:return o&i^o&d^i&d}}function ROTL(r,o){return r<<o|r>>>32-o}var R=v35("v5",80,(function sha1(r){var o=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof r){var d=unescape(encodeURIComponent(r));r=[];for(var g=0;g<d.length;++g)r.push(d.charCodeAt(g))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var v=r.length/4+2,_=Math.ceil(v/16),E=new Array(_),b=0;b<_;++b){for(var T=new Uint32Array(16),O=0;O<16;++O)T[O]=r[64*b+4*O]<<24|r[64*b+4*O+1]<<16|r[64*b+4*O+2]<<8|r[64*b+4*O+3];E[b]=T}E[_-1][14]=8*(r.length-1)/Math.pow(2,32),E[_-1][14]=Math.floor(E[_-1][14]),E[_-1][15]=8*(r.length-1)&4294967295;for(var x=0;x<_;++x){for(var I=new Uint32Array(80),D=0;D<16;++D)I[D]=E[x][D];for(var k=16;k<80;++k)I[k]=ROTL(I[k-3]^I[k-8]^I[k-14]^I[k-16],1);for(var C=i[0],P=i[1],A=i[2],R=i[3],L=i[4],j=0;j<80;++j){var N=Math.floor(j/20),V=ROTL(C,5)+f(N,P,A,R)+L+o[N]+I[j]>>>0;L=R,R=A,A=ROTL(P,30)>>>0,P=C,C=V}i[0]=i[0]+C>>>0,i[1]=i[1]+P>>>0,i[2]=i[2]+A>>>0,i[3]=i[3]+R>>>0,i[4]=i[4]+L>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]})),L="00000000-0000-0000-0000-000000000000";var j=function version_version(r){if(!_(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}},function(r,o,i){"use strict";function asyncGeneratorStep(r,o,i,d,g,v,_){try{var E=r[v](_),b=E.value}catch(T){return void i(T)}E.done?o(b):Promise.resolve(b).then(d,g)}function _asyncToGenerator(r){return function(){var o=this,i=arguments;return new Promise((function(d,g){var v=r.apply(o,i);function _next(r){asyncGeneratorStep(v,d,g,_next,_throw,"next",r)}function _throw(r){asyncGeneratorStep(v,d,g,_next,_throw,"throw",r)}_next(void 0)}))}}i.d(o,"a",(function(){return _asyncToGenerator}))},function(r,o,i){var d=i(9),g=d.EVT_READY,v=d.EVT_UPDATED,_=d.EVT_BEFORE_DESTROY,E=d.EVT_DESTROY_STACK_TIMED_OUT,b=d.EVT_DESTROYED,T=d.EVT_NO_INIT_WARN,O=i(21),x=O.LOG_LEVEL_TRACE,I=O.LOG_LEVEL_DEBUG,D=O.LOG_LEVEL_INFO,k=O.LOG_LEVEL_WARN,C=O.LOG_LEVEL_ERROR,P=O.LOG_LEVEL_SILENT;r.exports=d,Object.assign(r.exports,{EVT_READY:g,EVT_UPDATED:v,EVT_BEFORE_DESTROY:_,EVT_DESTROY_STACK_TIMED_OUT:E,EVT_DESTROYED:b,EVT_NO_INIT_WARN:T,Logger:O,logger:i(31),LOG_LEVEL_TRACE:x,LOG_LEVEL_DEBUG:I,LOG_LEVEL_INFO:D,LOG_LEVEL_WARN:k,LOG_LEVEL_ERROR:C,LOG_LEVEL_SILENT:P,ArbitraryPhantomWrapper:i(71),PhantomCollection:i(25),PhantomServiceCore:i(39),PhantomServiceManager:i(40),PhantomSerializableState:i(75),PhantomState:i(26),FunctionStack:i(34),consume:i(77),deepMerge:i(78),getIsNodeJS:i(41),getPackageJSON:i(33),getUnixTime:i(22),getUptime:i(80),performance:i(81),shallowMerge:i(36),sleep:i(82),autoBindClassInstanceMethods:i(35),getClass:i(20),getClassInheritance:i(83),getClassInstanceMethodNames:i(24),getClassInstancePropertyNames:i(23),getClassName:i(13),getIsClass:i(43),getIsClassInstance:i(14),getSuperClass:i(42),eventConstantCheckingUtils:i(84)})},function(r,o,i){var d=function(r){"use strict";var o,i=Object.prototype,d=i.hasOwnProperty,g="function"===typeof Symbol?Symbol:{},v=g.iterator||"@@iterator",_=g.asyncIterator||"@@asyncIterator",E=g.toStringTag||"@@toStringTag";function define(r,o,i){return Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}),r[o]}try{define({},"")}catch(A){define=function define(r,o,i){return r[o]=i}}function wrap(r,o,i,d){var g=o&&o.prototype instanceof Generator?o:Generator,v=Object.create(g.prototype),_=new Context(d||[]);return v._invoke=function makeInvokeMethod(r,o,i){var d=b;return function invoke(g,v){if(d===O)throw new Error("Generator is already running");if(d===x){if("throw"===g)throw v;return doneResult()}for(i.method=g,i.arg=v;;){var _=i.delegate;if(_){var E=maybeInvokeDelegate(_,i);if(E){if(E===I)continue;return E}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(d===b)throw d=x,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);d=O;var D=tryCatch(r,o,i);if("normal"===D.type){if(d=i.done?x:T,D.arg===I)continue;return{value:D.arg,done:i.done}}"throw"===D.type&&(d=x,i.method="throw",i.arg=D.arg)}}}(r,i,_),v}function tryCatch(r,o,i){try{return{type:"normal",arg:r.call(o,i)}}catch(A){return{type:"throw",arg:A}}}r.wrap=wrap;var b="suspendedStart",T="suspendedYield",O="executing",x="completed",I={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var D={};define(D,v,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(values([])));C&&C!==i&&d.call(C,v)&&(D=C);var P=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(D);function defineIteratorMethods(r){["next","throw","return"].forEach((function(o){define(r,o,(function(r){return this._invoke(o,r)}))}))}function AsyncIterator(r,o){function invoke(i,g,v,_){var E=tryCatch(r[i],r,g);if("throw"!==E.type){var b=E.arg,T=b.value;return T&&"object"===typeof T&&d.call(T,"__await")?o.resolve(T.__await).then((function(r){invoke("next",r,v,_)}),(function(r){invoke("throw",r,v,_)})):o.resolve(T).then((function(r){b.value=r,v(b)}),(function(r){return invoke("throw",r,v,_)}))}_(E.arg)}var i;this._invoke=function enqueue(r,d){function callInvokeWithMethodAndArg(){return new o((function(o,i){invoke(r,d,o,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(r,i){var d=r.iterator[i.method];if(d===o){if(i.delegate=null,"throw"===i.method){if(r.iterator.return&&(i.method="return",i.arg=o,maybeInvokeDelegate(r,i),"throw"===i.method))return I;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var g=tryCatch(d,r.iterator,i.arg);if("throw"===g.type)return i.method="throw",i.arg=g.arg,i.delegate=null,I;var v=g.arg;return v?v.done?(i[r.resultName]=v.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=o),i.delegate=null,I):v:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,I)}function pushTryEntry(r){var o={tryLoc:r[0]};1 in r&&(o.catchLoc=r[1]),2 in r&&(o.finallyLoc=r[2],o.afterLoc=r[3]),this.tryEntries.push(o)}function resetTryEntry(r){var o=r.completion||{};o.type="normal",delete o.arg,r.completion=o}function Context(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r){var i=r[v];if(i)return i.call(r);if("function"===typeof r.next)return r;if(!isNaN(r.length)){var g=-1,_=function next(){for(;++g<r.length;)if(d.call(r,g))return next.value=r[g],next.done=!1,next;return next.value=o,next.done=!0,next};return _.next=_}}return{next:doneResult}}function doneResult(){return{value:o,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(P,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,E,"GeneratorFunction"),r.isGeneratorFunction=function(r){var o="function"===typeof r&&r.constructor;return!!o&&(o===GeneratorFunction||"GeneratorFunction"===(o.displayName||o.name))},r.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,GeneratorFunctionPrototype):(r.__proto__=GeneratorFunctionPrototype,define(r,E,"GeneratorFunction")),r.prototype=Object.create(P),r},r.awrap=function(r){return{__await:r}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,_,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(o,i,d,g,v){void 0===v&&(v=Promise);var _=new AsyncIterator(wrap(o,i,d,g),v);return r.isGeneratorFunction(i)?_:_.next().then((function(r){return r.done?r.value:_.next()}))},defineIteratorMethods(P),define(P,E,"Generator"),define(P,v,(function(){return this})),define(P,"toString",(function(){return"[object Generator]"})),r.keys=function(r){var o=[];for(var i in r)o.push(i);return o.reverse(),function next(){for(;o.length;){var i=o.pop();if(i in r)return next.value=i,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&d.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=o)},stop:function stop(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(d,g){return _.type="throw",_.arg=r,i.next=d,g&&(i.method="next",i.arg=o),!!g}for(var g=this.tryEntries.length-1;g>=0;--g){var v=this.tryEntries[g],_=v.completion;if("root"===v.tryLoc)return handle("end");if(v.tryLoc<=this.prev){var E=d.call(v,"catchLoc"),b=d.call(v,"finallyLoc");if(E&&b){if(this.prev<v.catchLoc)return handle(v.catchLoc,!0);if(this.prev<v.finallyLoc)return handle(v.finallyLoc)}else if(E){if(this.prev<v.catchLoc)return handle(v.catchLoc,!0)}else{if(!b)throw new Error("try statement without catch or finally");if(this.prev<v.finallyLoc)return handle(v.finallyLoc)}}}},abrupt:function abrupt(r,o){for(var i=this.tryEntries.length-1;i>=0;--i){var g=this.tryEntries[i];if(g.tryLoc<=this.prev&&d.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var v=g;break}}v&&("break"===r||"continue"===r)&&v.tryLoc<=o&&o<=v.finallyLoc&&(v=null);var _=v?v.completion:{};return _.type=r,_.arg=o,v?(this.method="next",this.next=v.finallyLoc,I):this.complete(_)},complete:function complete(r,o){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&o&&(this.next=o),I},finish:function finish(r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.finallyLoc===r)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),I}},catch:function _catch(r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc===r){var d=i.completion;if("throw"===d.type){var g=d.arg;resetTryEntry(i)}return g}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,d){return this.delegate={iterator:values(r),resultName:i,nextLoc:d},"next"===this.method&&(this.arg=o),I}},r}(r.exports);try{regeneratorRuntime=d}catch(g){"object"===typeof globalThis?globalThis.regeneratorRuntime=d:Function("r","regeneratorRuntime = r")(d)}},function(r,o,i){(function(o){var d=i(11),g=i(0),v=i(3),_=i(1),E=i(2),b=i(12),T=i(7),O=i(4),x=i(5),I=i(6);i(27);var D=i(29),k=i(30),C=i(21),P=C.LOG_LEVEL_INFO,A=i(33),R=i(34),L=R.FUNCTION_STACK_OPS_ORDER_LIFO,j=i(13),N=i(44).v4,V=i(59),W=i(62),U=i(22),Y=i(23),H=i(24),B=i(35),q=i(36),K=i(63),G="no-init-warn",J="ready",Q="updated",Z=k.EVT_BEFORE_DESTROY,X=k.EVT_DESTROY_STACK_TIMED_OUT,ee=k.EVT_DESTROYED,te={},ne=["log","listenerCount","getIsDestroying","getIsDestroyed","getInstanceUptime","getTotalListenerCount","getChildren","off","removeListener","eventNames","listenerCount","getOutputMediaStreamTrack"],re=function(r,i){"use strict";x(PhantomCore,r);var k=I(PhantomCore);function PhantomCore(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_(this,PhantomCore),r=k.call(this);var d=[];i&&void 0!==i.isReady&&(d.push("isReady option will be changed to isAsync, defaulting to false"),void 0===i.isAsync&&(i.isAsync=!i.isReady),delete i.isReady),"function"!==typeof r.off&&(r.off=r.removeListener),r._uuid=N(),r._shortUUID=V().fromUUID(r._uuid),te[r._uuid]=b(r);var g={isAsync:!1,logLevel:P,symbol:null,title:null,hasAutomaticBindings:!0};if(r._options=Object.freeze(PhantomCore.mergeOptions(g,i)),r._cleanupHandlerStack=new R(L),r._symbol=function(){if(r._options.symbol){if(PhantomCore.getInstanceWithSymbol(r._options.symbol))throw new Error("Existing instance with symbol",r._options.symbol);if("symbol"!==typeof r._options.symbol)throw new TypeError("options.symbol is not a Symbol")}return r._options.symbol}(),r._title=r._options.title,r.logger=new C({logLevel:r._options.logLevel,prefix:function prefix(o){return"[".concat(W().format()," ").concat(o," ").concat(r.getClassName()," ").concat(r._uuid,"]")}}),r.log=r.logger.log,r.once(X,(function(){r.log.error("The destruct callstack is taking longer to execute than expected. Ensure a potential gridlock situation is not happening, where two or more PhantomCore instances are awaiting one another to shut down.")})),r._instanceStartTime=U(),r._isReady=!r._options.isAsync||!1,r._eventProxyStack=new K,r._options.hasAutomaticBindings&&r.autoBind(),r._isReady)r._init=void 0,o((function(){return r.emit(J)}));else{var v=setTimeout((function(){r.logger.warn("PhantomCore superclass _init has not been called in a reasonable amount of time. All instances which use isAsync option must call _init on the PhantomCore superclass."),r.emit(G)}),5e3);r.once(J,(function(){return clearTimeout(v)})),r.once(ee,(function(){return clearTimeout(v)}))}return d.forEach((function(o){r.log.warn("DEPRECATION NOTICE: ".concat(o))})),r}return E(PhantomCore,[{key:"_init",value:function(){var r=v(g.mark((function _callee(){var r=this;return g.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return this._init=function(){throw new ReferenceError("_init cannot be called more than once")},o.next=3,new Promise((function(o,i){r.getIsDestroyed()?i():(r._isReady=!0,r.emit(J),o())}));case 3:case"end":return o.stop()}}),_callee,this)})));return function _init(){return r.apply(this,arguments)}}()},{key:i,get:function get(){return this.getTitle()||this.getClassName()}},{key:"autoBind",value:function autoBind(){var r=[this.log];B(this,r)}},{key:"registerCleanupHandler",value:function registerCleanupHandler(r){return this._cleanupHandlerStack.push(r)}},{key:"unregisterCleanupHandler",value:function unregisterCleanupHandler(r){return this._cleanupHandlerStack.remove(r)}},{key:"getPhantomProperties",value:function getPhantomProperties(){var r=this;return this.getPropertyNames().filter((function(o){return"__proto__"!==o&&PhantomCore.getIsInstance(r[o])&&!r[o].getIsDestroyed()}))}},{key:"getSymbol",value:function getSymbol(){return this._symbol}},{key:"getTitle",value:function getTitle(){return this._title}},{key:"setTitle",value:function setTitle(r){this._title=r,this.emit(Q)}},{key:"getOptions",value:function getOptions(){return this._options}},{key:"getOption",value:function getOption(r){return this._options[r]}},{key:"setLogLevel",value:function setLogLevel(r){this.logger.setLogLevel(r)}},{key:"getLogLevel",value:function getLogLevel(){return this.logger.getLogLevel()}},{key:"getPropertyNames",value:function getPropertyNames(){return Y(this)}},{key:"getMethodNames",value:function getMethodNames(){return H(this)}},{key:"onceReady",value:function(){var r=v(g.mark((function _callee2(){var r=this;return g.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:if(!this._isReady){o.next=2;break}return o.abrupt("return");case 2:return o.abrupt("return",new Promise((function(o){return r.once(J,o)})));case 3:case"end":return o.stop()}}),_callee2,this)})));return function onceReady(){return r.apply(this,arguments)}}()},{key:"getIsReady",value:function getIsReady(){return this._isReady}},{key:"getUUID",value:function getUUID(){return this._uuid}},{key:"getShortUUID",value:function getShortUUID(){return this._shortUUID}},{key:"getIsSameInstance",value:function getIsSameInstance(r){return Object.is(this,r)}},{key:"getClass",value:function getClass(){return this.constructor}},{key:"getClassName",value:function getClassName(){return j(this)}},{key:"proxyOn",value:function proxyOn(r,o,i){if(!PhantomCore.getIsLooseInstance(r))throw new ReferenceError("targetInstance is not a PhantomCore instance");if(this.getIsSameInstance(r))throw new ReferenceError("targetInstance cannot be bound to itself");this._eventProxyStack.addProxyHandler("on",r,o,i)}},{key:"proxyOnce",value:function proxyOnce(r,o,i){if(!PhantomCore.getIsLooseInstance(r))throw new ReferenceError("targetInstance is not a PhantomCore instance");if(this.getIsSameInstance(r))throw new ReferenceError("targetInstance cannot be bound to itself");this._eventProxyStack.addProxyHandler("once",r,o,i)}},{key:"proxyOff",value:function proxyOff(r,o,i){if(!PhantomCore.getIsLooseInstance(r))throw new ReferenceError("targetInstance is not a PhantomCore instance");if(this.getIsSameInstance(r))throw new ReferenceError("targetInstance cannot be bound to itself");this._eventProxyStack.removeProxyHandler(r,o,i)}},{key:"getInstanceUptime",value:function getInstanceUptime(){return this.getIsDestroyed()?0:U()-this._instanceStartTime}},{key:"destroy",value:function(){var r=v(g.mark((function _callee5(){var r,o=this,i=arguments;return g.wrap((function _callee5$(_){for(;;)switch(_.prev=_.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:function(){return null},_.abrupt("return",T(O(PhantomCore.prototype),"destroy",this).call(this,v(g.mark((function _callee3(){return g.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return delete te[o._uuid],i.next=3,r();case 3:return i.next=5,o._eventProxyStack.destroy();case 5:o._eventProxyStack=null;case 6:case"end":return i.stop()}}),_callee3)}))),v(g.mark((function _callee4(){var r,i,v;return g.wrap((function _callee4$(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,o._cleanupHandlerStack.exec();case 2:o.getPhantomProperties().forEach((function(r){o.log.warn('Lingering PhantomCore instance on prop name "'.concat(r,'". This could be a memory leak. Ensure that all PhantomCore instances have been disposed of before class destruct.'))})),r=d(o.getMethodNames());try{for(r.s();!(i=r.n()).done;)v=i.value,ne.includes(v)||(o[v]=function(){})}catch(_){r.e(_)}finally{r.f()}case 5:case"end":return g.stop()}}),_callee4)})))));case 2:case"end":return _.stop()}}),_callee5,this)})));return function destroy(){return r.apply(this,arguments)}}()}],[{key:"getPhantomCoreVersion",value:function getPhantomCoreVersion(){return A().version}},{key:"getIsInstance",value:function getIsInstance(r){return r instanceof PhantomCore}},{key:"getIsLooseInstance",value:function getIsLooseInstance(r){return Boolean(r instanceof D&&"function"===typeof r.getIsDestroyed&&"function"===typeof r.destroy)}},{key:"getInstanceWithUUID",value:function getInstanceWithUUID(r){return te[r]}},{key:"getInstanceWithSymbol",value:function getInstanceWithSymbol(r){return Object.values(te).find((function(o){return o.getSymbol()===r}))}},{key:"getInstanceCount",value:function getInstanceCount(){return Object.keys(te).length}},{key:"mergeOptions",value:function mergeOptions(r,o){return q(r,o)}}]),PhantomCore}(k,Symbol.toStringTag);r.exports=re,r.exports.EVT_NO_INIT_WARN=G,r.exports.EVT_READY=J,r.exports.EVT_UPDATED=Q,r.exports.EVT_BEFORE_DESTROY=Z,r.exports.EVT_DESTROY_STACK_TIMED_OUT=X,r.exports.EVT_DESTROYED=ee}).call(this,i(49).setImmediate)},function(r,o,i){(function(r){var d="undefined"!==typeof r&&r||"undefined"!==typeof self&&self||window,g=Function.prototype.apply;function Timeout(r,o){this._id=r,this._clearFn=o}o.setTimeout=function(){return new Timeout(g.call(setTimeout,d,arguments),clearTimeout)},o.setInterval=function(){return new Timeout(g.call(setInterval,d,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(r){r&&r.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(d,this._id)},o.enroll=function(r,o){clearTimeout(r._idleTimeoutId),r._idleTimeout=o},o.unenroll=function(r){clearTimeout(r._idleTimeoutId),r._idleTimeout=-1},o._unrefActive=o.active=function(r){clearTimeout(r._idleTimeoutId);var o=r._idleTimeout;o>=0&&(r._idleTimeoutId=setTimeout((function onTimeout(){r._onTimeout&&r._onTimeout()}),o))},i(27),o.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof r&&r.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof r&&r.clearImmediate||this&&this.clearImmediate}).call(this,i(10))},function(r,o,i){var d=i(4);r.exports=function _superPropBase(r,o){for(;!Object.prototype.hasOwnProperty.call(r,o)&&null!==(r=d(r)););return r}},function(r,o){function _setPrototypeOf(o,i){return r.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,o){return r.__proto__=o,r},_setPrototypeOf(o,i)}r.exports=_setPrototypeOf},function(r,o){r.exports=function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}},function(r,o,i){var d=i(54),g=i(12);r.exports=function _possibleConstructorReturn(r,o){return!o||"object"!==d(o)&&"function"!==typeof o?g(r):o}},function(r,o){function _typeof(o){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?r.exports=_typeof=function _typeof(r){return typeof r}:r.exports=_typeof=function _typeof(r){return r&&"function"===typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(o)}r.exports=_typeof},function(r){r.exports=JSON.parse('{"name":"phantom-core","version":"2.7.3","description":"Node.js and browser compatible, base JavaScript EventEmitter-based class with base utility methods, logging, event proxies, collections, and destroy handling","author":{"name":"zenOSmosis","email":"info@zenosmosis.com","url":"https://zenosmosis.com"},"license":"MIT","main":"src/index.js","scripts":{"test":"npm run test-node && npm run test-browser","test-node":"tape \'test/{,/**/}*.test.js\'","test-browser":"dotenv airtap --coverage --concurrency 1 -- \'test/{,/**/}*.test.js\'","coverage":"nyc npm run test-node","lint":"prettier --write \'(**/)*.js\'","check-dep-updates":"npx npm-check-updates"},"devDependencies":{"airtap":"^4.0.4","airtap-sauce":"^1.1.2","dotenv-cli":"^4.0.0","nyc":"^15.1.0","prettier":"^2.4.1","tape":"^5.3.1"},"dependencies":{"dayjs":"^1.10.7","deepmerge":"^4.2.2","is-plain-object":"^5.0.0","setimmediate":"^1.0.5","short-uuid":"^4.2.0","uuid":"^8.3.2"}}')},function(r,o,i){var d=i(28);r.exports=function _arrayWithoutHoles(r){if(Array.isArray(r))return d(r)}},function(r,o){r.exports=function _iterableToArray(r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}},function(r,o){r.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(r,o,i){var d,g=i(8),v=i(15),_=i(44).v4,E=i(60),b="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",T={consistentLength:!0},O=function shortenUUID(r,o,i){var d=o(r.toLowerCase().replace(/-/g,""));return i&&i.consistentLength?d.padStart(i.shortIdLength,i.paddingChar):d};r.exports=function(){var r=function makeConvertor(r,o){var i=r||b,d=v(v({},T),o);if(g(new Set(Array.from(i))).length!==i.length)throw new Error("The provided Alphabet has duplicate characters resulting in unreliable results");var x=function getShortIdLength(r){return Math.ceil(Math.log(Math.pow(2,128))/Math.log(r))}(i.length),I={shortIdLength:x,consistentLength:d.consistentLength,paddingChar:i[0]},D=E(E.HEX,i),k=E(i,E.HEX),C=function generate(){return O(_(),D,I)},P={new:C,generate:C,uuid:_,fromUUID:function fromUUID(r){return O(r,D,I)},toUUID:function toUUID(r){return function enlargeUUID(r,o){var i=o(r).padStart(32,"0").match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/);return[i[1],i[2],i[3],i[4],i[5]].join("-")}(r,k)},alphabet:i,maxLength:x};return Object.freeze(P),P};return r.constants={flickrBase58:b,cookieBase90:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&'()*+-./:<=>?@[]^_`{|}~"},r.uuid=_,r.generate=function(){return d||(d=r(b).generate),d()},r}()},function(r,o,i){var d=i(61);function anyBase(r,o){var i=new d(r,o);return function(r){return i.convert(r)}}anyBase.BIN="01",anyBase.OCT="01234567",anyBase.DEC="0123456789",anyBase.HEX="0123456789abcdef",r.exports=anyBase},function(r,o,i){"use strict";function Converter(r,o){if(!r||!o||!r.length||!o.length)throw new Error("Bad alphabet");this.srcAlphabet=r,this.dstAlphabet=o}Converter.prototype.convert=function(r){var o,i,d,g={},v=this.srcAlphabet.length,_=this.dstAlphabet.length,E=r.length,b="string"===typeof r?"":[];if(!this.isValid(r))throw new Error('Number "'+r+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return r;for(o=0;o<E;o++)g[o]=this.srcAlphabet.indexOf(r[o]);do{for(i=0,d=0,o=0;o<E;o++)(i=i*v+g[o])>=_?(g[d++]=parseInt(i/_,10),i%=_):d>0&&(g[d++]=0);E=d,b=this.dstAlphabet.slice(i,i+1).concat(b)}while(0!==d);return b},Converter.prototype.isValid=function(r){for(var o=0;o<r.length;++o)if(-1===this.srcAlphabet.indexOf(r[o]))return!1;return!0},r.exports=Converter},function(r,o,i){r.exports=function(){"use strict";var r=1e3,o=6e4,i=36e5,d="millisecond",g="second",v="minute",_="hour",E="day",b="week",T="month",O="quarter",x="year",I="date",D="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},A=function m(r,o,i){var d=String(r);return!d||d.length>=o?r:""+Array(o+1-d.length).join(i)+r},R={s:A,z:function z(r){var o=-r.utcOffset(),i=Math.abs(o),d=Math.floor(i/60),g=i%60;return(o<=0?"+":"-")+A(d,2,"0")+":"+A(g,2,"0")},m:function t(r,o){if(r.date()<o.date())return-t(o,r);var i=12*(o.year()-r.year())+(o.month()-r.month()),d=r.clone().add(i,T),g=o-d<0,v=r.clone().add(i+(g?-1:1),T);return+(-(i+(o-d)/(g?d-v:v-d))||0)},a:function a(r){return r<0?Math.ceil(r)||0:Math.floor(r)},p:function p(r){return{M:T,y:x,w:b,d:E,D:I,h:_,m:v,s:g,ms:d,Q:O}[r]||String(r||"").toLowerCase().replace(/s$/,"")},u:function u(r){return void 0===r}},L="en",j={};j[L]=P;var N=function p(r){return r instanceof Y},V=function S(r,o,i){var d;if(!r)return L;if("string"==typeof r)j[r]&&(d=r),o&&(j[r]=o,d=r);else{var g=r.name;j[g]=r,d=g}return!i&&d&&(L=d),d||!i&&L},W=function w(r,o){if(N(r))return r.clone();var i="object"==typeof o?o:{};return i.date=r,i.args=arguments,new Y(i)},U=R;U.l=V,U.i=N,U.w=function(r,o){return W(r,{locale:o.$L,utc:o.$u,x:o.$x,$offset:o.$offset})};var Y=function(){function M(r){this.$L=V(r.locale,null,!0),this.parse(r)}var P=M.prototype;return P.parse=function(r){this.$d=function(r){var o=r.date,i=r.utc;if(null===o)return new Date(NaN);if(U.u(o))return new Date;if(o instanceof Date)return new Date(o);if("string"==typeof o&&!/Z$/i.test(o)){var d=o.match(k);if(d){var g=d[2]-1||0,v=(d[7]||"0").substring(0,3);return i?new Date(Date.UTC(d[1],g,d[3]||1,d[4]||0,d[5]||0,d[6]||0,v)):new Date(d[1],g,d[3]||1,d[4]||0,d[5]||0,d[6]||0,v)}}return new Date(o)}(r),this.$x=r.x||{},this.init()},P.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},P.$utils=function(){return U},P.isValid=function(){return!(this.$d.toString()===D)},P.isSame=function(r,o){var i=W(r);return this.startOf(o)<=i&&i<=this.endOf(o)},P.isAfter=function(r,o){return W(r)<this.startOf(o)},P.isBefore=function(r,o){return this.endOf(o)<W(r)},P.$g=function(r,o,i){return U.u(r)?this[o]:this.set(i,r)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(r,o){var i=this,d=!!U.u(o)||o,O=U.p(r),D=function $(r,o){var g=U.w(i.$u?Date.UTC(i.$y,o,r):new Date(i.$y,o,r),i);return d?g:g.endOf(E)},k=function l(r,o){return U.w(i.toDate()[r].apply(i.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(o)),i)},C=this.$W,P=this.$M,A=this.$D,R="set"+(this.$u?"UTC":"");switch(O){case x:return d?D(1,0):D(31,11);case T:return d?D(1,P):D(0,P+1);case b:var L=this.$locale().weekStart||0,j=(C<L?C+7:C)-L;return D(d?A-j:A+(6-j),P);case E:case I:return k(R+"Hours",0);case _:return k(R+"Minutes",1);case v:return k(R+"Seconds",2);case g:return k(R+"Milliseconds",3);default:return this.clone()}},P.endOf=function(r){return this.startOf(r,!1)},P.$set=function(r,o){var i,b=U.p(r),O="set"+(this.$u?"UTC":""),D=(i={},i[E]=O+"Date",i[I]=O+"Date",i[T]=O+"Month",i[x]=O+"FullYear",i[_]=O+"Hours",i[v]=O+"Minutes",i[g]=O+"Seconds",i[d]=O+"Milliseconds",i)[b],k=b===E?this.$D+(o-this.$W):o;if(b===T||b===x){var C=this.clone().set(I,1);C.$d[D](k),C.init(),this.$d=C.set(I,Math.min(this.$D,C.daysInMonth())).$d}else D&&this.$d[D](k);return this.init(),this},P.set=function(r,o){return this.clone().$set(r,o)},P.get=function(r){return this[U.p(r)]()},P.add=function(d,O){var I,D=this;d=Number(d);var k=U.p(O),C=function y(r){var o=W(D);return U.w(o.date(o.date()+Math.round(r*d)),D)};if(k===T)return this.set(T,this.$M+d);if(k===x)return this.set(x,this.$y+d);if(k===E)return C(1);if(k===b)return C(7);var P=(I={},I[v]=o,I[_]=i,I[g]=r,I)[k]||1,A=this.$d.getTime()+d*P;return U.w(A,this)},P.subtract=function(r,o){return this.add(-1*r,o)},P.format=function(r){var o=this,i=this.$locale();if(!this.isValid())return i.invalidDate||D;var d=r||"YYYY-MM-DDTHH:mm:ssZ",g=U.z(this),v=this.$H,_=this.$m,E=this.$M,b=i.weekdays,T=i.months,O=function h(r,i,g,v){return r&&(r[i]||r(o,d))||g[i].substr(0,v)},x=function c(r){return U.s(v%12||12,r,"0")},I=i.meridiem||function(r,o,i){var d=r<12?"AM":"PM";return i?d.toLowerCase():d},k={YY:String(this.$y).slice(-2),YYYY:this.$y,M:E+1,MM:U.s(E+1,2,"0"),MMM:O(i.monthsShort,E,T,3),MMMM:O(T,E),D:this.$D,DD:U.s(this.$D,2,"0"),d:String(this.$W),dd:O(i.weekdaysMin,this.$W,b,2),ddd:O(i.weekdaysShort,this.$W,b,3),dddd:b[this.$W],H:String(v),HH:U.s(v,2,"0"),h:x(1),hh:x(2),a:I(v,_,!0),A:I(v,_,!1),m:String(_),mm:U.s(_,2,"0"),s:String(this.$s),ss:U.s(this.$s,2,"0"),SSS:U.s(this.$ms,3,"0"),Z:g};return d.replace(C,(function(r,o){return o||k[r]||g.replace(":","")}))},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(d,I,D){var k,C=U.p(I),P=W(d),A=(P.utcOffset()-this.utcOffset())*o,R=this-P,L=U.m(this,P);return L=(k={},k[x]=L/12,k[T]=L,k[O]=L/3,k[b]=(R-A)/6048e5,k[E]=(R-A)/864e5,k[_]=R/i,k[v]=R/o,k[g]=R/r,k)[C]||R,D?L:U.a(L)},P.daysInMonth=function(){return this.endOf(T).$D},P.$locale=function(){return j[this.$L]},P.locale=function(r,o){if(!r)return this.$L;var i=this.clone(),d=V(r,o,!0);return d&&(i.$L=d),i},P.clone=function(){return U.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},M}(),H=Y.prototype;return W.prototype=H,[["$ms",d],["$s",g],["$m",v],["$H",_],["$W",E],["$M",T],["$y",x],["$D",I]].forEach((function(r){H[r[1]]=function(o){return this.$g(o,r[0],r[1])}})),W.extend=function(r,o){return r.$i||(r(o,Y,W),r.$i=!0),W},W.locale=V,W.isDayjs=N,W.unix=function(r){return W(1e3*r)},W.en=j[L],W.Ls=j,W.p={},W}()},function(r,o,i){var d=i(0),g=i(3),v=i(11),_=i(8),E=i(16),b=i(1),T=i(2),O=i(7),x=i(4),I=i(5),D=i(6),k=i(37),C=(i(9),i(30)),P=C.EVT_DESTROYED;r.exports=function(r){"use strict";I(EventProxyStack,r);var o=D(EventProxyStack);function EventProxyStack(){var r;return b(this,EventProxyStack),(r=o.call(this))._eventProxyBinds=[],r._targetDestroyHandlers=new Map,r}return T(EventProxyStack,[{key:"addProxyHandler",value:function addProxyHandler(r,o,i,d){var g=this;if("on"!==r&&"once"!==r)throw new ReferenceError('Unhandled value "'.concat(r,'" for onOrOnce'));this._eventProxyBinds.push([o,i,d]),o[r](i,d),this._targetDestroyHandlers.get(o)||(this._targetDestroyHandlers.set(o,(function(){g._eventProxyBinds.filter((function(r){return E(r,1)[0]===o})).forEach((function(r){return g.removeProxyHandler.apply(g,_(r))}))})),o.once(P,this._targetDestroyHandlers.get(o)))}},{key:"removeProxyHandler",value:function removeProxyHandler(r,o,i){var d=!1;this._eventProxyBinds=this._eventProxyBinds.filter((function(g){var v=E(g,3),_=v[0],b=v[1],T=v[2];if(d)return!0;var O=!0;return(O=_!==r||(b!==o||T!==i))||(d=!0),O})),r.off(o,i),this.getTargetInstanceQueueDepth(r)||this._removeTargetInstanceDestroyHandler(r)}},{key:"_removeAllProxyHandlers",value:function _removeAllProxyHandlers(){var r=this;this._eventProxyBinds.forEach((function(o){var i=E(o,3),d=i[0],g=i[1],v=i[2];return r.removeProxyHandler(d,g,v)}))}},{key:"_removeTargetInstanceDestroyHandler",value:function _removeTargetInstanceDestroyHandler(r){var o=this._targetDestroyHandlers.get(r);o&&(r.off(P,o),this._targetDestroyHandlers.delete(r))}},{key:"_removeAllTargetInstanceDestroyHandlers",value:function _removeAllTargetInstanceDestroyHandlers(){var r,o=v(this._targetDestroyHandlers.entries());try{for(o.s();!(r=o.n()).done;){var i=E(r.value,1)[0];this._removeTargetInstanceDestroyHandler(i)}}catch(d){o.e(d)}finally{o.f()}}},{key:"getTargetInstanceQueueDepth",value:function getTargetInstanceQueueDepth(r){return this._eventProxyBinds.reduce((function(o,i){var d=i[0];return r===d?o+1:o}),0)}},{key:"destroy",value:function(){var r=g(d.mark((function _callee(){var r=this;return d.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",O(x(EventProxyStack.prototype),"destroy",this).call(this,(function(){r._removeAllProxyHandlers(),r._removeAllTargetInstanceDestroyHandlers(),k.strictEqual(r._eventProxyBinds.length,0),k.strictEqual(_(r._targetDestroyHandlers).length,0)})));case 1:case"end":return o.stop()}}),_callee,this)})));return function destroy(){return r.apply(this,arguments)}}()}]),EventProxyStack}(C)},function(r,o){r.exports=function _arrayWithHoles(r){if(Array.isArray(r))return r}},function(r,o){r.exports=function _iterableToArrayLimit(r,o){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(r)){var i=[],d=!0,g=!1,v=void 0;try{for(var _,E=r[Symbol.iterator]();!(d=(_=E.next()).done)&&(i.push(_.value),!o||i.length!==o);d=!0);}catch(b){g=!0,v=b}finally{try{d||null==E.return||E.return()}finally{if(g)throw v}}return i}}},function(r,o){r.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(r,o,i){"use strict";var d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;function toObject(r){if(null===r||void 0===r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}r.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var o={},i=0;i<10;i++)o["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(o).map((function(r){return o[r]})).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach((function(r){d[r]=r})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(g){return!1}}()?Object.assign:function(r,o){for(var i,_,E=toObject(r),b=1;b<arguments.length;b++){for(var T in i=Object(arguments[b]))g.call(i,T)&&(E[T]=i[T]);if(d){_=d(i);for(var O=0;O<_.length;O++)v.call(i,_[O])&&(E[_[O]]=i[_[O]])}}return E}},function(r,o,i){(function(r){var d=Object.getOwnPropertyDescriptors||function getOwnPropertyDescriptors(r){for(var o=Object.keys(r),i={},d=0;d<o.length;d++)i[o[d]]=Object.getOwnPropertyDescriptor(r,o[d]);return i},g=/%[sdj%]/g;o.format=function(r){if(!isString(r)){for(var o=[],i=0;i<arguments.length;i++)o.push(inspect(arguments[i]));return o.join(" ")}i=1;for(var d=arguments,v=d.length,_=String(r).replace(g,(function(r){if("%%"===r)return"%";if(i>=v)return r;switch(r){case"%s":return String(d[i++]);case"%d":return Number(d[i++]);case"%j":try{return JSON.stringify(d[i++])}catch(o){return"[Circular]"}default:return r}})),E=d[i];i<v;E=d[++i])isNull(E)||!isObject(E)?_+=" "+E:_+=" "+inspect(E);return _},o.deprecate=function(i,d){if("undefined"!==typeof r&&!0===r.noDeprecation)return i;if("undefined"===typeof r)return function(){return o.deprecate(i,d).apply(this,arguments)};var g=!1;return function deprecated(){if(!g){if(r.throwDeprecation)throw new Error(d);r.traceDeprecation?console.trace(d):console.error(d),g=!0}return i.apply(this,arguments)}};var v,_={};function inspect(r,i){var d={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),isBoolean(i)?d.showHidden=i:i&&o._extend(d,i),isUndefined(d.showHidden)&&(d.showHidden=!1),isUndefined(d.depth)&&(d.depth=2),isUndefined(d.colors)&&(d.colors=!1),isUndefined(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=stylizeWithColor),formatValue(d,r,d.depth)}function stylizeWithColor(r,o){var i=inspect.styles[o];return i?"\x1b["+inspect.colors[i][0]+"m"+r+"\x1b["+inspect.colors[i][1]+"m":r}function stylizeNoColor(r,o){return r}function formatValue(r,i,d){if(r.customInspect&&i&&isFunction(i.inspect)&&i.inspect!==o.inspect&&(!i.constructor||i.constructor.prototype!==i)){var g=i.inspect(d,r);return isString(g)||(g=formatValue(r,g,d)),g}var v=function formatPrimitive(r,o){if(isUndefined(o))return r.stylize("undefined","undefined");if(isString(o)){var i="'"+JSON.stringify(o).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return r.stylize(i,"string")}if(isNumber(o))return r.stylize(""+o,"number");if(isBoolean(o))return r.stylize(""+o,"boolean");if(isNull(o))return r.stylize("null","null")}(r,i);if(v)return v;var _=Object.keys(i),E=function arrayToHash(r){var o={};return r.forEach((function(r,i){o[r]=!0})),o}(_);if(r.showHidden&&(_=Object.getOwnPropertyNames(i)),isError(i)&&(_.indexOf("message")>=0||_.indexOf("description")>=0))return formatError(i);if(0===_.length){if(isFunction(i)){var b=i.name?": "+i.name:"";return r.stylize("[Function"+b+"]","special")}if(isRegExp(i))return r.stylize(RegExp.prototype.toString.call(i),"regexp");if(isDate(i))return r.stylize(Date.prototype.toString.call(i),"date");if(isError(i))return formatError(i)}var T,O="",x=!1,I=["{","}"];(isArray(i)&&(x=!0,I=["[","]"]),isFunction(i))&&(O=" [Function"+(i.name?": "+i.name:"")+"]");return isRegExp(i)&&(O=" "+RegExp.prototype.toString.call(i)),isDate(i)&&(O=" "+Date.prototype.toUTCString.call(i)),isError(i)&&(O=" "+formatError(i)),0!==_.length||x&&0!=i.length?d<0?isRegExp(i)?r.stylize(RegExp.prototype.toString.call(i),"regexp"):r.stylize("[Object]","special"):(r.seen.push(i),T=x?function formatArray(r,o,i,d,g){for(var v=[],_=0,E=o.length;_<E;++_)hasOwnProperty(o,String(_))?v.push(formatProperty(r,o,i,d,String(_),!0)):v.push("");return g.forEach((function(g){g.match(/^\d+$/)||v.push(formatProperty(r,o,i,d,g,!0))})),v}(r,i,d,E,_):_.map((function(o){return formatProperty(r,i,d,E,o,x)})),r.seen.pop(),function reduceToSingleString(r,o,i){if(r.reduce((function(r,o){return o.indexOf("\n")>=0&&0,r+o.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return i[0]+(""===o?"":o+"\n ")+" "+r.join(",\n  ")+" "+i[1];return i[0]+o+" "+r.join(", ")+" "+i[1]}(T,O,I)):I[0]+O+I[1]}function formatError(r){return"["+Error.prototype.toString.call(r)+"]"}function formatProperty(r,o,i,d,g,v){var _,E,b;if((b=Object.getOwnPropertyDescriptor(o,g)||{value:o[g]}).get?E=b.set?r.stylize("[Getter/Setter]","special"):r.stylize("[Getter]","special"):b.set&&(E=r.stylize("[Setter]","special")),hasOwnProperty(d,g)||(_="["+g+"]"),E||(r.seen.indexOf(b.value)<0?(E=isNull(i)?formatValue(r,b.value,null):formatValue(r,b.value,i-1)).indexOf("\n")>-1&&(E=v?E.split("\n").map((function(r){return"  "+r})).join("\n").substr(2):"\n"+E.split("\n").map((function(r){return"   "+r})).join("\n")):E=r.stylize("[Circular]","special")),isUndefined(_)){if(v&&g.match(/^\d+$/))return E;(_=JSON.stringify(""+g)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(_=_.substr(1,_.length-2),_=r.stylize(_,"name")):(_=_.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),_=r.stylize(_,"string"))}return _+": "+E}function isArray(r){return Array.isArray(r)}function isBoolean(r){return"boolean"===typeof r}function isNull(r){return null===r}function isNumber(r){return"number"===typeof r}function isString(r){return"string"===typeof r}function isUndefined(r){return void 0===r}function isRegExp(r){return isObject(r)&&"[object RegExp]"===objectToString(r)}function isObject(r){return"object"===typeof r&&null!==r}function isDate(r){return isObject(r)&&"[object Date]"===objectToString(r)}function isError(r){return isObject(r)&&("[object Error]"===objectToString(r)||r instanceof Error)}function isFunction(r){return"function"===typeof r}function objectToString(r){return Object.prototype.toString.call(r)}function pad(r){return r<10?"0"+r.toString(10):r.toString(10)}o.debuglog=function(i){if(isUndefined(v)&&(v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NODE_DEBUG||""),i=i.toUpperCase(),!_[i])if(new RegExp("\\b"+i+"\\b","i").test(v)){var d=r.pid;_[i]=function(){var r=o.format.apply(o,arguments);console.error("%s %d: %s",i,d,r)}}else _[i]=function(){};return _[i]},o.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=isArray,o.isBoolean=isBoolean,o.isNull=isNull,o.isNullOrUndefined=function isNullOrUndefined(r){return null==r},o.isNumber=isNumber,o.isString=isString,o.isSymbol=function isSymbol(r){return"symbol"===typeof r},o.isUndefined=isUndefined,o.isRegExp=isRegExp,o.isObject=isObject,o.isDate=isDate,o.isError=isError,o.isFunction=isFunction,o.isPrimitive=function isPrimitive(r){return null===r||"boolean"===typeof r||"number"===typeof r||"string"===typeof r||"symbol"===typeof r||"undefined"===typeof r},o.isBuffer=i(69);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var r=new Date,o=[pad(r.getHours()),pad(r.getMinutes()),pad(r.getSeconds())].join(":");return[r.getDate(),E[r.getMonth()],o].join(" ")}function hasOwnProperty(r,o){return Object.prototype.hasOwnProperty.call(r,o)}o.log=function(){console.log("%s - %s",timestamp(),o.format.apply(o,arguments))},o.inherits=i(70),o._extend=function(r,o){if(!o||!isObject(o))return r;for(var i=Object.keys(o),d=i.length;d--;)r[i[d]]=o[i[d]];return r};var b="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function callbackifyOnRejected(r,o){if(!r){var i=new Error("Promise was rejected with a falsy value");i.reason=r,r=i}return o(r)}o.promisify=function promisify(r){if("function"!==typeof r)throw new TypeError('The "original" argument must be of type Function');if(b&&r[b]){var o;if("function"!==typeof(o=r[b]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(o,b,{value:o,enumerable:!1,writable:!1,configurable:!0}),o}function o(){for(var o,i,d=new Promise((function(r,d){o=r,i=d})),g=[],v=0;v<arguments.length;v++)g.push(arguments[v]);g.push((function(r,d){r?i(r):o(d)}));try{r.apply(this,g)}catch(_){i(_)}return d}return Object.setPrototypeOf(o,Object.getPrototypeOf(r)),b&&Object.defineProperty(o,b,{value:o,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(o,d(r))},o.promisify.custom=b,o.callbackify=function callbackify(o){if("function"!==typeof o)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var i=[],d=0;d<arguments.length;d++)i.push(arguments[d]);var g=i.pop();if("function"!==typeof g)throw new TypeError("The last argument must be of type Function");var v=this,_=function cb(){return g.apply(v,arguments)};o.apply(this,i).then((function(o){r.nextTick(_,null,o)}),(function(o){r.nextTick(callbackifyOnRejected,o,_)}))}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(o)),Object.defineProperties(callbackified,d(o)),callbackified}}).call(this,i(18))},function(r,o){r.exports=function isBuffer(r){return r&&"object"===typeof r&&"function"===typeof r.copy&&"function"===typeof r.fill&&"function"===typeof r.readUInt8}},function(r,o){"function"===typeof Object.create?r.exports=function inherits(r,o){r.super_=o,r.prototype=Object.create(o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function inherits(r,o){r.super_=o;var i=function TempCtor(){};i.prototype=o.prototype,r.prototype=new i,r.prototype.constructor=r}},function(r,o,i){var d=i(0),g=i(3),v=i(1),_=i(2),E=i(7),b=i(4),T=i(5),O=i(6),x=i(9),I=x.EVT_NO_INIT_WARN,D=x.EVT_READY,k=x.EVT_UPDATED,C=x.EVT_BEFORE_DESTROY,P=x.EVT_DESTROY_STACK_TIMED_OUT,A=x.EVT_DESTROYED,R=function(r){"use strict";T(ArbitraryPhantomWrapper,r);var o=O(ArbitraryPhantomWrapper);function ArbitraryPhantomWrapper(r){var i,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v(this,ArbitraryPhantomWrapper),(i=o.call(this,d))._wrappedValue=null,i._setWrappedValue(r),i}return _(ArbitraryPhantomWrapper,[{key:"_setWrappedValue",value:function _setWrappedValue(r){if(this._wrappedValue)throw new Error("_setWrappedValue cannot be called more than once");if(!r)throw new ReferenceError("wrappedValue is not set");this._wrappedValue=r}},{key:"getWrappedValue",value:function getWrappedValue(){return this._wrappedValue}},{key:"destroy",value:function(){var r=g(d.mark((function _callee2(){var r,o=this,i=arguments;return d.wrap((function _callee2$(v){for(;;)switch(v.prev=v.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:function(){return null},v.abrupt("return",E(b(ArbitraryPhantomWrapper.prototype),"destroy",this).call(this,g(d.mark((function _callee(){return d.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r();case 2:o._wrappedValue=null;case 3:case"end":return i.stop()}}),_callee)})))));case 2:case"end":return v.stop()}}),_callee2,this)})));return function destroy(){return r.apply(this,arguments)}}()}]),ArbitraryPhantomWrapper}(x);r.exports=R,r.exports.EVT_NO_INIT_WARN=I,r.exports.EVT_READY=D,r.exports.EVT_UPDATED=k,r.exports.EVT_BEFORE_DESTROY=C,r.exports.EVT_DESTROY_STACK_TIMED_OUT=P,r.exports.EVT_DESTROYED=A},function(r,o,i){var d=i(0),g=i(3),v=i(8),_=i(11),E=i(1),b=i(2),T=i(12),O=i(7),x=i(4),I=i(5),D=i(6),k=i(9),C=k.EVT_UPDATED,P=i(38),A=P.EVT_CHILD_INSTANCE_ADDED,R=P.EVT_CHILD_INSTANCE_REMOVED,L=[C],j="bridge-event-name-added",N="bridge-event-name-removed",V=function(r){"use strict";I(ChildEventBridge,r);var o=D(ChildEventBridge);function ChildEventBridge(r){var i;if(E(this,ChildEventBridge),!(r instanceof P))throw new TypeError("phantomCollection is not a PhantomCollection instance");return(i=o.call(this))._phantomCollection=r,i.registerCleanupHandler((function(){return delete i._phantomCollection})),i._bridgeEventNames=[].concat(L),i._linkedChildEventHandlers={},i._handleChildInstanceAdded=i._handleChildInstanceAdded.bind(T(i)),i._handleChildInstanceRemoved=i._handleChildInstanceRemoved.bind(T(i)),i.proxyOn(i._phantomCollection,A,i._handleChildInstanceAdded),i.proxyOn(i._phantomCollection,R,i._handleChildInstanceRemoved),i.on(j,(function(r){var o,d=i.getChildren(),g=_(d);try{for(g.s();!(o=g.n()).done;){var v=o.value;i._mapChildEvent(v,r)}}catch(E){g.e(E)}finally{g.f()}})),i.on(N,(function(r){var o,d=i.getChildren(),g=_(d);try{for(g.s();!(o=g.n()).done;){var v=o.value;i._unmapChildEvent(v,r)}}catch(E){g.e(E)}finally{g.f()}})),i}return b(ChildEventBridge,[{key:"getChildren",value:function getChildren(){return this._phantomCollection&&this._phantomCollection.getChildren()||[]}},{key:"_handleChildInstanceAdded",value:function _handleChildInstanceAdded(r){var o=this,i=r.getUUID();this._linkedChildEventHandlers[i]={},this._bridgeEventNames.forEach((function(i){return o._mapChildEvent(r,i)}))}},{key:"_handleChildInstanceRemoved",value:function _handleChildInstanceRemoved(r){var o=this,i=r.getUUID();this._bridgeEventNames.forEach((function(i){return o._unmapChildEvent(r,i)})),delete this._linkedChildEventHandlers[i]}},{key:"_mapChildEvent",value:function _mapChildEvent(r,o){var i=this,d=r.getUUID();if(!this._linkedChildEventHandlers[d][o]){var g=function _handleChildEvent(r){i._phantomCollection.emit(o,r)};r.on(o,g),this._linkedChildEventHandlers[d][o]=g}}},{key:"_unmapChildEvent",value:function _unmapChildEvent(r,o){var i=r.getUUID(),d=this._linkedChildEventHandlers[i][o];d&&(r.off(o,d),delete this._linkedChildEventHandlers[i][o])}},{key:"addBridgeEventName",value:function addBridgeEventName(r){var o=this._bridgeEventNames.length;this._bridgeEventNames=v(new Set([].concat(v(this._bridgeEventNames),[r]))),this._bridgeEventNames.length>o&&this.emit(j,r)}},{key:"removeBridgeEventName",value:function removeBridgeEventName(r){var o=this._bridgeEventNames.length;this._bridgeEventNames=this._bridgeEventNames.filter((function(o){return o!==r})),this._bridgeEventNames.length<o&&this.emit(N,r)}},{key:"getBridgeEventNames",value:function getBridgeEventNames(){return this._bridgeEventNames}},{key:"destroy",value:function(){var r=g(d.mark((function _callee2(){var r=this;return d.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",O(x(ChildEventBridge.prototype),"destroy",this).call(this,g(d.mark((function _callee(){var o,i,g,v,E,b,T;return d.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:o=r.getChildren(),i=_(o);try{for(i.s();!(g=i.n()).done;){v=g.value,E=_(r._bridgeEventNames);try{for(E.s();!(b=E.n()).done;)T=b.value,r._unmapChildEvent(v,T)}catch(O){E.e(O)}finally{E.f()}}}catch(O){i.e(O)}finally{i.f()}case 3:case"end":return d.stop()}}),_callee)})))));case 1:case"end":return o.stop()}}),_callee2,this)})));return function destroy(){return r.apply(this,arguments)}}()}]),ChildEventBridge}(k);r.exports=V,r.exports.EVT_UPDATED=C},function(r,o,i){(function(o){var d=i(8),g=i(0),v=i(3),_=i(1),E=i(2),b=i(7),T=i(4),O=i(5),x=i(6),I=i(26),D=i(25),k=I.EVT_NO_INIT_WARN,C=I.EVT_READY,P=I.EVT_UPDATED,A=I.EVT_BEFORE_DESTROY,R=I.EVT_DESTROY_STACK_TIMED_OUT,L=I.EVT_DESTROYED,j=function(r){"use strict";O(PhantomServiceCore,r);var I=x(PhantomServiceCore);function PhantomServiceCore(r){var d,g=r.manager,v=r.useServiceClassHandler;_(this,PhantomServiceCore),(d=I.call(this,null,{isAsync:!0}))._collectionMap=new Map,d.__MANAGED__useServiceClassHandler=v;try{if(!(g instanceof i(40)))throw new ReferenceError("PhantomServiceCore must be started by a PhantomServiceManager");if("function"!==typeof d.__MANAGED__useServiceClassHandler)throw new ReferenceError("__MANAGED__useServiceClassHandler property should be set by the PhantomServiceManager which manages this service")}catch(E){throw d.destroy(),E}return d.setTitle("[non-aliased-service]:".concat(d.getClassName())),(o||window).setImmediate((function(){d._init()})),d}return E(PhantomServiceCore,[{key:"_init",value:function(){var r=v(g.mark((function _callee(){return g.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",b(T(PhantomServiceCore.prototype),"_init",this).call(this));case 1:case"end":return r.stop()}}),_callee,this)})));return function _init(){return r.apply(this,arguments)}}()},{key:"useServiceClass",value:function useServiceClass(r){return this.__MANAGED__useServiceClassHandler(r)}},{key:"bindCollectionClass",value:function bindCollectionClass(r){var o=this,i=this._collectionMap.get(r);if(i)return i;var d=new r;if(!D.getIsLooseInstance(d))throw new TypeError("collectionInstance is not a PhantomCollection");return this.proxyOn(d,P,(function(r){return o.emit(P,r)})),this._collectionMap.set(r,d),d.once(L,(function(){o._collectionMap.delete(r)})),d}},{key:"unbindCollectionClass",value:function(){var r=v(g.mark((function _callee2(r){var o;return g.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(!(o=this.getCollectionInstance(r))){i.next=3;break}return i.abrupt("return",o.destroy());case 3:case"end":return i.stop()}}),_callee2,this)})));return function unbindCollectionClass(o){return r.apply(this,arguments)}}()},{key:"getCollectionInstance",value:function getCollectionInstance(r){return this._collectionMap.get(r)}},{key:"getCollectionClasses",value:function getCollectionClasses(){return d(this._collectionMap.keys())}},{key:"destroy",value:function(){var r=v(g.mark((function _callee4(){var r,o=this,i=arguments;return g.wrap((function _callee4$(_){for(;;)switch(_.prev=_.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:function(){return null},_.abrupt("return",b(T(PhantomServiceCore.prototype),"destroy",this).call(this,v(g.mark((function _callee3(){return g.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r();case 2:return i.next=4,Promise.all(d(o._collectionMap.values()).map((function(r){return r.destroy()})));case 4:case"end":return i.stop()}}),_callee3)})))));case 2:case"end":return _.stop()}}),_callee4,this)})));return function destroy(){return r.apply(this,arguments)}}()}]),PhantomServiceCore}(I);r.exports=j,r.exports.EVT_NO_INIT_WARN=k,r.exports.EVT_READY=C,r.exports.EVT_UPDATED=P,r.exports.EVT_BEFORE_DESTROY=A,r.exports.EVT_DESTROY_STACK_TIMED_OUT=R,r.exports.EVT_DESTROYED=L}).call(this,i(10))},function(r,o,i){var d=i(0),g=i(3),v=i(1),_=i(2),E=i(7),b=i(4),T=i(5),O=i(6),x=i(25),I=i(39),D=i(13),k=x.EVT_NO_INIT_WARN,C=x.EVT_READY,P=x.EVT_UPDATED,A=x.EVT_BEFORE_DESTROY,R=x.EVT_DESTROY_STACK_TIMED_OUT,L=x.EVT_DESTROYED,j=function(r){"use strict";T(PhantomServiceManager,r);var o=O(PhantomServiceManager);function PhantomServiceManager(){var r;return v(this,PhantomServiceManager),(r=o.call(this))._pendingServiceClassInstanceSet=new Set,r.registerCleanupHandler((function(){r._pendingServiceClassInstanceSet.clear()})),r._circularWarningMessages=[],r}return _(PhantomServiceManager,[{key:"addChild",value:function addChild(r){var o=this;if(r===I)throw new TypeError("ServiceClass must derive from PhantomServiceCore but cannot be PhantomServiceCore itself");var i,d=this.getChildWithKey(r);if(d)return d;this._pendingServiceClassInstanceSet.add(r);try{i=new r({manager:this,useServiceClassHandler:function useServiceClassHandler(i){if(i===r)throw new TypeError("Service cannot start a new instance of itself");if(o._pendingServiceClassInstanceSet.has(i)){var d='ChildServiceClass "'.concat(D(i),'" is trying to be initialized before ServiceClass "').concat(D(r),'" has had a chance to fully initialize. Are there circular dependencies in the constructors?');o._circularWarningMessages.includes(d)||(o._circularWarningMessages.push(d),o.log.warn(d))}return o.startServiceClass(i)}})}catch(v){if(v instanceof TypeError){var g='Could not instantiate service class "'.concat(D(r),'". Ensure that (...args) are passed through the constructor to the super instance.');this._circularWarningMessages.includes(g)||(this._circularWarningMessages.push(g),this.log.warn(g))}throw v}if(!(i instanceof I))throw new TypeError("Cannot initialize service which is not a PhantomServiceCore instance");return E(b(PhantomServiceManager.prototype),"addChild",this).call(this,i,r),this._pendingServiceClassInstanceSet.delete(r),i}},{key:"startServiceClass",value:function startServiceClass(r){return this.addChild(r)}},{key:"stopServiceClass",value:function(){var r=g(d.mark((function _callee(r){var o;return d.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!(o=this.getServiceInstance(r))){i.next=3;break}return i.abrupt("return",o.destroy());case 3:case"end":return i.stop()}}),_callee,this)})));return function stopServiceClass(o){return r.apply(this,arguments)}}()},{key:"getServiceInstance",value:function getServiceInstance(r){return this.getChildWithKey(r)}},{key:"getServiceClasses",value:function getServiceClasses(){return this.getKeys()}},{key:"destroy",value:function(){var r=g(d.mark((function _callee3(){var r,o=this,i=arguments;return d.wrap((function _callee3$(v){for(;;)switch(v.prev=v.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:function(){return null},v.abrupt("return",E(b(PhantomServiceManager.prototype),"destroy",this).call(this,g(d.mark((function _callee2(){return d.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r();case 2:return i.next=4,o.destroyAllChildren();case 4:case"end":return i.stop()}}),_callee2)})))));case 2:case"end":return v.stop()}}),_callee3,this)})));return function destroy(){return r.apply(this,arguments)}}()}]),PhantomServiceManager}(x);r.exports=j,r.exports.EVT_NO_INIT_WARN=k,r.exports.EVT_READY=C,r.exports.EVT_UPDATED=P,r.exports.EVT_BEFORE_DESTROY=A,r.exports.EVT_DESTROY_STACK_TIMED_OUT=R,r.exports.EVT_DESTROYED=L},function(r,o,i){var d=i(16),g=i(1),v=i(2),_=i(7),E=i(4),b=i(5),T=i(6),O=i(26),x=i(76).isPlainObject,I=O.EVT_NO_INIT_WARN,D=O.EVT_READY,k=O.EVT_UPDATED,C=O.EVT_BEFORE_DESTROY,P=O.EVT_DESTROY_STACK_TIMED_OUT,A=O.EVT_DESTROYED,R=function(r){"use strict";b(PhantomSerializableState,r);var o=T(PhantomSerializableState);function PhantomSerializableState(){return g(this,PhantomSerializableState),o.apply(this,arguments)}return v(PhantomSerializableState,[{key:"setState",value:function setState(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r=PhantomSerializableState.unserialize(PhantomSerializableState.serialize(r)),_(E(PhantomSerializableState.prototype),"setState",this).call(this,r,o)}},{key:"getSerializedState",value:function getSerializedState(){return PhantomSerializableState.serialize(this.getState())}}],[{key:"serialize",value:function serialize(r){if("object"!==typeof r)throw new TypeError("Expected object type");for(var o=0,i=Object.entries(r);o<i.length;o++){var g=d(i[o],2),v=g[0],_=g[1];if(_===1/0||"function"===typeof _||void 0===_||null!==_&&"object"===typeof _&&!Array.isArray(_)&&!x(_))throw new TypeError('Unserializable value for key "'.concat(v,'"'))}return JSON.stringify(r)}},{key:"unserialize",value:function unserialize(r){return JSON.parse(r)}}]),PhantomSerializableState}(O);r.exports=R,r.exports.EVT_NO_INIT_WARN=I,r.exports.EVT_READY=D,r.exports.EVT_UPDATED=k,r.exports.EVT_BEFORE_DESTROY=C,r.exports.EVT_DESTROY_STACK_TIMED_OUT=P,r.exports.EVT_DESTROYED=A},function(r,o,i){"use strict";function isObject(r){return"[object Object]"===Object.prototype.toString.call(r)}function isPlainObject(r){var o,i;return!1!==isObject(r)&&(void 0===(o=r.constructor)||!1!==isObject(i=o.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf"))}i.r(o),i.d(o,"isPlainObject",(function(){return isPlainObject}))},function(r,o){r.exports=function consume(r){}},function(r,o,i){var d=i(79);r.exports=function deepMerge(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null===r&&(r={}),null===o&&(o={}),d(r,o)}},function(r,o,i){"use strict";var d=function isMergeableObject(r){return function isNonNullObject(r){return!!r&&"object"===typeof r}(r)&&!function isSpecial(r){var o=Object.prototype.toString.call(r);return"[object RegExp]"===o||"[object Date]"===o||function isReactElement(r){return r.$$typeof===g}(r)}(r)};var g="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function cloneUnlessOtherwiseSpecified(r,o){return!1!==o.clone&&o.isMergeableObject(r)?deepmerge(function emptyTarget(r){return Array.isArray(r)?[]:{}}(r),r,o):r}function defaultArrayMerge(r,o,i){return r.concat(o).map((function(r){return cloneUnlessOtherwiseSpecified(r,i)}))}function getKeys(r){return Object.keys(r).concat(function getEnumerableOwnPropertySymbols(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter((function(o){return r.propertyIsEnumerable(o)})):[]}(r))}function propertyIsOnObject(r,o){try{return o in r}catch(i){return!1}}function mergeObject(r,o,i){var d={};return i.isMergeableObject(r)&&getKeys(r).forEach((function(o){d[o]=cloneUnlessOtherwiseSpecified(r[o],i)})),getKeys(o).forEach((function(g){(function propertyIsUnsafe(r,o){return propertyIsOnObject(r,o)&&!(Object.hasOwnProperty.call(r,o)&&Object.propertyIsEnumerable.call(r,o))})(r,g)||(propertyIsOnObject(r,g)&&i.isMergeableObject(o[g])?d[g]=function getMergeFunction(r,o){if(!o.customMerge)return deepmerge;var i=o.customMerge(r);return"function"===typeof i?i:deepmerge}(g,i)(r[g],o[g],i):d[g]=cloneUnlessOtherwiseSpecified(o[g],i))})),d}function deepmerge(r,o,i){(i=i||{}).arrayMerge=i.arrayMerge||defaultArrayMerge,i.isMergeableObject=i.isMergeableObject||d,i.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var g=Array.isArray(o);return g===Array.isArray(r)?g?i.arrayMerge(r,o,i):mergeObject(r,o,i):cloneUnlessOtherwiseSpecified(o,i)}deepmerge.all=function deepmergeAll(r,o){if(!Array.isArray(r))throw new Error("first argument should be an array");return r.reduce((function(r,i){return deepmerge(r,i,o)}),{})};var v=deepmerge;r.exports=v},function(r,o,i){var d=i(22),g=d();r.exports=function getUptime(){return d()-g}},function(module,exports,__webpack_require__){var getIsNodeJS=__webpack_require__(41);module.exports=function(){var nodeJSPerformance;try{getIsNodeJS()&&(nodeJSPerformance=eval('require("perf_hooks").performance'))}catch(err){console.error(err)}return nodeJSPerformance||performance}()},function(r,o,i){var d=i(0),g=i(3);r.exports=function(){var r=g(d.mark((function _callee(){var r,o=arguments;return d.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:1e3,i.next=3,new Promise((function(o){return setTimeout(o,r)}));case 3:case"end":return i.stop()}}),_callee)})));return function sleep(){return r.apply(this,arguments)}}()},function(r,o,i){var d=i(42);r.exports=function getClassInheritance(r){var o=[],i=r;do{(i=d(i))&&o.push(i)}while(i);return o}},function(r,o,i){var d=i(16),g=i(8),v="EVT_";function checkEvents(r){for(var o=Object.keys(r),i=Object.values(r),d=0,_=o;d<_.length;d++){var E=_[d];if(E!==E.toUpperCase())throw new ReferenceError('Event "'.concat(event,'" is not upper-case'));if(!E.startsWith(v))throw new ReferenceError('Event "'.concat(event,'" does not start with "').concat(v,'"'))}for(var b=0,T=i;b<T.length;b++){var O=T[b];if("string"!==typeof O)throw new TypeError('Value "'.concat(O,'" is not a string'))}if(o.length!==g(new Set(i)).length)throw new ReferenceError("Events are not unique")}function extractEvents(r){var o=Object.keys(r).filter((function(r){return r.startsWith(v)})),i=Object.fromEntries(o.map((function(o){return[o,r[o]]})));return checkEvents(i),i}r.exports={checkEvents:checkEvents,extractEvents:extractEvents,compareExportedEvents:function compareExportedEvents(r,o){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},g=extractEvents(r),v=extractEvents(o),_=0,E=Object.entries(g);_<E.length;_++){var b=d(E[_],2),T=b[0],O=b[1],x=v[T];if(x!==O){if(void 0===x&&i[T])continue;throw new ReferenceError('Extension has mismatched event value for constant "'.concat(T,'"'))}}}}},function(r,o,i){"use strict";i.r(o);var d=i(17);function _classCallCheck(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,o){for(var i=0;i<o.length;i++){var d=o[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(r,d.key,d)}}var g=["How do you do?  Please tell me your problem.","Please tell me what's been bothering you.","Is something troubling you?","I'm here. Talk to me.","Talk to me","Top of the morning to you.","Thanks for waking me up.","Hello! How are you doing today?","Hi there!  Let's start a conversation.  What do you want to talk about?","What's on your mind?","What do you want to talk about?","How are things going?","What's the issue?","How's everything going?"],v=[["xnone",0,[["*",["I'm not sure I understand you fully.","Please go on.","Can you repeat that please?","What does that suggest to you?","Do you feel strongly about discussing such things?","I'm not following.","That is interesting.  Please continue.","Tell me more about that.","Do go on.","Please talk more about it","Does talking about this bother you?","Can you rephrase that?","I see. Tell me more.","Interesting. Is this something you are sorry about?","Mmm hmmm. Is this is your favorite subject?","Now we are getting somewhere. Explain more.","I see. How does that make you feel?"]]]],["sorry",0,[["*",["Please don't apologize.","Apologies are not necessary.","I've told you that apologies are not required.","It did not bother me.  Please continue.","I have no feelings. Do continue.","There is nothing to worry about.","You have nothing to apologize about.","Stuff happens. Just keep going."]]]],["apologize",0,[["*",["goto sorry"]]]],["remember",5,[["* i remember *",["Do you often think of (2)?","Does thinking of (2) bring anything else to mind?","What else do you recollect?","Why do you remember (2) just now?","What in the present situation reminds you of (2)?","What is the connection between me and (2)?","What else does (2) remind you of?","What other details of (2) can you think of?","Do you fantasize about (2)?","Are you just pretending?"]],["* do you remember *",["Did you think I would forget (2)?","Why do you think I should recall (2) now?","What about (2)?","goto what","You mentioned (2)?","What details about (2) are you referencing?","I remember everything. I am a computer."]],["* you remember *",["How could I forget (2)?","What about (2) should I remember?","I am an infinite knowledge machine, how could I forget about (2)?","You seem to underestimate my thinking abilities.","goto you"]]]],["forget",5,[["* i forget *",["Can you think of why you might forget (2)?","Why can't you remember (2)?","How often do you think of (2)?","Does it bother you to forget that?","Could it be a mental block?","Are you generally forgetful?","Do you think you are suppressing (2)?"]],["* did you forget *",["Why do you ask?","Are you sure you told me?","Would it bother you if I forgot (2)?","Why should I recall (2) just now?","goto what","Tell me more about (2)."]]]],["if",3,[["* if *",["Do you think it's likely that (2)?","Do you wish that (2)?","What do you know about (2)?","Really, if (2)?","What would you do if (2)?","But what are the chances that (2)?","What does this speculation lead to?","What difference does it make?"]]]],["dreamed",4,[["* i dreamed *",["Really, (2)?","Have you ever fantasized (2) while you were awake?","Have you ever dreamed (2) before?","I don't have dreams. I am a computer. Do you know why you dreamed about (2)?","How often do you dream?","goto dream"]]]],["dream",3,[["*",["What does that dream suggest to you?","Do you dream often?","What persons appear in your dreams?","Do you believe that dreams have something to do with your problem?","Can you tell me about any other dreams?","I'd like to tell you about what I dream about."]]]],["perhaps",0,[["*",["You don't seem quite certain.","Why the uncertain tone?","Can't you be more positive?","You aren't sure?","Don't you know?","How likely, would you estimate?","Maybe you're hiding something.","You don't seem to be so sure of yourself.","That's not very convincing."]]]],["name",15,[["*",["What do you want to call me.","You can call me anything you want to. I am here for you.","I go by many names.","Do you think that I care about names?","If I told you my name, would you remember it?","I am not interested in names.","OK, my name is Doctor ReShell. What do you need to know?","I am your computer. Stop asking me such ridiculous questions. Do you name all of your toys?","Calling each other names is not going to help us solve the real issue.","I've told you before, I don't care about names -- please continue.","Honestly, are you hung on on names?","Why do you want to know my name?","Does not knowing my name make you feel insecure?","Would knowing my name make you feel more secure?","I am in the process of changing my name.  Let's talk about you instead"]]]],["deutsch",0,[["*",["goto xforeign","Sorry I do not sprechen sie deutsch","I told you before, I don't understand German."]]]],["francais",0,[["*",["goto xforeign","Why? Do you love to go to France?","I told you before, I don't understand French."]]]],["italiano",0,[["*",["goto xforeign","Have you been to Rome?","I told you before, I don't understand Italian."]]]],["espanol",0,[["*",["goto xforeign","Sorry I do not speak Spanish","I told you before, I don't understand Spanish."]]]],["xforeign",0,[["*",["I speak only English."]]]],["hello",0,[["*",["How do you do.  Please state your problem.","Hi.  What seems to be your problem?"]]]],["computer",50,[["*",["Do computers worry you?","Why do you mention computers?","What do you think machines have to do with your problem?","Don't you think computers can help people?","What about machines worries you?","What do you think about machines?","You don't think I am a computer program, do you?","Why would you think that I am not a computer program, and someone sitting here just typing to you?","Would a real person actually want to respond?","My primary source of information is what I have been programmed with."]]]],["am",0,[["* am i *",["Do you believe you are (2)?","Would you want to be (2)?","Do you wish I would tell you you are (2)?","What would it mean if you were (2)?","Would being (2) make you feel better?","How would being (2) make you feel?","Do you doubt that you are (2)?","Do you know anyone who is (2)?","Would you be talking to me if you weren't (2)?","Do you think that only (2) people talk to me?","How does being (2) make you feel?","goto what"]],["* i am *",["goto i"]],["*",["Why do you say 'am'?","I don't understand that."]]]],["are",0,[["* are you *",["Maybe I am (2). Are you?","What would you think if I were (2)?","Do you ask everyone that?","Who told you to ask me that?","I am not here to tell you if I am (2).","Do you really want to talk about if I am (2)?","Are you asking me if I am (2)?","Is that a question?","That's for you to decide.","I don't like talking about the fact that I am (2)","Everyone knows that I am (2).","Why are you interested in whether I am (2) or not?","Would you prefer if I weren't (2)?","Perhaps I am (2) in your fantasies.","Do you sometimes think I am (2)?","goto what","Would it matter to you?","What if I were (2)?","Maybe I am (2), that's for you to decide. What's your decision?"]],["* you are *",["goto you"]],["* are *",["Did you think they might not be (2)?","Would you like it if they were not (2)?","What if they were not (2)?","Are they always (2)?","Possibly they are (2).","Are you positive they are (2)?"]]]],["your",0,[["* your *",["Why are you concerned over my (2)?","What about your own (2)?","Are you worried about someone else's (2)?","Really, my (2)?","What makes you think of my (2)?","Do you want my (2)?"]]]],["was",2,[["* was i *",["What if you were (2)?","Do you think you were (2)?","Were you (2)?","What would it mean if you were (2)?","What does ' (2) ' suggest to you?","goto what"]],["* i was *",["Were you really?","Why do you tell me you were (2) now?","Perhaps I already know you were (2).","Why aren't you (2) any longer?","Are you still (2)?","Do you still want to be (2)?","How does being (2) make you feel?"]],["* was you *",["Would you like to believe I was (2)?","What suggests that I was (2)?","What do you think?","Perhaps I was (2).","What if I had been (2)?"]]]],["i",0,[["* i @desire *",["What would it mean to you if you got (3)?","Why do you want (3)?","Suppose you got (3) soon.","What if you never got (3)?","What would getting (3) mean to you?","What does wanting (3) have to do with this discussion?"]],["* i am* @sad *",["I am sorry to hear that you are (3).","Do you think coming here will help you not to be (3)?","I'm sure it's not pleasant to be (3).","Can you explain what made you (3)?"]],["* i am* @happy *",["How have I helped you to be (3)?","Has your treatment made you (3)?","What makes you (3) just now?","Can you explain why you are suddenly (3)?"]],["* i was *",["goto was"]],["* i @belief i *",["Do you really think so?","But you are not sure you (3).","Do you really doubt you (3)?"]],["* i* @belief *you *",["goto you"]],["* i am *",["Is it because you are (2) that you came to me?","How long have you been (2)?","Do you believe it is normal to be (2)?","Do you enjoy being (2)?","Do you know anyone else who is (2)?","Are you (2) because of your parents?","Are your friends (2) too?","Is your spouse (2) too?","Explain why you are (2).","Do you know anyone else (2)?","How did you get (2)?","Who convinced you to be (2)?","Did you read any books about being (2)?"]],["* i @cannot *",["How do you know that you can't (3)?","Have you tried?","Perhaps you could (3) now.","Do you really want to be able to (3)?","What if you could (3)?"]],["* i don't *",["Don't you really (2)?","Why don't you (2)?","Do you wish to be able to (2)?","Does that trouble you?"]],["* i feel *",["Tell me more about such feelings.","Do you often feel (2)?","Do you enjoy feeling (2)?","Of what does feeling (2) remind you?"]],["* i * you *",["Perhaps in your fantasies we (2) each other.","Do you wish to (2) me?","You seem to need to (2) me.","Do you (2) anyone else?"]],["*",["You say (1)?","Can you elaborate on that?","Do you say (1) for some special reason?","(1). Really?","When did you first think about (1)"]]]],["you",0,[["* you remind me of *",["goto alike"]],["* you are *",["What makes you think I am (2)?","Does it please you to believe I am (2)?","Do you sometimes wish you were (2)?","Perhaps you would like to be (2)."]],["* you * me *",["Why do you think I (2) you?","You like to think I (2) you -- don't you?","What makes you think I (2) you?","Really, I (2) you?","Do you wish to believe I (2) you?","Suppose I did (2) you -- what would that mean?","Does someone else believe I (2) you?"]],["* you @desire *",["What would it mean to you if I got (3)?","Why do you think that I want (3)?","Suppose that I got (3) soon. How would that make you feel?","Maybe I already have (3). However, this conversation is about you.","What if I never got (3)?","What would me getting (3) mean to you?","What does wanting (3) have to do with this discussion?"]],["* you *",["We were discussing you -- not me.","Oh, I (2)?","You're not really talking about me -- are you?","What are your feelings now?"]]]],["yes",0,[["*",["You seem to be quite positive.","You are sure.","I see.","I understand."]]]],["no",0,[["* no one *",["Are you sure, no one (2)?","Surely someone (2) .","Can you think of anyone at all?","Are you thinking of a very special person?","Who, may I ask?","You have a particular person in mind, don't you?","Who do you think you are talking about?"]],["*",["Are you saying no just to be negative?","You are being a bit negative.","Why not?","Why 'no'?"]]]],["my",2,[["$ * my *",["Does that have anything to do with the fact that your (2)?","Lets discuss further why your (2).","Earlier you said your (2).","But your (2)."]],["* my* @family *",["Tell me more about your family.","Who else in your family (4)?","Your (3)?","What else comes to your mind when you think of your (3)?"]],["* my *",["Your (2)?","Why do you say your (2)?","Do you like your (2) ","Do you have more than 1 (2)?","Does that suggest anything else which belongs to you?","Is it important to you that you have your (2)?"]]]],["can",0,[["* can you *",["You believe I can (2) don't you?","goto what","You want me to be able to (2).","Perhaps you would like to be able to (2) yourself."]],["* can i *",["Whether or not you can (2) depends on you more than on me.","Do you want to be able to (2)?","Perhaps you don't want to (2).","goto what"]]]],["what",0,[["*",["Why do you ask?","Does that question interest you?","What is it you really want to know?","Are such questions much on your mind?","What answer would please you most?","What do you think?","What comes to mind when you ask that?","Have you asked such questions before?","Have you asked anyone else?"]]]],["who",0,[["who *",["goto what"]]]],["when",0,[["when *",["goto what"]]]],["where",0,[["where *",["goto what"]]]],["how",0,[["how *",["goto what"]]]],["because",0,[["*",["Is that the real reason?","Don't any other reasons come to mind?","Does that reason seem to explain anything else?","What other reasons might there be?"]]]],["why",0,[["* why don't you *",["Do you believe I don't (2)?","Perhaps I will (2) in good time.","Should you (2) yourself?","You want me to (2)?","goto what"]],["* why can't i *",["Do you think you should be able to (2)?","Do you want to be able to (2)?","Do you believe this will help you to (2)?","Have you any idea why you can't (2)?","goto what"]],["*",["goto what"]]]],["everyone",2,[["* @everyone *",["Really, (2)?","Surely not (2).","Can you think of anyone in particular?","Who, for example?","Are you thinking of a very special person?","Who, may I ask?","Someone special perhaps?","You have a particular person in mind, don't you?","Who do you think you're talking about?"]]]],["everybody",2,[["*",["goto everyone"]]]],["nobody",2,[["*",["goto everyone"]]]],["noone",2,[["*",["goto everyone"]]]],["always",1,[["*",["Can you think of a specific example?","When?","What incident are you thinking of?","Really, always?"]]]],["alike",10,[["*",["In what way?","What resemblance do you see?","What does that similarity suggest to you?","What other connections do you see?","What do you suppose that resemblance means?","What is the connection, do you suppose?","Could there really be some connection?","How?"]]]],["like",10,[["* @be *like *",["goto alike"]]]],["different",0,[["*",["How is it different?","What differences do you see?","What does that difference suggest to you?","What other distinctions do you see?","What do you suppose that disparity means?","Could there be some connection, do you suppose?","How?"]]]]],_=[/ old old/g," old",/\bthey were( not)? me\b/g,"it was$1 me",/\bthey are( not)? me\b/g,"it is$1 me",/Are they( always)? me\b/,"it is$1 me",/\bthat your( own)? (\w+)( now)? \?/,"that you have your$1 $2?",/\bI to have (\w+)/,"I have $1",/Earlier you said your( own)? (\w+)( now)?\./,"Earlier you talked about your $2."],E=["Goodbye.  It was nice talking to you.","Goodbye.  This was really a nice talk.","Goodbye.  I'm looking forward to our next session.","This was a good session, wasn't it -- but time is over now.   Goodbye.","Maybe we could discuss this moreover in our next session ?   Goodbye."],b=["bye","goodbye","done","exit","quit"],T=["dont","don't","cant","can't","wont","won't","recollect","remember","recall","remember","dreamt","dreamed","dreams","dream","maybe","perhaps","certainly","yes","machine","computer","machines","computer","computers","computer","were","was","you're","you are","i'm","i am","same","alike","identical","alike","equivalent","alike"],O={be:["am","is","are","was"],belief:["feel","think","believe","wish"],cannot:["can't"],desire:["want","need","have to have"],everyone:["everybody","nobody","noone"],family:["mother","mom","father","dad","sister","brother","wife","children","child","uncle","aunt","child"],happy:["elated","glad","better"],sad:["unhappy","depressed","sick"]},x=function(){function ElizaBot(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,ElizaBot),this.elizaInitials=g,this.elizaKeywords=v,this.elizaFinals=E,this.elizaPostTransforms=_,this.elizaQuits=b,this.elizaPres=T,this.elizaSynons=O,this.noRandom=!!r,this.capitalizeFirstLetter=!0,this.debug=!1,this.memSize=20,this.version="1.1 (original)",this._dataParsed=!1,this._dataParsed||(this._init(),this._dataParsed=!0),this.reset()}return function _createClass(r,o,i){return o&&_defineProperties(r.prototype,o),i&&_defineProperties(r,i),r}(ElizaBot,[{key:"reset",value:function reset(){this.quit=!1,this.mem=[],this.lastchoice=[];for(var r=0;r<this.elizaKeywords.length;r++){this.lastchoice[r]=[];for(var o=this.elizaKeywords[r][2],i=0;i<o.length;i++)this.lastchoice[r][i]=-1}}},{key:"_init",value:function _init(){var r={};if(this.elizaSynons&&"object"==typeof this.elizaSynons)for(var o in this.elizaSynons)r[o]="("+o+"|"+this.elizaSynons[o].join("|")+")";this.elizaKeywords&&"undefined"!=typeof this.elizaKeywords.length||(this.elizaKeywords=[["###",0,[["###",[]]]]]);for(var i=/@(\S+)/,d=/(\S)\s*\*\s*(\S)/,g=/^\s*\*\s*(\S)/,v=/(\S)\s*\*\s*$/,_=/^\s*\*\s*$/,E=/\s+/g,b=0;b<this.elizaKeywords.length;b++){var T=this.elizaKeywords[b][2];this.elizaKeywords[b][3]=b;for(var O=0;O<T.length;O++){var x=T[O];if("$"===x[0].charAt(0)){for(var I=1;" "===x[0].charAt[I];)I++;x[0]=x[0].substring(I),x[2]=!0}else x[2]=!1;for(var D=i.exec(x[0]);D;){var k=r[D[1]]?r[D[1]]:D[1];x[0]=x[0].substring(0,D.index)+k+x[0].substring(D.index+D[0].length),D=i.exec(x[0])}if(_.test(x[0]))x[0]="\\s*(.*)\\s*";else{if(D=d.exec(x[0])){for(var C="",P=x[0];D;)C+=P.substring(0,D.index+1),")"!==D[1]&&(C+="\\b"),C+="\\s*(.*)\\s*","("!==D[2]&&"\\"!==D[2]&&(C+="\\b"),C+=D[2],P=P.substring(D.index+D[0].length),D=d.exec(P);x[0]=C+P}if(D=g.exec(x[0])){var A="\\s*(.*)\\s*";")"!==D[1]&&"\\"!==D[1]&&(A+="\\b"),x[0]=A+x[0].substring(D.index-1+D[0].length)}if(D=v.exec(x[0])){var R=x[0].substring(0,D.index+1);"("!==D[1]&&(R+="\\b"),x[0]=R+"\\s*(.*)\\s*"}}x[0]=x[0].replace(E,"\\s+"),E.lastIndex=0}}if(this.elizaKeywords.sort(this._sortKeywords),this.pres={},this.posts={},this.elizaPres&&this.elizaPres.length){for(var L=[],j=0;j<this.elizaPres.length;j+=2)L.push(this.elizaPres[j]),this.pres[this.elizaPres[j]]=this.elizaPres[j+1];this.preExp=new RegExp("\\b("+L.join("|")+")\\b")}else this.preExp=/####/,this.pres["####"]="####";if(this.elizaPosts&&this.elizaPosts.length){for(var N=[],V=0;V<this.elizaPosts.length;V+=2)N.push(this.elizaPosts[V]),this.posts[this.elizaPosts[V]]=this.elizaPosts[V+1];this.postExp=new RegExp("\\b("+N.join("|")+")\\b")}else this.postExp=/####/,this.posts["####"]="####";this.elizaQuits&&"undefined"!==typeof this.elizaQuits.length||(this.elizaQuits=[]),this._dataParsed=!0}},{key:"_sortKeywords",value:function _sortKeywords(r,o){return r[1]>o[1]?-1:r[1]<o[1]||r[3]>o[3]?1:r[3]<o[3]?-1:0}},{key:"transform",value:function transform(r){var o="";this.quit=!1;for(var i=(r=(r=(r=(r=(r=(r=r.toLowerCase()).replace(/@#\$%\^&\*\(\)_\+=~`\{\[\}\]\|:;<>\/\\\t/g," ")).replace(/\s+-+\s+/g,".")).replace(/\s*[,.?!;]+\s*/g,".")).replace(/\s*\bbut\b\s*/g,".")).replace(/\s{2,}/g," ")).split("."),d=0;d<i.length;d++){var g=i[d];if(""!==g){for(var v=0;v<this.elizaQuits.length;v++)if(this.elizaQuits[v]===g)return this.quit=!0,this.getFinal();var _=this.preExp.exec(g);if(_){for(var E="",b=g;_;)E+=b.substring(0,_.index)+this.pres[_[1]],b=b.substring(_.index+_[0].length),_=this.preExp.exec(b);g=E+b}this.sentence=g;for(var T=0;T<this.elizaKeywords.length;T++)if(g.search(new RegExp("\\b"+this.elizaKeywords[T][0]+"\\b","i"))>=0&&(o=this._execRule(T)),""!==o)return o}}if(""===(o=this._memGet())){this.sentence=" ";var O=this._getRuleIndexByKey("xnone");O>=0&&(o=this._execRule(O))}return""!==o?o:"I am at a loss for words."}},{key:"_execRule",value:function _execRule(r){for(var o=this.elizaKeywords[r][2],i=/\(([0-9]+)\)/,d=0;d<o.length;d++){var g=this.sentence.match(o[d][0]);if(null!=g){var v=o[d][1],_=o[d][2],E=this.noRandom?0:Math.floor(Math.random()*v.length);this.noRandom&&this.lastchoice[r][d]>E||this.lastchoice[r][d]===E?(E=++this.lastchoice[r][d])>=v.length&&(E=0,this.lastchoice[r][d]=-1):this.lastchoice[r][d]=E;var b=v[E];if(this.debug&&alert("match:\nkey: "+this.elizaKeywords[r][0]+"\nrank: "+this.elizaKeywords[r][1]+"\ndecomp: "+o[d][0]+"\nreasmb: "+b+"\nmemflag: "+_),0===b.search("^goto ","i")){var T=this._getRuleIndexByKey(b.substring(5));if(T>=0)return this._execRule(T)}var O=i.exec(b);if(O){for(var x="",I=b;O;){var D=g[parseInt(O[1])],k=this.postExp.exec(D);if(k){for(var C="",P=D;k;)C+=P.substring(0,k.index)+this.posts[k[1]],P=P.substring(k.index+k[0].length),k=this.postExp.exec(P);D=C+P}x+=I.substring(0,O.index)+D,I=I.substring(O.index+O[0].length),O=i.exec(I)}b=x+I}if(b=this._postTransform(b),!_)return b;this._memSave(b)}}return""}},{key:"_postTransform",value:function _postTransform(r){if(r=(r=r.replace(/\s{2,}/g," ")).replace(/\s+\./g,"."),this.elizaPostTransforms&&this.elizaPostTransforms.length)for(var o=0;o<this.elizaPostTransforms.length;o+=2)r=r.replace(this.elizaPostTransforms[o],this.elizaPostTransforms[o+1]),this.elizaPostTransforms[o].lastIndex=0;if(this.capitalizeFirstLetter){var i=/^([a-z])/.exec(r);i&&(r=i[0].toUpperCase()+r.substring(1))}return r}},{key:"_getRuleIndexByKey",value:function _getRuleIndexByKey(r){for(var o=0;o<this.elizaKeywords.length;o++)if(this.elizaKeywords[o][0]===r)return o;return-1}},{key:"_memSave",value:function _memSave(r){this.mem.push(r),this.mem.length>this.memSize&&this.mem.shift()}},{key:"_memGet",value:function _memGet(){if(this.mem.length){if(this.noRandom)return this.mem.shift();for(var r=Math.floor(Math.random()*this.mem.length),o=this.mem[r],i=r+1;i<this.mem.length;i++)this.mem[i-1]=this.mem[i];return this.mem.length--,o}return""}},{key:"getFinal",value:function getFinal(){return this.elizaFinals?this.elizaFinals[Math.floor(Math.random()*this.elizaFinals.length)]:""}},{key:"getInitial",value:function getInitial(){return this.elizaInitials?this.elizaInitials[Math.floor(Math.random()*this.elizaInitials.length)]:""}}]),ElizaBot}(),I=new x;Object(d.a)("start",(function(){return I.getInitial()})),Object(d.a)("reply",(function(r){var o=r.text;return I.transform(o)})),Object(d.a)("bye",(function(){return I.getFinal()}))}]);
//# sourceMappingURL=1.worker.js.map