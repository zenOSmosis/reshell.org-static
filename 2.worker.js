/*! For license information please see 2.worker.js.LICENSE.txt */
!function(r){var o={};function __webpack_require__(i){if(o[i])return o[i].exports;var d=o[i]={i:i,l:!1,exports:{}};return r[i].call(d.exports,d,d.exports,__webpack_require__),d.l=!0,d.exports}__webpack_require__.m=r,__webpack_require__.c=o,__webpack_require__.d=function(r,o,i){__webpack_require__.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:i})},__webpack_require__.r=function(r){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},__webpack_require__.t=function(r,o){if(1&o&&(r=__webpack_require__(r)),8&o)return r;if(4&o&&"object"===typeof r&&r&&r.__esModule)return r;var i=Object.create(null);if(__webpack_require__.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:r}),2&o&&"string"!=typeof r)for(var d in r)__webpack_require__.d(i,d,function(o){return r[o]}.bind(null,d));return i},__webpack_require__.n=function(r){var o=r&&r.__esModule?function getDefault(){return r.default}:function getModuleExports(){return r};return __webpack_require__.d(o,"a",o),o},__webpack_require__.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},__webpack_require__.p="/",__webpack_require__(__webpack_require__.s=46)}([function(r,o,i){r.exports=i(47)},function(r,o){r.exports=function _classCallCheck(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}},function(r,o){function _defineProperties(r,o){for(var i=0;i<o.length;i++){var d=o[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(r,d.key,d)}}r.exports=function _createClass(r,o,i){return o&&_defineProperties(r.prototype,o),i&&_defineProperties(r,i),r}},function(r,o){function asyncGeneratorStep(r,o,i,d,v,g,_){try{var E=r[g](_),b=E.value}catch(T){return void i(T)}E.done?o(b):Promise.resolve(b).then(d,v)}r.exports=function _asyncToGenerator(r){return function(){var o=this,i=arguments;return new Promise((function(d,v){var g=r.apply(o,i);function _next(r){asyncGeneratorStep(g,d,v,_next,_throw,"next",r)}function _throw(r){asyncGeneratorStep(g,d,v,_next,_throw,"throw",r)}_next(void 0)}))}}},function(r,o){function _getPrototypeOf(o){return r.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(o)}r.exports=_getPrototypeOf},function(r,o,i){var d=i(51);r.exports=function _inherits(r,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),o&&d(r,o)}},function(r,o,i){var d=i(4),v=i(52),g=i(53);r.exports=function _createSuper(r){var o=v();return function _createSuperInternal(){var i,v=d(r);if(o){var _=d(this).constructor;i=Reflect.construct(v,arguments,_)}else i=v.apply(this,arguments);return g(this,i)}}},function(r,o,i){var d=i(50);function _get(o,i,v){return"undefined"!==typeof Reflect&&Reflect.get?r.exports=_get=Reflect.get:r.exports=_get=function _get(r,o,i){var v=d(r,o);if(v){var g=Object.getOwnPropertyDescriptor(v,o);return g.get?g.get.call(i):g.value}},_get(o,i,v||o)}r.exports=_get},function(r,o,i){var d=i(56),v=i(57),g=i(18),_=i(58);r.exports=function _toConsumableArray(r){return d(r)||v(r)||g(r)||_()}},function(r,o,i){var d=i(48),v=d.EVT_NO_INIT_WARN,g=d.EVT_READY,_=d.EVT_UPDATED,E=d.EVT_BEFORE_DESTROY,b=d.EVT_DESTROY_STACK_TIMED_OUT,T=d.EVT_DESTROYED;r.exports=d,r.exports.EVT_NO_INIT_WARN=v,r.exports.EVT_READY=g,r.exports.EVT_UPDATED=_,r.exports.EVT_BEFORE_DESTROY=E,r.exports.EVT_DESTROY_STACK_TIMED_OUT=b,r.exports.EVT_DESTROYED=T},function(r,o){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(d){"object"===typeof window&&(i=window)}r.exports=i},function(r,o,i){var d=i(18);r.exports=function _createForOfIteratorHelper(r,o){var i;if("undefined"===typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(i=d(r))||o&&r&&"number"===typeof r.length){i&&(r=i);var v=0,g=function F(){};return{s:g,n:function n(){return v>=r.length?{done:!0}:{done:!1,value:r[v++]}},e:function e(r){throw r},f:g}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,E=!0,b=!1;return{s:function s(){i=r[Symbol.iterator]()},n:function n(){var r=i.next();return E=r.done,r},e:function e(r){b=!0,_=r},f:function f(){try{E||null==i.return||i.return()}finally{if(b)throw _}}}}},function(r,o){r.exports=function _assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}},function(r,o,i){var d=i(19);r.exports=function getClassName(r){return d(r).name}},function(r,o){r.exports=function getIsClassInstance(r){return Boolean("object"===typeof Object.getPrototypeOf(r))}},function(r,o,i){var d=i(31);function ownKeys(r,o){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);o&&(d=d.filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),i.push.apply(i,d)}return i}r.exports=function _objectSpread2(r){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(i),!0).forEach((function(o){d(r,o,i[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(i,o))}))}return r}},function(r,o,i){var d=i(64),v=i(65),g=i(18),_=i(66);r.exports=function _slicedToArray(r,o){return d(r)||v(r,o)||g(r,o)||_()}},function(r,o){var i,d,v=r.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(r){if(i===setTimeout)return setTimeout(r,0);if((i===defaultSetTimout||!i)&&setTimeout)return i=setTimeout,setTimeout(r,0);try{return i(r,0)}catch(o){try{return i.call(null,r,0)}catch(o){return i.call(this,r,0)}}}!function(){try{i="function"===typeof setTimeout?setTimeout:defaultSetTimout}catch(r){i=defaultSetTimout}try{d="function"===typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(r){d=defaultClearTimeout}}();var g,_=[],E=!1,b=-1;function cleanUpNextTick(){E&&g&&(E=!1,g.length?_=g.concat(_):b=-1,_.length&&drainQueue())}function drainQueue(){if(!E){var r=runTimeout(cleanUpNextTick);E=!0;for(var o=_.length;o;){for(g=_,_=[];++b<o;)g&&g[b].run();b=-1,o=_.length}g=null,E=!1,function runClearTimeout(r){if(d===clearTimeout)return clearTimeout(r);if((d===defaultClearTimeout||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(r);try{return d(r)}catch(o){try{return d.call(null,r)}catch(o){return d.call(this,r)}}}(r)}}function Item(r,o){this.fun=r,this.array=o}function noop(){}v.nextTick=function(r){var o=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)o[i-1]=arguments[i];_.push(new Item(r,o)),1!==_.length||E||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={},v.on=noop,v.addListener=noop,v.once=noop,v.off=noop,v.removeListener=noop,v.removeAllListeners=noop,v.emit=noop,v.prependListener=noop,v.prependOnceListener=noop,v.listeners=function(r){return[]},v.binding=function(r){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(r){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},function(r,o,i){var d=i(27);r.exports=function _unsupportedIterableToArray(r,o){if(r){if("string"===typeof r)return d(r,o);var i=Object.prototype.toString.call(r).slice(8,-1);return"Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i?Array.from(r):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(r,o):void 0}}},function(r,o,i){var d=i(14);r.exports=function getClass(r){return d(r)?r.constructor:r}},function(r,o,i){var d=i(15),v=i(1),g=i(2),_={trace:0,debug:1,info:2,warn:3,error:4,silent:5},E=function(){"use strict";function Logger(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(this,Logger);var o={logLevel:2,prefix:function prefix(r){return"[".concat(r,"]")}};this._options=d(d({},o),r),this.log=null,this._logLevel=this._options.logLevel,this.setLogLevel(this._options.logLevel)}return g(Logger,[{key:"setLogLevel",value:function setLogLevel(r){var o=this;if("string"===typeof r&&(r=_[r]),!Object.values(_).includes(r))throw new Error("Unknown log level: ".concat(r));this._logLevel=r,this.log=function(){var i=o._options.prefix,d={};d.trace=r<=0?Function.prototype.bind.call(console.trace,console,i("trace")):function(){return null},d.debug=r<=1?Function.prototype.bind.call(console.debug,console,i("debug")):function(){return null},d.info=r<=2?Function.prototype.bind.call(console.info,console,i("info")):function(){return null},d.warn=r<=3?Function.prototype.bind.call(console.warn,console,i("warn")):function(){return null},d.error=r<=4?Function.prototype.bind.call(console.error,console,i("error")):function(){return null};var v=d.info;return Object.keys(d).forEach((function(r){v[r]=d[r],o[r]=d[r]})),v}()}},{key:"getLogLevel",value:function getLogLevel(){return this._logLevel}}]),Logger}();r.exports=E,r.exports.LOG_LEVEL_TRACE=0,r.exports.LOG_LEVEL_DEBUG=1,r.exports.LOG_LEVEL_INFO=2,r.exports.LOG_LEVEL_WARN=3,r.exports.LOG_LEVEL_ERROR=4,r.exports.LOG_LEVEL_SILENT=5},function(r,o){r.exports=function getUnixTime(){var r=new Date,o=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds());return Math.round(o/1e3)}},function(r,o,i){var d=i(8),v=i(14);r.exports=function getClassInstancePropertyNames(r){if(!v(r))throw new TypeError("classInstance must be an instance of a class");var o=new Set,i=r;do{Object.getOwnPropertyNames(i).map((function(r){return o.add(r)}))}while(i=Object.getPrototypeOf(i));return d(o.keys())}},function(r,o,i){var d=i(22);r.exports=function getClassInstanceMethodNames(r){return d(r).filter((function(o){return"function"===typeof r[o]}))}},function(r,o,i){var d=i(37),v=d.EVT_UPDATED,g=d.EVT_BEFORE_DESTROY,_=d.EVT_DESTROY_STACK_TIMED_OUT,E=d.EVT_DESTROYED,b=d.EVT_CHILD_INSTANCE_ADDED,T=d.EVT_CHILD_INSTANCE_REMOVED;r.exports=d,r.exports.EVT_CHILD_INSTANCE_ADDED=b,r.exports.EVT_CHILD_INSTANCE_REMOVED=T,r.exports.EVT_UPDATED=v,r.exports.EVT_BEFORE_DESTROY=g,r.exports.EVT_DESTROY_STACK_TIMED_OUT=_,r.exports.EVT_DESTROYED=E},function(r,o,i){var d=i(15),v=i(1),g=i(2),_=i(5),E=i(6),b=i(9),T=b.EVT_NO_INIT_WARN,O=b.EVT_READY,x=b.EVT_UPDATED,D=b.EVT_BEFORE_DESTROY,C=b.EVT_DESTROY_STACK_TIMED_OUT,I=b.EVT_DESTROYED,k=function(r){"use strict";_(PhantomState,r);var o=E(PhantomState);function PhantomState(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v(this,PhantomState),(r=o.call(this,d))._state={},i&&r.setState(i),r.registerCleanupHandler((function(){r._state=null})),r}return g(PhantomState,[{key:"getState",value:function getState(){return this._state}},{key:"setState",value:function setState(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("object"!==typeof r)throw new TypeError("partialNextState must be an object");this._state=o?d(d({},this._state),r):r,this.emit(x,r)}}]),PhantomState}(b);r.exports=k,r.exports.EVT_NO_INIT_WARN=T,r.exports.EVT_READY=O,r.exports.EVT_UPDATED=x,r.exports.EVT_BEFORE_DESTROY=D,r.exports.EVT_DESTROY_STACK_TIMED_OUT=C,r.exports.EVT_DESTROYED=I},function(r,o,i){(function(r,o){!function(r,i){"use strict";if(!r.setImmediate){var d,v=1,g={},_=!1,E=r.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(r);b=b&&b.setTimeout?b:r,"[object process]"==={}.toString.call(r.process)?function installNextTickImplementation(){d=function registerImmediate(r){o.nextTick((function(){runIfPresent(r)}))}}():!function canUsePostMessage(){if(r.postMessage&&!r.importScripts){var o=!0,i=r.onmessage;return r.onmessage=function(){o=!1},r.postMessage("","*"),r.onmessage=i,o}}()?r.MessageChannel?function installMessageChannelImplementation(){var r=new MessageChannel;r.port1.onmessage=function(r){runIfPresent(r.data)},d=function registerImmediate(o){r.port2.postMessage(o)}}():E&&"onreadystatechange"in E.createElement("script")?function installReadyStateChangeImplementation(){var r=E.documentElement;d=function registerImmediate(o){var i=E.createElement("script");i.onreadystatechange=function(){runIfPresent(o),i.onreadystatechange=null,r.removeChild(i),i=null},r.appendChild(i)}}():function installSetTimeoutImplementation(){d=function registerImmediate(r){setTimeout(runIfPresent,0,r)}}():function installPostMessageImplementation(){var o="setImmediate$"+Math.random()+"$",i=function onGlobalMessage(i){i.source===r&&"string"===typeof i.data&&0===i.data.indexOf(o)&&runIfPresent(+i.data.slice(o.length))};r.addEventListener?r.addEventListener("message",i,!1):r.attachEvent("onmessage",i),d=function registerImmediate(i){r.postMessage(o+i,"*")}}(),b.setImmediate=function setImmediate(r){"function"!==typeof r&&(r=new Function(""+r));for(var o=new Array(arguments.length-1),i=0;i<o.length;i++)o[i]=arguments[i+1];var _={callback:r,args:o};return g[v]=_,d(v),v++},b.clearImmediate=clearImmediate}function clearImmediate(r){delete g[r]}function runIfPresent(r){if(_)setTimeout(runIfPresent,0,r);else{var o=g[r];if(o){_=!0;try{!function run(r){var o=r.callback,i=r.args;switch(i.length){case 0:o();break;case 1:o(i[0]);break;case 2:o(i[0],i[1]);break;case 3:o(i[0],i[1],i[2]);break;default:o.apply(void 0,i)}}(o)}finally{clearImmediate(r),_=!1}}}}}("undefined"===typeof self?"undefined"===typeof r?this:r:self)}).call(this,i(10),i(17))},function(r,o){r.exports=function _arrayLikeToArray(r,o){(null==o||o>r.length)&&(o=r.length);for(var i=0,d=new Array(o);i<o;i++)d[i]=r[i];return d}},function(r,o,i){"use strict";var d,v="object"===typeof Reflect?Reflect:null,g=v&&"function"===typeof v.apply?v.apply:function ReflectApply(r,o,i){return Function.prototype.apply.call(r,o,i)};d=v&&"function"===typeof v.ownKeys?v.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:function ReflectOwnKeys(r){return Object.getOwnPropertyNames(r)};var _=Number.isNaN||function NumberIsNaN(r){return r!==r};function EventEmitter(){EventEmitter.init.call(this)}r.exports=EventEmitter,r.exports.once=function once(r,o){return new Promise((function(i,d){function errorListener(i){r.removeListener(o,resolver),d(i)}function resolver(){"function"===typeof r.removeListener&&r.removeListener("error",errorListener),i([].slice.call(arguments))}eventTargetAgnosticAddListener(r,o,resolver,{once:!0}),"error"!==o&&function addErrorHandlerIfEventEmitter(r,o,i){"function"===typeof r.on&&eventTargetAgnosticAddListener(r,"error",o,i)}(r,errorListener,{once:!0})}))},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var E=10;function checkListener(r){if("function"!==typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}function _getMaxListeners(r){return void 0===r._maxListeners?EventEmitter.defaultMaxListeners:r._maxListeners}function _addListener(r,o,i,d){var v,g,_;if(checkListener(i),void 0===(g=r._events)?(g=r._events=Object.create(null),r._eventsCount=0):(void 0!==g.newListener&&(r.emit("newListener",o,i.listener?i.listener:i),g=r._events),_=g[o]),void 0===_)_=g[o]=i,++r._eventsCount;else if("function"===typeof _?_=g[o]=d?[i,_]:[_,i]:d?_.unshift(i):_.push(i),(v=_getMaxListeners(r))>0&&_.length>v&&!_.warned){_.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+_.length+" "+String(o)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=r,E.type=o,E.count=_.length,function ProcessEmitWarning(r){console&&console.warn&&console.warn(r)}(E)}return r}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(r,o,i){var d={fired:!1,wrapFn:void 0,target:r,type:o,listener:i},v=onceWrapper.bind(d);return v.listener=i,d.wrapFn=v,v}function _listeners(r,o,i){var d=r._events;if(void 0===d)return[];var v=d[o];return void 0===v?[]:"function"===typeof v?i?[v.listener||v]:[v]:i?function unwrapListeners(r){for(var o=new Array(r.length),i=0;i<o.length;++i)o[i]=r[i].listener||r[i];return o}(v):arrayClone(v,v.length)}function listenerCount(r){var o=this._events;if(void 0!==o){var i=o[r];if("function"===typeof i)return 1;if(void 0!==i)return i.length}return 0}function arrayClone(r,o){for(var i=new Array(o),d=0;d<o;++d)i[d]=r[d];return i}function eventTargetAgnosticAddListener(r,o,i,d){if("function"===typeof r.on)d.once?r.once(o,i):r.on(o,i);else{if("function"!==typeof r.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r);r.addEventListener(o,(function wrapListener(v){d.once&&r.removeEventListener(o,wrapListener),i(v)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function get(){return E},set:function set(r){if("number"!==typeof r||r<0||_(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");E=r}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(r){if("number"!==typeof r||r<0||_(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(r){for(var o=[],i=1;i<arguments.length;i++)o.push(arguments[i]);var d="error"===r,v=this._events;if(void 0!==v)d=d&&void 0===v.error;else if(!d)return!1;if(d){var _;if(o.length>0&&(_=o[0]),_ instanceof Error)throw _;var E=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw E.context=_,E}var b=v[r];if(void 0===b)return!1;if("function"===typeof b)g(b,this,o);else{var T=b.length,O=arrayClone(b,T);for(i=0;i<T;++i)g(O[i],this,o)}return!0},EventEmitter.prototype.addListener=function addListener(r,o){return _addListener(this,r,o,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(r,o){return _addListener(this,r,o,!0)},EventEmitter.prototype.once=function once(r,o){return checkListener(o),this.on(r,_onceWrap(this,r,o)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(r,o){return checkListener(o),this.prependListener(r,_onceWrap(this,r,o)),this},EventEmitter.prototype.removeListener=function removeListener(r,o){var i,d,v,g,_;if(checkListener(o),void 0===(d=this._events))return this;if(void 0===(i=d[r]))return this;if(i===o||i.listener===o)0===--this._eventsCount?this._events=Object.create(null):(delete d[r],d.removeListener&&this.emit("removeListener",r,i.listener||o));else if("function"!==typeof i){for(v=-1,g=i.length-1;g>=0;g--)if(i[g]===o||i[g].listener===o){_=i[g].listener,v=g;break}if(v<0)return this;0===v?i.shift():function spliceOne(r,o){for(;o+1<r.length;o++)r[o]=r[o+1];r.pop()}(i,v),1===i.length&&(d[r]=i[0]),void 0!==d.removeListener&&this.emit("removeListener",r,_||o)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(r){var o,i,d;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[r]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[r]),this;if(0===arguments.length){var v,g=Object.keys(i);for(d=0;d<g.length;++d)"removeListener"!==(v=g[d])&&this.removeAllListeners(v);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(o=i[r]))this.removeListener(r,o);else if(void 0!==o)for(d=o.length-1;d>=0;d--)this.removeListener(r,o[d]);return this},EventEmitter.prototype.listeners=function listeners(r){return _listeners(this,r,!0)},EventEmitter.prototype.rawListeners=function rawListeners(r){return _listeners(this,r,!1)},EventEmitter.listenerCount=function(r,o){return"function"===typeof r.listenerCount?r.listenerCount(o):listenerCount.call(r,o)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?d(this._events):[]}},function(r,o,i){var d=i(0),v=i(3),g=i(1),_=i(2),E=i(5),b=i(6),T=i(28),O=i(13),x=i(30),D="before-destroy",C="destroy-stack-timed-out",I="destroyed";r.exports=function(r){"use strict";E(DestructibleEventEmitter,r);var o=b(DestructibleEventEmitter);function DestructibleEventEmitter(){var r;return g(this,DestructibleEventEmitter),(r=o.call(this))._isDestroying=!1,r._isDestroyed=!1,r.on(I,(function(){if(!r._isDestroyed)throw r.destroy(),new Error("EVT_DESTROYED was incorrectly emit without initially being in a destroyed state. Destructing instance due to potential state invalidation.")})),r}return _(DestructibleEventEmitter,[{key:"getTotalListenerCount",value:function getTotalListenerCount(){var r=this;return this.eventNames().map((function(o){return r.listenerCount(o)})).reduce((function(r,o){return r+o}),0)}},{key:"getIsDestroying",value:function getIsDestroying(){return this._isDestroying}},{key:"getIsDestroyed",value:function getIsDestroyed(){return this._isDestroyed}},{key:"destroy",value:function(){var r=v(d.mark((function _callee(){var r,o,i,v=this,g=arguments;return d.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:if(r=g.length>0&&void 0!==g[0]?g[0]:function(){return null},o=g.length>1&&void 0!==g[1]?g[1]:function(){return null},!this._isDestroying){d.next=6;break}x.warn("".concat(O(this)," is already being destroyed. The subsequent call has been ignored. Ensure callers are checking for destroy status before calling destroy().")),d.next=32;break;case 6:if(!this._isDestroyed){d.next=10;break}throw new Error('"'.concat(O(this),'" has already been destroyed.'));case 10:return this._isDestroying=!0,this.emit(D),i=setTimeout((function(){v.emit(C)}),5e3),d.prev=13,d.next=16,r();case 16:d.next=21;break;case 18:throw d.prev=18,d.t0=d.catch(13),d.t0;case 21:return d.prev=21,clearTimeout(i),d.finish(21);case 24:return this._isDestroyed=!0,this.emit(I),this.removeAllListeners(),d.next=29,o();case 29:if(!this.getTotalListenerCount()){d.next=31;break}throw new Error("An event handler has been registered in a post destruct callback which could cause a potential memory leak.");case 31:this._isDestroying=!1;case 32:case"end":return d.stop()}}),_callee,this,[[13,18,21,24]])})));return function destroy(){return r.apply(this,arguments)}}()}]),DestructibleEventEmitter}(T),r.exports.EVT_BEFORE_DESTROY=D,r.exports.EVT_DESTROY_STACK_TIMED_OUT=C,r.exports.EVT_DESTROYED=I},function(r,o,i){var d=i(20);r.exports=new d},function(r,o){r.exports=function _defineProperty(r,o,i){return o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r}},function(r,o,i){var d=i(55);r.exports=function getPackageJSON(){return d}},function(r,o,i){var d=i(0),v=i(3),g=i(8),_=i(1),E=i(2),b="FIFO",T="LIFO";r.exports=function(){"use strict";function FunctionStack(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;if(_(this,FunctionStack),r!==b&&r!==T)throw new ReferenceError('opsOrder must either be "FIFO" or "LIFO"');this._opsOrder=r,this._fns=[]}return E(FunctionStack,[{key:"getOpsOrder",value:function getOpsOrder(){return this._opsOrder}},{key:"push",value:function push(r){if("function"!==typeof r)throw new TypeError("fn must be a function");this._fns=g(new Set([].concat(g(this._fns),[r])))}},{key:"remove",value:function remove(r){this._fns=this._fns.filter((function(o){return o!==r}))}},{key:"clear",value:function clear(){this._fns=[]}},{key:"getQueueDepth",value:function getQueueDepth(){return this._fns.length}},{key:"exec",value:function(){var r=v(d.mark((function _callee(){var r;return d.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:if(!this._fns.length){o.next=5;break}return r=this._opsOrder===b?this._fns.shift():this._fns.pop(),o.next=4,r();case 4:return o.abrupt("return",this.exec());case 5:case"end":return o.stop()}}),_callee,this)})));return function exec(){return r.apply(this,arguments)}}()}]),FunctionStack}(),r.exports.FUNCTION_STACK_OPS_ORDER_FIFO=b,r.exports.FUNCTION_STACK_OPS_ORDER_LIFO=T},function(r,o,i){var d=i(23),v=i(14);r.exports=function autoBindClassInstanceMethods(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!v(r))throw new TypeError("classInstance must be an instance of a class");d(r).forEach((function(i){var d=r[i];d===r.constructor||o.includes(d)||(r[i]=r[i].bind(r))}))}},function(r,o,i){var d=i(15);r.exports=function shallowMerge(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null===r&&(r={}),null===o&&(o={}),d(d({},r),o)}},function(r,o,i){"use strict";(function(o){var d=i(67);function compare(r,o){if(r===o)return 0;for(var i=r.length,d=o.length,v=0,g=Math.min(i,d);v<g;++v)if(r[v]!==o[v]){i=r[v],d=o[v];break}return i<d?-1:d<i?1:0}function isBuffer(r){return o.Buffer&&"function"===typeof o.Buffer.isBuffer?o.Buffer.isBuffer(r):!(null==r||!r._isBuffer)}var v=i(68),g=Object.prototype.hasOwnProperty,_=Array.prototype.slice,E="foo"===function foo(){}.name;function pToString(r){return Object.prototype.toString.call(r)}function isView(r){return!isBuffer(r)&&("function"===typeof o.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(r):!!r&&(r instanceof DataView||!!(r.buffer&&r.buffer instanceof ArrayBuffer))))}var b=r.exports=ok,T=/\s*function\s+([^\(\s]*)\s*/;function getName(r){if(v.isFunction(r)){if(E)return r.name;var o=r.toString().match(T);return o&&o[1]}}function truncate(r,o){return"string"===typeof r?r.length<o?r:r.slice(0,o):r}function inspect(r){if(E||!v.isFunction(r))return v.inspect(r);var o=getName(r);return"[Function"+(o?": "+o:"")+"]"}function fail(r,o,i,d,v){throw new b.AssertionError({message:i,actual:r,expected:o,operator:d,stackStartFunction:v})}function ok(r,o){r||fail(r,!0,o,"==",b.ok)}function _deepEqual(r,o,i,d){if(r===o)return!0;if(isBuffer(r)&&isBuffer(o))return 0===compare(r,o);if(v.isDate(r)&&v.isDate(o))return r.getTime()===o.getTime();if(v.isRegExp(r)&&v.isRegExp(o))return r.source===o.source&&r.global===o.global&&r.multiline===o.multiline&&r.lastIndex===o.lastIndex&&r.ignoreCase===o.ignoreCase;if(null!==r&&"object"===typeof r||null!==o&&"object"===typeof o){if(isView(r)&&isView(o)&&pToString(r)===pToString(o)&&!(r instanceof Float32Array||r instanceof Float64Array))return 0===compare(new Uint8Array(r.buffer),new Uint8Array(o.buffer));if(isBuffer(r)!==isBuffer(o))return!1;var g=(d=d||{actual:[],expected:[]}).actual.indexOf(r);return-1!==g&&g===d.expected.indexOf(o)||(d.actual.push(r),d.expected.push(o),function objEquiv(r,o,i,d){if(null===r||void 0===r||null===o||void 0===o)return!1;if(v.isPrimitive(r)||v.isPrimitive(o))return r===o;if(i&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(o))return!1;var g=isArguments(r),E=isArguments(o);if(g&&!E||!g&&E)return!1;if(g)return _deepEqual(r=_.call(r),o=_.call(o),i);var b,T,x=O(r),D=O(o);if(x.length!==D.length)return!1;for(x.sort(),D.sort(),T=x.length-1;T>=0;T--)if(x[T]!==D[T])return!1;for(T=x.length-1;T>=0;T--)if(!_deepEqual(r[b=x[T]],o[b],i,d))return!1;return!0}(r,o,i,d))}return i?r===o:r==o}function isArguments(r){return"[object Arguments]"==Object.prototype.toString.call(r)}function expectedException(r,o){if(!r||!o)return!1;if("[object RegExp]"==Object.prototype.toString.call(o))return o.test(r);try{if(r instanceof o)return!0}catch(i){}return!Error.isPrototypeOf(o)&&!0===o.call({},r)}function _throws(r,o,i,d){var g;if("function"!==typeof o)throw new TypeError('"block" argument must be a function');"string"===typeof i&&(d=i,i=null),g=function _tryBlock(r){var o;try{r()}catch(i){o=i}return o}(o),d=(i&&i.name?" ("+i.name+").":".")+(d?" "+d:"."),r&&!g&&fail(g,i,"Missing expected exception"+d);var _="string"===typeof d,E=!r&&g&&!i;if((!r&&v.isError(g)&&_&&expectedException(g,i)||E)&&fail(g,i,"Got unwanted exception"+d),r&&g&&i&&!expectedException(g,i)||!r&&g)throw g}b.AssertionError=function AssertionError(r){this.name="AssertionError",this.actual=r.actual,this.expected=r.expected,this.operator=r.operator,r.message?(this.message=r.message,this.generatedMessage=!1):(this.message=function getMessage(r){return truncate(inspect(r.actual),128)+" "+r.operator+" "+truncate(inspect(r.expected),128)}(this),this.generatedMessage=!0);var o=r.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,o);else{var i=new Error;if(i.stack){var d=i.stack,v=getName(o),g=d.indexOf("\n"+v);if(g>=0){var _=d.indexOf("\n",g+1);d=d.substring(_+1)}this.stack=d}}},v.inherits(b.AssertionError,Error),b.fail=fail,b.ok=ok,b.equal=function equal(r,o,i){r!=o&&fail(r,o,i,"==",b.equal)},b.notEqual=function notEqual(r,o,i){r==o&&fail(r,o,i,"!=",b.notEqual)},b.deepEqual=function deepEqual(r,o,i){_deepEqual(r,o,!1)||fail(r,o,i,"deepEqual",b.deepEqual)},b.deepStrictEqual=function deepStrictEqual(r,o,i){_deepEqual(r,o,!0)||fail(r,o,i,"deepStrictEqual",b.deepStrictEqual)},b.notDeepEqual=function notDeepEqual(r,o,i){_deepEqual(r,o,!1)&&fail(r,o,i,"notDeepEqual",b.notDeepEqual)},b.notDeepStrictEqual=function notDeepStrictEqual(r,o,i){_deepEqual(r,o,!0)&&fail(r,o,i,"notDeepStrictEqual",notDeepStrictEqual)},b.strictEqual=function strictEqual(r,o,i){r!==o&&fail(r,o,i,"===",b.strictEqual)},b.notStrictEqual=function notStrictEqual(r,o,i){r===o&&fail(r,o,i,"!==",b.notStrictEqual)},b.throws=function(r,o,i){_throws(!0,r,o,i)},b.doesNotThrow=function(r,o,i){_throws(!1,r,o,i)},b.ifError=function(r){if(r)throw r},b.strict=d((function strict(r,o){r||fail(r,!0,o,"==",strict)}),b,{equal:b.strictEqual,deepEqual:b.deepStrictEqual,notEqual:b.notStrictEqual,notDeepEqual:b.notDeepStrictEqual}),b.strict.strict=b.strict;var O=Object.keys||function(r){var o=[];for(var i in r)g.call(r,i)&&o.push(i);return o}}).call(this,i(10))},function(r,o,i){var d=i(16),v=i(8),g=i(31),_=i(11),E=i(0),b=i(3),T=i(1),O=i(2),x=i(12),D=i(7),C=i(4),I=i(5),k=i(6),P=i(36),A=i(9),R=A.EVT_NO_INIT_WARN,L=A.EVT_READY,N=A.EVT_UPDATED,j=A.EVT_BEFORE_DESTROY,V=A.EVT_DESTROY_STACK_TIMED_OUT,U=A.EVT_DESTROYED,Y="child-instance-added",B="child-instance-removed",H="childKey",W="beforeDestroyHandler",q=function(r,o){"use strict";I(PhantomCollection,r);var R=k(PhantomCollection);function PhantomCollection(){var r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(T(this,PhantomCollection),!Array.isArray(o))throw new TypeError("initialPhantomInstances must be an array");(r=R.call(this,d))._children=[],r._childrenMetadata=new Map;var v=i(72);return r._childEventBridge=new v(x(r)),o.forEach((function(o){return r.addChild(o)})),r}return O(PhantomCollection,[{key:"destroyAllChildren",value:function(){var r=b(E.mark((function _callee(){var r;return E.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return r=this.getChildren(),o.abrupt("return",Promise.all(r.map((function(r){return r.destroy()}))));case 2:case"end":return o.stop()}}),_callee,this)})));return function destroyAllChildren(){return r.apply(this,arguments)}}()},{key:o,get:function get(){var r=this.getChildren();return E.mark((function _callee2(){var o,i,d;return E.wrap((function _callee2$(v){for(;;)switch(v.prev=v.next){case 0:o=_(r),v.prev=1,o.s();case 3:if((i=o.n()).done){v.next=9;break}return d=i.value,v.next=7,d;case 7:v.next=3;break;case 9:v.next=14;break;case 11:v.prev=11,v.t0=v.catch(1),o.e(v.t0);case 14:return v.prev=14,o.f(),v.finish(14);case 17:case"end":return v.stop()}}),_callee2,null,[[1,11,14,17]])}))}},{key:"addChild",value:function addChild(r){var o,i=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,E=this.getChildWithKey(d);if(E){if(E!==r)throw new ReferenceError('A duplicate key is trying to be added with a different PhantomCore instance than what is already registered with the key: "'.concat(d,'"'))}else{if(!A.getIsLooseInstance(r))throw new TypeError("PhantomCollection cannot add a child that is not a known PhantomCore instance. Perhaps the child is of a different PhantomCore symbol than this library recognizes.");if(this.getIsSameInstance(r))throw new ReferenceError("A PhantomCollection cannot be passed to itself");if(r.getIsDestroyed())throw new ReferenceError("Cannot add a destroyed PhantomCore instance");var b,T=_(this.getChildren());try{for(T.s();!(b=T.n()).done;){var O=b.value;if(O.getIsSameInstance(r))return}}catch(D){T.e(D)}finally{T.f()}var x=function handleBeforeDestroy(){i._children=i._children.filter((function(o){return o!==r})),r.once(U,(function(){return i.removeChild(r)}))};this._childrenMetadata.set(r,(g(o={},H,d),g(o,W,x),o)),r.once(j,x),this._children=[].concat(v(this._children),[r]),this.emit(Y,r),this.emit(N)}}},{key:"removeChild",value:function removeChild(r){var o=this._childrenMetadata.get(r);if(o){var i=o.beforeDestroyHandler;r.off(j,i),this._children=this._children.filter((function(o){return o!==r})),this._childrenMetadata.delete(r),this.emit(B,r),this.emit(N)}}},{key:"removeAllChildren",value:function removeAllChildren(){var r,o=_(this.getChildren());try{for(o.s();!(r=o.n()).done;){var i=r.value;this.removeChild(i)}}catch(d){o.e(d)}finally{o.f()}}},{key:"getChildren",value:function getChildren(){return this._children}},{key:"getChildWithKey",value:function getChildWithKey(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(r){var o,i=_(this._childrenMetadata.entries());try{for(i.s();!(o=i.n()).done;){var v=d(o.value,2),g=v[0],E=v[1];if(E.childKey===r)return g}}catch(b){i.e(b)}finally{i.f()}}}},{key:"getKeys",value:function getKeys(){return v(this._childrenMetadata.entries()).map((function(r){return d(r,2)[1].childKey})).filter((function(r){return r}))}},{key:"broadcast",value:function broadcast(r,o){var i,d=_(this.getChildren());try{for(d.s();!(i=d.n()).done;){i.value.emit(r,o)}}catch(v){d.e(v)}finally{d.f()}}},{key:"bindChildEventName",value:function bindChildEventName(r){this._childEventBridge.addBridgeEventName(r)}},{key:"unbindChildEventName",value:function unbindChildEventName(r){this._childEventBridge.removeBridgeEventName(r)}},{key:"getBoundChildEventNames",value:function getBoundChildEventNames(){return this._childEventBridge.getBridgeEventNames()}},{key:"destroy",value:function(){var r=b(E.mark((function _callee4(){var r,o=this,i=arguments;return E.wrap((function _callee4$(d){for(;;)switch(d.prev=d.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:function(){return null},d.abrupt("return",D(C(PhantomCollection.prototype),"destroy",this).call(this,b(E.mark((function _callee3(){return E.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r();case 2:return o.removeAllChildren(),P.strictEqual(o._children.length,0),P.strictEqual(v(o._childrenMetadata.entries()).length,0),i.next=7,o._childEventBridge.destroy();case 7:case"end":return i.stop()}}),_callee3)})))));case 2:case"end":return d.stop()}}),_callee4,this)})));return function destroy(){return r.apply(this,arguments)}}()}],[{key:"getIsLooseInstance",value:function getIsLooseInstance(r){return!(!A.getIsLooseInstance(r)||"function"!==typeof r.addChild||"function"!==typeof r.removeChild||"function"!==typeof r.getChildren||"function"!==typeof r.getKeys||"function"!==typeof r.broadcast||"function"!==typeof r.removeAllChildren||"function"!==typeof r.destroyAllChildren)}},{key:"getChildrenDiff",value:function getChildrenDiff(r,o){return{added:o.filter((function(o){return!r.includes(o)})),removed:r.filter((function(r){return!o.includes(r)}))}}}]),PhantomCollection}(A,Symbol.iterator);r.exports=q,r.exports.EVT_NO_INIT_WARN=R,r.exports.EVT_READY=L,r.exports.EVT_UPDATED=N,r.exports.EVT_BEFORE_DESTROY=j,r.exports.EVT_DESTROY_STACK_TIMED_OUT=V,r.exports.EVT_DESTROYED=U,r.exports.EVT_CHILD_INSTANCE_ADDED=Y,r.exports.EVT_CHILD_INSTANCE_REMOVED=B},function(r,o,i){var d=i(73),v=d.EVT_UPDATED,g=d.EVT_BEFORE_DESTROY,_=d.EVT_DESTROY_STACK_TIMED_OUT,E=d.EVT_DESTROYED;r.exports=d,r.exports.EVT_UPDATED=v,r.exports.EVT_BEFORE_DESTROY=g,r.exports.EVT_DESTROY_STACK_TIMED_OUT=_,r.exports.EVT_DESTROYED=E},function(r,o,i){var d=i(74),v=d.EVT_CHILD_INSTANCE_ADDED,g=d.EVT_CHILD_INSTANCE_REMOVED,_=d.EVT_UPDATED,E=d.EVT_BEFORE_DESTROY,b=d.EVT_DESTROY_STACK_TIMED_OUT,T=d.EVT_DESTROYED;r.exports=d,r.exports.EVT_CHILD_INSTANCE_ADDED=v,r.exports.EVT_CHILD_INSTANCE_REMOVED=g,r.exports.EVT_UPDATED=_,r.exports.EVT_BEFORE_DESTROY=E,r.exports.EVT_DESTROY_STACK_TIMED_OUT=b,r.exports.EVT_DESTROYED=T},function(r,o,i){(function(o){r.exports=function getIsNodeJS(){return"undefined"!==typeof o.versions.node}}).call(this,i(17))},function(r,o,i){var d=i(19),v=i(42);r.exports=function getSuperClass(r){var o=d(r),i=Object.getPrototypeOf(o);if(v(i))return i}},function(r,o){r.exports=function getIsClass(r){return Boolean("function"===typeof r&&r.name)}},function(r,o,i){"use strict";var d;i.r(o),i.d(o,"v1",(function(){return I})),i.d(o,"v3",(function(){return P})),i.d(o,"v4",(function(){return A})),i.d(o,"v5",(function(){return R})),i.d(o,"NIL",(function(){return L})),i.d(o,"version",(function(){return N})),i.d(o,"validate",(function(){return _})),i.d(o,"stringify",(function(){return x})),i.d(o,"parse",(function(){return k}));var v=new Uint8Array(16);function rng(){if(!d&&!(d="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(v)}var g=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var _=function validate(r){return"string"===typeof r&&g.test(r)},E=[],b=0;b<256;++b)E.push((b+256).toString(16).substr(1));var T,O,x=function stringify(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(E[r[o+0]]+E[r[o+1]]+E[r[o+2]]+E[r[o+3]]+"-"+E[r[o+4]]+E[r[o+5]]+"-"+E[r[o+6]]+E[r[o+7]]+"-"+E[r[o+8]]+E[r[o+9]]+"-"+E[r[o+10]]+E[r[o+11]]+E[r[o+12]]+E[r[o+13]]+E[r[o+14]]+E[r[o+15]]).toLowerCase();if(!_(i))throw TypeError("Stringified UUID is invalid");return i},D=0,C=0;var I=function v1(r,o,i){var d=o&&i||0,v=o||new Array(16),g=(r=r||{}).node||T,_=void 0!==r.clockseq?r.clockseq:O;if(null==g||null==_){var E=r.random||(r.rng||rng)();null==g&&(g=T=[1|E[0],E[1],E[2],E[3],E[4],E[5]]),null==_&&(_=O=16383&(E[6]<<8|E[7]))}var b=void 0!==r.msecs?r.msecs:Date.now(),I=void 0!==r.nsecs?r.nsecs:C+1,k=b-D+(I-C)/1e4;if(k<0&&void 0===r.clockseq&&(_=_+1&16383),(k<0||b>D)&&void 0===r.nsecs&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");D=b,C=I,O=_;var P=(1e4*(268435455&(b+=122192928e5))+I)%4294967296;v[d++]=P>>>24&255,v[d++]=P>>>16&255,v[d++]=P>>>8&255,v[d++]=255&P;var A=b/4294967296*1e4&268435455;v[d++]=A>>>8&255,v[d++]=255&A,v[d++]=A>>>24&15|16,v[d++]=A>>>16&255,v[d++]=_>>>8|128,v[d++]=255&_;for(var R=0;R<6;++R)v[d+R]=g[R];return o||x(v)};var k=function parse(r){if(!_(r))throw TypeError("Invalid UUID");var o,i=new Uint8Array(16);return i[0]=(o=parseInt(r.slice(0,8),16))>>>24,i[1]=o>>>16&255,i[2]=o>>>8&255,i[3]=255&o,i[4]=(o=parseInt(r.slice(9,13),16))>>>8,i[5]=255&o,i[6]=(o=parseInt(r.slice(14,18),16))>>>8,i[7]=255&o,i[8]=(o=parseInt(r.slice(19,23),16))>>>8,i[9]=255&o,i[10]=(o=parseInt(r.slice(24,36),16))/1099511627776&255,i[11]=o/4294967296&255,i[12]=o>>>24&255,i[13]=o>>>16&255,i[14]=o>>>8&255,i[15]=255&o,i};var v35=function(r,o,i){function generateUUID(r,d,v,g){if("string"===typeof r&&(r=function stringToBytes(r){r=unescape(encodeURIComponent(r));for(var o=[],i=0;i<r.length;++i)o.push(r.charCodeAt(i));return o}(r)),"string"===typeof d&&(d=k(d)),16!==d.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var _=new Uint8Array(16+r.length);if(_.set(d),_.set(r,d.length),(_=i(_))[6]=15&_[6]|o,_[8]=63&_[8]|128,v){g=g||0;for(var E=0;E<16;++E)v[g+E]=_[E];return v}return x(_)}try{generateUUID.name=r}catch(d){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID};function getOutputLength(r){return 14+(r+64>>>9<<4)+1}function safeAdd(r,o){var i=(65535&r)+(65535&o);return(r>>16)+(o>>16)+(i>>16)<<16|65535&i}function md5cmn(r,o,i,d,v,g){return safeAdd(function bitRotateLeft(r,o){return r<<o|r>>>32-o}(safeAdd(safeAdd(o,r),safeAdd(d,g)),v),i)}function md5ff(r,o,i,d,v,g,_){return md5cmn(o&i|~o&d,r,o,v,g,_)}function md5gg(r,o,i,d,v,g,_){return md5cmn(o&d|i&~d,r,o,v,g,_)}function md5hh(r,o,i,d,v,g,_){return md5cmn(o^i^d,r,o,v,g,_)}function md5ii(r,o,i,d,v,g,_){return md5cmn(i^(o|~d),r,o,v,g,_)}var P=v35("v3",48,(function md5(r){if("string"===typeof r){var o=unescape(encodeURIComponent(r));r=new Uint8Array(o.length);for(var i=0;i<o.length;++i)r[i]=o.charCodeAt(i)}return function md5ToHexEncodedArray(r){for(var o=[],i=32*r.length,d="0123456789abcdef",v=0;v<i;v+=8){var g=r[v>>5]>>>v%32&255,_=parseInt(d.charAt(g>>>4&15)+d.charAt(15&g),16);o.push(_)}return o}(function wordsToMd5(r,o){r[o>>5]|=128<<o%32,r[getOutputLength(o)-1]=o;for(var i=1732584193,d=-271733879,v=-1732584194,g=271733878,_=0;_<r.length;_+=16){var E=i,b=d,T=v,O=g;i=md5ff(i,d,v,g,r[_],7,-680876936),g=md5ff(g,i,d,v,r[_+1],12,-389564586),v=md5ff(v,g,i,d,r[_+2],17,606105819),d=md5ff(d,v,g,i,r[_+3],22,-1044525330),i=md5ff(i,d,v,g,r[_+4],7,-176418897),g=md5ff(g,i,d,v,r[_+5],12,1200080426),v=md5ff(v,g,i,d,r[_+6],17,-1473231341),d=md5ff(d,v,g,i,r[_+7],22,-45705983),i=md5ff(i,d,v,g,r[_+8],7,1770035416),g=md5ff(g,i,d,v,r[_+9],12,-1958414417),v=md5ff(v,g,i,d,r[_+10],17,-42063),d=md5ff(d,v,g,i,r[_+11],22,-1990404162),i=md5ff(i,d,v,g,r[_+12],7,1804603682),g=md5ff(g,i,d,v,r[_+13],12,-40341101),v=md5ff(v,g,i,d,r[_+14],17,-1502002290),i=md5gg(i,d=md5ff(d,v,g,i,r[_+15],22,1236535329),v,g,r[_+1],5,-165796510),g=md5gg(g,i,d,v,r[_+6],9,-1069501632),v=md5gg(v,g,i,d,r[_+11],14,643717713),d=md5gg(d,v,g,i,r[_],20,-373897302),i=md5gg(i,d,v,g,r[_+5],5,-701558691),g=md5gg(g,i,d,v,r[_+10],9,38016083),v=md5gg(v,g,i,d,r[_+15],14,-660478335),d=md5gg(d,v,g,i,r[_+4],20,-405537848),i=md5gg(i,d,v,g,r[_+9],5,568446438),g=md5gg(g,i,d,v,r[_+14],9,-1019803690),v=md5gg(v,g,i,d,r[_+3],14,-187363961),d=md5gg(d,v,g,i,r[_+8],20,1163531501),i=md5gg(i,d,v,g,r[_+13],5,-1444681467),g=md5gg(g,i,d,v,r[_+2],9,-51403784),v=md5gg(v,g,i,d,r[_+7],14,1735328473),i=md5hh(i,d=md5gg(d,v,g,i,r[_+12],20,-1926607734),v,g,r[_+5],4,-378558),g=md5hh(g,i,d,v,r[_+8],11,-2022574463),v=md5hh(v,g,i,d,r[_+11],16,1839030562),d=md5hh(d,v,g,i,r[_+14],23,-35309556),i=md5hh(i,d,v,g,r[_+1],4,-1530992060),g=md5hh(g,i,d,v,r[_+4],11,1272893353),v=md5hh(v,g,i,d,r[_+7],16,-155497632),d=md5hh(d,v,g,i,r[_+10],23,-1094730640),i=md5hh(i,d,v,g,r[_+13],4,681279174),g=md5hh(g,i,d,v,r[_],11,-358537222),v=md5hh(v,g,i,d,r[_+3],16,-722521979),d=md5hh(d,v,g,i,r[_+6],23,76029189),i=md5hh(i,d,v,g,r[_+9],4,-640364487),g=md5hh(g,i,d,v,r[_+12],11,-421815835),v=md5hh(v,g,i,d,r[_+15],16,530742520),i=md5ii(i,d=md5hh(d,v,g,i,r[_+2],23,-995338651),v,g,r[_],6,-198630844),g=md5ii(g,i,d,v,r[_+7],10,1126891415),v=md5ii(v,g,i,d,r[_+14],15,-1416354905),d=md5ii(d,v,g,i,r[_+5],21,-57434055),i=md5ii(i,d,v,g,r[_+12],6,1700485571),g=md5ii(g,i,d,v,r[_+3],10,-1894986606),v=md5ii(v,g,i,d,r[_+10],15,-1051523),d=md5ii(d,v,g,i,r[_+1],21,-2054922799),i=md5ii(i,d,v,g,r[_+8],6,1873313359),g=md5ii(g,i,d,v,r[_+15],10,-30611744),v=md5ii(v,g,i,d,r[_+6],15,-1560198380),d=md5ii(d,v,g,i,r[_+13],21,1309151649),i=md5ii(i,d,v,g,r[_+4],6,-145523070),g=md5ii(g,i,d,v,r[_+11],10,-1120210379),v=md5ii(v,g,i,d,r[_+2],15,718787259),d=md5ii(d,v,g,i,r[_+9],21,-343485551),i=safeAdd(i,E),d=safeAdd(d,b),v=safeAdd(v,T),g=safeAdd(g,O)}return[i,d,v,g]}(function bytesToWords(r){if(0===r.length)return[];for(var o=8*r.length,i=new Uint32Array(getOutputLength(o)),d=0;d<o;d+=8)i[d>>5]|=(255&r[d/8])<<d%32;return i}(r),8*r.length))}));var A=function v4(r,o,i){var d=(r=r||{}).random||(r.rng||rng)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,o){i=i||0;for(var v=0;v<16;++v)o[i+v]=d[v];return o}return x(d)};function f(r,o,i,d){switch(r){case 0:return o&i^~o&d;case 1:case 3:return o^i^d;case 2:return o&i^o&d^i&d}}function ROTL(r,o){return r<<o|r>>>32-o}var R=v35("v5",80,(function sha1(r){var o=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof r){var d=unescape(encodeURIComponent(r));r=[];for(var v=0;v<d.length;++v)r.push(d.charCodeAt(v))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var g=r.length/4+2,_=Math.ceil(g/16),E=new Array(_),b=0;b<_;++b){for(var T=new Uint32Array(16),O=0;O<16;++O)T[O]=r[64*b+4*O]<<24|r[64*b+4*O+1]<<16|r[64*b+4*O+2]<<8|r[64*b+4*O+3];E[b]=T}E[_-1][14]=8*(r.length-1)/Math.pow(2,32),E[_-1][14]=Math.floor(E[_-1][14]),E[_-1][15]=8*(r.length-1)&4294967295;for(var x=0;x<_;++x){for(var D=new Uint32Array(80),C=0;C<16;++C)D[C]=E[x][C];for(var I=16;I<80;++I)D[I]=ROTL(D[I-3]^D[I-8]^D[I-14]^D[I-16],1);for(var k=i[0],P=i[1],A=i[2],R=i[3],L=i[4],N=0;N<80;++N){var j=Math.floor(N/20),V=ROTL(k,5)+f(j,P,A,R)+L+o[j]+D[N]>>>0;L=R,R=A,A=ROTL(P,30)>>>0,P=k,k=V}i[0]=i[0]+k>>>0,i[1]=i[1]+P>>>0,i[2]=i[2]+A>>>0,i[3]=i[3]+R>>>0,i[4]=i[4]+L>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]})),L="00000000-0000-0000-0000-000000000000";var N=function version_version(r){if(!_(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}},function(r,o,i){"use strict";function asyncGeneratorStep(r,o,i,d,v,g,_){try{var E=r[g](_),b=E.value}catch(T){return void i(T)}E.done?o(b):Promise.resolve(b).then(d,v)}function _asyncToGenerator(r){return function(){var o=this,i=arguments;return new Promise((function(d,v){var g=r.apply(o,i);function _next(r){asyncGeneratorStep(g,d,v,_next,_throw,"next",r)}function _throw(r){asyncGeneratorStep(g,d,v,_next,_throw,"throw",r)}_next(void 0)}))}}i.d(o,"a",(function(){return _asyncToGenerator}))},function(r,o,i){var d=i(9),v=d.EVT_READY,g=d.EVT_UPDATED,_=d.EVT_BEFORE_DESTROY,E=d.EVT_DESTROY_STACK_TIMED_OUT,b=d.EVT_DESTROYED,T=d.EVT_NO_INIT_WARN,O=i(20),x=O.LOG_LEVEL_TRACE,D=O.LOG_LEVEL_DEBUG,C=O.LOG_LEVEL_INFO,I=O.LOG_LEVEL_WARN,k=O.LOG_LEVEL_ERROR,P=O.LOG_LEVEL_SILENT;r.exports=d,Object.assign(r.exports,{EVT_READY:v,EVT_UPDATED:g,EVT_BEFORE_DESTROY:_,EVT_DESTROY_STACK_TIMED_OUT:E,EVT_DESTROYED:b,EVT_NO_INIT_WARN:T,Logger:O,logger:i(30),LOG_LEVEL_TRACE:x,LOG_LEVEL_DEBUG:D,LOG_LEVEL_INFO:C,LOG_LEVEL_WARN:I,LOG_LEVEL_ERROR:k,LOG_LEVEL_SILENT:P,ArbitraryPhantomWrapper:i(71),PhantomCollection:i(24),PhantomServiceCore:i(38),PhantomServiceManager:i(39),PhantomSerializableState:i(75),PhantomState:i(25),FunctionStack:i(33),consume:i(77),deepMerge:i(78),getIsNodeJS:i(40),getPackageJSON:i(32),getUnixTime:i(21),getUptime:i(80),performance:i(81),shallowMerge:i(35),sleep:i(82),autoBindClassInstanceMethods:i(34),getClass:i(19),getClassInheritance:i(83),getClassInstanceMethodNames:i(23),getClassInstancePropertyNames:i(22),getClassName:i(13),getIsClass:i(42),getIsClassInstance:i(14),getSuperClass:i(41),eventConstantCheckingUtils:i(84)})},function(r,o,i){"use strict";i.r(o),function(r){i.d(o,"registerRPCMethod",(function(){return registerRPCMethod}));var d=i(0),v=i.n(d),g=i(44),_=i(45),E=new Map;function registerRPCMethod(r,o){if(E.get(r))throw new Error('rpcMethodMap already has a handler for method: "'.concat(r,'"'));E.set(r,o)}r.addEventListener("message",function(){var o=Object(g.a)(v.a.mark((function _callee(o){var i,d,g,_,b,T;return v.a.wrap((function _callee$(v){for(;;)switch(v.prev=v.next){case 0:if(i=o.data,d=i.method,g=i.params,_=i.id,!(b=E.get(d))){v.next=13;break}return v.prev=3,v.next=6,b(g);case 6:T=v.sent,r.postMessage({id:_,method:d,result:T}),v.next=13;break;case 10:v.prev=10,v.t0=v.catch(3),r.postMessage({id:_,method:d,error:v.t0});case 13:case"end":return v.stop()}}),_callee,null,[[3,10]])})));return function(r){return o.apply(this,arguments)}}()),r.postMessage(_.EVT_READY)}.call(this,i(10))},function(r,o,i){var d=function(r){"use strict";var o,i=Object.prototype,d=i.hasOwnProperty,v="function"===typeof Symbol?Symbol:{},g=v.iterator||"@@iterator",_=v.asyncIterator||"@@asyncIterator",E=v.toStringTag||"@@toStringTag";function define(r,o,i){return Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}),r[o]}try{define({},"")}catch(A){define=function define(r,o,i){return r[o]=i}}function wrap(r,o,i,d){var v=o&&o.prototype instanceof Generator?o:Generator,g=Object.create(v.prototype),_=new Context(d||[]);return g._invoke=function makeInvokeMethod(r,o,i){var d=b;return function invoke(v,g){if(d===O)throw new Error("Generator is already running");if(d===x){if("throw"===v)throw g;return doneResult()}for(i.method=v,i.arg=g;;){var _=i.delegate;if(_){var E=maybeInvokeDelegate(_,i);if(E){if(E===D)continue;return E}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(d===b)throw d=x,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);d=O;var C=tryCatch(r,o,i);if("normal"===C.type){if(d=i.done?x:T,C.arg===D)continue;return{value:C.arg,done:i.done}}"throw"===C.type&&(d=x,i.method="throw",i.arg=C.arg)}}}(r,i,_),g}function tryCatch(r,o,i){try{return{type:"normal",arg:r.call(o,i)}}catch(A){return{type:"throw",arg:A}}}r.wrap=wrap;var b="suspendedStart",T="suspendedYield",O="executing",x="completed",D={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var C={};define(C,g,(function(){return this}));var I=Object.getPrototypeOf,k=I&&I(I(values([])));k&&k!==i&&d.call(k,g)&&(C=k);var P=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(C);function defineIteratorMethods(r){["next","throw","return"].forEach((function(o){define(r,o,(function(r){return this._invoke(o,r)}))}))}function AsyncIterator(r,o){function invoke(i,v,g,_){var E=tryCatch(r[i],r,v);if("throw"!==E.type){var b=E.arg,T=b.value;return T&&"object"===typeof T&&d.call(T,"__await")?o.resolve(T.__await).then((function(r){invoke("next",r,g,_)}),(function(r){invoke("throw",r,g,_)})):o.resolve(T).then((function(r){b.value=r,g(b)}),(function(r){return invoke("throw",r,g,_)}))}_(E.arg)}var i;this._invoke=function enqueue(r,d){function callInvokeWithMethodAndArg(){return new o((function(o,i){invoke(r,d,o,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(r,i){var d=r.iterator[i.method];if(d===o){if(i.delegate=null,"throw"===i.method){if(r.iterator.return&&(i.method="return",i.arg=o,maybeInvokeDelegate(r,i),"throw"===i.method))return D;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var v=tryCatch(d,r.iterator,i.arg);if("throw"===v.type)return i.method="throw",i.arg=v.arg,i.delegate=null,D;var g=v.arg;return g?g.done?(i[r.resultName]=g.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=o),i.delegate=null,D):g:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,D)}function pushTryEntry(r){var o={tryLoc:r[0]};1 in r&&(o.catchLoc=r[1]),2 in r&&(o.finallyLoc=r[2],o.afterLoc=r[3]),this.tryEntries.push(o)}function resetTryEntry(r){var o=r.completion||{};o.type="normal",delete o.arg,r.completion=o}function Context(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r){var i=r[g];if(i)return i.call(r);if("function"===typeof r.next)return r;if(!isNaN(r.length)){var v=-1,_=function next(){for(;++v<r.length;)if(d.call(r,v))return next.value=r[v],next.done=!1,next;return next.value=o,next.done=!0,next};return _.next=_}}return{next:doneResult}}function doneResult(){return{value:o,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(P,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,E,"GeneratorFunction"),r.isGeneratorFunction=function(r){var o="function"===typeof r&&r.constructor;return!!o&&(o===GeneratorFunction||"GeneratorFunction"===(o.displayName||o.name))},r.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,GeneratorFunctionPrototype):(r.__proto__=GeneratorFunctionPrototype,define(r,E,"GeneratorFunction")),r.prototype=Object.create(P),r},r.awrap=function(r){return{__await:r}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,_,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(o,i,d,v,g){void 0===g&&(g=Promise);var _=new AsyncIterator(wrap(o,i,d,v),g);return r.isGeneratorFunction(i)?_:_.next().then((function(r){return r.done?r.value:_.next()}))},defineIteratorMethods(P),define(P,E,"Generator"),define(P,g,(function(){return this})),define(P,"toString",(function(){return"[object Generator]"})),r.keys=function(r){var o=[];for(var i in r)o.push(i);return o.reverse(),function next(){for(;o.length;){var i=o.pop();if(i in r)return next.value=i,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&d.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=o)},stop:function stop(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(d,v){return _.type="throw",_.arg=r,i.next=d,v&&(i.method="next",i.arg=o),!!v}for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v],_=g.completion;if("root"===g.tryLoc)return handle("end");if(g.tryLoc<=this.prev){var E=d.call(g,"catchLoc"),b=d.call(g,"finallyLoc");if(E&&b){if(this.prev<g.catchLoc)return handle(g.catchLoc,!0);if(this.prev<g.finallyLoc)return handle(g.finallyLoc)}else if(E){if(this.prev<g.catchLoc)return handle(g.catchLoc,!0)}else{if(!b)throw new Error("try statement without catch or finally");if(this.prev<g.finallyLoc)return handle(g.finallyLoc)}}}},abrupt:function abrupt(r,o){for(var i=this.tryEntries.length-1;i>=0;--i){var v=this.tryEntries[i];if(v.tryLoc<=this.prev&&d.call(v,"finallyLoc")&&this.prev<v.finallyLoc){var g=v;break}}g&&("break"===r||"continue"===r)&&g.tryLoc<=o&&o<=g.finallyLoc&&(g=null);var _=g?g.completion:{};return _.type=r,_.arg=o,g?(this.method="next",this.next=g.finallyLoc,D):this.complete(_)},complete:function complete(r,o){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&o&&(this.next=o),D},finish:function finish(r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.finallyLoc===r)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),D}},catch:function _catch(r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc===r){var d=i.completion;if("throw"===d.type){var v=d.arg;resetTryEntry(i)}return v}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,d){return this.delegate={iterator:values(r),resultName:i,nextLoc:d},"next"===this.method&&(this.arg=o),D}},r}(r.exports);try{regeneratorRuntime=d}catch(v){"object"===typeof globalThis?globalThis.regeneratorRuntime=d:Function("r","regeneratorRuntime = r")(d)}},function(r,o,i){(function(o){var d=i(11),v=i(0),g=i(3),_=i(1),E=i(2),b=i(12),T=i(7),O=i(4),x=i(5),D=i(6);i(26);var C=i(28),I=i(29),k=i(20),P=k.LOG_LEVEL_INFO,A=i(32),R=i(33),L=R.FUNCTION_STACK_OPS_ORDER_LIFO,N=i(13),j=i(43).v4,V=i(59),U=i(62),Y=i(21),B=i(22),H=i(23),W=i(34),q=i(35),G=i(63),K="no-init-warn",J="ready",Q="updated",Z=I.EVT_BEFORE_DESTROY,X=I.EVT_DESTROY_STACK_TIMED_OUT,ee=I.EVT_DESTROYED,te={},ne=["log","listenerCount","getIsDestroying","getIsDestroyed","getInstanceUptime","getTotalListenerCount","getChildren","off","removeListener","eventNames","listenerCount","getOutputMediaStreamTrack"],re=function(r,i){"use strict";x(PhantomCore,r);var I=D(PhantomCore);function PhantomCore(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_(this,PhantomCore),r=I.call(this);var d=[];i&&void 0!==i.isReady&&(d.push("isReady option will be changed to isAsync, defaulting to false"),void 0===i.isAsync&&(i.isAsync=!i.isReady),delete i.isReady),"function"!==typeof r.off&&(r.off=r.removeListener),r._uuid=j(),r._shortUUID=V().fromUUID(r._uuid),te[r._uuid]=b(r);var v={isAsync:!1,logLevel:P,symbol:null,title:null,hasAutomaticBindings:!0};if(r._options=Object.freeze(PhantomCore.mergeOptions(v,i)),r._cleanupHandlerStack=new R(L),r._symbol=function(){if(r._options.symbol){if(PhantomCore.getInstanceWithSymbol(r._options.symbol))throw new Error("Existing instance with symbol",r._options.symbol);if("symbol"!==typeof r._options.symbol)throw new TypeError("options.symbol is not a Symbol")}return r._options.symbol}(),r._title=r._options.title,r.logger=new k({logLevel:r._options.logLevel,prefix:function prefix(o){return"[".concat(U().format()," ").concat(o," ").concat(r.getClassName()," ").concat(r._uuid,"]")}}),r.log=r.logger.log,r.once(X,(function(){r.log.error("The destruct callstack is taking longer to execute than expected. Ensure a potential gridlock situation is not happening, where two or more PhantomCore instances are awaiting one another to shut down.")})),r._instanceStartTime=Y(),r._isReady=!r._options.isAsync||!1,r._eventProxyStack=new G,r._options.hasAutomaticBindings&&r.autoBind(),r._isReady)r._init=void 0,o((function(){return r.emit(J)}));else{var g=setTimeout((function(){r.logger.warn("PhantomCore superclass _init has not been called in a reasonable amount of time. All instances which use isAsync option must call _init on the PhantomCore superclass."),r.emit(K)}),5e3);r.once(J,(function(){return clearTimeout(g)})),r.once(ee,(function(){return clearTimeout(g)}))}return d.forEach((function(o){r.log.warn("DEPRECATION NOTICE: ".concat(o))})),r}return E(PhantomCore,[{key:"_init",value:function(){var r=g(v.mark((function _callee(){var r=this;return v.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return this._init=function(){throw new ReferenceError("_init cannot be called more than once")},o.next=3,new Promise((function(o,i){r.getIsDestroyed()?i():(r._isReady=!0,r.emit(J),o())}));case 3:case"end":return o.stop()}}),_callee,this)})));return function _init(){return r.apply(this,arguments)}}()},{key:i,get:function get(){return this.getTitle()||this.getClassName()}},{key:"autoBind",value:function autoBind(){var r=[this.log];W(this,r)}},{key:"registerCleanupHandler",value:function registerCleanupHandler(r){return this._cleanupHandlerStack.push(r)}},{key:"unregisterCleanupHandler",value:function unregisterCleanupHandler(r){return this._cleanupHandlerStack.remove(r)}},{key:"getPhantomProperties",value:function getPhantomProperties(){var r=this;return this.getPropertyNames().filter((function(o){return"__proto__"!==o&&PhantomCore.getIsInstance(r[o])&&!r[o].getIsDestroyed()}))}},{key:"getSymbol",value:function getSymbol(){return this._symbol}},{key:"getTitle",value:function getTitle(){return this._title}},{key:"setTitle",value:function setTitle(r){this._title=r,this.emit(Q)}},{key:"getOptions",value:function getOptions(){return this._options}},{key:"getOption",value:function getOption(r){return this._options[r]}},{key:"setLogLevel",value:function setLogLevel(r){this.logger.setLogLevel(r)}},{key:"getLogLevel",value:function getLogLevel(){return this.logger.getLogLevel()}},{key:"getPropertyNames",value:function getPropertyNames(){return B(this)}},{key:"getMethodNames",value:function getMethodNames(){return H(this)}},{key:"onceReady",value:function(){var r=g(v.mark((function _callee2(){var r=this;return v.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:if(!this._isReady){o.next=2;break}return o.abrupt("return");case 2:return o.abrupt("return",new Promise((function(o){return r.once(J,o)})));case 3:case"end":return o.stop()}}),_callee2,this)})));return function onceReady(){return r.apply(this,arguments)}}()},{key:"getIsReady",value:function getIsReady(){return this._isReady}},{key:"getUUID",value:function getUUID(){return this._uuid}},{key:"getShortUUID",value:function getShortUUID(){return this._shortUUID}},{key:"getIsSameInstance",value:function getIsSameInstance(r){return Object.is(this,r)}},{key:"getClass",value:function getClass(){return this.constructor}},{key:"getClassName",value:function getClassName(){return N(this)}},{key:"proxyOn",value:function proxyOn(r,o,i){if(!PhantomCore.getIsLooseInstance(r))throw new ReferenceError("targetInstance is not a PhantomCore instance");if(this.getIsSameInstance(r))throw new ReferenceError("targetInstance cannot be bound to itself");this._eventProxyStack.addProxyHandler("on",r,o,i)}},{key:"proxyOnce",value:function proxyOnce(r,o,i){if(!PhantomCore.getIsLooseInstance(r))throw new ReferenceError("targetInstance is not a PhantomCore instance");if(this.getIsSameInstance(r))throw new ReferenceError("targetInstance cannot be bound to itself");this._eventProxyStack.addProxyHandler("once",r,o,i)}},{key:"proxyOff",value:function proxyOff(r,o,i){if(!PhantomCore.getIsLooseInstance(r))throw new ReferenceError("targetInstance is not a PhantomCore instance");if(this.getIsSameInstance(r))throw new ReferenceError("targetInstance cannot be bound to itself");this._eventProxyStack.removeProxyHandler(r,o,i)}},{key:"getInstanceUptime",value:function getInstanceUptime(){return this.getIsDestroyed()?0:Y()-this._instanceStartTime}},{key:"destroy",value:function(){var r=g(v.mark((function _callee5(){var r,o=this,i=arguments;return v.wrap((function _callee5$(_){for(;;)switch(_.prev=_.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:function(){return null},_.abrupt("return",T(O(PhantomCore.prototype),"destroy",this).call(this,g(v.mark((function _callee3(){return v.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return delete te[o._uuid],i.next=3,r();case 3:return i.next=5,o._eventProxyStack.destroy();case 5:o._eventProxyStack=null;case 6:case"end":return i.stop()}}),_callee3)}))),g(v.mark((function _callee4(){var r,i,g;return v.wrap((function _callee4$(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,o._cleanupHandlerStack.exec();case 2:o.getPhantomProperties().forEach((function(r){o.log.warn('Lingering PhantomCore instance on prop name "'.concat(r,'". This could be a memory leak. Ensure that all PhantomCore instances have been disposed of before class destruct.'))})),r=d(o.getMethodNames());try{for(r.s();!(i=r.n()).done;)g=i.value,ne.includes(g)||(o[g]=function(){})}catch(_){r.e(_)}finally{r.f()}case 5:case"end":return v.stop()}}),_callee4)})))));case 2:case"end":return _.stop()}}),_callee5,this)})));return function destroy(){return r.apply(this,arguments)}}()}],[{key:"getPhantomCoreVersion",value:function getPhantomCoreVersion(){return A().version}},{key:"getIsInstance",value:function getIsInstance(r){return r instanceof PhantomCore}},{key:"getIsLooseInstance",value:function getIsLooseInstance(r){return Boolean(r instanceof C&&"function"===typeof r.getIsDestroyed&&"function"===typeof r.destroy)}},{key:"getInstanceWithUUID",value:function getInstanceWithUUID(r){return te[r]}},{key:"getInstanceWithSymbol",value:function getInstanceWithSymbol(r){return Object.values(te).find((function(o){return o.getSymbol()===r}))}},{key:"getInstanceCount",value:function getInstanceCount(){return Object.keys(te).length}},{key:"mergeOptions",value:function mergeOptions(r,o){return q(r,o)}}]),PhantomCore}(I,Symbol.toStringTag);r.exports=re,r.exports.EVT_NO_INIT_WARN=K,r.exports.EVT_READY=J,r.exports.EVT_UPDATED=Q,r.exports.EVT_BEFORE_DESTROY=Z,r.exports.EVT_DESTROY_STACK_TIMED_OUT=X,r.exports.EVT_DESTROYED=ee}).call(this,i(49).setImmediate)},function(r,o,i){(function(r){var d="undefined"!==typeof r&&r||"undefined"!==typeof self&&self||window,v=Function.prototype.apply;function Timeout(r,o){this._id=r,this._clearFn=o}o.setTimeout=function(){return new Timeout(v.call(setTimeout,d,arguments),clearTimeout)},o.setInterval=function(){return new Timeout(v.call(setInterval,d,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(r){r&&r.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(d,this._id)},o.enroll=function(r,o){clearTimeout(r._idleTimeoutId),r._idleTimeout=o},o.unenroll=function(r){clearTimeout(r._idleTimeoutId),r._idleTimeout=-1},o._unrefActive=o.active=function(r){clearTimeout(r._idleTimeoutId);var o=r._idleTimeout;o>=0&&(r._idleTimeoutId=setTimeout((function onTimeout(){r._onTimeout&&r._onTimeout()}),o))},i(26),o.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof r&&r.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof r&&r.clearImmediate||this&&this.clearImmediate}).call(this,i(10))},function(r,o,i){var d=i(4);r.exports=function _superPropBase(r,o){for(;!Object.prototype.hasOwnProperty.call(r,o)&&null!==(r=d(r)););return r}},function(r,o){function _setPrototypeOf(o,i){return r.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(r,o){return r.__proto__=o,r},_setPrototypeOf(o,i)}r.exports=_setPrototypeOf},function(r,o){r.exports=function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}},function(r,o,i){var d=i(54),v=i(12);r.exports=function _possibleConstructorReturn(r,o){return!o||"object"!==d(o)&&"function"!==typeof o?v(r):o}},function(r,o){function _typeof(o){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?r.exports=_typeof=function _typeof(r){return typeof r}:r.exports=_typeof=function _typeof(r){return r&&"function"===typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(o)}r.exports=_typeof},function(r){r.exports=JSON.parse('{"name":"phantom-core","version":"2.7.3","description":"Node.js and browser compatible, base JavaScript EventEmitter-based class with base utility methods, logging, event proxies, collections, and destroy handling","author":{"name":"zenOSmosis","email":"info@zenosmosis.com","url":"https://zenosmosis.com"},"license":"MIT","main":"src/index.js","scripts":{"test":"npm run test-node && npm run test-browser","test-node":"tape \'test/{,/**/}*.test.js\'","test-browser":"dotenv airtap --coverage --concurrency 1 -- \'test/{,/**/}*.test.js\'","coverage":"nyc npm run test-node","lint":"prettier --write \'(**/)*.js\'","check-dep-updates":"npx npm-check-updates"},"devDependencies":{"airtap":"^4.0.4","airtap-sauce":"^1.1.2","dotenv-cli":"^4.0.0","nyc":"^15.1.0","prettier":"^2.4.1","tape":"^5.3.1"},"dependencies":{"dayjs":"^1.10.7","deepmerge":"^4.2.2","is-plain-object":"^5.0.0","setimmediate":"^1.0.5","short-uuid":"^4.2.0","uuid":"^8.3.2"}}')},function(r,o,i){var d=i(27);r.exports=function _arrayWithoutHoles(r){if(Array.isArray(r))return d(r)}},function(r,o){r.exports=function _iterableToArray(r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}},function(r,o){r.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(r,o,i){var d,v=i(8),g=i(15),_=i(43).v4,E=i(60),b="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",T={consistentLength:!0},O=function shortenUUID(r,o,i){var d=o(r.toLowerCase().replace(/-/g,""));return i&&i.consistentLength?d.padStart(i.shortIdLength,i.paddingChar):d};r.exports=function(){var r=function makeConvertor(r,o){var i=r||b,d=g(g({},T),o);if(v(new Set(Array.from(i))).length!==i.length)throw new Error("The provided Alphabet has duplicate characters resulting in unreliable results");var x=function getShortIdLength(r){return Math.ceil(Math.log(Math.pow(2,128))/Math.log(r))}(i.length),D={shortIdLength:x,consistentLength:d.consistentLength,paddingChar:i[0]},C=E(E.HEX,i),I=E(i,E.HEX),k=function generate(){return O(_(),C,D)},P={new:k,generate:k,uuid:_,fromUUID:function fromUUID(r){return O(r,C,D)},toUUID:function toUUID(r){return function enlargeUUID(r,o){var i=o(r).padStart(32,"0").match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/);return[i[1],i[2],i[3],i[4],i[5]].join("-")}(r,I)},alphabet:i,maxLength:x};return Object.freeze(P),P};return r.constants={flickrBase58:b,cookieBase90:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&'()*+-./:<=>?@[]^_`{|}~"},r.uuid=_,r.generate=function(){return d||(d=r(b).generate),d()},r}()},function(r,o,i){var d=i(61);function anyBase(r,o){var i=new d(r,o);return function(r){return i.convert(r)}}anyBase.BIN="01",anyBase.OCT="01234567",anyBase.DEC="0123456789",anyBase.HEX="0123456789abcdef",r.exports=anyBase},function(r,o,i){"use strict";function Converter(r,o){if(!r||!o||!r.length||!o.length)throw new Error("Bad alphabet");this.srcAlphabet=r,this.dstAlphabet=o}Converter.prototype.convert=function(r){var o,i,d,v={},g=this.srcAlphabet.length,_=this.dstAlphabet.length,E=r.length,b="string"===typeof r?"":[];if(!this.isValid(r))throw new Error('Number "'+r+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return r;for(o=0;o<E;o++)v[o]=this.srcAlphabet.indexOf(r[o]);do{for(i=0,d=0,o=0;o<E;o++)(i=i*g+v[o])>=_?(v[d++]=parseInt(i/_,10),i%=_):d>0&&(v[d++]=0);E=d,b=this.dstAlphabet.slice(i,i+1).concat(b)}while(0!==d);return b},Converter.prototype.isValid=function(r){for(var o=0;o<r.length;++o)if(-1===this.srcAlphabet.indexOf(r[o]))return!1;return!0},r.exports=Converter},function(r,o,i){r.exports=function(){"use strict";var r=1e3,o=6e4,i=36e5,d="millisecond",v="second",g="minute",_="hour",E="day",b="week",T="month",O="quarter",x="year",D="date",C="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},A=function m(r,o,i){var d=String(r);return!d||d.length>=o?r:""+Array(o+1-d.length).join(i)+r},R={s:A,z:function z(r){var o=-r.utcOffset(),i=Math.abs(o),d=Math.floor(i/60),v=i%60;return(o<=0?"+":"-")+A(d,2,"0")+":"+A(v,2,"0")},m:function t(r,o){if(r.date()<o.date())return-t(o,r);var i=12*(o.year()-r.year())+(o.month()-r.month()),d=r.clone().add(i,T),v=o-d<0,g=r.clone().add(i+(v?-1:1),T);return+(-(i+(o-d)/(v?d-g:g-d))||0)},a:function a(r){return r<0?Math.ceil(r)||0:Math.floor(r)},p:function p(r){return{M:T,y:x,w:b,d:E,D:D,h:_,m:g,s:v,ms:d,Q:O}[r]||String(r||"").toLowerCase().replace(/s$/,"")},u:function u(r){return void 0===r}},L="en",N={};N[L]=P;var j=function p(r){return r instanceof B},V=function S(r,o,i){var d;if(!r)return L;if("string"==typeof r)N[r]&&(d=r),o&&(N[r]=o,d=r);else{var v=r.name;N[v]=r,d=v}return!i&&d&&(L=d),d||!i&&L},U=function w(r,o){if(j(r))return r.clone();var i="object"==typeof o?o:{};return i.date=r,i.args=arguments,new B(i)},Y=R;Y.l=V,Y.i=j,Y.w=function(r,o){return U(r,{locale:o.$L,utc:o.$u,x:o.$x,$offset:o.$offset})};var B=function(){function M(r){this.$L=V(r.locale,null,!0),this.parse(r)}var P=M.prototype;return P.parse=function(r){this.$d=function(r){var o=r.date,i=r.utc;if(null===o)return new Date(NaN);if(Y.u(o))return new Date;if(o instanceof Date)return new Date(o);if("string"==typeof o&&!/Z$/i.test(o)){var d=o.match(I);if(d){var v=d[2]-1||0,g=(d[7]||"0").substring(0,3);return i?new Date(Date.UTC(d[1],v,d[3]||1,d[4]||0,d[5]||0,d[6]||0,g)):new Date(d[1],v,d[3]||1,d[4]||0,d[5]||0,d[6]||0,g)}}return new Date(o)}(r),this.$x=r.x||{},this.init()},P.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},P.$utils=function(){return Y},P.isValid=function(){return!(this.$d.toString()===C)},P.isSame=function(r,o){var i=U(r);return this.startOf(o)<=i&&i<=this.endOf(o)},P.isAfter=function(r,o){return U(r)<this.startOf(o)},P.isBefore=function(r,o){return this.endOf(o)<U(r)},P.$g=function(r,o,i){return Y.u(r)?this[o]:this.set(i,r)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(r,o){var i=this,d=!!Y.u(o)||o,O=Y.p(r),C=function $(r,o){var v=Y.w(i.$u?Date.UTC(i.$y,o,r):new Date(i.$y,o,r),i);return d?v:v.endOf(E)},I=function l(r,o){return Y.w(i.toDate()[r].apply(i.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(o)),i)},k=this.$W,P=this.$M,A=this.$D,R="set"+(this.$u?"UTC":"");switch(O){case x:return d?C(1,0):C(31,11);case T:return d?C(1,P):C(0,P+1);case b:var L=this.$locale().weekStart||0,N=(k<L?k+7:k)-L;return C(d?A-N:A+(6-N),P);case E:case D:return I(R+"Hours",0);case _:return I(R+"Minutes",1);case g:return I(R+"Seconds",2);case v:return I(R+"Milliseconds",3);default:return this.clone()}},P.endOf=function(r){return this.startOf(r,!1)},P.$set=function(r,o){var i,b=Y.p(r),O="set"+(this.$u?"UTC":""),C=(i={},i[E]=O+"Date",i[D]=O+"Date",i[T]=O+"Month",i[x]=O+"FullYear",i[_]=O+"Hours",i[g]=O+"Minutes",i[v]=O+"Seconds",i[d]=O+"Milliseconds",i)[b],I=b===E?this.$D+(o-this.$W):o;if(b===T||b===x){var k=this.clone().set(D,1);k.$d[C](I),k.init(),this.$d=k.set(D,Math.min(this.$D,k.daysInMonth())).$d}else C&&this.$d[C](I);return this.init(),this},P.set=function(r,o){return this.clone().$set(r,o)},P.get=function(r){return this[Y.p(r)]()},P.add=function(d,O){var D,C=this;d=Number(d);var I=Y.p(O),k=function y(r){var o=U(C);return Y.w(o.date(o.date()+Math.round(r*d)),C)};if(I===T)return this.set(T,this.$M+d);if(I===x)return this.set(x,this.$y+d);if(I===E)return k(1);if(I===b)return k(7);var P=(D={},D[g]=o,D[_]=i,D[v]=r,D)[I]||1,A=this.$d.getTime()+d*P;return Y.w(A,this)},P.subtract=function(r,o){return this.add(-1*r,o)},P.format=function(r){var o=this,i=this.$locale();if(!this.isValid())return i.invalidDate||C;var d=r||"YYYY-MM-DDTHH:mm:ssZ",v=Y.z(this),g=this.$H,_=this.$m,E=this.$M,b=i.weekdays,T=i.months,O=function h(r,i,v,g){return r&&(r[i]||r(o,d))||v[i].substr(0,g)},x=function c(r){return Y.s(g%12||12,r,"0")},D=i.meridiem||function(r,o,i){var d=r<12?"AM":"PM";return i?d.toLowerCase():d},I={YY:String(this.$y).slice(-2),YYYY:this.$y,M:E+1,MM:Y.s(E+1,2,"0"),MMM:O(i.monthsShort,E,T,3),MMMM:O(T,E),D:this.$D,DD:Y.s(this.$D,2,"0"),d:String(this.$W),dd:O(i.weekdaysMin,this.$W,b,2),ddd:O(i.weekdaysShort,this.$W,b,3),dddd:b[this.$W],H:String(g),HH:Y.s(g,2,"0"),h:x(1),hh:x(2),a:D(g,_,!0),A:D(g,_,!1),m:String(_),mm:Y.s(_,2,"0"),s:String(this.$s),ss:Y.s(this.$s,2,"0"),SSS:Y.s(this.$ms,3,"0"),Z:v};return d.replace(k,(function(r,o){return o||I[r]||v.replace(":","")}))},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(d,D,C){var I,k=Y.p(D),P=U(d),A=(P.utcOffset()-this.utcOffset())*o,R=this-P,L=Y.m(this,P);return L=(I={},I[x]=L/12,I[T]=L,I[O]=L/3,I[b]=(R-A)/6048e5,I[E]=(R-A)/864e5,I[_]=R/i,I[g]=R/o,I[v]=R/r,I)[k]||R,C?L:Y.a(L)},P.daysInMonth=function(){return this.endOf(T).$D},P.$locale=function(){return N[this.$L]},P.locale=function(r,o){if(!r)return this.$L;var i=this.clone(),d=V(r,o,!0);return d&&(i.$L=d),i},P.clone=function(){return Y.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},M}(),H=B.prototype;return U.prototype=H,[["$ms",d],["$s",v],["$m",g],["$H",_],["$W",E],["$M",T],["$y",x],["$D",D]].forEach((function(r){H[r[1]]=function(o){return this.$g(o,r[0],r[1])}})),U.extend=function(r,o){return r.$i||(r(o,B,U),r.$i=!0),U},U.locale=V,U.isDayjs=j,U.unix=function(r){return U(1e3*r)},U.en=N[L],U.Ls=N,U.p={},U}()},function(r,o,i){var d=i(0),v=i(3),g=i(11),_=i(8),E=i(16),b=i(1),T=i(2),O=i(7),x=i(4),D=i(5),C=i(6),I=i(36),k=(i(9),i(29)),P=k.EVT_DESTROYED;r.exports=function(r){"use strict";D(EventProxyStack,r);var o=C(EventProxyStack);function EventProxyStack(){var r;return b(this,EventProxyStack),(r=o.call(this))._eventProxyBinds=[],r._targetDestroyHandlers=new Map,r}return T(EventProxyStack,[{key:"addProxyHandler",value:function addProxyHandler(r,o,i,d){var v=this;if("on"!==r&&"once"!==r)throw new ReferenceError('Unhandled value "'.concat(r,'" for onOrOnce'));this._eventProxyBinds.push([o,i,d]),o[r](i,d),this._targetDestroyHandlers.get(o)||(this._targetDestroyHandlers.set(o,(function(){v._eventProxyBinds.filter((function(r){return E(r,1)[0]===o})).forEach((function(r){return v.removeProxyHandler.apply(v,_(r))}))})),o.once(P,this._targetDestroyHandlers.get(o)))}},{key:"removeProxyHandler",value:function removeProxyHandler(r,o,i){var d=!1;this._eventProxyBinds=this._eventProxyBinds.filter((function(v){var g=E(v,3),_=g[0],b=g[1],T=g[2];if(d)return!0;var O=!0;return(O=_!==r||(b!==o||T!==i))||(d=!0),O})),r.off(o,i),this.getTargetInstanceQueueDepth(r)||this._removeTargetInstanceDestroyHandler(r)}},{key:"_removeAllProxyHandlers",value:function _removeAllProxyHandlers(){var r=this;this._eventProxyBinds.forEach((function(o){var i=E(o,3),d=i[0],v=i[1],g=i[2];return r.removeProxyHandler(d,v,g)}))}},{key:"_removeTargetInstanceDestroyHandler",value:function _removeTargetInstanceDestroyHandler(r){var o=this._targetDestroyHandlers.get(r);o&&(r.off(P,o),this._targetDestroyHandlers.delete(r))}},{key:"_removeAllTargetInstanceDestroyHandlers",value:function _removeAllTargetInstanceDestroyHandlers(){var r,o=g(this._targetDestroyHandlers.entries());try{for(o.s();!(r=o.n()).done;){var i=E(r.value,1)[0];this._removeTargetInstanceDestroyHandler(i)}}catch(d){o.e(d)}finally{o.f()}}},{key:"getTargetInstanceQueueDepth",value:function getTargetInstanceQueueDepth(r){return this._eventProxyBinds.reduce((function(o,i){var d=i[0];return r===d?o+1:o}),0)}},{key:"destroy",value:function(){var r=v(d.mark((function _callee(){var r=this;return d.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",O(x(EventProxyStack.prototype),"destroy",this).call(this,(function(){r._removeAllProxyHandlers(),r._removeAllTargetInstanceDestroyHandlers(),I.strictEqual(r._eventProxyBinds.length,0),I.strictEqual(_(r._targetDestroyHandlers).length,0)})));case 1:case"end":return o.stop()}}),_callee,this)})));return function destroy(){return r.apply(this,arguments)}}()}]),EventProxyStack}(k)},function(r,o){r.exports=function _arrayWithHoles(r){if(Array.isArray(r))return r}},function(r,o){r.exports=function _iterableToArrayLimit(r,o){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(r)){var i=[],d=!0,v=!1,g=void 0;try{for(var _,E=r[Symbol.iterator]();!(d=(_=E.next()).done)&&(i.push(_.value),!o||i.length!==o);d=!0);}catch(b){v=!0,g=b}finally{try{d||null==E.return||E.return()}finally{if(v)throw g}}return i}}},function(r,o){r.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(r,o,i){"use strict";var d=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function toObject(r){if(null===r||void 0===r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}r.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var o={},i=0;i<10;i++)o["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(o).map((function(r){return o[r]})).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach((function(r){d[r]=r})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(v){return!1}}()?Object.assign:function(r,o){for(var i,_,E=toObject(r),b=1;b<arguments.length;b++){for(var T in i=Object(arguments[b]))v.call(i,T)&&(E[T]=i[T]);if(d){_=d(i);for(var O=0;O<_.length;O++)g.call(i,_[O])&&(E[_[O]]=i[_[O]])}}return E}},function(r,o,i){(function(r){var d=Object.getOwnPropertyDescriptors||function getOwnPropertyDescriptors(r){for(var o=Object.keys(r),i={},d=0;d<o.length;d++)i[o[d]]=Object.getOwnPropertyDescriptor(r,o[d]);return i},v=/%[sdj%]/g;o.format=function(r){if(!isString(r)){for(var o=[],i=0;i<arguments.length;i++)o.push(inspect(arguments[i]));return o.join(" ")}i=1;for(var d=arguments,g=d.length,_=String(r).replace(v,(function(r){if("%%"===r)return"%";if(i>=g)return r;switch(r){case"%s":return String(d[i++]);case"%d":return Number(d[i++]);case"%j":try{return JSON.stringify(d[i++])}catch(o){return"[Circular]"}default:return r}})),E=d[i];i<g;E=d[++i])isNull(E)||!isObject(E)?_+=" "+E:_+=" "+inspect(E);return _},o.deprecate=function(i,d){if("undefined"!==typeof r&&!0===r.noDeprecation)return i;if("undefined"===typeof r)return function(){return o.deprecate(i,d).apply(this,arguments)};var v=!1;return function deprecated(){if(!v){if(r.throwDeprecation)throw new Error(d);r.traceDeprecation?console.trace(d):console.error(d),v=!0}return i.apply(this,arguments)}};var g,_={};function inspect(r,i){var d={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),isBoolean(i)?d.showHidden=i:i&&o._extend(d,i),isUndefined(d.showHidden)&&(d.showHidden=!1),isUndefined(d.depth)&&(d.depth=2),isUndefined(d.colors)&&(d.colors=!1),isUndefined(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=stylizeWithColor),formatValue(d,r,d.depth)}function stylizeWithColor(r,o){var i=inspect.styles[o];return i?"\x1b["+inspect.colors[i][0]+"m"+r+"\x1b["+inspect.colors[i][1]+"m":r}function stylizeNoColor(r,o){return r}function formatValue(r,i,d){if(r.customInspect&&i&&isFunction(i.inspect)&&i.inspect!==o.inspect&&(!i.constructor||i.constructor.prototype!==i)){var v=i.inspect(d,r);return isString(v)||(v=formatValue(r,v,d)),v}var g=function formatPrimitive(r,o){if(isUndefined(o))return r.stylize("undefined","undefined");if(isString(o)){var i="'"+JSON.stringify(o).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return r.stylize(i,"string")}if(isNumber(o))return r.stylize(""+o,"number");if(isBoolean(o))return r.stylize(""+o,"boolean");if(isNull(o))return r.stylize("null","null")}(r,i);if(g)return g;var _=Object.keys(i),E=function arrayToHash(r){var o={};return r.forEach((function(r,i){o[r]=!0})),o}(_);if(r.showHidden&&(_=Object.getOwnPropertyNames(i)),isError(i)&&(_.indexOf("message")>=0||_.indexOf("description")>=0))return formatError(i);if(0===_.length){if(isFunction(i)){var b=i.name?": "+i.name:"";return r.stylize("[Function"+b+"]","special")}if(isRegExp(i))return r.stylize(RegExp.prototype.toString.call(i),"regexp");if(isDate(i))return r.stylize(Date.prototype.toString.call(i),"date");if(isError(i))return formatError(i)}var T,O="",x=!1,D=["{","}"];(isArray(i)&&(x=!0,D=["[","]"]),isFunction(i))&&(O=" [Function"+(i.name?": "+i.name:"")+"]");return isRegExp(i)&&(O=" "+RegExp.prototype.toString.call(i)),isDate(i)&&(O=" "+Date.prototype.toUTCString.call(i)),isError(i)&&(O=" "+formatError(i)),0!==_.length||x&&0!=i.length?d<0?isRegExp(i)?r.stylize(RegExp.prototype.toString.call(i),"regexp"):r.stylize("[Object]","special"):(r.seen.push(i),T=x?function formatArray(r,o,i,d,v){for(var g=[],_=0,E=o.length;_<E;++_)hasOwnProperty(o,String(_))?g.push(formatProperty(r,o,i,d,String(_),!0)):g.push("");return v.forEach((function(v){v.match(/^\d+$/)||g.push(formatProperty(r,o,i,d,v,!0))})),g}(r,i,d,E,_):_.map((function(o){return formatProperty(r,i,d,E,o,x)})),r.seen.pop(),function reduceToSingleString(r,o,i){if(r.reduce((function(r,o){return o.indexOf("\n")>=0&&0,r+o.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return i[0]+(""===o?"":o+"\n ")+" "+r.join(",\n  ")+" "+i[1];return i[0]+o+" "+r.join(", ")+" "+i[1]}(T,O,D)):D[0]+O+D[1]}function formatError(r){return"["+Error.prototype.toString.call(r)+"]"}function formatProperty(r,o,i,d,v,g){var _,E,b;if((b=Object.getOwnPropertyDescriptor(o,v)||{value:o[v]}).get?E=b.set?r.stylize("[Getter/Setter]","special"):r.stylize("[Getter]","special"):b.set&&(E=r.stylize("[Setter]","special")),hasOwnProperty(d,v)||(_="["+v+"]"),E||(r.seen.indexOf(b.value)<0?(E=isNull(i)?formatValue(r,b.value,null):formatValue(r,b.value,i-1)).indexOf("\n")>-1&&(E=g?E.split("\n").map((function(r){return"  "+r})).join("\n").substr(2):"\n"+E.split("\n").map((function(r){return"   "+r})).join("\n")):E=r.stylize("[Circular]","special")),isUndefined(_)){if(g&&v.match(/^\d+$/))return E;(_=JSON.stringify(""+v)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(_=_.substr(1,_.length-2),_=r.stylize(_,"name")):(_=_.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),_=r.stylize(_,"string"))}return _+": "+E}function isArray(r){return Array.isArray(r)}function isBoolean(r){return"boolean"===typeof r}function isNull(r){return null===r}function isNumber(r){return"number"===typeof r}function isString(r){return"string"===typeof r}function isUndefined(r){return void 0===r}function isRegExp(r){return isObject(r)&&"[object RegExp]"===objectToString(r)}function isObject(r){return"object"===typeof r&&null!==r}function isDate(r){return isObject(r)&&"[object Date]"===objectToString(r)}function isError(r){return isObject(r)&&("[object Error]"===objectToString(r)||r instanceof Error)}function isFunction(r){return"function"===typeof r}function objectToString(r){return Object.prototype.toString.call(r)}function pad(r){return r<10?"0"+r.toString(10):r.toString(10)}o.debuglog=function(i){if(isUndefined(g)&&(g=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NODE_DEBUG||""),i=i.toUpperCase(),!_[i])if(new RegExp("\\b"+i+"\\b","i").test(g)){var d=r.pid;_[i]=function(){var r=o.format.apply(o,arguments);console.error("%s %d: %s",i,d,r)}}else _[i]=function(){};return _[i]},o.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=isArray,o.isBoolean=isBoolean,o.isNull=isNull,o.isNullOrUndefined=function isNullOrUndefined(r){return null==r},o.isNumber=isNumber,o.isString=isString,o.isSymbol=function isSymbol(r){return"symbol"===typeof r},o.isUndefined=isUndefined,o.isRegExp=isRegExp,o.isObject=isObject,o.isDate=isDate,o.isError=isError,o.isFunction=isFunction,o.isPrimitive=function isPrimitive(r){return null===r||"boolean"===typeof r||"number"===typeof r||"string"===typeof r||"symbol"===typeof r||"undefined"===typeof r},o.isBuffer=i(69);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var r=new Date,o=[pad(r.getHours()),pad(r.getMinutes()),pad(r.getSeconds())].join(":");return[r.getDate(),E[r.getMonth()],o].join(" ")}function hasOwnProperty(r,o){return Object.prototype.hasOwnProperty.call(r,o)}o.log=function(){console.log("%s - %s",timestamp(),o.format.apply(o,arguments))},o.inherits=i(70),o._extend=function(r,o){if(!o||!isObject(o))return r;for(var i=Object.keys(o),d=i.length;d--;)r[i[d]]=o[i[d]];return r};var b="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function callbackifyOnRejected(r,o){if(!r){var i=new Error("Promise was rejected with a falsy value");i.reason=r,r=i}return o(r)}o.promisify=function promisify(r){if("function"!==typeof r)throw new TypeError('The "original" argument must be of type Function');if(b&&r[b]){var o;if("function"!==typeof(o=r[b]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(o,b,{value:o,enumerable:!1,writable:!1,configurable:!0}),o}function o(){for(var o,i,d=new Promise((function(r,d){o=r,i=d})),v=[],g=0;g<arguments.length;g++)v.push(arguments[g]);v.push((function(r,d){r?i(r):o(d)}));try{r.apply(this,v)}catch(_){i(_)}return d}return Object.setPrototypeOf(o,Object.getPrototypeOf(r)),b&&Object.defineProperty(o,b,{value:o,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(o,d(r))},o.promisify.custom=b,o.callbackify=function callbackify(o){if("function"!==typeof o)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var i=[],d=0;d<arguments.length;d++)i.push(arguments[d]);var v=i.pop();if("function"!==typeof v)throw new TypeError("The last argument must be of type Function");var g=this,_=function cb(){return v.apply(g,arguments)};o.apply(this,i).then((function(o){r.nextTick(_,null,o)}),(function(o){r.nextTick(callbackifyOnRejected,o,_)}))}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(o)),Object.defineProperties(callbackified,d(o)),callbackified}}).call(this,i(17))},function(r,o){r.exports=function isBuffer(r){return r&&"object"===typeof r&&"function"===typeof r.copy&&"function"===typeof r.fill&&"function"===typeof r.readUInt8}},function(r,o){"function"===typeof Object.create?r.exports=function inherits(r,o){r.super_=o,r.prototype=Object.create(o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function inherits(r,o){r.super_=o;var i=function TempCtor(){};i.prototype=o.prototype,r.prototype=new i,r.prototype.constructor=r}},function(r,o,i){var d=i(0),v=i(3),g=i(1),_=i(2),E=i(7),b=i(4),T=i(5),O=i(6),x=i(9),D=x.EVT_NO_INIT_WARN,C=x.EVT_READY,I=x.EVT_UPDATED,k=x.EVT_BEFORE_DESTROY,P=x.EVT_DESTROY_STACK_TIMED_OUT,A=x.EVT_DESTROYED,R=function(r){"use strict";T(ArbitraryPhantomWrapper,r);var o=O(ArbitraryPhantomWrapper);function ArbitraryPhantomWrapper(r){var i,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(this,ArbitraryPhantomWrapper),(i=o.call(this,d))._wrappedValue=null,i._setWrappedValue(r),i}return _(ArbitraryPhantomWrapper,[{key:"_setWrappedValue",value:function _setWrappedValue(r){if(this._wrappedValue)throw new Error("_setWrappedValue cannot be called more than once");if(!r)throw new ReferenceError("wrappedValue is not set");this._wrappedValue=r}},{key:"getWrappedValue",value:function getWrappedValue(){return this._wrappedValue}},{key:"destroy",value:function(){var r=v(d.mark((function _callee2(){var r,o=this,i=arguments;return d.wrap((function _callee2$(g){for(;;)switch(g.prev=g.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:function(){return null},g.abrupt("return",E(b(ArbitraryPhantomWrapper.prototype),"destroy",this).call(this,v(d.mark((function _callee(){return d.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r();case 2:o._wrappedValue=null;case 3:case"end":return i.stop()}}),_callee)})))));case 2:case"end":return g.stop()}}),_callee2,this)})));return function destroy(){return r.apply(this,arguments)}}()}]),ArbitraryPhantomWrapper}(x);r.exports=R,r.exports.EVT_NO_INIT_WARN=D,r.exports.EVT_READY=C,r.exports.EVT_UPDATED=I,r.exports.EVT_BEFORE_DESTROY=k,r.exports.EVT_DESTROY_STACK_TIMED_OUT=P,r.exports.EVT_DESTROYED=A},function(r,o,i){var d=i(0),v=i(3),g=i(8),_=i(11),E=i(1),b=i(2),T=i(12),O=i(7),x=i(4),D=i(5),C=i(6),I=i(9),k=I.EVT_UPDATED,P=i(37),A=P.EVT_CHILD_INSTANCE_ADDED,R=P.EVT_CHILD_INSTANCE_REMOVED,L=[k],N="bridge-event-name-added",j="bridge-event-name-removed",V=function(r){"use strict";D(ChildEventBridge,r);var o=C(ChildEventBridge);function ChildEventBridge(r){var i;if(E(this,ChildEventBridge),!(r instanceof P))throw new TypeError("phantomCollection is not a PhantomCollection instance");return(i=o.call(this))._phantomCollection=r,i.registerCleanupHandler((function(){return delete i._phantomCollection})),i._bridgeEventNames=[].concat(L),i._linkedChildEventHandlers={},i._handleChildInstanceAdded=i._handleChildInstanceAdded.bind(T(i)),i._handleChildInstanceRemoved=i._handleChildInstanceRemoved.bind(T(i)),i.proxyOn(i._phantomCollection,A,i._handleChildInstanceAdded),i.proxyOn(i._phantomCollection,R,i._handleChildInstanceRemoved),i.on(N,(function(r){var o,d=i.getChildren(),v=_(d);try{for(v.s();!(o=v.n()).done;){var g=o.value;i._mapChildEvent(g,r)}}catch(E){v.e(E)}finally{v.f()}})),i.on(j,(function(r){var o,d=i.getChildren(),v=_(d);try{for(v.s();!(o=v.n()).done;){var g=o.value;i._unmapChildEvent(g,r)}}catch(E){v.e(E)}finally{v.f()}})),i}return b(ChildEventBridge,[{key:"getChildren",value:function getChildren(){return this._phantomCollection&&this._phantomCollection.getChildren()||[]}},{key:"_handleChildInstanceAdded",value:function _handleChildInstanceAdded(r){var o=this,i=r.getUUID();this._linkedChildEventHandlers[i]={},this._bridgeEventNames.forEach((function(i){return o._mapChildEvent(r,i)}))}},{key:"_handleChildInstanceRemoved",value:function _handleChildInstanceRemoved(r){var o=this,i=r.getUUID();this._bridgeEventNames.forEach((function(i){return o._unmapChildEvent(r,i)})),delete this._linkedChildEventHandlers[i]}},{key:"_mapChildEvent",value:function _mapChildEvent(r,o){var i=this,d=r.getUUID();if(!this._linkedChildEventHandlers[d][o]){var v=function _handleChildEvent(r){i._phantomCollection.emit(o,r)};r.on(o,v),this._linkedChildEventHandlers[d][o]=v}}},{key:"_unmapChildEvent",value:function _unmapChildEvent(r,o){var i=r.getUUID(),d=this._linkedChildEventHandlers[i][o];d&&(r.off(o,d),delete this._linkedChildEventHandlers[i][o])}},{key:"addBridgeEventName",value:function addBridgeEventName(r){var o=this._bridgeEventNames.length;this._bridgeEventNames=g(new Set([].concat(g(this._bridgeEventNames),[r]))),this._bridgeEventNames.length>o&&this.emit(N,r)}},{key:"removeBridgeEventName",value:function removeBridgeEventName(r){var o=this._bridgeEventNames.length;this._bridgeEventNames=this._bridgeEventNames.filter((function(o){return o!==r})),this._bridgeEventNames.length<o&&this.emit(j,r)}},{key:"getBridgeEventNames",value:function getBridgeEventNames(){return this._bridgeEventNames}},{key:"destroy",value:function(){var r=v(d.mark((function _callee2(){var r=this;return d.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",O(x(ChildEventBridge.prototype),"destroy",this).call(this,v(d.mark((function _callee(){var o,i,v,g,E,b,T;return d.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:o=r.getChildren(),i=_(o);try{for(i.s();!(v=i.n()).done;){g=v.value,E=_(r._bridgeEventNames);try{for(E.s();!(b=E.n()).done;)T=b.value,r._unmapChildEvent(g,T)}catch(O){E.e(O)}finally{E.f()}}}catch(O){i.e(O)}finally{i.f()}case 3:case"end":return d.stop()}}),_callee)})))));case 1:case"end":return o.stop()}}),_callee2,this)})));return function destroy(){return r.apply(this,arguments)}}()}]),ChildEventBridge}(I);r.exports=V,r.exports.EVT_UPDATED=k},function(r,o,i){(function(o){var d=i(8),v=i(0),g=i(3),_=i(1),E=i(2),b=i(7),T=i(4),O=i(5),x=i(6),D=i(25),C=i(24),I=D.EVT_NO_INIT_WARN,k=D.EVT_READY,P=D.EVT_UPDATED,A=D.EVT_BEFORE_DESTROY,R=D.EVT_DESTROY_STACK_TIMED_OUT,L=D.EVT_DESTROYED,N=function(r){"use strict";O(PhantomServiceCore,r);var D=x(PhantomServiceCore);function PhantomServiceCore(r){var d,v=r.manager,g=r.useServiceClassHandler;_(this,PhantomServiceCore),(d=D.call(this,null,{isAsync:!0}))._collectionMap=new Map,d.__MANAGED__useServiceClassHandler=g;try{if(!(v instanceof i(39)))throw new ReferenceError("PhantomServiceCore must be started by a PhantomServiceManager");if("function"!==typeof d.__MANAGED__useServiceClassHandler)throw new ReferenceError("__MANAGED__useServiceClassHandler property should be set by the PhantomServiceManager which manages this service")}catch(E){throw d.destroy(),E}return d.setTitle("[non-aliased-service]:".concat(d.getClassName())),(o||window).setImmediate((function(){d._init()})),d}return E(PhantomServiceCore,[{key:"_init",value:function(){var r=g(v.mark((function _callee(){return v.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",b(T(PhantomServiceCore.prototype),"_init",this).call(this));case 1:case"end":return r.stop()}}),_callee,this)})));return function _init(){return r.apply(this,arguments)}}()},{key:"useServiceClass",value:function useServiceClass(r){return this.__MANAGED__useServiceClassHandler(r)}},{key:"bindCollectionClass",value:function bindCollectionClass(r){var o=this,i=this._collectionMap.get(r);if(i)return i;var d=new r;if(!C.getIsLooseInstance(d))throw new TypeError("collectionInstance is not a PhantomCollection");return this.proxyOn(d,P,(function(r){return o.emit(P,r)})),this._collectionMap.set(r,d),d.once(L,(function(){o._collectionMap.delete(r)})),d}},{key:"unbindCollectionClass",value:function(){var r=g(v.mark((function _callee2(r){var o;return v.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(!(o=this.getCollectionInstance(r))){i.next=3;break}return i.abrupt("return",o.destroy());case 3:case"end":return i.stop()}}),_callee2,this)})));return function unbindCollectionClass(o){return r.apply(this,arguments)}}()},{key:"getCollectionInstance",value:function getCollectionInstance(r){return this._collectionMap.get(r)}},{key:"getCollectionClasses",value:function getCollectionClasses(){return d(this._collectionMap.keys())}},{key:"destroy",value:function(){var r=g(v.mark((function _callee4(){var r,o=this,i=arguments;return v.wrap((function _callee4$(_){for(;;)switch(_.prev=_.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:function(){return null},_.abrupt("return",b(T(PhantomServiceCore.prototype),"destroy",this).call(this,g(v.mark((function _callee3(){return v.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r();case 2:return i.next=4,Promise.all(d(o._collectionMap.values()).map((function(r){return r.destroy()})));case 4:case"end":return i.stop()}}),_callee3)})))));case 2:case"end":return _.stop()}}),_callee4,this)})));return function destroy(){return r.apply(this,arguments)}}()}]),PhantomServiceCore}(D);r.exports=N,r.exports.EVT_NO_INIT_WARN=I,r.exports.EVT_READY=k,r.exports.EVT_UPDATED=P,r.exports.EVT_BEFORE_DESTROY=A,r.exports.EVT_DESTROY_STACK_TIMED_OUT=R,r.exports.EVT_DESTROYED=L}).call(this,i(10))},function(r,o,i){var d=i(0),v=i(3),g=i(1),_=i(2),E=i(7),b=i(4),T=i(5),O=i(6),x=i(24),D=i(38),C=i(13),I=x.EVT_NO_INIT_WARN,k=x.EVT_READY,P=x.EVT_UPDATED,A=x.EVT_BEFORE_DESTROY,R=x.EVT_DESTROY_STACK_TIMED_OUT,L=x.EVT_DESTROYED,N=function(r){"use strict";T(PhantomServiceManager,r);var o=O(PhantomServiceManager);function PhantomServiceManager(){var r;return g(this,PhantomServiceManager),(r=o.call(this))._pendingServiceClassInstanceSet=new Set,r.registerCleanupHandler((function(){r._pendingServiceClassInstanceSet.clear()})),r._circularWarningMessages=[],r}return _(PhantomServiceManager,[{key:"addChild",value:function addChild(r){var o=this;if(r===D)throw new TypeError("ServiceClass must derive from PhantomServiceCore but cannot be PhantomServiceCore itself");var i,d=this.getChildWithKey(r);if(d)return d;this._pendingServiceClassInstanceSet.add(r);try{i=new r({manager:this,useServiceClassHandler:function useServiceClassHandler(i){if(i===r)throw new TypeError("Service cannot start a new instance of itself");if(o._pendingServiceClassInstanceSet.has(i)){var d='ChildServiceClass "'.concat(C(i),'" is trying to be initialized before ServiceClass "').concat(C(r),'" has had a chance to fully initialize. Are there circular dependencies in the constructors?');o._circularWarningMessages.includes(d)||(o._circularWarningMessages.push(d),o.log.warn(d))}return o.startServiceClass(i)}})}catch(g){if(g instanceof TypeError){var v='Could not instantiate service class "'.concat(C(r),'". Ensure that (...args) are passed through the constructor to the super instance.');this._circularWarningMessages.includes(v)||(this._circularWarningMessages.push(v),this.log.warn(v))}throw g}if(!(i instanceof D))throw new TypeError("Cannot initialize service which is not a PhantomServiceCore instance");return E(b(PhantomServiceManager.prototype),"addChild",this).call(this,i,r),this._pendingServiceClassInstanceSet.delete(r),i}},{key:"startServiceClass",value:function startServiceClass(r){return this.addChild(r)}},{key:"stopServiceClass",value:function(){var r=v(d.mark((function _callee(r){var o;return d.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!(o=this.getServiceInstance(r))){i.next=3;break}return i.abrupt("return",o.destroy());case 3:case"end":return i.stop()}}),_callee,this)})));return function stopServiceClass(o){return r.apply(this,arguments)}}()},{key:"getServiceInstance",value:function getServiceInstance(r){return this.getChildWithKey(r)}},{key:"getServiceClasses",value:function getServiceClasses(){return this.getKeys()}},{key:"destroy",value:function(){var r=v(d.mark((function _callee3(){var r,o=this,i=arguments;return d.wrap((function _callee3$(g){for(;;)switch(g.prev=g.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:function(){return null},g.abrupt("return",E(b(PhantomServiceManager.prototype),"destroy",this).call(this,v(d.mark((function _callee2(){return d.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r();case 2:return i.next=4,o.destroyAllChildren();case 4:case"end":return i.stop()}}),_callee2)})))));case 2:case"end":return g.stop()}}),_callee3,this)})));return function destroy(){return r.apply(this,arguments)}}()}]),PhantomServiceManager}(x);r.exports=N,r.exports.EVT_NO_INIT_WARN=I,r.exports.EVT_READY=k,r.exports.EVT_UPDATED=P,r.exports.EVT_BEFORE_DESTROY=A,r.exports.EVT_DESTROY_STACK_TIMED_OUT=R,r.exports.EVT_DESTROYED=L},function(r,o,i){var d=i(16),v=i(1),g=i(2),_=i(7),E=i(4),b=i(5),T=i(6),O=i(25),x=i(76).isPlainObject,D=O.EVT_NO_INIT_WARN,C=O.EVT_READY,I=O.EVT_UPDATED,k=O.EVT_BEFORE_DESTROY,P=O.EVT_DESTROY_STACK_TIMED_OUT,A=O.EVT_DESTROYED,R=function(r){"use strict";b(PhantomSerializableState,r);var o=T(PhantomSerializableState);function PhantomSerializableState(){return v(this,PhantomSerializableState),o.apply(this,arguments)}return g(PhantomSerializableState,[{key:"setState",value:function setState(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r=PhantomSerializableState.unserialize(PhantomSerializableState.serialize(r)),_(E(PhantomSerializableState.prototype),"setState",this).call(this,r,o)}},{key:"getSerializedState",value:function getSerializedState(){return PhantomSerializableState.serialize(this.getState())}}],[{key:"serialize",value:function serialize(r){if("object"!==typeof r)throw new TypeError("Expected object type");for(var o=0,i=Object.entries(r);o<i.length;o++){var v=d(i[o],2),g=v[0],_=v[1];if(_===1/0||"function"===typeof _||void 0===_||null!==_&&"object"===typeof _&&!Array.isArray(_)&&!x(_))throw new TypeError('Unserializable value for key "'.concat(g,'"'))}return JSON.stringify(r)}},{key:"unserialize",value:function unserialize(r){return JSON.parse(r)}}]),PhantomSerializableState}(O);r.exports=R,r.exports.EVT_NO_INIT_WARN=D,r.exports.EVT_READY=C,r.exports.EVT_UPDATED=I,r.exports.EVT_BEFORE_DESTROY=k,r.exports.EVT_DESTROY_STACK_TIMED_OUT=P,r.exports.EVT_DESTROYED=A},function(r,o,i){"use strict";function isObject(r){return"[object Object]"===Object.prototype.toString.call(r)}function isPlainObject(r){var o,i;return!1!==isObject(r)&&(void 0===(o=r.constructor)||!1!==isObject(i=o.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf"))}i.r(o),i.d(o,"isPlainObject",(function(){return isPlainObject}))},function(r,o){r.exports=function consume(r){}},function(r,o,i){var d=i(79);r.exports=function deepMerge(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null===r&&(r={}),null===o&&(o={}),d(r,o)}},function(r,o,i){"use strict";var d=function isMergeableObject(r){return function isNonNullObject(r){return!!r&&"object"===typeof r}(r)&&!function isSpecial(r){var o=Object.prototype.toString.call(r);return"[object RegExp]"===o||"[object Date]"===o||function isReactElement(r){return r.$$typeof===v}(r)}(r)};var v="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function cloneUnlessOtherwiseSpecified(r,o){return!1!==o.clone&&o.isMergeableObject(r)?deepmerge(function emptyTarget(r){return Array.isArray(r)?[]:{}}(r),r,o):r}function defaultArrayMerge(r,o,i){return r.concat(o).map((function(r){return cloneUnlessOtherwiseSpecified(r,i)}))}function getKeys(r){return Object.keys(r).concat(function getEnumerableOwnPropertySymbols(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter((function(o){return r.propertyIsEnumerable(o)})):[]}(r))}function propertyIsOnObject(r,o){try{return o in r}catch(i){return!1}}function mergeObject(r,o,i){var d={};return i.isMergeableObject(r)&&getKeys(r).forEach((function(o){d[o]=cloneUnlessOtherwiseSpecified(r[o],i)})),getKeys(o).forEach((function(v){(function propertyIsUnsafe(r,o){return propertyIsOnObject(r,o)&&!(Object.hasOwnProperty.call(r,o)&&Object.propertyIsEnumerable.call(r,o))})(r,v)||(propertyIsOnObject(r,v)&&i.isMergeableObject(o[v])?d[v]=function getMergeFunction(r,o){if(!o.customMerge)return deepmerge;var i=o.customMerge(r);return"function"===typeof i?i:deepmerge}(v,i)(r[v],o[v],i):d[v]=cloneUnlessOtherwiseSpecified(o[v],i))})),d}function deepmerge(r,o,i){(i=i||{}).arrayMerge=i.arrayMerge||defaultArrayMerge,i.isMergeableObject=i.isMergeableObject||d,i.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var v=Array.isArray(o);return v===Array.isArray(r)?v?i.arrayMerge(r,o,i):mergeObject(r,o,i):cloneUnlessOtherwiseSpecified(o,i)}deepmerge.all=function deepmergeAll(r,o){if(!Array.isArray(r))throw new Error("first argument should be an array");return r.reduce((function(r,i){return deepmerge(r,i,o)}),{})};var g=deepmerge;r.exports=g},function(r,o,i){var d=i(21),v=d();r.exports=function getUptime(){return d()-v}},function(module,exports,__webpack_require__){var getIsNodeJS=__webpack_require__(40);module.exports=function(){var nodeJSPerformance;try{getIsNodeJS()&&(nodeJSPerformance=eval('require("perf_hooks").performance'))}catch(err){console.error(err)}return nodeJSPerformance||performance}()},function(r,o,i){var d=i(0),v=i(3);r.exports=function(){var r=v(d.mark((function _callee(){var r,o=arguments;return d.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:1e3,i.next=3,new Promise((function(o){return setTimeout(o,r)}));case 3:case"end":return i.stop()}}),_callee)})));return function sleep(){return r.apply(this,arguments)}}()},function(r,o,i){var d=i(41);r.exports=function getClassInheritance(r){var o=[],i=r;do{(i=d(i))&&o.push(i)}while(i);return o}},function(r,o,i){var d=i(16),v=i(8),g="EVT_";function checkEvents(r){for(var o=Object.keys(r),i=Object.values(r),d=0,_=o;d<_.length;d++){var E=_[d];if(E!==E.toUpperCase())throw new ReferenceError('Event "'.concat(event,'" is not upper-case'));if(!E.startsWith(g))throw new ReferenceError('Event "'.concat(event,'" does not start with "').concat(g,'"'))}for(var b=0,T=i;b<T.length;b++){var O=T[b];if("string"!==typeof O)throw new TypeError('Value "'.concat(O,'" is not a string'))}if(o.length!==v(new Set(i)).length)throw new ReferenceError("Events are not unique")}function extractEvents(r){var o=Object.keys(r).filter((function(r){return r.startsWith(g)})),i=Object.fromEntries(o.map((function(o){return[o,r[o]]})));return checkEvents(i),i}r.exports={checkEvents:checkEvents,extractEvents:extractEvents,compareExportedEvents:function compareExportedEvents(r,o){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},v=extractEvents(r),g=extractEvents(o),_=0,E=Object.entries(v);_<E.length;_++){var b=d(E[_],2),T=b[0],O=b[1],x=g[T];if(x!==O){if(void 0===x&&i[T])continue;throw new ReferenceError('Extension has mismatched event value for constant "'.concat(T,'"'))}}}}}]);
//# sourceMappingURL=2.worker.js.map