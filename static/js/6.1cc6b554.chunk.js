(this.webpackJsonpreshell=this.webpackJsonpreshell||[]).push([[6],{541:function(e,t,n){e.exports={layout:"Layout_layout__3PvPc",header:"Layout_header__3EItT",content:"Layout_content__1t8Hf",footer:"Layout_footer__3EMQb"}},552:function(e,t,n){e.exports={"window-outer-border":"Window_window-outer-border__3TebC",hidden:"Window_hidden__3nppO",maximized:"Window_maximized__1kLcW",minimized:"Window_minimized__10t2-",dragging:"Window_dragging__2Ctk1",window:"Window_window__uDx5P",active:"Window_active__eAyll","title-bar":"Window_title-bar__376LO",title:"Window_title__3FnAS","window-controls":"Window_window-controls__1ACD5",maximize:"Window_maximize__2aW7z",minimize:"Window_minimize__hemKn",close:"Window_close__38hm-"}},577:function(e,t,n){e.exports={dock:"Dock_dock__XYNmR",overflown:"Dock_overflown__1vLoU","horizontal-orientation":"Dock_horizontal-orientation__32KfK","content-wrapper":"Dock_content-wrapper__3sQLP","dock-item":"Dock_dock-item__2wvel",active:"Dock_active__1Zqia"}},607:function(e,t,n){e.exports={row:"RowColumn_row__2MIpa","disable-vertical-fill":"RowColumn_disable-vertical-fill__YiYeg",column:"RowColumn_column__3aAA3"}},609:function(e,t,n){e.exports={"no-wrap":"NoWrap_no-wrap__2b0bc"}},619:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Menu}));var i=n(74),c=n(84),r=n(518),a=n(27),o=n(620),s=n(519),l=n.n(s),u=n(43),d=["menuStructure","opened","onOpen","onClose"];function Menu(t){var n=t.menuStructure,i=t.opened,s=void 0!==i&&i,j=t.onOpen,b=void 0===j?function(){return null}:j,O=t.onClose,h=void 0===O?function(){return null}:O,f=Object(r.a)(t,d),v=Object(a.useRef)(null);return Object(a.useEffect)((function(){return window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}}),[h]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",Object(c.a)(Object(c.a)({ref:v},f),{},{className:l()("szh-menu-button",s&&"szh-menu-button--open"),onMouseDown:function onMouseDown(){e((function(){s?h():b()}))},disabled:n.disabled,children:n.label||n.role})),Object(u.jsx)(o.e,{anchorRef:v,state:v.current&&s?"open":"closed",onClose:h,portal:!0,children:xChildren(n)})]})}function xChildren(e){var t,n=[],c=Object(i.a)(e.submenu);try{for(c.s();!(t=c.n()).done;){var r=t.value;"separator"===r.type?(n.push(Object(u.jsx)(o.a,{},n.length)),r.label&&n.push(Object(u.jsx)(o.b,{children:r.label},n.length))):r.submenu?n.push(Object(u.jsx)(o.d,{label:r.label,children:xChildren(r)},n.length)):n.push(Object(u.jsx)(o.c,{onClick:r.click,disabled:r.disabled,checked:r.checked,type:r.type,children:r.role||r.label},n.length))}}catch(a){c.e(a)}finally{c.f()}return n}}).call(this,n(108).setImmediate)},620:function(e,t,n){"use strict";n.d(t,"d",(function(){return b}));var i=n(84),c=n(527),r=n(679),a=n(683),o=n(675);n.d(t,"c",(function(){return o.a}));var s=n(624);n.d(t,"b",(function(){return s.a}));var l=n(625);n.d(t,"a",(function(){return l.a}));n(621),n(622),n(623);var u=n(43),d={overflow:"auto"},j=Object(c.a)((function Menu(e){var t=Object.assign({},e);return Object(u.jsx)(r.a,Object(i.a)(Object(i.a)({},t),{},{portal:!0},d))}),r.a),b=Object(c.b)(a.a)((function SubMenu(e){var t=Object.assign({},e);return Object(u.jsx)(a.a,Object(i.a)(Object(i.a)({},t),d))}));t.e=j},623:function(e,t,n){},628:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return FullViewport}));var i=n(84),c=n(153),r=n(518),a=n(27),o=n(519),s=n.n(o),l=n(629),u=n.n(l),d=n(43),j=["className","children"];function FullViewport(t){var n=t.className,o=t.children,l=Object(r.a)(t,j),b=Object(a.useState)(null),O=Object(c.a)(b,2),h=O[0],f=O[1];return Object(a.useEffect)((function(){if(h){document.documentElement.classList.add(u.a["html-full-viewport"]),document.body.classList.add(u.a["body-full-viewport"]);var t=function handleResize(){e((function(){h.style.height=window.innerHeight+"px",document.body.scrollTop=0}))};return t(),window.addEventListener("resize",t),function(){document.documentElement.classList.remove(u.a["html-full-viewport"]),document.body.classList.remove(u.a["body-full-viewport"]),window.removeEventListener("resize",t)}}}),[h]),Object(d.jsx)("div",Object(i.a)(Object(i.a)({},l),{},{ref:f,className:s()(u.a["full-viewport"],n),children:o}))}}).call(this,n(108).setImmediate)},629:function(e,t,n){e.exports={"html-full-viewport":"FullViewport_html-full-viewport__2FFOO","body-full-viewport":"FullViewport_body-full-viewport__2_xlv","full-viewport":"FullViewport_full-viewport__2RwSj"}},630:function(e,t,n){e.exports={"auto-scaler":"AutoScaler_auto-scaler__zdzsp","content-wrap":"AutoScaler_content-wrap__2tFDr"}},631:function(e,t,n){e.exports={"notification-stack":"NotificationStack_notification-stack__1UiWO","inner-wrap":"NotificationStack_inner-wrap__2Mc0d"}},634:function(e,t,n){e.exports={"button-transparent":"ButtonTransparent_button-transparent__nu1PF"}},635:function(e,t,n){e.exports={padding:"Padding_padding__3cEtV","no-siblings":"Padding_no-siblings__1nLrM"}},636:function(e,t,n){},637:function(e,t,n){},638:function(e,t,n){e.exports={notification:"Notification_notification__3v54G",action:"Notification_action__3RBsB","main-image-wrap":"Notification_main-image-wrap__eqHez","main-image":"Notification_main-image__1PfuN",title:"Notification_title__2OHSD","body-outer-wrap":"Notification_body-outer-wrap__3eJfO",body:"Notification_body__1eZc4",close:"Notification_close__1O8FQ"}},639:function(e,t,n){e.exports={"virtual-link":"VirtualLink_virtual-link__76t27"}},641:function(e,t,n){e.exports={led:"LED_led__1cyGI",gray:"LED_gray__3hMZV",grey:"LED_grey__1_Ool",red:"LED_red__2O1gd",orange:"LED_orange__1Asac",yellow:"LED_yellow__H5_0O",green:"LED_green__5BS9Y",blue:"LED_blue__fOsqG"}},642:function(e,t,n){e.exports={"color-adjuster":"ColorAdjuster_color-adjuster__2X490"}},644:function(e,t,n){e.exports={"object-viewer":"ObjectViewer_object-viewer__8k3ak"}},667:function(e,t,n){},668:function(e,t,n){e.exports={levels:"AudioLevelMeter_levels__3baNN","level-container":"AudioLevelMeter_level-container__12piT",level:"AudioLevelMeter_level__2fRqJ"}},669:function(e,t,n){},670:function(e,t,n){e.exports={"loading-wrapper":"StaggeredWaveLoading_loading-wrapper__35kvv",loading:"StaggeredWaveLoading_loading__9ah1x",dot:"StaggeredWaveLoading_dot__1cWhz",wave:"StaggeredWaveLoading_wave__Du7Gv"}},671:function(e,t,n){e.exports={vu:"VUMeter_vu__Xlt7R",mask:"VUMeter_mask__2OXhL",needle:"VUMeter_needle__AmMsB","vu-label":"VUMeter_vu-label__3kDDJ"}},672:function(e,t,n){e.exports={video:"Video_video__2GgL9"}},673:function(e,t,n){},682:function(e,t,n){"use strict";n.r(t);var i=n(15),c=n.n(i),r=n(155),a=n(84),o=n(74),s=n(518),l=n(153),u=n(27),d=n.n(u),j=n(528);var b=n(533),O=n(601),h=n(526),f=n(519),v=n.n(f),p=n(541),m=n.n(p),x=n(43),g=["className","children"];function Header(e){var t=e.className,n=e.children,i=Object(s.a)(e,g);return Object(x.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{className:v()(m.a.header,t),children:Object(x.jsx)(h.a,{children:n})}))}var w=["className","children"];function Content_Content(e){var t=e.className,n=e.children,i=Object(s.a)(e,w);return Object(x.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{className:v()(m.a.content,t),children:Object(x.jsx)(h.a,{children:n})}))}var y=["className","children"];function Footer(e){var t=e.className,n=e.children,i=Object(s.a)(e,y);return Object(x.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{className:v()(m.a.footer,t),children:Object(x.jsx)(h.a,{children:n})}))}var C=n(607),S=n.n(C),k=["children","className","disableVerticalFill"],A=["children","className"];function Row(e){var t=e.children,n=e.className,i=e.disableVerticalFill,c=void 0!==i&&i,r=Object(s.a)(e,k);return Object(x.jsx)("div",Object(a.a)(Object(a.a)({},r),{},{className:v()(S.a.row,c&&S.a["disable-vertical-fill"],n),children:t}))}function Column(e){var t=e.children,n=e.className,i=Object(s.a)(e,A);return Object(x.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{className:v()(S.a.column,n),children:t}))}var M=["className","children"];var _=function Layout(e){var t=e.className,n=e.children,i=Object(s.a)(e,M);return Object(x.jsx)(h.a,Object(a.a)(Object(a.a)({},i),{},{className:v()(m.a.layout,t),children:n}))},D=n(565),N=["children","onBorderDrag","borderWidth","isDisabled"],T="NW",I="NE",E="E",R="SE",P="SW",U="W",W=function useDirectionalDragger(e,t){return Object(D.useDrag)((function(n){var i=n.down,c=Object(l.a)(n.movement,2),r=c[0],a=c[1];t(e,{mx:r,my:a,isDragging:i})}),{pointer:{touch:!0}})};var z=n(609),F=n.n(z),L=["children","className"];var V=function NoWrap(e){var t=e.children,n=e.className,i=Object(s.a)(e,L);return Object(x.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{className:v()(F.a["no-wrap"],n),children:t}))},B=n(552),H=n.n(B),Q=n(597);function useDesktopContext(){return Object(u.useContext)(Q.a)}var K=n(547);function useUIParadigm(){var e=useDesktopContext();return{uiParadigm:e.uiParadigm,isUIParadigmAutoSet:e.isUIParadigmAutoSet,setStaticUIParadigm:e.setStaticUIParadigm}}function WindowTitleBarMaximizeButton(e){var t=Object.assign({},e);return Object(x.jsx)(WindowTitleBarButton,Object(a.a)(Object(a.a)({},t),{},{className:H.a.maximize}))}function WindowTitleBarMinimizeButton(e){var t=Object.assign({},e);return Object(x.jsx)(WindowTitleBarButton,Object(a.a)(Object(a.a)({},t),{},{className:H.a.minimize}))}function WindowTitleBarCloseButton(e){var t=Object.assign({},e);return Object(x.jsx)(WindowTitleBarButton,Object(a.a)(Object(a.a)({},t),{},{className:H.a.close}))}function WindowTitleBarButton(e){var t=Object.assign({},e);return Object(x.jsx)("button",Object(a.a)({},t))}var Y=["onElTitleBar","title","onRestoreOrMaximize","onMinimize","onClose","titleBarView"];var G=function WindowTitleBar(e){var t=e.onElTitleBar,n=e.title,i=e.onRestoreOrMaximize,c=e.onMinimize,r=e.onClose,o=e.titleBarView,l=Object(s.a)(e,Y),d=useUIParadigm().uiParadigm,j=d===K.a||o,b=Object(u.useMemo)((function(){return d===K.a?{onDoubleClick:i}:{}}),[d,i]);return j?Object(x.jsxs)("div",Object(a.a)(Object(a.a)(Object(a.a)({},l),{},{ref:t,className:H.a["title-bar"]},b),{},{children:[o?Object(x.jsx)(h.a,{children:o}):Object(x.jsx)(V,{className:H.a.title,children:n}),d===K.a&&Object(x.jsxs)(V,{className:H.a["window-controls"],children:[Object(x.jsx)(WindowTitleBarMaximizeButton,{onClick:i}),Object(x.jsx)(WindowTitleBarMinimizeButton,{onClick:c}),Object(x.jsx)(WindowTitleBarCloseButton,{onClick:r})]})]})):null};var Z=n(550),J=n(549),X=n.n(J),q=n(564),$=n(674);function useObjectState(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(u.useState)(e),n=Object(l.a)(t,2),i=n[0],c=n[1],r=Object(u.useRef)(i);r.current=i;var o=Object(u.useCallback)((function(e){switch(typeof e){case"string":try{e=JSON.parse(e)}catch(t){throw console.error("Unable to parse string into JSON.  Did you forget to use an Object when setting object state?"),t}break;case"function":e=e(r.current);break;case"object":break;default:throw new TypeError("Unhandled useObjectState type: ".concat(typeof e))}c((function(t){var n=Object(a.a)(Object(a.a)({},t),e);return Object.keys(Object($.a)(t,n)).length?n:t}))}),[]);return[i,o]}var ee=n(596);function useAppOrchestrationContext(){return Object(u.useContext)(ee.a)}var te=function useWindowAutoPositioner(e){var t=e.elWindow,n=e.elWindowManager,i=e.windowController,c=e.onInitialAutoPosition,r=void 0===c?function(){return null}:c,a=Object(u.useRef)(null);t&&(a.current=r);var o=function useWindowOutOfBoundsPositionCorrection(e){var t=e.elWindow,n=e.elWindowManager,i=e.windowController,c=useObjectState({x:null,y:null}),r=Object(l.a)(c,2),a=r[0],o=r[1],s=Object(u.useCallback)((function(e,t){var n=Object(Z.a)(t),i=Object(Z.a)(e),c=Object(q.a)(e),r=c.x,a=c.y,o=c.x+i.width,s=c.y,l={x:null,y:null};return o<58&&(l.x=58-i.width),s<0&&(l.y=0),r>n.width-58&&(l.x=n.width-58),a>n.height-58&&(l.y=n.height-58),l}),[]),d=useUIParadigm().uiParadigm;return Object(u.useEffect)((function(){if(d===K.a&&t&&n&&i){var e=X()((function(){if(!i.getIsMinimized()){var e=s(t,n);o(e)}}),100,!1);return i.on(j.c,e),i.on(j.a,e),window.addEventListener("resize",e),e(),function unmount(){i.off(j.c,e),i.off(j.a,e),window.removeEventListener("resize",e)}}}),[d,t,n,i,s,o]),a}({elWindow:t,elWindowManager:n,windowController:i});Object(u.useEffect)((function(){if(i&&(null!==o.x||null!==o.y)){var e=i.getPosition(),t={x:null!==o.x?o.x:e.x,y:null!==o.y?o.y:e.y};i.setPosition(t)}}),[i,o]);var s=Object(u.useCallback)((function(){var e=function getElCenterPoint(e){return{x:e.offsetLeft+e.offsetWidth/2,y:e.offsetTop+e.offsetHeight/2}}(n),c=Object(Z.a)(t),r=e.x-c.width/2,a=e.y-c.height/2;i.setPosition({x:r,y:a})}),[n,t,i]),d=Object(u.useCallback)((function(){if(i){var e=Object(Z.a)(n),c=Object(Z.a)(t),r=Math.floor(Math.random()*(e.width-c.width)),a=Math.floor(Math.random()*(e.height-c.height));i.setPosition({x:r,y:a})}}),[n,t,i]),b=useAppOrchestrationContext().appRuntimes,O=Object(u.useRef)(b);Object(u.useEffect)((function(){n&&t&&i&&(i.__INTERNAL__setCenterHandler(s),i.__INTERNAL__setScatterHandler(d),window.requestAnimationFrame((function(){O.current.length<2?s():d(),window.requestAnimationFrame((function(){a.current()}))})))}),[n,t,i,s,d])};var ne=n(574);var ie=["children","elWindowManager","windowController","isActive","titleBarView","style"],ce=function WindowView(e){var t=e.children,n=e.elWindowManager,i=e.windowController,c=e.isActive,r=e.titleBarView,o=void 0===r?null:r,b=e.style,f=void 0===b?{}:b,p=Object(s.a)(e,ie),m=Object(u.useState)(null),g=Object(l.a)(m,2),w=g[0],y=g[1],C=function useWindowOpenAnimation(e){var t=Object(u.useState)(!1),n=Object(l.a)(t,2),i=n[0],c=n[1];return Object(ne.a)({domElement:e,animationName:"zoomInUp",animationDuration:".5s",shouldRun:Boolean(e),onAnimationEnd:function onAnimationEnd(){return c(!0)}}),{isOpenAnimationEnded:i}}(w),S=C.isOpenAnimationEnded;te({elWindow:w,elWindowManager:n,windowController:i}),function useWindowAutoSizer(e){var t=e.windowController,n=useUIParadigm().uiParadigm;Object(u.useEffect)((function(){if(t&&!t.getIsMinimized())switch(n){case K.b:t.maximize();break;case K.a:t.restore()}}),[t,n])}({windowController:i});var k=Object(u.useState)(0),A=Object(l.a)(k,2),M=A[0],N=A[1],W=Object(u.useState)(null),z=Object(l.a)(W,2),F=z[0],L=z[1],V=Object(u.useRef)(null);V.current=F,Object(u.useEffect)((function(){i&&w&&i.__INTERNAL__attachWindowElement(w)}),[i,w]);var B=Object(u.useState)(!1),Q=Object(l.a)(B,2),Y=Q[0],Z=Q[1],J=Object(u.useRef)(null);J.current=Y;var X=Object(u.useState)(!1),q=Object(l.a)(X,2),$=q[0],ee=q[1],ce=Object(u.useState)(!1),re=Object(l.a)(ce,2),ae=re[0],oe=re[1];Object(u.useEffect)((function(){if(i){var e=function _handleWindowControllerUpdate(e){e||(e=i.getState()||{});var t=i.getTitle();t!==V.current&&L(t),void 0!==e.stackingIndex&&e.stackingIndex!==M&&N(e.stackingIndex),void 0!==e.isMaximized&&ee(e.isMaximized),void 0!==e.isMinimized&&oe(e.isMinimized);var n=i.getIsBorderDisabled();J.current!==n&&Z(n)};return e(),i.on(j.d,e),function unmount(){i.off(j.d,e)}}}),[i,F,M]);var se=function useWindowControls(e){var t=e.windowController;return{onRestoreOrMaximize:Object(u.useCallback)((function(){t.getIsMaximized()?t.restore():t.maximize()}),[t]),onMinimize:Object(u.useCallback)((function(){t.minimize()}),[t]),onClose:Object(u.useCallback)((function(){t.getIsDestroying()||t.destroy()}),[t])}}({windowController:i}),le=se.onRestoreOrMaximize,ue=se.onMinimize,de=se.onClose,je=function useWindowDragger(e){var t=e.windowController,n=e.isDisabled,i=Object(u.useRef)(null),c=Object(u.useRef)(null),r=Object(u.useState)(!1),a=Object(l.a)(r,2),o=a[0],s=a[1];return[Object(D.useDrag)((function(e){var r=e.down,a=Object(l.a)(e.movement,2),u=a[0],d=a[1],j=e.xy;if(e.event,n)o&&s(!1);else if(r!==o&&s(r),r){i.current||(i.current=t.getPosition()),c.current||(c.current=t.getWindowManagerSize());var b=i.current.x+u,O=i.current.y+d,h=c.current.width,f=c.current.height;O<0&&(O=0),O>f-58&&(O=f-58),j[0]<0&&(b=null),j[0]>h-0&&(b=null),t.setPosition({x:b,y:O})}else i.current=null,c.current=null})),o]}({windowController:i,isDisabled:Y}),be=Object(l.a)(je,2),Oe=be[0],he=be[1],fe=function useWindowDragResizer(e){var t=e.windowController,n=Object(u.useRef)(null),i=Object(u.useRef)(null),c=Object(u.useState)(!1),r=Object(l.a)(c,2),o=r[0],s=r[1];return[Object(u.useCallback)((function(e,c){var r=c.mx,l=c.my,u=c.isDragging;if(u!==o&&s(u),u){n.current||(n.current=Object(a.a)(Object(a.a)({},t.getSize()),t.getPosition())),i.current||(i.current=t.getWindowManagerSize());var d=n.current,j=d.width,b=d.height,O=d.x,h=d.y,f=i.current.width,v=i.current.height;switch(e){case T:j-=r,b-=l,O+=r,h+=l;break;case"N":b-=l,h+=l;break;case I:b-=l,j+=r,h+=l;break;case E:j+=r;break;case R:j+=r,b+=l;break;case"S":b+=l;break;case P:j-=r,b+=l,O+=r;break;case U:j-=r,O+=r;break;default:throw new ReferenceError("Unknown direction: ".concat(e))}if(![I,E,R].includes(e)&&O<0){var p=0-O;O=0,j-=p}if(h<0){var m=0-h;h=0,b-=m}if([T,U,P].includes(e)||j+O>f&&(j=f-O,O=null),b+h>v&&("S"!==e&&e!==R&&e!==P||(b=v-h,h=null)),v-h<58)return;t.setSize({width:j,height:b}),t.setPosition({x:O,y:h})}else n.current=null,i.current=null}),[t,o]),o]}({windowController:i}),ve=Object(l.a)(fe,2),pe=ve[0],me=ve[1],xe=useDesktopContext().isProfiling,ge=Object(u.useMemo)((function(){return function(e){var t=Object.assign({},e);return xe?Object(x.jsx)(d.a.Profiler,Object(a.a)(Object(a.a)({},t),{},{id:i.getUUID(),onRender:function onRender(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.captureRenderProfile(t)}})):Object(x.jsx)(d.a.Fragment,Object(a.a)({},t))}}),[xe,i]),we=function useWindowStyles(e){var t=e.style,n=e.isMaximized,i=e.isMinimized;return{outerBorderStyle:Object(u.useMemo)((function(){return n||i?{}:{width:t.width,height:t.height}}),[t.width,t.height,n,i]),windowStyle:Object(u.useMemo)((function(){return{backgroundColor:t.backgroundColor}}),[t.backgroundColor]),bodyStyle:Object(u.useMemo)((function(){return{padding:t.padding}}),[t.padding])}}({style:f,isMaximized:$,isMinimized:ae}),ye=we.outerBorderStyle,Ce=we.windowStyle,Se=we.bodyStyle;return Object(x.jsx)(ge,{children:Object(x.jsx)(O.a,Object(a.a)(Object(a.a)({onMount:y},p),{},{style:Object(a.a)(Object(a.a)({},ye),{},{zIndex:M}),className:v()(H.a["window-outer-border"],!S&&H.a.hidden,c&&H.a.active,$&&H.a.maximized,ae&&H.a.minimized,(he||me)&&H.a.dragging),isAccelerated:he||me,"data-reshell-window-title":i.getTitle(),children:Object(x.jsx)(WindowView.Border,{isDisabled:Y,onBorderDrag:pe,children:Object(x.jsx)(h.a,{className:v()(H.a.window,c&&H.a.active,he&&H.a.dragging),style:Ce,children:Object(x.jsxs)(_,{children:[Object(x.jsx)(Header,{children:Object(x.jsx)(G,Object(a.a)(Object(a.a)({},Oe()),{},{title:F,onRestoreOrMaximize:le,onMinimize:ue,onClose:de,titleBarView:o}))}),Object(x.jsx)(Content_Content,{className:H.a.body,style:Se,children:t})]})})})}))})};ce.Border=function WindowBorder(e){var t=e.children,n=e.onBorderDrag,i=e.borderWidth,c=void 0===i?3:i,r=e.isDisabled,o=void 0!==r&&r,l=Object(s.a)(e,N),u=W(T,n),d=W("N",n),j=W(I,n),b=W(E,n),O=W(R,n),h=W("S",n),f=W(P,n),v=W(U,n);return Object(x.jsxs)(_,Object(a.a)(Object(a.a)({},l),{},{children:[Object(x.jsx)(Header,{children:!o&&Object(x.jsxs)(Row,{style:{maxHeight:c,height:c},children:[Object(x.jsx)(Column,Object(a.a)(Object(a.a)({},u()),{},{style:{maxWidth:c,cursor:"nwse-resize"}})),Object(x.jsx)(Column,Object(a.a)(Object(a.a)({},d()),{},{style:{cursor:"ns-resize"}})),Object(x.jsx)(Column,Object(a.a)(Object(a.a)({},j()),{},{style:{maxWidth:c,cursor:"nesw-resize"}}))]})}),Object(x.jsx)(Content_Content,{children:Object(x.jsxs)(Row,{children:[!o&&Object(x.jsx)(Column,Object(a.a)(Object(a.a)({},v()),{},{style:{maxWidth:c,cursor:"ew-resize"}})),Object(x.jsx)(Column,{children:t}),!o&&Object(x.jsx)(Column,Object(a.a)(Object(a.a)({},b()),{},{style:{maxWidth:c,cursor:"ew-resize"}}))]})}),Object(x.jsx)(Footer,{children:!o&&Object(x.jsxs)(Row,{style:{maxHeight:c,height:c},children:[Object(x.jsx)(Column,Object(a.a)(Object(a.a)({},f()),{},{style:{maxWidth:c,cursor:"nesw-resize"}})),Object(x.jsx)(Column,Object(a.a)(Object(a.a)({},h()),{},{style:{cursor:"ns-resize"}})),Object(x.jsx)(Column,Object(a.a)(Object(a.a)({},O()),{},{style:{maxWidth:c,cursor:"nwse-resize"}}))]})})]}))};var re=ce,ae=["children","elWindowManager","isActive","titleBarView","style"],oe=d.a.forwardRef((function(e,t){var n=e.children,i=e.elWindowManager,c=e.isActive,r=e.titleBarView,o=e.style,d=void 0===o?{}:o,j=Object(s.a)(e,ae),b=Object(u.useState)(null),O=Object(l.a)(b,2),h=O[0],f=O[1];return Object(u.useImperativeHandle)(t,(function(){return{attachWindowController:f}})),h?Object(x.jsx)(re,Object(a.a)(Object(a.a)({},j),{},{style:d,elWindowManager:i,windowController:h,isActive:c,titleBarView:r,children:n})):null})),se=d.a.createContext({});function WindowProvider(e){var t=e.children,n=e.initialSharedState,i=useObjectState(void 0===n?{}:n),c=Object(l.a)(i,2),r=c[0],a=c[1];return Object(x.jsx)(se.Provider,{value:{setSharedState:a,sharedState:r},children:t})}var le=n(571),ue=n(520),de=d.a.createContext({});function WindowManagerRouteProvider(e){var t,n=e.children,i=useAppOrchestrationContext(),c=i.getAppRuntimesWithRegistrationID,r=i.activateAppRegistrationWithID,a=useDesktopContext(),o=a.activeWindowController,s=a.setActiveWindowController,l=Object(le.a)();Object(u.useEffect)((function(){l?r(l):s(null)}),[l,c,s,r]);var d=null===o||void 0===o||null===(t=o.getAppRuntime())||void 0===t?void 0:t.getRegistrationID(),j=Object(ue.d)();return Object(u.useEffect)((function(){if(d!==l){var e=X()((function(){return j.push(d?"/".concat(d):"/")}),50,!1);return e(),function(){return e.clear()}}}),[d,l,j]),Object(x.jsx)(de.Provider,{value:{},children:n})}var je=n(568),be=n(542),Oe=["view","titleBarView","initialSharedState","id","title","serviceClasses","isPinned","isPinnedToDock","isAutoStart"],he=["titleBarView"],fe=0;function WindowManagerView(e){var t=e.children,n=useAppOrchestrationContext().appRuntimes,c=Object(u.useState)(null),r=Object(l.a)(c,2),d=r[0],O=r[1],h=useDesktopContext(),f=h.activeWindowController,v=h.setActiveWindowController,p=Object(u.useState)({}),m=Object(l.a)(p,2),g=m[0],w=m[1],y=Object(u.useCallback)((function(e){return g[e]}),[g]),C=Object(u.useRef)(null);C.current=f;var S=Object(u.useCallback)((function(e){(null===e||void 0===e?void 0:e.getIsMinimized())&&e.setIsMinimized(!1),Object.is(e,C.current)||(v(e),e&&e.setState({stackingIndex:++fe}))}),[v]),k=Object(u.useCallback)((function(e){return Object.is(f,e)}),[f]),A=Object(je.a)().startServiceClass,M=Object(u.useRef)(S);M.current=S,Object(u.useEffect)((function(){if(d){var e=function _handleElBaseTouch(e){e.target===d&&M.current(null)};return d.addEventListener("mousedown",e),d.addEventListener("touchstart",e,{passive:!0}),function unmount(){d.removeEventListener("mousedown",e),d.removeEventListener("touchstart",e,{passive:!0})}}}),[d]);var _=n.map((function(e){var t=e.getAppDescriptor();if(!t)return null;var n=e.getUUID(),c=t.view,r=t.titleBarView,l=t.initialSharedState,u=(t.id,t.title),b=t.serviceClasses,O=void 0===b?[]:b,h=(t.isPinned,t.isPinnedToDock,t.isAutoStart,Object(s.a)(t,Oe));if(!c)return null;var f=y(n),v=f&&f.windowController;if(f&&!f.windowController)return null;var p,m={},g=Object(o.a)(O);try{for(g.s();!(p=g.n()).done;){var C=p.value,M=A(C);m[C]=M}}catch(_){g.e(_)}finally{g.f()}return Object(x.jsx)(WindowProvider,{initialSharedState:l,children:Object(x.jsx)(oe,Object(a.a)(Object(a.a)({},h),{},{elWindowManager:d,isActive:k(v),onMouseDown:function onMouseDown(){return S(v)},onTouchStart:function onTouchStart(){return S(v)},titleBarView:r?Object(x.jsx)(ve,{titleBarView:r,appServices:m,windowController:v,appRuntime:e}):null,ref:function ref(t){if(t&&!v){var c=new j.e({},{onBringToTop:S});c.setTitle(u),c.__INTERNAL__attachWindowManagerElement(d),c.setAppRuntime(e),e.__INTERNAL__setWindowController(c),t.attachWindowController(c),w((function(e){var t=Object(a.a)({},e);return t[n]={windowController:c,key:n},t})),c.once(i.EVT_DESTROYED,(function(){w((function(e){var t=Object(a.a)({},e);return t[n].windowController=null,t}))})),S(c)}},children:v&&Object(x.jsx)(pe,{appServices:m,windowController:v,appRuntime:e,view:c})}))},n)})).filter((function(e){return Boolean(e)}));return Object(x.jsx)(b.a,{children:Object(x.jsxs)("div",{ref:O,style:{width:"100%",height:"100%",position:"relative"},children:[t,_]})})}var ve=function WrappedTitleBarView(e){var t=e.titleBarView,n=Object(s.a)(e,he);return Object(x.jsx)(pe,Object(a.a)(Object(a.a)({},n),{},{view:t}))},pe=function WrappedView(e){var t=e.appServices,n=e.windowController,c=e.appRuntime,r=e.view,a=Object(be.a)(),o=function useWindowContext(){return Object(u.useContext)(se)}(),s=o.sharedState,l=o.setSharedState;Object(u.useEffect)((function(){for(var e=function _handleServiceUpdate(){a()},n=0,c=Object.values(t);n<c.length;n++){c[n].on(i.EVT_UPDATED,e)}return function unmount(){for(var n=0,c=Object.values(t);n<c.length;n++){c[n].off(i.EVT_UPDATED,e)}}}),[t,a]);var d=function useRegistrationViewOnResized(e){var t=Object(u.useRef)(null),n=Object(u.useCallback)((function(e){t.current=e}),[]);return Object(u.useEffect)((function(){if(e){if(!(e instanceof j.e))throw new TypeError("windowController is not a WindowController");var n=function _handleExecResizedCallback(){var e=t.current;"function"===typeof e&&e()};return e.on(j.c,n),function unmount(){e.off(j.c,n)}}}),[e]),n}(n);return Object(x.jsx)(r,{windowController:n,appServices:t,appRuntime:c,setResizeHandler:d,sharedState:s,setSharedState:l})},me=function WindowManager(e){var t=e.appDescriptors,n=void 0===t?[]:t,i=e.children,c=useAppOrchestrationContext().addOrUpdateAppRegistration;return Object(u.useEffect)((function(){n.forEach((function(e){return c(e)}))}),[n,c]),Object(x.jsx)(WindowManagerRouteProvider,{children:Object(x.jsx)(WindowManagerView,{children:i})})},xe=n(45),ge=n(619).a;var we=function MenuBar(e){var t=e.menuStructures,n=void 0===t?[]:t,i=Object(u.useState)([]),c=Object(l.a)(i,2),r=c[0],a=c[1],s=Object(u.useState)(!1),d=Object(l.a)(s,2),j=d[0],b=d[1];return Object(u.useEffect)((function(){var e=Boolean(r.length);j!==e&&(b(e),e||a([]))}),[j,r]),Object(u.useEffect)((function(){var e,t=Object(o.a)(r);try{for(t.s();!(e=t.n()).done;){var i=e.value;if(!n[i]){a([]),b(!1);break}}}catch(c){t.e(c)}finally{t.f()}}),[r,n]),Object(x.jsx)(V,{children:n.map((function(e,t){return e&&Object(x.jsx)(ge,{menuStructure:e,onOpen:function onOpen(){return a((function(e){return Object(xe.a)(new Set([].concat(Object(xe.a)(e),[t])))}))},onClose:function onClose(){return a((function(e){return e.filter((function(e){return e!==t}))}))},opened:Boolean(r.includes(t)),onMouseOver:function onMouseOver(){j&&(r.includes(t)||a([t]))}},t)}))})};var ye=function DesktopMenuBar(){var e=useUIParadigm(),t=e.uiParadigm,n=e.isUIParadigmAutoSet,c=e.setStaticUIParadigm,a=useDesktopContext().activeWindowController,o=useAppOrchestrationContext(),s=o.appRegistrations,l=o.activateAppRegistration,d=o.appRuntimes,j=Object(be.a)();Object(u.useEffect)((function(){if(a)return a.on(i.EVT_UPDATED,j),function(){a.off(i.EVT_UPDATED,j)}}),[a,j]);var b=Object(u.useMemo)((function(){return s.sort((function(e,t){var n=e.getTitle(),i=t.getTitle();return n<i?-1:i>n?1:0})).map((function(e){return{role:e.getTitle(),click:function click(){return l(e)}}}))}),[s,l]),O=Object(u.useMemo)((function(){var e=s.filter((function(e){return e.getIsPinned()})).map((function(e){return{role:e.getTitle(),click:function click(){return l(e)}}}));return e.length?[{type:"separator",label:"Pinned Applications"}].concat(Object(xe.a)(e)):[]}),[s,l]),h=d.length>0,f={label:"Desktop",submenu:[{label:"Applications",submenu:b}].concat(Object(xe.a)(O),[{type:"separator",label:"Layout Control"},{label:"UI Paradigm",submenu:[{label:"Desktop Paradigm",click:function click(){return c(K.a)},type:"checkbox",checked:t===K.a},{label:"Mobile Paradigm",click:function click(){return c(K.b)},type:"checkbox",checked:t===K.b},{label:"Auto Detect",click:function click(){return c(null)},type:"checkbox",checked:n}]}],Object(xe.a)(t===K.a?[{label:"Scatter Windows",click:function click(){return d.forEach((function(e){var t=e.getWindowController();t&&t.scatter()}))},disabled:!h},{label:"Center Windows",click:function click(){return d.forEach((function(e){var t=e.getWindowController();t&&t.center()}))},disabled:!h}]:[]),[{type:"separator",label:"Desktop Operations"},{label:"Reload ReShell",click:function click(){window.confirm("Are you sure you wish to reload?")&&r.a.reload()}},{label:"Quit ReShell",click:function click(){window.confirm("Are you sure you wish to close the desktop?")&&r.a.destroy()}}])},v=null===a||void 0===a?void 0:a.getTitle(),p=Object(u.useMemo)((function(){if(a)return{label:v,submenu:[{label:"Quit",click:function click(){return a.destroy()}}]}}),[a,v]),m=function(){if(t===K.a&&a)return{label:"Window",submenu:[{label:"Minimize",click:function click(){return a.minimize()},disabled:a.getIsMinimized()},{label:"Maximize",click:function click(){return a.maximize()},disabled:a.getIsMaximized()},{label:"Restore",click:function click(){return a.restore()},disabled:!a.getIsMaximized()&&!a.getIsMinimized()},{label:"Scatter",click:function click(){return a.scatter()}},{label:"Center",click:function click(){return a.center()}}]}}();return Object(x.jsx)(we,{menuStructures:[f,p,m]})};var Ce=function TopBar(){return Object(x.jsx)(Row,{children:Object(x.jsx)(Column,{style:{width:"100%"},children:Object(x.jsx)(ye,{})})})},Se=n(577),ke=n.n(Se);function DockItem(e){var t=e.appRegistration,n=e.isActiveRegistration,i=e.onClick,c=e.elDock,r=Object(u.useState)(null),a=Object(l.a)(r,2),o=a[0],s=a[1];return Object(u.useEffect)((function(){if(c&&o&&n){var e=o.offsetLeft,t=o.offsetTop;c.scrollTo({top:t,left:e,behavior:"smooth"})}}),[c,o,n]),Object(x.jsx)("button",{ref:s,className:v()(ke.a["dock-item"],n&&ke.a.active),onClick:i,children:t.getTitle()})}var Ae=n(600);var Me=function Dock(){var e=Object(u.useState)(null),t=Object(l.a)(e,2),n=t[0],i=t[1],c=Object(u.useState)(null),r=Object(l.a)(c,2),a=r[0],o=r[1],s=Object(Ae.a)(a),d=Object(u.useCallback)((function(e){n.scroll({top:0,left:n.scrollLeft+e.deltaY})}),[n]),j=useDesktopContext().activeWindowController,b=useAppOrchestrationContext(),O=b.appRegistrations,h=b.runningAppRegistrations,f=b.activateAppRegistration,p=Object(u.useMemo)((function(){return Object(xe.a)(new Set([].concat(Object(xe.a)(O.filter((function(e){return e.getIsPinnedToDock()}))),Object(xe.a)(h))))}),[O,h]),m=Object(u.useMemo)((function(){return null===j||void 0===j?void 0:j.getAppRegistration()}),[j]);return Object(x.jsx)("div",{ref:i,className:v()(ke.a.dock,ke.a["horizontal-orientation"],s&&ke.a.overflown),onWheel:d,children:Object(x.jsx)("div",{ref:o,className:v()("button-group",ke.a["content-wrapper"]),children:p.map((function(e){return Object(x.jsx)(DockItem,{appRegistration:e,isActiveRegistration:e===m,onClick:function onClick(){return f(e)},elDock:n},e.getUUID())}))})})},_e=n(628).a,De=n(630),Ne=n.n(De),Te=n(534),Ie=n.n(Te),Ee=n(166),Re=n(578),Pe=["children","className"];window.ResizeObserver||Object(Re.install)();var Ue=function AutoScaler(e){var t=e.children,n=e.className,i=Object(s.a)(e,Pe),c=Object(u.useState)(null),r=Object(l.a)(c,2),d=r[0],j=r[1],b=Object(u.useState)(null),O=Object(l.a)(b,2),h=O[0],f=O[1],p=Object(u.useMemo)(Ee.a,[]);return Object(u.useEffect)((function(){if(d&&h){var e={width:0,height:0},t={width:0,height:0};h.style.visibility="hidden";var n=new ResizeObserver((function(n){Ie()((function(){var i,c=Object(o.a)(n);try{for(c.s();!(i=c.n()).done;){var r=i.value,a={width:r.target.offsetWidth,height:r.target.offsetHeight};r.target===d?e=a:t=a}}catch(j){c.e(j)}finally{c.f()}var s=e.width/t.width,l=e.height/t.height,u=Math.min(s,l);h.style.transform="scale(".concat(u,", ").concat(u,")"),"hidden"===h.style.visibility&&setTimeout((function(){h.style.visibility="visible"}),4)}),p)}));return n.observe(d),n.observe(h),function unmount(){n.unobserve(d),n.unobserve(h)}}}),[d,h,p]),Object(x.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{ref:j,className:v()(Ne.a["auto-scaler"],n),children:Object(x.jsx)("div",{ref:f,className:Ne.a["content-wrap"],children:t})}))},We=n(631),ze=n.n(We),Fe=n(599),Le=n(634),Ve=n.n(Le),Be=["children","className"];var He=function ButtonTransparent(e){var t=e.children,n=e.className,i=Object(s.a)(e,Be);return Object(x.jsx)("button",Object(a.a)(Object(a.a)({className:v()(Ve.a["button-transparent"],n)},i),{},{children:t}))},Qe=n(635),Ke=n.n(Qe),Ye=["children","className"];var Ge=function Padding(e){var t=e.children,n=e.className,i=Object(s.a)(e,Ye),c=Object(u.useState)(null),r=Object(l.a)(c,2),o=r[0],d=r[1],j=Object(u.useState)(!1),b=Object(l.a)(j,2),O=b[0],h=b[1];return Object(u.useEffect)((function(){if(o){var e=Boolean(Object(xe.a)(o.parentNode.children).length>1);h(e)}}),[o]),Object(x.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{ref:d,className:v()(Ke.a.padding,!O&&Ke.a["no-siblings"],n),children:t}))},Ze=(n(636),["className"]),Je=function DynamicIcon(e){var t=e.className,n=Object(s.a)(e,Ze);return Object(x.jsx)("i",Object(a.a)(Object(a.a)({},n),{},{className:"ibcd0b21d7ccf498b89d8ce646138a3ec-icon".concat(t?" ".concat(t):"")}))},Xe=(n(637),["className"]),qe=function DynamicIcon(e){var t=e.className,n=Object(s.a)(e,Xe);return Object(x.jsx)("i",Object(a.a)(Object(a.a)({},n),{},{className:"id92dd65b22cd4a62996cb3b8e0f579db-icon".concat(t?" ".concat(t):"")}))},$e=n(638),et=n.n($e),tt=["body","image","title","uuid","onClose","onClick","autoCloseTime"];var nt=function Notification(e){var t=e.body,n=e.image,i=e.title,c=e.uuid,r=e.onClose,o=e.onClick,j=e.autoCloseTime,b=void 0===j?4e3:j,O=Object(s.a)(e,tt),h=Object(u.useState)(!1),f=Object(l.a)(h,2),v=f[0],p=f[1],m=Object(u.useRef)(r),g=Object(u.useCallback)((function(e){e&&e.stopPropagation(),p(!0),setTimeout((function(){m.current(c)}),500)}),[c]),w=Object(u.useState)(null),y=Object(l.a)(w,2),C=y[0],S=y[1];Object(u.useEffect)((function(){if(C){var e=null,t=function startTimeout(){e=setTimeout(g,b)};t();var n=function stopTimeout(){clearTimeout(e)};return C.addEventListener("mouseover",n,{passive:!0}),C.addEventListener("mouseout",t,{passive:!0}),C.addEventListener("touchstart",n,{passive:!0}),function unmount(){C.removeEventListener("mouseover",n,{passive:!0}),C.removeEventListener("mouseout",t,{passive:!0}),C.removeEventListener("touchstart",n,{passive:!0}),n()}}}),[C,b,g]);var k=Object(u.useMemo)((function(){return function(){switch(typeof n){case"string":return Object(x.jsx)("img",{alt:i,src:n,className:et.a["main-image"]});case"function":return n();default:return n||Object(x.jsx)(Je,{})}}}),[n,i]),A=Object(u.useMemo)((function(){return function(e){var t=Object.assign({},e);return"function"===typeof o?Object(x.jsx)(He,Object(a.a)(Object(a.a)({},t),{},{onClick:o,className:et.a.action})):Object(x.jsx)(d.a.Fragment,Object(a.a)({},t))}}),[o]);return Object(x.jsx)("div",Object(a.a)(Object(a.a)({ref:S,onTouchEnd:g,onMouseUp:g,className:et.a.notification},O),{},{children:Object(x.jsx)(Fe.a,{animationName:v?"slideOutRight":"slideInRight",animationDuration:".5s",children:Object(x.jsxs)("div",{className:et.a["body-outer-wrap"],children:[Object(x.jsx)(A,{children:Object(x.jsxs)(Ge,{children:[Object(x.jsx)("div",{className:et.a["main-image-wrap"],children:Object(x.jsx)(k,{})}),Object(x.jsx)("div",{className:et.a.title,children:i}),Object(x.jsx)("div",{className:et.a.body,children:t})]})}),Object(x.jsx)(He,{onClick:g,className:et.a.close,children:Object(x.jsx)(Ge,{children:Object(x.jsx)(qe,{})})})]})})}))};var it=function NotificationStack(e){var t=e.notifications,n=void 0===t?[]:t,i=e.onNotificationClose;return Object(x.jsx)("div",{className:ze.a["notification-stack"],children:Object(x.jsx)("div",{className:ze.a["inner-wrap"],children:n.map((function(e){var t=e.body,n=e.image,c=e.onClick,r=e.title,a=e.uuid;return Object(x.jsx)("div",{children:Object(x.jsx)(nt,{body:t,image:n,onClick:c,title:r,uuid:a,onClose:function onClose(){return i(a)}})},a)}))})})},ct=n(536),rt=n(3),at=n(4),ot=n(6),st=n(5),lt=n(57),ut=function(e){Object(ot.a)(UINotificationService,e);var t=Object(st.a)(UINotificationService);function UINotificationService(){var e;Object(rt.a)(this,UINotificationService);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).setTitle("UI Notification Service"),e.setState({notifications:[]}),e}return Object(at.a)(UINotificationService,[{key:"showNotification",value:function showNotification(e){var t=e.image,n=e.title,i=e.body,c=e.onClick,r=e.onClose,a=void 0===r?function(){return null}:r;this.setState({notifications:[].concat(Object(xe.a)(this.getState().notifications),[{image:t,title:n,body:i,onClick:c,onClose:a,uuid:Object(Ee.a)()}])})}},{key:"closeNotificationWithUUID",value:function closeNotificationWithUUID(e){var t=this.getState().notifications.filter((function(t){var n=t.uuid,i=t.onClose,c=e!==n;return c||i(),c}));this.setState({notifications:t})}}]),UINotificationService}(lt.c),dt=d.a.createContext({});var jt=function NotificationProvider(e){var t=e.children,n=Object(ct.a)(ut),i=n.serviceInstance,c=n.serviceState,r=Object(u.useCallback)((function(e){return i.showNotification(e)}),[i]),a=Object(u.useCallback)((function(e){return i.closeNotificationWithUUID(e)}),[i]);return Object(x.jsxs)(dt.Provider,{value:{showNotification:r},children:[t,Object(x.jsx)(it,{notifications:c.notifications,onNotificationClose:a})]})},bt=["view","onClose"];var Ot=function Modal(e){var t=e.view,n=e.onClose,i=Object(s.a)(e,bt);return Object(x.jsx)(b.a,{children:Object(x.jsx)(t,Object(a.a)(Object(a.a)({},i),{},{onClose:n}))})},ht=["view","uuid","onClose"];var ft=function ModalStack(e){var t=e.modals,n=void 0===t?[]:t;return Object(x.jsx)(x.Fragment,{children:n.map((function(e){var t=e.view,n=e.uuid,i=e.onClose,c=Object(s.a)(e,ht);return Object(x.jsx)("div",{children:Object(x.jsx)(Ot,Object(a.a)(Object(a.a)({},c),{},{view:t,uuid:n,onClose:i}))},n)}))})},vt=function(e){Object(ot.a)(UIModalService,e);var t=Object(st.a)(UIModalService);function UIModalService(){var e;Object(rt.a)(this,UIModalService);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).setTitle("UI Modal Service"),e.setState({modals:[]}),e}return Object(at.a)(UIModalService,[{key:"showModal",value:function showModal(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(Ee.a)(),c=null,r=function _handleClose(){clearTimeout(c),t.closeModalWithUUID(i)};this.setState({modals:[].concat(Object(xe.a)(this.getState().modals),[{view:e,uuid:i,onClose:r}])}),n.duration&&(c=setTimeout((function(){t.closeModalWithUUID(i)}),n.duration))}},{key:"closeModalWithUUID",value:function closeModalWithUUID(e){var t=this.getState().modals.filter((function(t){var n=t.uuid;return e!==n}));this.setState({modals:t})}}]),UIModalService}(lt.c),pt=d.a.createContext({});var mt=function ModalProvider(e){var t=e.children,n=Object(ct.a)(vt),i=n.serviceInstance,c=n.serviceState,r=Object(u.useCallback)((function(e){return i.showModal(e)}),[i]);return Object(x.jsxs)(pt.Provider,{value:{showModal:r},children:[t,Object(x.jsx)(ft,{modals:c.modals})]})};var xt=function Desktop(e){var t=e.backgroundView,n=void 0===t?null:t,i=e.appDescriptors;return Object(x.jsx)(_e,{children:Object(x.jsx)(mt,{children:Object(x.jsxs)(jt,{children:[Object(x.jsx)(b.a,{style:{backgroundColor:"#424242"},children:n}),Object(x.jsx)(b.a,{children:Object(x.jsxs)(_,{children:[Object(x.jsx)(Header,{style:{whiteSpace:"nowrap",backgroundColor:"rgba(0,0,0,.5)"},children:Object(x.jsx)(Ce,{})}),Object(x.jsxs)(Content_Content,{children:[Object(x.jsx)("div",{style:{maxWidth:"50%",position:"absolute",bottom:28,right:10,color:"rgba(255,255,255,.2)",fontSize:"2rem"},children:Object(x.jsx)(Ue,{style:{whiteSpace:"nowrap"},children:Object(x.jsxs)("div",{style:{textAlign:"left",fontSize:".7em"},children:[Object(x.jsxs)("div",{children:["ReShell ",r.a.getReShellVersion()]}),Object(x.jsxs)("div",{children:["PhantomCore ",c.a.getPhantomCoreVersion()]}),Object(x.jsxs)("div",{children:["Portal: ",r.a.getPortalName()]}),Object(x.jsxs)("div",{children:["Env: ","production"]})]})})}),Object(x.jsx)(me,{appDescriptors:i,children:Object(x.jsx)(Me,{})})]})]})})]})})})},gt=n(639),wt=n.n(gt),yt=["children","className","onClick"];var Ct=function VirtualLink(e){var t=e.children,n=e.className,i=e.onClick,c=Object(s.a)(e,yt);return Object(x.jsx)(He,Object(a.a)(Object(a.a)({},c),{},{className:v()("link",wt.a["virtual-link"],n),onClick:i,children:t}))},St={onKeyDown:function onKeyDown(e){return null},onKeyUp:function onKeyUp(e){return null},onEnter:function onEnter(){return null},onEscape:function onEscape(){return null},isEnabled:!0};var kt=n(521),At=n(641),Mt=n.n(At),_t=["color"];var Dt=function LED(e){var t=e.color,n=void 0===t?null:t,i=Object(s.a)(e,_t);return Object(x.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{className:v()(Mt.a.led,Mt.a[n])}))};function ApplicationSelector(e){var t=e.searchQuery,n=void 0===t?"":t,i=e.onResetSearchQuery,c=useAppOrchestrationContext(),r=c.appRegistrations,a=c.appRuntimes,o=c.activateAppRegistration,s=Object(u.useMemo)((function(){return a.map((function(e){return e.getRegistration()}))}),[a]),l=Object(u.useMemo)((function(){return r.filter((function(e){return!Boolean(n)||e.getTitle().toUpperCase().includes(n.toUpperCase())}))}),[r,n]);return(null===n||void 0===n?void 0:n.length)&&!l.length?Object(x.jsxs)(kt.a,{children:[Object(x.jsx)(Ge,{style:{fontWeight:"bold"},children:"No applications found for search."}),Object(x.jsx)(Ge,{children:Object(x.jsx)("button",{onClick:i,children:"Reset Search Query"})})]}):Object(x.jsx)(kt.a,{canOverflow:!0,children:Object(x.jsx)(Ge,{children:l.map((function(e){var t=s.filter((function(t){return t===e})).length;return Object(x.jsxs)("button",{style:{width:100,height:100,overflow:"hidden",backgroundColor:"transparent",borderColor:t>0?"green":""},onClick:function onClick(){return o(e)},children:[e.getTitle(),Object(x.jsx)("div",{style:{position:"absolute",bottom:0,right:0},children:Object(xe.a)(new Array(t)).map((function(e,n){return Object(x.jsx)(Dt,{color:t>0?"green":"gray",style:{margin:"0px 2px"}},n)}))})]},e.getUUID())}))})})}function PortalSwitcher(){return Object(x.jsx)(kt.a,{canOverflow:!0,children:Object.entries(r.a.getPortals()).map((function(e){var t=Object(l.a)(e,1)[0];return Object(x.jsx)("button",{onClick:function onClick(){return window.confirm("Any unsaved state will be lost and the current call will be dropped if switching portals.  Proceed?")&&r.a.switchToPortal(t)},children:t},t)}))})}var Nt=Object.keys(r.a.getPortals()).length,Tt={id:"applications",title:"Applications",style:{width:640,height:400},isAutoStart:!0,isPinnedToDock:!0,initialSharedState:{searchQuery:""},titleBarView:function TitleBarView(e){var t=e.sharedState,n=e.setSharedState,i=Object(u.useState)(null),c=Object(l.a)(i,2),r=c[0],o=c[1];!function useKeyboardEvents(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(u.useMemo)((function(){return Object(a.a)(Object(a.a)({},St),t)}),[t]),i=n.onKeyDown,c=n.onKeyUp,r=n.onEnter,o=n.onEscape,s=n.isEnabled;Object(u.useEffect)((function(){if(e&&s){var t=function _handleKeyDown(e){if(!e.repeat)switch(i(e.which),e.which){case 13:r();break;case 27:o()}},n=function _handleKeyUp(e){e.preventDefault(),c(e.which)};return e.addEventListener("keydown",t),e.addEventListener("keyup",n),function unmount(){e.removeEventListener("keydown",t),e.removeEventListener("keyup",n)}}}),[e,i,c,r,o,s])}(r,{onEscape:function onEscape(){return n({searchQuery:""})}});var s=Object(u.useCallback)((function(e){return n({searchQuery:e.target.value})}),[n]),d=Object(u.useCallback)((function(e){Boolean(t.searchQuery)&&e.stopPropagation()}),[t]);return Object(x.jsx)(Ge,{children:Object(x.jsx)("input",{ref:o,placeholder:"Search Applications",onChange:s,value:t.searchQuery,style:{width:"100%"},onDoubleClick:d})})},view:function View(e){var t=e.windowController,n=e.sharedState,i=e.setSharedState,c=Object(u.useState)(!1),r=Object(l.a)(c,2),a=r[0],o=r[1];Object(u.useEffect)((function(){t.setTitle(a?"Portals":"Applications")}),[t,a]);var s=null===n||void 0===n?void 0:n.searchQuery,d=Object(u.useCallback)((function(){return i({searchQuery:""})}),[i]);return Object(x.jsxs)(_,{children:[Object(x.jsx)(Content_Content,{children:a?Object(x.jsx)(PortalSwitcher,{}):Object(x.jsx)(ApplicationSelector,{searchQuery:s,onResetSearchQuery:d})}),Boolean(Nt>1)&&Object(x.jsx)(Footer,{children:Object(x.jsxs)(Ge,{children:[Object(x.jsx)("button",{onClick:function onClick(){return o((function(e){return!e}))},children:a?"Applications":"Portals"})," ",Object(x.jsx)("span",{className:"note",children:a?Object(x.jsxs)(x.Fragment,{children:["Return to"," ",Object(x.jsx)(Ct,{onClick:function onClick(){return o(!1)},children:"application list"}),"."]}):Object(x.jsxs)(x.Fragment,{children:["Other applications may be available in"," ",Object(x.jsx)(Ct,{onClick:function onClick(){return o(!0)},children:"another portal"}),"."]})})]})})]})}},It=Tt,Et=Object(a.a)(Object(a.a)({},It),{},{isAutoStart:!1}),Rt=["onTick","className"];var Pt=function Timer(e){var t,n=e.onTick,i=(e.className,Object(s.a)(e,Rt)),c=Object(u.useState)(n()),r=Object(l.a)(c,2),o=r[0],d=r[1],j=Object(u.useCallback)((function(){return n()}),[n]);return Object(u.useEffect)((function(){var e=function handleUpdate(){return d(j())};e();var t=window.setInterval(e,1e3);return function unmount(){window.clearInterval(t)}}),[j]),Object(x.jsx)(V,Object(a.a)(Object(a.a)({},i),{},{children:(t=o,new Date(t%86400*1e3).toISOString().substr(11,8))}))};function AppRuntimeTableRow(e){var t=e.appRuntime,n=useDesktopContext().activeWindowController,i=t.getWindowController(),c=!i||i===n,r=Object(u.useState)(null),a=Object(l.a)(r,2),o=a[0],s=a[1],d=Object(u.useState)(null),b=Object(l.a)(d,2),O=b[0],h=b[1],f=Object(u.useState)(null),v=Object(l.a)(f,2),p=v[0],m=v[1],g=Object(u.useState)(null),w=Object(l.a)(g,2),y=w[0],C=w[1],S=Object(u.useState)(null),k=Object(l.a)(S,2),A=k[0],M=k[1],_=Object(u.useState)(null),D=Object(l.a)(_,2),N=D[0],T=D[1];return Object(u.useEffect)((function(){if(i&&o){var e=function handleRenderProfile(e){var t=Object(l.a)(e,7),n=(t[0],t[1]),i=t[2],c=t[3],r=t[4],a=t[5],s=t[6];o.innerHTML=n,O.innerHTML=parseFloat(i).toFixed(2),p.innerHTML=parseFloat(c).toFixed(2),y.innerHTML=parseFloat(r/1e3).toFixed(2),A.innerHTML=parseFloat(a/1e3).toFixed(2),N.innerHTML=Object.values(s).length};return i.on(j.b,e),function unmount(){i.off(j.b,e)}}}),[i,o,O,p,y,A,N]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("tr",{style:{textAlign:"center"},children:[Object(x.jsx)("td",{children:t.getTitle()||"[Untitled]"}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:Object(x.jsx)("span",{ref:s,children:"N/A"})}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:Object(x.jsx)("span",{ref:h,children:"N/A"})}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:Object(x.jsx)("span",{ref:m,children:"N/A"})}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:Object(x.jsx)("span",{ref:C,children:"N/A"})}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:Object(x.jsx)("span",{ref:M,children:"N/A"})}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:Object(x.jsx)("span",{ref:T,children:"N/A"})})]},t.getUUID()),Object(x.jsxs)("tr",{style:{textAlign:"center"},children:[Object(x.jsxs)("td",{style:{fontStyle:"italic"},children:["Uptime: ",Object(x.jsx)(Pt,{onTick:function onTick(){return t.getInstanceUptime()}})]}),Object(x.jsxs)("td",{colSpan:"3",children:[Object(x.jsx)("button",{onClick:function onClick(){return console.log({appRuntime:t})},disabled:!0,children:"Process"}),Object(x.jsx)("span",{children:" | "}),Object(x.jsx)("button",{onClick:function onClick(){return console.log({environment:t.getEnvironment()})},disabled:!0,children:"Environment"})]}),Object(x.jsx)("td",{children:Object(x.jsx)(Dt,{color:c?"green":"gray"})}),Object(x.jsxs)("td",{colSpan:"2",children:[Object(x.jsx)("button",{onClick:function onClick(){return i.bringToTop()},style:{backgroundColor:"blue"},disabled:c,children:"Bring to Top"}),Object(x.jsx)("span",{children:" | "}),Object(x.jsx)("button",{onClick:function onClick(){t.getIsDestroying()||t.destroy()},style:{backgroundColor:"red"},children:"Close"})]})]}),Object(x.jsx)("tr",{children:Object(x.jsx)("td",{colSpan:"7",style:{backgroundColor:"gray",height:4}})})]})}function AppRuntimeTable(e){var t=e.appRuntimes;return Object(x.jsxs)("table",{style:{width:"100%"},children:[Object(x.jsxs)("thead",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{rowSpan:"2",children:"Name"}),Object(x.jsx)("td",{colSpan:"6",style:{backgroundColor:"purple"},children:"Profiler"}),Object(x.jsx)("td",{colSpan:"2"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:"Phase"}),Object(x.jsxs)("td",{style:{backgroundColor:"purple"},children:["Actual",Object(x.jsx)("br",{}),"Duration"]}),Object(x.jsxs)("td",{style:{backgroundColor:"purple"},children:["Base",Object(x.jsx)("br",{}),"Duration"]}),Object(x.jsxs)("td",{style:{backgroundColor:"purple"},children:["Start",Object(x.jsx)("br",{}),"Time"]}),Object(x.jsxs)("td",{style:{backgroundColor:"purple"},children:["Commit",Object(x.jsx)("br",{}),"Time"]}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:"Interactions"})]})]}),Object(x.jsx)("tbody",{children:t.map((function(e){return Object(x.jsx)(AppRuntimeTableRow,{appRuntime:e},e.getUUID())}))})]})}var Ut={id:"application-monitor",title:"Application Monitor",style:{width:640,height:480},isPinned:!0,view:function View(e){e.windowController;var t=useAppOrchestrationContext().appRuntimes,n=useDesktopContext(),i=n.isProfiling,r=n.setIsProfiling;return Object(u.useEffect)((function(){if(i)return function(){return r(!1)}}),[i,r]),i?Object(x.jsxs)(_,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Ge,{style:{overflowY:"auto"},children:Object(x.jsx)(AppRuntimeTable,{appRuntimes:t})})}),Object(x.jsx)(Footer,{style:{fontSize:".8rem"},children:Object(x.jsxs)(Ge,{children:["PhantomCore uptime: ",Object(x.jsx)(Pt,{onTick:function onTick(){return c.a.getUptime()}})]})})]}):Object(x.jsx)(kt.a,{children:Object(x.jsxs)("div",{children:["IMPORTANT: Each window may lose its current state once profiling is enabled. Also, once enabled and closing this application, the state may be lost again!",Object(x.jsx)(Ge,{children:Object(x.jsx)("button",{onClick:function onClick(){return r(!0)},style:{backgroundColor:"red"},children:"Enable Profiling"})})]})})}},Wt=["buttons","className"],zt=["content","onClick","disabled","isSelected","style","className","type"];var Ft=function ButtonPanel(e){var t=e.buttons,n=e.className,i=Object(s.a)(e,Wt),c=Object(u.useState)((function(){var e=0;return t.forEach((function(t,n){t.isSelected&&(e=n)})),e})),r=Object(l.a)(c,2),o=r[0],d=r[1],j=Object(u.useRef)(-1);return++j.current,Object(x.jsx)("div",Object(a.a)(Object(a.a)({className:v()("button-group",n)},i),{},{children:t.map((function(e,t){var n=e.content,i=e.onClick,c=e.disabled,r=(e.isSelected,e.style),l=e.className,b=e.type,O=void 0===b?"button":b,h=Object(s.a)(e,zt);return 0===j.current&&o===t&&setTimeout((function(){i()})),Object(u.createElement)("button",Object(a.a)(Object(a.a)({},h),{},{key:t,type:O,onClick:function onClick(){d(t),i()},disabled:c,style:r,className:v()([o===t&&"active",l])}),"string"===typeof n?n:"function"===typeof n?Object(x.jsx)(n,{}):{Content:n})}))}))},Lt=["children","target"];var Vt=function ExternalLink(e){var t=e.children,n=e.target,i=void 0===n?"_blank":n,c=Object(s.a)(e,Lt);return Object(x.jsx)("a",Object(a.a)(Object(a.a)({},c),{},{target:i,children:t}))},Bt=["href","target"];var Ht=function ExternalLinkButton(e){var t=e.href,n=e.target,i=void 0===n?"_blank":n,c=Object(s.a)(e,Bt);return Object(x.jsx)("button",Object(a.a)(Object(a.a)({},c),{},{onClick:function onClick(){return window.open(t,i)}}))},Qt={PhantomCore:"https://github.com/zenOSmosis/phantom-core",PhantomCollection:"https://github.com/zenOSmosis/phantom-core/tree/main/src/PhantomCollection",ReShellCore:"https://github.com/zenOSmosis/reshell.org-static",SyncObject:"https://github.com/zenOSmosis/sync-object",MediaStreamController:"https://github.com/zenOSmosis/media-stream-track-controller",WebRTCPeer:"https://github.com/zenOSmosis/webrtc-peer"},Kt={minHeight:"4em",whiteSpace:"wrap",width:"100%",height:"100%"};var Yt=function Details(){return Object(x.jsxs)(h.a,{style:{overflowY:"auto"},children:[Object(x.jsxs)("p",{children:["ReShell is a browser-based layout framework and UI services engine composed of various"," ",Object(x.jsx)("a",{href:"https://github.com/zenosmosis",target:"_blank",rel:"noreferrer",children:"open-source components"}),"."]}),Object(x.jsx)("p",{children:"It is currently in an alpha phase, and other builds may have other built-in applications."}),Object(x.jsxs)("p",{children:["Leveraged off of the core code for"," ",Object(x.jsx)(Vt,{href:"https://speaker.app",children:"Speaker.app"})," and other"," ",Object(x.jsx)(Vt,{href:"https://zenosmosis.com",children:"zenOSmosis"})," ","projects based on"," ",Object(x.jsx)(Vt,{href:"https://github.com/zenOSmosis/phantom-core",children:"PhantomCore"}),", a library for managing the JavaScript application lifecycle."]}),Object(x.jsx)("p",{style:{fontWeight:"bold"},children:"Some included technologies:"}),Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)("div",{style:{display:"inline-grid",gridTemplateColumns:"1fr 1fr 1fr"},children:Object.entries(Qt).map((function(e,t){var n=Object(l.a)(e,2),i=n[0],c=n[1];return Object(x.jsx)(Ge,{children:"string"===typeof c?Object(x.jsx)(Ht,{href:c,style:Kt,children:i}):Object(x.jsx)("button",{onClick:c,style:Kt,children:i})},t)}))})})]})},Gt={zenOSmosis:"https://zenOSmosis.com",GitHub:"https://github.com/zenosmosis","Speaker.app":"https://speaker.app"};var Zt=function Resources(){return Object(x.jsxs)(kt.a,{canOverflow:!0,children:[Object(x.jsx)("p",{style:{fontWeight:"bold"},children:"Additional resources:"}),Object(x.jsx)("div",{style:{display:"inline-block",textAlign:"left"},children:Object.entries(Gt).map((function(e,t){var n=Object(l.a)(e,2),i=n[0],c=n[1];return Object(x.jsxs)(Ge,{children:[i,":"," ",Object(x.jsx)(Vt,{href:c,children:c})]},t)}))}),Object(x.jsx)("hr",{}),Object(x.jsxs)("p",{children:["To contact us directly, email:"," ",Object(x.jsx)(Vt,{href:"mailto:info@zenosmosis.com",children:"info@zenosmosis.com"}),"."]})]})},Jt=(new Date).getFullYear();var Xt={id:"about-reshell",title:"About ReShell",style:{width:640,height:480},initialSharedState:{screen:"overview"},titleBarView:function TitleBarView(e){var t=e.sharedState,n=e.setSharedState;return Object(x.jsx)(Ge,{children:Object(x.jsx)(Ft,{buttons:[{content:"Overview",onClick:function onClick(){return n({screen:"overview"})},isSelected:"overview"===t.screen},{content:"Details",onClick:function onClick(){return n({screen:"details"})},isSelected:"details"===t.screen},{content:"Resources",onClick:function onClick(){return n({screen:"resources"})},isSelected:"resources"===t.screen}]},t.screen)})},view:function View(e){var t=e.sharedState,n=e.setSharedState;return Object(x.jsx)(Ge,{children:Object(x.jsxs)(_,{children:[Object(x.jsxs)(Content_Content,{children:["overview"===t.screen&&Object(x.jsx)(Ue,{children:Object(x.jsxs)(kt.a,{children:[Object(x.jsx)("div",{style:{fontSize:"8rem",fontStyle:"italic"},children:"ReShell"}),Object(x.jsx)(V,{style:{fontSize:"1.5rem"},children:"App layout framework and UI services engine"})]})}),"details"===t.screen&&Object(x.jsx)(Yt,{}),"resources"===t.screen&&Object(x.jsx)(Zt,{})]}),Object(x.jsxs)(Footer,{style:{textAlign:"center"},children:["overview"===t.screen&&Object(x.jsxs)("p",{children:[Object(x.jsx)(Ct,{onClick:function onClick(){return n({screen:"details"})},children:"Details"})," ","|"," ",Object(x.jsx)(Ct,{onClick:function onClick(){return n({screen:"resources"})},children:"Resources"})]}),Object(x.jsx)("div",{style:{opacity:.5},children:"Copyright \xa9 2010 - ".concat(Jt," zenOSmosis. All rights reserved.")})]})]})})}},qt=Object(a.a)(Object(a.a)({},Xt),{},{isAutoStart:!0}),$t=n(1),en=n.n($t),tn=n(10),nn=n(243),cn=n(156),rn=n.n(cn),an="check-for-updates",on={id:an,title:"Check for Updates",style:{width:320,height:240},isPinned:!0,view:function View(){var e=Object(u.useState)(!0),t=Object(l.a)(e,2),n=t[0],i=t[1],c=Object(u.useState)(!1),a=Object(l.a)(c,2),o=a[0],s=a[1],d=Object(u.useState)(!1),j=Object(l.a)(d,2),b=j[0],O=j[1],h=Object(u.useState)(null),f=Object(l.a)(h,2),v=f[0],p=f[1],m=Object(u.useRef)(null);m.current=o;var g=Object(u.useCallback)(Object(tn.a)(en.a.mark((function _callee(){var e;return en.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!m.current){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,O(!1),s(!0),t.next=8,Object(nn.a)();case 8:e=t.sent,i(e),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0),O(!0),i(!1);case 17:return t.prev=17,s(!1),p((new Date).getTime()),t.finish(17);case 21:case"end":return t.stop()}}),_callee,null,[[3,12,17,21]])}))),[]);return Object(u.useEffect)((function(){g()}),[g]),Object(x.jsxs)(_,{children:[Object(x.jsx)(Header,{children:Object(x.jsx)(Ge,{style:{textAlign:"center"},children:Object(x.jsx)("button",{onClick:g,disabled:o,children:"Check for Updates"})})}),Object(x.jsx)(Content_Content,{children:Object(x.jsx)(kt.a,{canOverflow:!0,children:b?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("p",{children:["There was an error checking for updates."," ",Object(x.jsx)("button",{onClick:g,children:"Try again?"})]})}):n?Object(x.jsx)("p",{children:"You appear to be running the latest version of ReShell."}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("p",{children:["Your version of ReShell appears out of date."," ",Object(x.jsx)("button",{onClick:function onClick(){return r.a.forceUpdate()},children:"Refresh?"})]})})})}),Object(x.jsx)(Footer,{children:Object(x.jsx)(Ge,{children:Object(x.jsxs)("div",{className:"note",children:["Last checked:"," ",v?rn()(v).format("LLL"):"N/A"]})})})]})}},sn=n(642),ln=n.n(sn),un={id:"color-adjuster",title:"Color Adjuster",style:{width:640,height:400},view:function View(e){e.windowController,e.appServices;var t=Object(u.useState)(!1),n=Object(l.a)(t,2),i=n[0],c=n[1];return Object(u.useEffect)((function(){i?document.body.classList.add("grayscale"):document.body.classList.remove("grayscale")}),[i]),Object(x.jsxs)(_,{className:ln.a["color-adjuster"],children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(kt.a,{children:Object(x.jsxs)("button",{onClick:function onClick(){return c((function(e){return!e}))},children:[i?"Disable":"Enable"," Grayscale"]})})}),Object(x.jsx)(Footer,{children:["#B04628","#B9FC6D","#FC7853","#3A65FC","#314EB0"].map((function(e,t){return Object(x.jsx)("div",{style:{backgroundColor:e,height:100,width:"20%",display:"inline-block"},children:Object(x.jsx)(kt.a,{children:Object(x.jsx)("span",{style:{padding:4,backgroundColor:"rgba(0,0,0,.4)",borderRadius:4},children:e})})},t)}))})]})}},dn=n(643),jn=n.n(dn),bn=n(644),On=n.n(bn),hn=["className","src"];var fn=function ObjectViewer(e){var t=e.className,n=e.src,i=Object(s.a)(e,hn);return Object(x.jsx)(h.a,Object(a.a)(Object(a.a)({},i),{},{className:v()(On.a["object-viewer"],t),children:Object(x.jsx)(jn.a,{src:n,theme:"monokai",style:{width:"100%",height:"100%"}})}))},vn="environment",pn={id:vn,title:"Environment",style:{width:512,height:384},view:function View(){return Object(x.jsx)(_,{children:Object(x.jsx)(Content_Content,{children:Object(x.jsx)(fn,{src:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})})})})}},mn=n(553),xn={id:"service-monitor",title:"Service Monitor",style:{width:640,height:480},isPinned:!0,view:function View(){var e=Object(u.useContext)(mn.a).services;return Object(x.jsx)(Ge,{style:{overflowY:"auto"},children:Object(x.jsxs)("table",{style:{width:"100%"},children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Service Name"}),Object(x.jsx)("td",{children:"Uptime"}),Object(x.jsx)("td",{children:"f(x)"})]})}),Object(x.jsx)("tbody",{children:e.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.getTitle()||"[Untitled]"}),Object(x.jsx)("td",{className:"center",children:Object(x.jsx)(Pt,{onTick:function onTick(){return e.getInstanceUptime()}})}),Object(x.jsx)("td",{className:"center",children:Object(x.jsx)("button",{onClick:function onClick(){return e.log(e.getState())},children:Object(x.jsx)(V,{children:"log(state)"})})})]},e.getUUID())}))})]})})}};var gn=["id","children","title"];var wn=function AppLinkButton(e){var t=e.id,n=e.children,i=void 0===n?null:n,c=e.title,r=void 0===c?null:c,o=Object(s.a)(e,gn),l=function useAppRegistrationLink(e){var t=useAppOrchestrationContext(),n=t.getAppRegistrationTitleWithID,i=t.activateAppRegistrationWithID;return{title:Object(u.useMemo)((function(){return n(e)}),[n,e]),link:Object(u.useCallback)((function(){return i(e)}),[i,e])}}(t),d=l.title,j=l.link,b=Object(u.useMemo)((function(){return function(e){return i?Object(x.jsx)(He,Object(a.a)({},e)):Object(x.jsx)("button",Object(a.a)({},e))}}),[i]);return j?Object(x.jsx)(b,Object(a.a)(Object(a.a)({},o),{},{onClick:j,children:i||r||d})):null},yn=n(252),Cn={id:"software-info",title:"Software Info",style:{width:640,height:480},view:function View(){return Object(x.jsxs)(_,{children:[Object(x.jsx)(Header,{children:Object(x.jsx)(Ge,{children:"Package.json content"})}),Object(x.jsx)(Content_Content,{children:Object(x.jsx)(fn,{src:yn})}),Object(x.jsx)(Footer,{children:Object(x.jsx)(Ge,{children:Object(x.jsxs)(Row,{children:[Object(x.jsx)(Column,{children:Object(x.jsx)(kt.a,{children:Object(x.jsxs)("div",{style:{float:"left",textAlign:"left"},className:"note",children:["ReShell version: ",r.a.getReShellVersion(),Object(x.jsx)("br",{}),"PhantomCore version: ",c.a.getPhantomCoreVersion(),Object(x.jsx)("br",{}),"Portal: ",r.a.getPortalName()]})})}),Object(x.jsx)(Column,{children:Object(x.jsxs)(kt.a,{style:{textAlign:"right"},children:[Object(x.jsx)(wn,{id:an})," ",Object(x.jsx)(wn,{id:vn})]})})]})})})]})}},Sn=n(539),kn=n(157),An=n(72),Mn="media-devices",_n="userMetadata",Dn=function(e){Object(ot.a)(MediaDeviceCachingService,e);var t=Object(st.a)(MediaDeviceCachingService);function MediaDeviceCachingService(){var e;Object(rt.a)(this,MediaDeviceCachingService);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).setState({devicesWithUserMetadata:[]}),e.setTitle("Media Device Caching Service"),e._storageEngine=e.useServiceClass(An.a).getSecureLocalStorageEngine(),Object(tn.a)(en.a.mark((function _callee(){return en.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e._fetchCachedMediaDeviceUserMetadata().then((function(t){return e.setState({devicesWithUserMetadata:t})}));case 1:case"end":return t.stop()}}),_callee)})))(),e}return Object(at.a)(MediaDeviceCachingService,[{key:"setMediaDeviceUserMetadata",value:function(){var e=Object(tn.a)(en.a.mark((function _callee2(e,t){var n,c,r,a;return en.a.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:if("object"===typeof e){o.next=2;break}throw new TypeError("device must be an object");case 2:if("object"===typeof t){o.next=4;break}throw new TypeError("userMetadata must be an object");case 4:return n={},Object(kn.a)(n,"device",e),Object(kn.a)(n,_n,t),c=n,o.next=7,this._fetchCachedMediaDeviceUserMetadata().then((function(n){return n.filter((function(n){var r=Sn.utils.mediaDevice.getIsSameMediaDevice(n.device,e);return r&&(c=Object(i.deepMerge)(n,Object(kn.a)({},_n,t))),!r}))}));case 7:return r=o.sent,a=[].concat(Object(xe.a)(r),[c]),o.next=11,this._storageEngine.setItem(Mn,a);case 11:this.setState({devicesWithUserMetadata:a});case 12:case"end":return o.stop()}}),_callee2,this)})));return function setMediaDeviceUserMetadata(t,n){return e.apply(this,arguments)}}()},{key:"_fetchCachedMediaDeviceUserMetadata",value:function(){var e=Object(tn.a)(en.a.mark((function _callee3(){var e;return en.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._storageEngine.fetchItem(Mn);case 2:if(e=t.sent,!Array.isArray(e)){t.next=7;break}return t.abrupt("return",e);case 7:return t.abrupt("return",[]);case 8:case"end":return t.stop()}}),_callee3,this)})));return function _fetchCachedMediaDeviceUserMetadata(){return e.apply(this,arguments)}}()},{key:"getMediaDeviceUserMetadata",value:function getMediaDeviceUserMetadata(e){var t=this.getState().devicesWithUserMetadata.find((function(t){return Sn.utils.mediaDevice.getIsSameMediaDevice(t.device,e)}));if(t)return t.userMetadata}}]),MediaDeviceCachingService}(lt.c),Nn=function(e){Object(ot.a)(InputMediaDeviceFactoryCollection,e);var t=Object(st.a)(InputMediaDeviceFactoryCollection);function InputMediaDeviceFactoryCollection(){return Object(rt.a)(this,InputMediaDeviceFactoryCollection),t.apply(this,arguments)}return InputMediaDeviceFactoryCollection}(Sn.MediaStreamTrackControllerFactoryCollection),Tn=function(e){Object(ot.a)(InputMediaDevicesService,e);var t=Object(st.a)(InputMediaDevicesService);function InputMediaDevicesService(){var e;Object(rt.a)(this,InputMediaDevicesService);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).setTitle("Input Media Devices Service"),e.setState({isFetchingMediaDevices:!1,isAudioContextStarted:!1,devices:[]}),e._mediaDeviceCachingService=e.useServiceClass(Dn),e._inputMediaDeviceFactoryCollection=e.bindCollectionClass(Nn),e.fetchInputMediaDevices(),e}return Object(at.a)(InputMediaDevicesService,[{key:"fetchInputMediaDevices",value:function(){var e=Object(tn.a)(en.a.mark((function _callee(){var e,t,n=this,i=arguments;return en.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return e=!(i.length>0&&void 0!==i[0])||i[0],this.setState({isFetchingMediaDevices:!0}),c.next=4,this.untilAudioContextResumed();case 4:return c.next=6,Sn.utils.mediaDevice.fetchInputMediaDevices(e).catch(console.error).finally((function(){return n.setState({isFetchingMediaDevices:!1})}));case 6:return t=c.sent,console.log({inputMediaDevices:t}),this.setState({devices:t}),c.abrupt("return",t);case 10:case"end":return c.stop()}}),_callee,this)})));return function fetchInputMediaDevices(){return e.apply(this,arguments)}}()},{key:"untilAudioContextResumed",value:function(){var e=Object(tn.a)(en.a.mark((function _callee2(){return en.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn.utils.audioContext.untilAudioContextResumed();case 2:this.setState({isAudioContextStarted:!0});case 3:case"end":return e.stop()}}),_callee2,this)})));return function untilAudioContextResumed(){return e.apply(this,arguments)}}()},{key:"getIsFetchingMediaDevices",value:function getIsFetchingMediaDevices(){return this.getState().isFetchingMediaDevices}},{key:"getInputMediaDevices",value:function getInputMediaDevices(){return this.getState().devices||[]}},{key:"getAudioInputMediaDevices",value:function getAudioInputMediaDevices(){return this.getInputMediaDevices().filter((function(e){return e.kind.includes("audioinput")}))}},{key:"getCaptureFactories",value:function getCaptureFactories(){return this._inputMediaDeviceFactoryCollection.getTrackControllerFactories()}},{key:"getIsAudioMediaDeviceBeingCaptured",value:function getIsAudioMediaDeviceBeingCaptured(e){return Boolean(Sn.MediaStreamTrackControllerFactory.getFactoriesWithInputMediaDevice(e,"audio").length)}},{key:"getMediaDeviceCaptureFactory",value:function getMediaDeviceCaptureFactory(e){var t=Sn.MediaStreamTrackControllerFactory.getFactoriesWithInputMediaDevice(e,"audio");if(t)return t[0]}},{key:"captureSpecificMediaDevice",value:function(){var e=Object(tn.a)(en.a.mark((function _callee3(e){var t,n,i,c=arguments;return en.a.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2&&void 0!==c[2]?c[2]:{},r.next=4,Sn.utils.mediaDevice.captureSpecificMediaDevice(e,t,n);case 4:return i=r.sent,this._inputMediaDeviceFactoryCollection.addTrackControllerFactory(i),r.abrupt("return",i);case 7:case"end":return r.stop()}}),_callee3,this)})));return function captureSpecificMediaDevice(t){return e.apply(this,arguments)}}()},{key:"uncaptureSpecificMediaDevice",value:function(){var e=Object(tn.a)(en.a.mark((function _callee4(e){return en.a.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Sn.utils.mediaDevice.uncaptureSpecificMediaDevice(e));case 1:case"end":return t.stop()}}),_callee4)})));return function uncaptureSpecificMediaDevice(t){return e.apply(this,arguments)}}()},{key:"getIsCapturingAnyAudio",value:function getIsCapturingAnyAudio(){return this._inputMediaDeviceFactoryCollection.getAudioTrackControllers().length}},{key:"getIsAllAudioMuted",value:function getIsAllAudioMuted(){return this._inputMediaDeviceFactoryCollection.getIsAudioMuted()}},{key:"setIsAllAudioMuted",value:function setIsAllAudioMuted(e){return this._inputMediaDeviceFactoryCollection.setIsAudioMuted(e)}},{key:"muteAllAudio",value:function muteAllAudio(){return this._inputMediaDeviceFactoryCollection.muteAudio()}},{key:"unmuteAllAudio",value:function unmuteAllAudio(){return this._inputMediaDeviceFactoryCollection.unmuteAudio()}}]),InputMediaDevicesService}(lt.c),In=(n(667),["className"]),En=function DynamicIcon(e){var t=e.className,n=Object(s.a)(e,In);return Object(x.jsx)("i",Object(a.a)(Object(a.a)({},n),{},{className:"i91eec2200f934fc6a4087e250fa26340-icon".concat(t?" ".concat(t):"")}))},Rn=n(668),Pn=n.n(Rn);function useArrayDiff(e){var t=function usePrevious(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(u.useRef)(t);return Object(u.useEffect)((function(){n.current=e}),[e]),n.current}(e,[]),n=Object(u.useState)({added:[],removed:[]}),c=Object(l.a)(n,2),r=c[0],a=c[1];return Object(u.useEffect)((function(){if(!Array.isArray(e))throw new Error("next should be an array");var n=i.PhantomCollection.getChildrenDiff(t,e),c=n.added,r=n.removed;(c.length||r.length)&&a({added:c,removed:r})}),[t,e]),{added:r.added,removed:r.removed}}var Un=Sn.MultiAudioMediaStreamTrackLevelMonitor.EVT_AUDIO_LEVEL_UPDATED;function useMultiAudioMediaStreamTrackLevelMonitor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Object(u.useMemo)((function(){return(e?Array.isArray(e)?e:[e]:[]).filter((function(e){return e instanceof MediaStreamTrack&&"audio"===e.kind}))}),[e]),i=Object(u.useState)(null),c=Object(l.a)(i,2),r=c[0],a=c[1],s=Object(u.useRef)(t);s.current=t,Object(u.useEffect)((function(){var e=new Sn.MultiAudioMediaStreamTrackLevelMonitor;return e.on(Un,(function(e){s.current(e)})),a(e),function unmount(){e.getIsDestroying()||e.destroy()}}),[]);var d=useArrayDiff(n),j=d.added,b=d.removed;Object(u.useEffect)((function(){if(r){var e,t=Object(o.a)(j);try{for(t.s();!(e=t.n()).done;){var n=e.value;r.addMediaStreamTrack(n)}}catch(s){t.e(s)}finally{t.f()}var i,c=Object(o.a)(b);try{for(c.s();!(i=c.n()).done;){var a=i.value;r.removeMediaStreamTrack(a)}}catch(s){c.e(s)}finally{c.f()}}}),[r,j,b])}var Wn=["className","mediaStreamTrack","mediaStreamTracks"];var zn=function AudioLevelMeter(e){var t=e.className,n=e.mediaStreamTrack,i=e.mediaStreamTracks,c=Object(s.a)(e,Wn),r=Object(u.useState)(null),o=Object(l.a)(r,2),d=o[0],j=o[1],b=Object(u.useMemo)(Ee.a,[]),O=Object(u.useCallback)((function(e){d&&Ie()((function(){var t=100-e;d.style.clipPath="inset(".concat(t,"% 0 0 0)"),d.style.WebkitClipPath="inset(".concat(t,"% 0 0 0)")}),b)}),[d,b]);return Object(u.useEffect)((function(){d&&O(0)}),[O,d]),useMultiAudioMediaStreamTrackLevelMonitor(n||i,O),Object(x.jsx)("div",Object(a.a)(Object(a.a)({className:v()(Pn.a.levels,t)},c),{},{children:Object(x.jsx)("div",{className:Pn.a["level-container"],children:Object(x.jsx)("div",{ref:j,className:Pn.a.level})})}))},Fn=(n(669),["className"]),Ln=function DynamicIcon(e){var t=e.className,n=Object(s.a)(e,Fn);return Object(x.jsx)("i",Object(a.a)(Object(a.a)({},n),{},{className:"ie8e4f3089b614c28aa33b6aaeff7d8b0-icon".concat(t?" ".concat(t):"")}))};function AudioInputDeviceTableRow(e){var t=e.device,n=e.mediaStreamTracks,i=e.isCapturing,c=e.onToggleCapture,r=e.isMuted,a=e.onToggleMute,o=e.audioQualityPresets,s=e.audioQualityPresetName,l=e.onChangeAudioQualityPresetName;if("audioinput"!==t.kind)throw new TypeError("device is not an audioinput device");return Object(x.jsxs)("tr",{style:i?{backgroundColor:"rgba(0,174,255,.2)"}:null,children:[Object(x.jsx)("td",{children:Object(x.jsxs)(Ge,{children:[Object(x.jsx)("div",{style:{fontWeight:"bold"},children:t.label||"[Unknown Label]"}),Object(x.jsxs)("div",{style:{marginTop:4},children:[Object(x.jsx)("span",{style:{fontSize:".7em"},children:"Quality:"})," ",i?Object(x.jsxs)("button",{onClick:c,style:{minWidth:145,textAlign:"left"},children:[s," ",Object(x.jsx)(qe,{style:{color:"orange",float:"right"}})]}):Object(x.jsx)("select",{value:s,onChange:function onChange(e){return l(e.target.value)},disabled:i,children:o.map((function(e,t){var n=e.name;return Object(x.jsx)("option",{value:n,children:n},t)}))})]})]})}),Object(x.jsx)("td",{className:"center",children:Object(x.jsx)(Ge,{children:Object(x.jsx)("button",{onClick:c,style:{backgroundColor:i?"red":"#347FE8",width:"100%"},children:i?"Stop":"Start"})})}),Object(x.jsx)("td",{className:"center",children:Object(x.jsx)(Ge,{children:Object(x.jsxs)(He,{disabled:!i,onClick:a,style:{color:i?r?"white":"orange":"inherit"},children:[Object(x.jsx)("div",{style:{textAlign:"center"}}),Object(x.jsx)(Ln,{style:{fontSize:"1.5em"}}),Object(x.jsx)("div",{style:{fontSize:".7em",marginTop:4},children:i?r?"Yes":"No":"N/A"})]})})}),Object(x.jsx)("td",{className:"center",style:{width:80,height:70},children:Object(x.jsx)(Ge,{children:i?"audioinput"===t.kind&&Object(x.jsx)(zn,{mediaStreamTracks:n}):Object(x.jsx)(kt.a,{style:{color:"gray",fontSize:".7em"},children:"Off"})})})]})}var Vn=Sn.utils.constraints.audioQualityPresets,Bn=Vn.AUDIO_QUALITY_PRESET_TALK_RADIO;var Hn=function InputMediaDevicesSelector(e){var t=e.onDeviceCapture,n=void 0===t?function(e){return null}:t,i=e.onDeviceUncapture,c=function useInputMediaDevicesSelectorState(e){var t=e.onDeviceCapture,n=void 0===t?function(e){return null}:t,i=e.onDeviceUncapture,c=void 0===i?function(e){return null}:i,r=Object(ct.a)(Tn).serviceInstance,a=Object(ct.a)(Dn).serviceInstance;Object(u.useEffect)((function(){r&&r.fetchInputMediaDevices()}),[r]);var o=Object(u.useCallback)(function(){var e=Object(tn.a)(en.a.mark((function _callee(e,t){var n;return en.a.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if("audioinput"===e.kind){i.next=3;break}return console.warn('Cannot set device preferred audio quality preset name for "'.concat(e.kind,'" kind.  Expected audioinput kind.')),i.abrupt("return");case 3:return n=Sn.utils.constraints.audioQualityPresets.getAudioQualityPresetWithName(t),i.abrupt("return",a.setMediaDeviceUserMetadata(e,{audioQualityPreset:n}));case 5:case"end":return i.stop()}}),_callee)})));return function(t,n){return e.apply(this,arguments)}}(),[a]),s=Object(u.useCallback)(function(){var e=Object(tn.a)(en.a.mark((function _callee2(e){var t,n,i;return en.a.wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return n=a.getMediaDeviceUserMetadata(e),(i=n&&(null===(t=n.audioQualityPreset)||void 0===t?void 0:t.constraints))||"audioinput"!==e.kind||(i=Vn.getAudioQualityPresetConstraints(Bn)),c.abrupt("return",r.captureSpecificMediaDevice(e,i));case 4:case"end":return c.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),[r,a]),l=Object(u.useCallback)((function(e){var t,n=a.getMediaDeviceUserMetadata(e);return n?null===(t=n.audioQualityPreset)||void 0===t?void 0:t.name:Bn.name}),[a]),d=Object(u.useCallback)(function(){var e=Object(tn.a)(en.a.mark((function _callee3(e){return en.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:if(r.getIsAudioMediaDeviceBeingCaptured(e)){t.next=7;break}return t.next=4,s(e);case 4:n(e),t.next=10;break;case 7:return t.next=9,r.uncaptureSpecificMediaDevice(e);case 9:c(e);case 10:case"end":return t.stop()}}),_callee3)})));return function(t){return e.apply(this,arguments)}}(),[r,s,n,c]),j=(null===r||void 0===r?void 0:r.getAudioInputMediaDevices())||[],b=j.filter((function(e){return null===r||void 0===r?void 0:r.getIsAudioMediaDeviceBeingCaptured(e)}));return{inputMediaDevicesService:r,mediaDevicesCachingService:a,audioInputDevices:j,capturedAudioInputDevices:b,audioQualityPresets:Vn,toggleSpecificAudioInputDevice:d,setDevicePreferredAudioQualityPresetName:o,getDevicePreferredAudioQualityPresetName:l}}({onDeviceCapture:n,onDeviceUncapture:void 0===i?function(e){return null}:i}),r=c.inputMediaDevicesService,a=c.mediaDevicesCachingService,o=c.audioInputDevices,s=c.capturedAudioInputDevices,l=c.audioQualityPresets,d=c.toggleSpecificAudioInputDevice,j=c.setDevicePreferredAudioQualityPresetName,O=c.getDevicePreferredAudioQualityPresetName;if(!r||!a)return null;var f=o.length,v=r.getIsFetchingMediaDevices();if(!o.length)return Object(x.jsx)(kt.a,{style:{fontWeight:"bold"},children:v?"Fetching audio devices...":"No audio input devices are currently available."});var p=s.length;return Object(x.jsxs)(_,{children:[Object(x.jsx)(Header,{children:"Select device(s) for sound input:"}),Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Ge,{children:Object(x.jsx)(h.a,{style:{overflow:"auto",border:"4px #22668F solid",borderRadius:4},children:Object(x.jsxs)("table",{style:{width:"100%"},children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Name"}),Object(x.jsx)("td",{className:"center",children:"f(x)"}),Object(x.jsx)("td",{className:"center",children:"Muted"}),Object(x.jsx)("td",{className:"center",children:"Level"})]})}),Object(x.jsx)("tbody",{children:o.map((function(e,t){var n,i=s.includes(e),c=r.getMediaDeviceCaptureFactory(e),a=i&&(null===c||void 0===c||null===(n=c.getOutputMediaStream())||void 0===n?void 0:n.getTracks()),o=i&&(null===c||void 0===c?void 0:c.getAudioTrackControllers()[0]);return o&&console.log({settings:o.getSettings()}),Object(x.jsx)(AudioInputDeviceTableRow,{device:e,mediaStreamTracks:a,isCapturing:i,onToggleCapture:function onToggleCapture(){return d(e)},isMuted:null===c||void 0===c?void 0:c.getIsMuted(),onToggleMute:function onToggleMute(){return null===c||void 0===c?void 0:c.toggleMute()},audioQualityPresets:l,audioQualityPresetName:O(e),onChangeAudioQualityPresetName:function onChangeAudioQualityPresetName(t){return j(e,t)}},t)}))})]})})})}),Object(x.jsx)(Footer,{style:{minHeight:50},children:Object(x.jsxs)(Ge,{children:[Object(x.jsx)(En,{style:{fontSize:38,marginLeft:20,color:"rgba(255,255,255,.2)"}}),Object(x.jsx)(b.a,{children:Object(x.jsxs)(kt.a,{children:[Object(x.jsxs)("div",{children:[f," audio input device",1!==f&&"s"," available."]}),Object(x.jsxs)("div",{children:[p," audio input device",1!==p&&"s"," currently being captured."]})]})})]})})]})},Qn=n(670),Kn=n.n(Qn);var Yn=function StaggeredWaveLoading(e){var t=Object.assign({},e);return Object(x.jsx)("div",Object(a.a)(Object(a.a)({className:Kn.a["loading-wrapper"]},t),{},{children:Object(x.jsxs)("div",{className:Kn.a.loading,children:[Object(x.jsx)("div",{className:Kn.a.dot}),Object(x.jsx)("div",{className:Kn.a.dot}),Object(x.jsx)("div",{className:Kn.a.dot}),Object(x.jsx)("div",{className:Kn.a.dot}),Object(x.jsx)("div",{className:Kn.a.dot})]})}))},Gn=n(580),Zn=["children","preloadResources","disabledLoadingIndicator","onError"];var Jn=function Preload(e){var t=e.children,n=e.preloadResources,i=e.disabledLoadingIndicator,c=void 0!==i&&i,r=(e.onError,Object(s.a)(e,Zn));return Object(Gn.a)(n).isPreloaded||c?Object(x.jsx)(d.a.Fragment,{children:t}):Object(x.jsx)(Ue,Object(a.a)(Object(a.a)({},r),{},{children:Object(x.jsx)(Yn,{})}))},Xn=n(671),qn=n.n(Xn),$n=n.p+"static/media/vu.8cb21748.png",ei="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAzCAYAAADRlospAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAq1JREFUeNrU2lGk1ncYB/BPxeEQEYcR56p01XkuYlejFCmOjTSmiGyazaZpSilNWSJKMWUXOUcpTVnKmXeauhoRo5+IiBExDhFxOBxnF+/z8kqxWup9fjfvn9d78fH//57n+f7e/4KxsbFRfNNa2+sVKyK8z9Vae+V3C9HBnog4peBaiG8xg10RcbgcoLV2G59hFociYne1O6C1dgM7MIcTEfF5KUAiLuXjBD9HxJZSgEScxX4swsWI2DjogAXz8/MvK5vHsC839wb8Ochl9GU/2I+zGMYUVpd4hF5AfI1LWJK9YmUpQK4duIER3MJoKUBrbTZ7xG0sS8QHle6A1toMPsFdLMdNLC0DyPUcm3Afq3JPDFcCwNNEPMKHWZ2GKgHgSfaFJ1iHK9n0ygDg70RM42OcrwaAB/k4PcNWnKkGgL8wnuPGV/ixGkDOSJ9mljiAPdUA8Bu2Z5Y4jp3VAPALvszrM7kvSgHgHL7PsjqRFaoUAE7iaDa4y1hTDQAH8VOOGteza5cCyGx9IbPEVM5PpQC9LHEts0QnJ9lSgLkXskQnP8sAZIMb78sSnbwjZQD6TjZ6WWIq90YZgBz61vdlietvKxC9K4Acv9dmlliTfWKoEqAXiNb3ZYmJ/xuI3jUAHuaeeCtZ4n0A4F4GopmcXo9XA8CdPK6ZzRyxrxoA/sC2bHrHMtmVAsBVfPGmWWIQADCJ7/L6/OtkiUEBwGn8kGX1iu65UykAHMlQNPRfs8SgAWQsncTiHP5WVQPITX1V9xT8ZkQsrwaYy/L6u+7/EbciYlklQC9LbNY9PBtNxEglQC9LjOfosRKdiFhSCdDLEhtyCFyNqYgYrgTQWpvOMfwxPsKvETFUBpCIXpb4Bxt13yRYVAaQiEd9WeJha22uFCAR97GitXYQ/h0A2RC5PwhR/WwAAAAASUVORK5CYII=",ti=["label","className","mediaStreamTrack","mediaStreamTracks"];var ni=function VUMeter(e){var t=e.label,n=void 0===t?"Mono":t,i=e.className,c=e.mediaStreamTrack,r=e.mediaStreamTracks,o=Object(s.a)(e,ti),d=Object(u.useState)(null),j=Object(l.a)(d,2),b=j[0],O=j[1],h=Object(u.useState)(null),f=Object(l.a)(h,2),p=f[0],m=f[1],g=Object(u.useMemo)(Ee.a,[]);Object(u.useEffect)((function(){b&&p&&(b.style.backgroundImage="url(".concat($n,")"),b.style.backgroundPosition="top left",b.style.backgroundRepeat="no-repeat",p.style.backgroundImage="url(".concat(ei,")"),p.style.backgroundPosition="top left",p.style.backgroundRepeat="no-repeat")}),[b,p]);var w=Object(u.useCallback)((function(e){p&&Ie()((function(){p.style.transform="rotateZ(".concat(Math.min(e/100*87),"deg)")}),g)}),[p,g]);return Object(u.useEffect)((function(){p&&w(0)}),[w,p]),useMultiAudioMediaStreamTrackLevelMonitor(c||r,w),Object(x.jsx)(Jn,{preloadResources:[$n,ei],children:Object(x.jsxs)("div",Object(a.a)(Object(a.a)({ref:O,className:v()(qn.a.vu,i)},o),{},{children:[Object(x.jsx)("div",{className:qn.a.mask,children:Object(x.jsx)("div",{ref:m,className:qn.a.needle,style:{transform:"rotateZ(0deg)"}})}),Object(x.jsx)("p",{className:qn.a["vu-label"],children:n})]}))})},ii="vu-meter",ci={id:ii,title:"VU Meter",style:{width:360,height:360},serviceClasses:[Tn],view:function view(e){var t=e.appServices[Tn].getCaptureFactories().map((function(e){return e.getAudioTrackControllers().map((function(e){return e.getOutputMediaStreamTrack()}))})).flat();return Object(x.jsxs)(_,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(kt.a,{canOverflow:!0,children:Object(x.jsxs)("div",{children:[Object(x.jsx)(ni,{mediaStreamTracks:t}),Object(x.jsx)(zn,{style:{marginLeft:20,height:160,width:40},mediaStreamTracks:t})]})})}),Object(x.jsx)(Footer,{children:Object(x.jsx)(Ge,{children:Object(x.jsx)(wn,{id:Oi})})})]})}},ri=["mediaStreamTrack","mediaType","onEl"];function AVBase(e){var t=e.mediaStreamTrack,n=e.mediaType,i=void 0===n?"video":n,c=e.onEl,r=void 0===c?function(e){return null}:c,o=Object(s.a)(e,ri),j=Object(u.useState)(null),b=Object(l.a)(j,2),O=b[0],h=b[1],f=Object(u.useMemo)((function(){return t&&new MediaStream([t])}),[t]);Object(u.useEffect)((function(){O&&(f?(O.srcObject=f,O.play().then((function(){return O.muted=!1})).catch((function(e){return console.warn("Caught",e)}))):O.srcObject=null)}),[O,f]);var v=Object(u.useRef)(r);return Object(u.useEffect)((function(){var e=v.current;O&&"function"===typeof e&&e(O)}),[O]),d.a.createElement(i,Object(a.a)({ref:h,autoPlay:!1,muted:!0,playsInline:!0,controls:!1},o))}var ai=n(672),oi=n.n(ai),si=["className"];function Video(e){var t=e.className,n=Object(s.a)(e,si);return Object(x.jsx)(AVBase,Object(a.a)({className:v()(oi.a.video,t)},n))}var li=function(e){Object(ot.a)(ScreenCaptureFactoryCollection,e);var t=Object(st.a)(ScreenCaptureFactoryCollection);function ScreenCaptureFactoryCollection(){return Object(rt.a)(this,ScreenCaptureFactoryCollection),t.apply(this,arguments)}return ScreenCaptureFactoryCollection}(Sn.MediaStreamTrackControllerFactoryCollection),ui=function(e){Object(ot.a)(ScreenCapturerService,e);var t=Object(st.a)(ScreenCapturerService);function ScreenCapturerService(){var e;Object(rt.a)(this,ScreenCapturerService);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).setTitle("Screen Capturer Service"),e.bindCollectionClass(li),e}return Object(at.a)(ScreenCapturerService,[{key:"startScreenCapture",value:function(){var e=Object(tn.a)(en.a.mark((function _callee(){var e,t,n,i=arguments;return en.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t=i.length>1&&void 0!==i[1]?i[1]:{},c.next=4,Sn.utils.screen.captureScreen(e,t);case 4:return n=c.sent,this.getCollectionInstance(li).addTrackControllerFactory(n),c.abrupt("return",n);case 7:case"end":return c.stop()}}),_callee,this)})));return function startScreenCapture(){return e.apply(this,arguments)}}()},{key:"getMediaStreamTracks",value:function getMediaStreamTracks(){return this.getCollectionInstance(li).getChildren().map((function(e){return e.getTrackControllers().map((function(e){return e.getOutputMediaStreamTrack()}))})).flat()}},{key:"getCaptureFactories",value:function getCaptureFactories(){return this.getCollectionInstance(li).getChildren()}}]),ScreenCapturerService}(lt.c),di="screen-capture-window",ji={id:di,title:"Screen Capture",style:{width:512,height:384},serviceClasses:[ui],view:function View(e){var t,n,c=e.appServices[ui],r=Object(u.useState)(null),a=Object(l.a)(r,2),o=a[0],s=a[1],d=function useGetIsUnmounting(){var e=Object(u.useRef)(!1);return Object(u.useEffect)((function(){return function unmount(){e.current=!0}}),[]),Object(u.useCallback)((function(){return e.current}),[])}(),j=Object(u.useCallback)(Object(tn.a)(en.a.mark((function _callee(){var e,t,n,r=arguments;return en.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t=r.length>1&&void 0!==r[1]?r[1]:{},a.next=4,c.startScreenCapture(e,t);case 4:return n=a.sent,s(n),n.once(i.EVT_DESTROYED,(function(){d()||s(null)})),a.abrupt("return",n);case 8:case"end":return a.stop()}}),_callee)}))),[c,d]);Object(u.useEffect)((function(){if(o)return function(){o.getIsDestroying()||o.destroy()}}),[o]);var O=null===o||void 0===o||null===(t=o.getVideoTrackControllers()[0])||void 0===t?void 0:t.getOutputTrack(),h=null===o||void 0===o||null===(n=o.getAudioTrackControllers()[0])||void 0===n?void 0:n.getOutputTrack();return Object(x.jsxs)(_,{style:{backgroundColor:"#424242",color:"#999"},children:[Object(x.jsx)(Content_Content,{children:Object(x.jsxs)(Row,{children:[Object(x.jsxs)(Column,{children:[Object(x.jsx)(Video,{mediaStreamTrack:O}),!o&&Object(x.jsx)(b.a,{children:Object(x.jsx)(kt.a,{children:Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:function onClick(){return j()},style:{backgroundColor:"green",width:200,height:200,borderRadius:200,fontWeight:"bold",fontSize:"1.4rem",border:"8px #ccc solid"},children:"Start Screen Capture"})})})})]}),Object(x.jsx)(Column,{style:{width:50,maxWidth:50},children:Object(x.jsx)(Row,{style:{textAlign:"center"},children:Object(x.jsx)(Column,{children:Object(x.jsxs)(_,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(zn,{mediaStreamTrack:h})}),Object(x.jsx)(Footer,{children:"Audio"})]})})})})]})}),Object(x.jsx)(Footer,{children:Object(x.jsx)(Ge,{children:Object(x.jsxs)(Row,{children:[Object(x.jsx)(Column,{children:Object(x.jsx)(kt.a,{children:Object(x.jsx)(wn,{id:Oi})})}),Object(x.jsx)(Column,{children:Object(x.jsx)(kt.a,{children:Object(x.jsx)("button",{style:{backgroundColor:o?"red":"green",whiteSpace:"nowrap"},onClick:function onClick(){o&&!o.getIsDestroying()?o.destroy():j()},children:o?"Stop":"Capture"})})}),Object(x.jsx)(Column,{children:Object(x.jsxs)(Row,{children:[Object(x.jsx)(Column,{children:Object(x.jsx)(kt.a,{children:Object(x.jsx)(Dt,{color:o?"green":"gray",style:{float:"left",marginLeft:8}})})}),Object(x.jsx)(Column,{children:Object(x.jsx)(kt.a,{children:Object(x.jsx)("button",{disabled:!0,style:{whiteSpace:"nowrap"},children:"Video Stats"})})})]})})]})})})]})}},bi=ji,Oi="input-media-devices",hi={id:Oi,title:"Input Media Devices",style:{width:640,height:380},serviceClasses:[Tn],view:function View(e){var t=e.appServices[Tn];return Object(x.jsx)(Ge,{children:Object(x.jsxs)(_,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Hn,{})}),Object(x.jsxs)(Footer,{children:[Object(x.jsx)("button",{onClick:function onClick(){return t.fetchInputMediaDevices(!0)},style:{float:"right"},children:"Refetch"}),Object(x.jsxs)("span",{className:"button-group",children:[Object(x.jsx)(wn,{id:ii}),Object(x.jsx)(wn,{id:di})]})]})]})})}},fi=function bytesToSize(e){var t=["bytes","kB","MB","GB","TB"];if(0===e)return"0 ".concat(t[0]);var n=parseInt(Math.floor(Math.log(Math.abs(e))/Math.log(1024)),10);return 0===n?"".concat(e," ").concat(t[n]):"".concat((e/Math.pow(1024,n)).toFixed(1)," ").concat(t[n])},vi={id:"memory-info",title:"Memory Info",style:{width:280,height:150},view:function View(){var e=Object(u.useState)({jsHeapSizeLimit:"N/A",totalJSHeapSize:"N/A",usedJSHeapSize:"N/A"}),t=Object(l.a)(e,2),n=t[0],i=n.jsHeapSizeLimit,c=n.totalJSHeapSize,r=n.usedJSHeapSize,a=t[1],o=Object(u.useCallback)((function(){if(window.performance.memory){var e=window.performance.memory,t=e.jsHeapSizeLimit,n=e.totalJSHeapSize,i=e.usedJSHeapSize,c={jsHeapSizeLimit:fi(t),totalJSHeapSize:fi(n),usedJSHeapSize:fi(i)};return a(c),c}}),[]);return Object(u.useEffect)((function(){if(o()){var e=setInterval((function(){o()}),1e3);return function unmount(){clearInterval(e)}}}),[o]),Object(x.jsxs)(_,{style:{backgroundColor:"#424242",color:"#999"},children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(kt.a,{children:Object(x.jsxs)("table",{style:{display:"inline-block"},children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Heap Size Limit"}),Object(x.jsx)("td",{children:"Total Heap Size"}),Object(x.jsx)("td",{children:"Used Heap Size"})]})}),Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:i}),Object(x.jsx)("td",{children:c}),Object(x.jsx)("td",{children:r})]})})]})})}),Object(x.jsxs)(Footer,{style:{fontSize:".8rem"},children:[Object(x.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Performance/memory",target:"_blank",rel:"noreferrer",style:{float:"left"},children:"MDN Documentation"}),Object(x.jsx)("span",{style:{float:"right"},children:"Only supported in Chromium-based browsers."})]})]})}};var pi=function LocalStorageItems(e){var t=e.keyStorageEngineMaps,n=void 0===t?[]:t,i=e.onGetValue,c=e.onEmpty,r=e.onNewItem;return n.length?Object(x.jsxs)(_,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Ge,{style:{overflowY:"auto"},children:Object(x.jsxs)("table",{style:{width:"100%"},children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"Key"}),Object(x.jsx)("td",{children:"Value"}),Object(x.jsx)("td",{children:"Encryption"}),Object(x.jsx)("td",{children:"Storage Engine"})]})}),Object(x.jsx)("tbody",{children:n.map((function(e,t){var n=e.key,c=e.storageEngine;return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"center",children:Object(x.jsx)("input",{type:"checkbox"})}),Object(x.jsx)("td",{children:n}),Object(x.jsx)("td",{className:"center",children:Object(x.jsx)("button",{onClick:function onClick(){return i(n,c)},children:"Get"})}),Object(x.jsx)("td",{className:"center",children:c.getEncryptionType()||"Not Encrypted"}),Object(x.jsx)("td",{className:"center",children:c.getTitle()})]},t)}))})]})})}),Object(x.jsx)(Footer,{children:Object(x.jsx)(Ge,{children:Object(x.jsx)("button",{onClick:c,children:"Empty"})})})]}):Object(x.jsx)(kt.a,{children:Object(x.jsxs)(Ge,{children:[Object(x.jsx)(Ge,{style:{fontWeight:"bold"},children:"No Key Vault items."}),Object(x.jsx)(Ge,{className:"note",children:"These may be automatically managed by other applications as needed, in order to perform key / value pair storage operations."}),Object(x.jsx)(Ge,{className:"note",children:"You have the ability to clear all local / session storage via this utility."}),Object(x.jsx)(Ge,{children:Object(x.jsx)("button",{onClick:r,children:"Add new item..."})})]})})};function getFormValues(e){for(var t=e.elements,n={},i=0,c=Object(xe.a)(t);i<c.length;i++){var r=c[i],a=r.name||r.id;a&&(n[a]=r.value)}return n}var mi=["children","autoComplete","validator","onChange","onSubmit"];var xi=function Form(e){var t=e.children,n=e.autoComplete,i=void 0===n?"off":n,c=e.validator,r=void 0===c?function(e){return null}:c,d=e.onChange,j=void 0===d?function(e){return null}:d,b=e.onSubmit,O=void 0===b?function(e){return null}:b,h=Object(s.a)(e,mi),f=function useFormController(e){var t=e.onSubmit,n=e.onChange,i=void 0===n?function(){return null}:n,c=e.validator,r=void 0===c?function(){return null}:c,a=Object(u.useState)(null),s=Object(l.a)(a,2),d=s[0],j=s[1];Object(u.useEffect)((function(){if(d){Object.values(getFormValues(d)).length||console.warn("No form values detected for form element.  All input fields should have a name or id attribute.",d);var e,t=Object(o.a)(d.elements);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("BUTTON"===n.tagName.toUpperCase()&&!n.getAttribute("type")){console.warn('All button elements should have a type attribute specified or they will default to "submit"',n);break}}}catch(i){t.e(i)}finally{t.f()}}}),[d]);var b=Object(u.useState)(!1),O=Object(l.a)(b,2),h=O[0],f=O[1],v=Object(u.useState)({}),p=Object(l.a)(v,2),m=p[0],x=p[1],g=Object(u.useCallback)((function(e){var t=!1,n=Object.fromEntries(Object.entries(r(e)||{}).filter((function(e){var n=Boolean(e[1]);return n&&(t=!0),n}))),i=!t;return f(i),x(n),i}),[r]),w=Object(u.useCallback)((function(e){var t=getFormValues(d);g(t),i(t)}),[g,d,i]),y=Object(u.useCallback)((function(e){e.preventDefault();var n=getFormValues(d);g(n)&&t(n)}),[g,d,t]);return{isValid:h,handleFormValidate:g,handleFormChange:w,handleFormSubmit:y,errors:m,setFormRef:j}}({onSubmit:O,onChange:j,validator:r}),v=f.setFormRef,p=f.handleFormChange,m=f.handleFormSubmit,g=f.handleFormValidate,w=f.errors,y=f.isValid;return Object(x.jsx)("form",Object(a.a)(Object(a.a)({},h),{},{ref:v,autoComplete:i,onChange:p,onSubmit:m,children:t({errors:w,isValid:y,submit:m,validate:g})}))};function KeyEditorForm(e){var t=e.initialKey,n=e.initialValue,i=e.initialStorageEngine,c=e.storageEngines,r=e.onSubmit;return Object(x.jsx)(kt.a,{canOverflow:!0,children:Object(x.jsx)(xi,{onSubmit:r,validator:function validator(e){return{key:e.key.length<1&&"Key must contain at least one character"}},children:function children(e){var r=e.errors,a=e.isValid;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ge,{children:Object(x.jsx)("input",{name:"key",type:"text",placeholder:"Key",defaultValue:t,required:!0})}),(null===r||void 0===r?void 0:r.key)&&Object(x.jsx)("div",{className:"note",style:{color:"red"},children:r.key}),Object(x.jsx)(Ge,{children:Object(x.jsx)("textarea",{name:"value",placeholder:"Value",defaultValue:n})}),Object(x.jsxs)(Ge,{style:{marginTop:20,textAlign:"left"},children:[Object(x.jsx)("label",{children:"Storage Engine"}),Object(x.jsx)("select",{name:"storageEngineShortUUID",defaultValue:null===i||void 0===i?void 0:i.getShortUUID(),required:!0,children:c.map((function(e){var t=e.getTitle(),n=e.getShortUUID();return Object(x.jsx)("option",{value:n,children:t},t)}))})]}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{type:"submit",value:"Submit",disabled:!a})})]})}})})}n(673);var gi=["className"],wi=function DynamicIcon(e){var t=e.className,n=Object(s.a)(e,gi);return Object(x.jsx)("i",Object(a.a)(Object(a.a)({},n),{},{className:"id0d6dd5d02e64b979154a770ab790dba-icon".concat(t?" ".concat(t):"")}))},yi={id:"key-vault",title:"Key Vault",style:{width:640,height:480},serviceClasses:[An.a],view:function View(e){var t=e.appServices[An.a],n=Object(u.useState)([]),i=Object(l.a)(n,2),c=i[0],r=i[1],a=Object(u.useCallback)(Object(tn.a)(en.a.mark((function _callee(){var e,n,i,c,a,s,l,u;return en.a.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.fetchKeyStorageEngineMaps();case 2:e=d.sent,n=[],i=Object(o.a)(e),d.prev=5,i.s();case 7:if((c=i.n()).done){d.next=17;break}return a=c.value,s=a[0],l=a[1],d.next=13,l.fetchItem(s);case 13:u=d.sent,n.push({key:s,storageEngine:l,value:u});case 15:d.next=7;break;case 17:d.next=22;break;case 19:d.prev=19,d.t0=d.catch(5),i.e(d.t0);case 22:return d.prev=22,i.f(),d.finish(22);case 25:r(n);case 26:case"end":return d.stop()}}),_callee,null,[[5,19,22,25]])}))),[t]),s=Object(u.useState)(!1),d=Object(l.a)(s,2),j=d[0],b=d[1];Object(u.useEffect)((function(){a()}),[a]);var O=Object(u.useCallback)(function(){var e=Object(tn.a)(en.a.mark((function _callee2(e,t){var n;return en.a.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.fetchItem(e);case 2:n=i.sent,console.log({key:e,value:n}),alert("TODO: Implement get value");case 5:case"end":return i.stop()}}),_callee2)})));return function(t,n){return e.apply(this,arguments)}}(),[]),h=Object(u.useCallback)((function(e){t.getStorageEngineWithShortUUID(e.storageEngineShortUUID).setItem(e.key,e.value).then((function(){a(),b(!1)}))}),[t,a]),f=Object(u.useCallback)((function(){window.confirm("Are you sure you wish to empty the Key Vault?")&&t.clearAllStorageEngines().then(a)}),[t,a]);return Object(x.jsxs)(_,{children:[Object(x.jsx)(Header,{children:Object(x.jsx)(Ge,{children:Object(x.jsx)("button",{onClick:function onClick(){return b((function(e){return!e}))},children:j?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(wi,{})," Back"]}):Object(x.jsx)(x.Fragment,{children:"(+) New Item"})})})}),Object(x.jsx)(Content_Content,{children:j?Object(x.jsx)(KeyEditorForm,{storageEngines:t.getStorageEngines(),onSubmit:h}):Object(x.jsx)(pi,{keyStorageEngineMaps:c,onGetValue:O,onEmpty:f,onNewItem:function onNewItem(){return b(!0)}})})]})}},Ci=yi;t.default=function ReShellOrgPortal(){return Object(x.jsx)(xt,{appDescriptors:[Et,Ut,qt,on,un,pn,hi,vi,bi,xn,Cn,ci,Ci]})}}}]);
//# sourceMappingURL=6.1cc6b554.chunk.js.map