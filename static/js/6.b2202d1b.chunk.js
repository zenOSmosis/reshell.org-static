(this.webpackJsonpreshell=this.webpackJsonpreshell||[]).push([[6],{526:function(e,t,n){"use strict";n.d(t,"d",(function(){return Header})),n.d(t,"b",(function(){return Content})),n.d(t,"c",(function(){return Footer})),n.d(t,"e",(function(){return Row})),n.d(t,"a",(function(){return Column}));var r=n(84),c=n(523),i=(n(28),n(531)),a=n(527),o=n.n(a),s=n(569),l=n.n(s),u=n(22),d=["className","children"];function Header(e){var t=e.className,n=e.children,a=Object(c.a)(e,d);return Object(u.jsx)("div",Object(r.a)(Object(r.a)({},a),{},{className:o()(l.a.header,t),children:Object(u.jsx)(i.a,{children:n})}))}var j=["className","children"];function Content(e){var t=e.className,n=e.children,a=Object(c.a)(e,j);return Object(u.jsx)("div",Object(r.a)(Object(r.a)({},a),{},{className:o()(l.a.content,t),children:Object(u.jsx)(i.a,{children:n})}))}var b=["className","children"];function Footer(e){var t=e.className,n=e.children,a=Object(c.a)(e,b);return Object(u.jsx)("div",Object(r.a)(Object(r.a)({},a),{},{className:o()(l.a.footer,t),children:Object(u.jsx)(i.a,{children:n})}))}var h=n(732),f=n.n(h),p=["children","className","disableVerticalFill"],v=["children","className","disableHorizontalFill"];function Row(e){var t=e.children,n=e.className,i=e.disableVerticalFill,a=void 0!==i&&i,s=Object(c.a)(e,p);return Object(u.jsx)("div",Object(r.a)(Object(r.a)({},s),{},{className:o()(f.a.row,a&&f.a["disable-vertical-fill"],n),children:t}))}function Column(e){var t=e.children,n=e.className,a=e.disableHorizontalFill,s=void 0!==a&&a,l=Object(c.a)(e,v);return Object(u.jsx)("div",Object(r.a)(Object(r.a)({},l),{},{className:o()(f.a.column,s&&f.a["disable-horizontal-fill"],n),children:Object(u.jsx)(i.a,{children:t})}))}var O=["className","children"];t.f=function Layout(e){var t=e.className,n=e.children,a=Object(c.a)(e,O);return Object(u.jsx)(i.a,Object(r.a)(Object(r.a)({},a),{},{className:o()(l.a.layout,t),children:n}))}},538:function(e,t,n){"use strict";n.d(t,"a",(function(){return useAppOrchestrationContext}));var r=n(28),c=n(712);function useAppOrchestrationContext(){return Object(r.useContext)(c.a)}},545:function(e,t,n){"use strict";n.d(t,"a",(function(){return useDesktopContext}));var r=n(28),c=n(709);function useDesktopContext(){return Object(r.useContext)(c.a)}},547:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return v})),n.d(t,"h",(function(){return O}));var r=n(1),c=n.n(r),i=n(9),a=n(3),o=n(4),s=n(5),l=n(6),u=n(15),d="connecting",j="connected",b="disconnected",h="begin-recognize",f="end-recognize",p="real-time-transcription",v="finalized-transcription",O=function(t){Object(s.a)(SpeechRecognizerBase,t);var n=Object(l.a)(SpeechRecognizerBase);function SpeechRecognizerBase(t,r){var c;return Object(a.a)(this,SpeechRecognizerBase),(c=n.call(this,r))._isConnecting=!1,c._isConnected=!1,c._isRecognizing=!1,c._mediaStream=t,e((function(){c._startRecognizing()})),c.registerCleanupHandler((function(){return c._stopRecognizing()})),c}return Object(o.a)(SpeechRecognizerBase,[{key:"_startRecognizing",value:function(){var e=Object(i.a)(c.a.mark((function _callee(){return c.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("_startRecognizing must be overridden");case 1:case"end":return e.stop()}}),_callee)})));return function _startRecognizing(){return e.apply(this,arguments)}}()},{key:"_stopRecognizing",value:function(){var e=Object(i.a)(c.a.mark((function _callee2(){return c.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("_startRecognizing must be overridden");case 1:case"end":return e.stop()}}),_callee2)})));return function _stopRecognizing(){return e.apply(this,arguments)}}()},{key:"_setIsConnecting",value:function _setIsConnecting(e){e=Boolean(e),this._isConnecting!==e&&(this._isConnecting=e,e&&this.emit(d))}},{key:"getIsConnecting",value:function getIsConnecting(){return this._isConnecting}},{key:"_setIsConnected",value:function _setIsConnected(e){e=Boolean(e),this._isConnected!==e&&(this._setIsConnecting(!1),this._isConnected=e,e?this.emit(j):this.emit(b))}},{key:"getIsConnected",value:function getIsConnected(){return this._isConnected}},{key:"_setIsRecognizing",value:function _setIsRecognizing(e){e=Boolean(e),this._isRecognizing!==e&&(this._isRecognizing=e,e?this.emit(h):this.emit(f))}},{key:"getIsRecognizing",value:function getIsRecognizing(){return this._isRecognizing}},{key:"_setRealTimeTranscription",value:function _setRealTimeTranscription(e){this._setIsConnected(!0),this._setIsRecognizing(!0),this.emit(p,e)}},{key:"_setFinalizedTranscription",value:function _setFinalizedTranscription(e){this._setIsRecognizing(!1),this.emit(p,e),this.emit(v,e)}}]),SpeechRecognizerBase}(n.n(u).a)}).call(this,n(108).setImmediate)},560:function(e,t,n){"use strict";n.d(t,"d",(function(){return useUIParadigm}));var r=n(545),c=n(552);function useUIParadigm(){var e=Object(r.a)();return{uiParadigm:e.uiParadigm,isUIParadigmAutoSet:e.isUIParadigmAutoSet,setStaticUIParadigm:e.setStaticUIParadigm}}n.d(t,"b",(function(){return c.b})),n.d(t,"c",(function(){return c.c})),n.d(t,"a",(function(){return c.a}))},567:function(e,t,n){"use strict";var r=n(84),c=n(523),i=n(527),a=n.n(i),o=n(734),s=n.n(o),l=n(22),u=["children","className"];t.a=function NoWrap(e){var t=e.children,n=e.className,i=Object(c.a)(e,u);return Object(l.jsx)("div",Object(r.a)(Object(r.a)({},i),{},{className:a()(s.a["no-wrap"],n),children:t}))}},569:function(e,t,n){e.exports={layout:"Layout_layout__3PvPc",header:"Layout_header__3EItT",content:"Layout_content__1t8Hf",footer:"Layout_footer__3EMQb"}},575:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(1),c=n.n(r),i=n(9),a=n(3),o=n(4),s=n(23),l=n(17),u=n(5),d=n(6),j=n(58),b=n(810),h=function(t){Object(u.a)(TextToSpeechService,t);var n=Object(d.a)(TextToSpeechService);function TextToSpeechService(){var e;Object(a.a)(this,TextToSpeechService);for(var t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return(e=n.call.apply(n,[this].concat(r))).setTitle("Text to Speech Service"),e.setState({isSpeaking:!1,defaultVoice:null,defaultPitch:1,defaultRate:1}),e._localeService=e.useServiceClass(b.a),e._synth=null,e._voices=[],e._localeVoices=[],e}return Object(o.a)(TextToSpeechService,[{key:"_init",value:function(){var t=Object(i.a)(c.a.mark((function _callee(){var t=this;return c.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return this._synth=window.speechSynthesis,e((function(){t.emit(j.b)})),n.abrupt("return",Object(s.a)(Object(l.a)(TextToSpeechService.prototype),"_init",this).call(this));case 3:case"end":return n.stop()}}),_callee,this)})));return function _init(){return t.apply(this,arguments)}}()},{key:"getVoices",value:function getVoices(){var e;this._voices.length||(this._voices=(null===(e=this._synth)||void 0===e?void 0:e.getVoices())||[]);return this._voices}},{key:"setDefaultVoice",value:function setDefaultVoice(e){return this.setState({defaultVoice:e}),this}},{key:"getDefaultVoice",value:function getDefaultVoice(){return this.getState().defaultVoice||this.getVoices().find((function(e){return!0===e.default}))}},{key:"setDefaultPitch",value:function setDefaultPitch(e){return this.setState({defaultPitch:e}),this}},{key:"getDefaultPitch",value:function getDefaultPitch(){return this.getState().defaultPitch}},{key:"setDefaultRate",value:function setDefaultRate(e){return this.setState({defaultRate:e}),this}},{key:"getDefaultRate",value:function getDefaultRate(){return this.getState().defaultRate}},{key:"getVoiceWithURI",value:function getVoiceWithURI(e){return this.getVoices().find((function(t){return t.voiceURI===e}))}},{key:"getLocaleVoices",value:function getLocaleVoices(){if(!this._localeVoices.length){var e=this._localeService.getLanguageCode();this._localeVoices=this.getVoices().filter((function(t){return t.lang===e}))}return this._localeVoices}},{key:"say",value:function(){var t=Object(i.a)(c.a.mark((function _callee2(t){var n,r,i,a,o,s=this,l=arguments;return c.a.wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},c.prev=1,c.next=4,this.onceReady();case 4:if(!this.getIsSpeaking()){c.next=7;break}return c.next=7,new Promise((function(t){s.cancel();s.on(j.b,(function _handleStateChange(){s.getIsSpeaking()||(s.off(j.b,_handleStateChange),e((function(){t()})))}))}));case 7:return this.setState({isSpeaking:!0}),r=void 0!==n.rate?n.rate:this.getDefaultRate(),i=void 0!==n.pitch?n.pitch:this.getDefaultPitch(),a=n.voice||this.getDefaultVoice(),(o=new SpeechSynthesisUtterance(t)).lang=this._localeService.getLanguageCode(),o.pitch=i,o.rate=r,o.voice=a,o.volume=1,c.next=19,new Promise((function(e,t){o.onend=function(){return e()},o.addEventListener("ended",(function handleEnd(){e(),o.removeEventListener("ended",handleEnd)})),o.onerror=function(){return t()},s._synth.speak(o)}));case 19:c.next=24;break;case 21:c.prev=21,c.t0=c.catch(1),this.log.error(c.t0);case 24:return c.prev=24,this.setState({isSpeaking:!1}),c.abrupt("return",this);case 28:case"end":return c.stop()}}),_callee2,this,[[1,21,24,28]])})));return function say(e){return t.apply(this,arguments)}}()},{key:"getIsSpeaking",value:function getIsSpeaking(){return this.getState().isSpeaking}},{key:"cancel",value:function cancel(){var e;return null===(e=this._synth)||void 0===e||e.cancel(),this.setState({isSpeaking:!1}),this}}]),TextToSpeechService}(j.c)}).call(this,n(108).setImmediate)},586:function(e,t,n){e.exports={"window-outer-border":"Window_window-outer-border__3TebC",hidden:"Window_hidden__3nppO",maximized:"Window_maximized__1kLcW",minimized:"Window_minimized__10t2-",dragging:"Window_dragging__2Ctk1",window:"Window_window__uDx5P",active:"Window_active__eAyll","title-bar":"Window_title-bar__376LO",title:"Window_title__3FnAS","window-controls":"Window_window-controls__1ACD5",maximize:"Window_maximize__2aW7z",minimize:"Window_minimize__hemKn",close:"Window_close__38hm-"}},591:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return WindowProvider}));var r=n(153),c=n(28),i=n.n(c),a=n(615),o=n(22),s=i.a.createContext({});function WindowProvider(e){var t=e.children,n=e.windowController,c=e.initialSharedState,i=void 0===c?{}:c,l=Object(a.a)(i),u=Object(r.a)(l,2),d=u[0],j=u[1];return Object(o.jsx)(s.Provider,{value:{setSharedState:j,sharedState:d,windowController:n},children:t})}},615:function(e,t,n){"use strict";n.d(t,"a",(function(){return useObjectState}));var r=n(84),c=n(153),i=n(28),a=n(844);function useObjectState(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(e),n=Object(c.a)(t,2),o=n[0],s=n[1],l=Object(i.useRef)(o);l.current=o;var u=Object(i.useCallback)((function(e){switch(typeof e){case"string":try{e=JSON.parse(e)}catch(t){throw console.error("Unable to parse string into JSON.  Did you forget to use an Object when setting object state?"),t}break;case"function":e=e(l.current);break;case"object":break;default:throw new TypeError("Unhandled useObjectState type: ".concat(typeof e))}s((function(t){var n=Object(r.a)(Object(r.a)({},t),e);return Object.keys(Object(a.a)(t,n)).length?n:t}))}),[]);return[o,u]}},638:function(e,t,n){e.exports={dock:"Dock_dock__XYNmR",overflown:"Dock_overflown__1vLoU","horizontal-orientation":"Dock_horizontal-orientation__32KfK","content-wrapper":"Dock_content-wrapper__3sQLP","dock-item":"Dock_dock-item__2wvel",active:"Dock_active__1Zqia"}},705:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(1),c=n.n(r),i=n(9),a=n(3),o=n(4),s=n(23),l=n(17),u=n(5),d=n(6),j=n(15),b="worker-message",h="pre-ready",f=function(t){Object(u.a)(RPCPhantomWorker,t);var n=Object(d.a)(RPCPhantomWorker);function RPCPhantomWorker(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return new Worker(e,void 0)};return Object(a.a)(this,RPCPhantomWorker),(t=n.call(this,{isAsync:!0}))._createWorker=r,t._worker=t._createWorker(),t.registerCleanupHandler((function(){t._worker&&t._worker.terminate()})),t._worker.addEventListener("message",t._handleWorkerMessage),t.registerCleanupHandler((function(){t._worker.removeEventListener("message",t._handleWorkerMessage)})),t._callIdx=-1,t._init(),t}return Object(o.a)(RPCPhantomWorker,[{key:"_init",value:function(){var e=Object(i.a)(c.a.mark((function _callee(){var e=this;return c.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return e.once(h,t)}));case 2:return t.abrupt("return",Object(s.a)(Object(l.a)(RPCPhantomWorker.prototype),"_init",this).call(this));case 3:case"end":return t.stop()}}),_callee,this)})));return function _init(){return e.apply(this,arguments)}}()},{key:"_handleWorkerMessage",value:function _handleWorkerMessage(e){this._isReady||e.data!==j.EVT_READY?void 0!==e.data.id&&this.emit(b,e.data):this.emit(h)}},{key:"call",value:function(){var e=Object(i.a)(c.a.mark((function _callee2(e,t){var n=this;return c.a.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,c){var i=++n._callIdx;n._worker.postMessage({method:e,params:t,id:i});n.setMaxListeners(n.getMaxListeners()+1),n.on(b,(function _handleWorkerMessage(e){var t=e.id,a=e.result,o=e.error;i===t&&(n.off(b,_handleWorkerMessage),n.setMaxListeners(n.getMaxListeners()-1),o?c(o):r(a))}))})));case 1:case"end":return r.stop()}}),_callee2)})));return function call(t,n){return e.apply(this,arguments)}}()},{key:"terminate",value:function(){var e=Object(i.a)(c.a.mark((function _callee3(){return c.a.wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return this._worker.terminate(),e.abrupt("return",this.destroy());case 2:case"end":return e.stop()}}),_callee3,this)})));return function terminate(){return e.apply(this,arguments)}}()}],[{key:"getIsSupported",value:function getIsSupported(){return Boolean(window.Worker)}}]),RPCPhantomWorker}(n.n(j).a)}).call(this,n(834))},725:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return WindowManager}));var r=n(84),c=n(75),i=n(523),a=n(153),o=n(15),s=n(28),l=n(726),u=n(551),d=n(843),j=n(591),b=n(744),h=n(548),f=n(745),p=n(611),v=n(545),O=n(538),g=n(553),m=n(22),x=["view","titleBarView","initialSharedState","id","title","serviceClasses","isPinned","isPinnedToDock"],y=["titleBarView"],w=0;function WindowManager(e){var t=e.children;return Object(m.jsx)(f.a,{children:Object(m.jsx)(WindowManagerView,{children:t})})}function WindowManagerView(e){var t=e.children,n=Object(O.a)().appRuntimes,l=Object(s.useState)(null),b=Object(a.a)(l,2),f=b[0],g=b[1],y=Object(v.a)(),C=y.activeWindowController,k=y.setActiveWindowController,A=Object(s.useState)({}),_=Object(a.a)(A,2),R=_[0],I=_[1],D=Object(s.useCallback)((function(e){return R[e]}),[R]),T=Object(s.useRef)(null);T.current=C;var M=Object(s.useCallback)((function(e){(null===e||void 0===e?void 0:e.getIsMinimized())&&e.setIsMinimized(!1),Object.is(e,T.current)||(k(e),e&&e.setState({stackingIndex:++w}))}),[k]),z=Object(s.useCallback)((function(e){return Object.is(C,e)}),[C]),E=Object(p.a)().startServiceClass,N=Object(s.useRef)(M);N.current=M,Object(s.useEffect)((function(){if(f){var e=function _handleElBaseTouch(e){e.target===f&&N.current(null)};return f.addEventListener("mousedown",e),f.addEventListener("touchstart",e,{passive:!0}),function unmount(){f.removeEventListener("mousedown",e),f.removeEventListener("touchstart",e,{passive:!0})}}}),[f]);var P=n.map((function(e){var t=e.getAppDescriptor();if(!t)return null;var n=e.getUUID(),a=t.view,s=t.titleBarView,l=t.initialSharedState,u=(t.id,t.title),b=t.serviceClasses,p=void 0===b?[]:b,v=(t.isPinned,t.isPinnedToDock,Object(i.a)(t,x));if(!a)return null;var O=D(n),g=O&&O.windowController;if(O&&!O.windowController)return null;var y,w={},C=Object(c.a)(p);try{for(C.s();!(y=C.n()).done;){var k=y.value,A=E(k);w[k]=A}}catch(_){C.e(_)}finally{C.f()}return Object(m.jsx)(j.b,{initialSharedState:l,windowController:g,children:Object(m.jsx)(d.a,Object(r.a)(Object(r.a)({},v),{},{elWindowManager:f,isActive:z(g),onMouseDown:function onMouseDown(){return M(g)},onTouchStart:function onTouchStart(){return M(g)},titleBarView:s?Object(m.jsx)(S,{titleBarView:s,appServices:w,windowController:g,appRuntime:e}):null,ref:function ref(t){if(t&&!g){var c=new h.e({},{onBringToTop:M});c.setTitle(u),c.__INTERNAL__attachWindowManagerElement(f),c.setAppRuntime(e),e.__INTERNAL__setWindowController(c),t.attachWindowController(c),I((function(e){var t=Object(r.a)({},e);return t[n]={windowController:c,key:n},t})),c.once(o.EVT_DESTROYED,(function(){I((function(e){var t=Object(r.a)({},e);return t[n].windowController=null,t}))})),M(c)}},children:g&&Object(m.jsx)(WrappedWindowView,{appServices:w,windowController:g,appRuntime:e,view:a})}))},n)})).filter((function(e){return Boolean(e)}));return Object(m.jsx)(u.a,{children:Object(m.jsxs)("div",{ref:g,style:{width:"100%",height:"100%",position:"relative"},children:[t,P]})})}var S=function WrappedTitleBarView(e){var t=e.titleBarView,n=Object(i.a)(e,y);return Object(m.jsx)(WrappedWindowView,Object(r.a)(Object(r.a)({},n),{},{view:t}))};function WrappedWindowView(t){var n=t.appServices,r=t.windowController,c=t.appRuntime,i=t.view,a=Object(g.a)(),u=Object(b.a)(),d=u.sharedState,j=u.setSharedState;Object(s.useEffect)((function(){for(var t=function _handleServiceUpdate(){e((function(){a()}))},r=0,c=Object.values(n);r<c.length;r++){c[r].on(o.EVT_UPDATED,t)}return function unmount(){for(var e=0,r=Object.values(n);e<r.length;e++){r[e].off(o.EVT_UPDATED,t)}}}),[n,a]);var h=Object(l.a)(r);return Object(m.jsx)(i,{windowController:r,appServices:n,appRuntime:c,setResizeHandler:h,sharedState:d,setSharedState:j})}}).call(this,n(108).setImmediate)},726:function(e,t,n){"use strict";n.d(t,"a",(function(){return useRegistrationViewOnResized}));var r=n(28),c=n(548);function useRegistrationViewOnResized(e){var t=Object(r.useRef)(null),n=Object(r.useCallback)((function(e){t.current=e}),[]);return Object(r.useEffect)((function(){if(e){if(!(e instanceof c.e))throw new TypeError("windowController is not a WindowController");var n=function _handleExecResizedCallback(){var e=t.current;"function"===typeof e&&e()};return e.on(c.c,n),function unmount(){e.off(c.c,n)}}}),[e]),n}},732:function(e,t,n){e.exports={row:"RowColumn_row__2MIpa","disable-vertical-fill":"RowColumn_disable-vertical-fill__YiYeg",column:"RowColumn_column__3aAA3","disable-horizontal-fill":"RowColumn_disable-horizontal-fill__2IkfG"}},734:function(e,t,n){e.exports={"no-wrap":"NoWrap_no-wrap__2b0bc"}},744:function(e,t,n){"use strict";n.d(t,"a",(function(){return useWindowContext}));var r=n(28),c=n(591);function useWindowContext(){return Object(r.useContext)(c.a)}},745:function(e,t,n){"use strict";n.d(t,"a",(function(){return WindowManagerRouteProvider}));var r=n(28),c=n.n(r),i=n(568),a=n.n(i),o=n(545),s=n(616),l=n(538),u=n(532),d=n(22),j=c.a.createContext({});function WindowManagerRouteProvider(e){var t,n=e.children,c=Object(l.a)(),i=c.getAppRuntimesWithRegistrationID,b=c.activateAppRegistrationWithID,h=Object(o.a)(),f=h.activeWindowController,p=h.setActiveWindowController,v=Object(s.a)();Object(r.useEffect)((function(){v?b(v):p(null)}),[v,i,p,b]);var O=null===f||void 0===f||null===(t=f.getAppRuntime())||void 0===t?void 0:t.getRegistrationID(),g=Object(u.d)();return Object(r.useEffect)((function(){if(O!==v){var e=a()((function(){return g.push(O?"/".concat(O):"/")}),50,!1);return e(),function(){return e.clear()}}}),[O,v,g]),Object(d.jsx)(j.Provider,{value:{},children:n})}},746:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Menu}));var r=n(75),c=n(84),i=n(523),a=n(28),o=n(747),s=n(527),l=n.n(s),u=n(22),d=["menuStructure","opened","onOpen","onClose"];function Menu(t){var n=t.menuStructure,r=t.opened,s=void 0!==r&&r,j=t.onOpen,b=void 0===j?function(){return null}:j,h=t.onClose,f=void 0===h?function(){return null}:h,p=Object(i.a)(t,d),v=Object(a.useRef)(null);return Object(a.useEffect)((function(){return window.addEventListener("resize",f),function(){window.removeEventListener("resize",f)}}),[f]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",Object(c.a)(Object(c.a)({ref:v},p),{},{className:l()("szh-menu-button",s&&"szh-menu-button--open"),onMouseDown:function onMouseDown(){e((function(){s?f():b()}))},disabled:n.disabled,children:n.label||n.role})),Object(u.jsx)(o.e,{anchorRef:v,state:v.current&&s?"open":"closed",onClose:f,portal:!0,children:xChildren(n)})]})}function xChildren(e){var t,n=[],c=Object(r.a)(e.submenu);try{for(c.s();!(t=c.n()).done;){var i=t.value;"separator"===i.type?(n.push(Object(u.jsx)(o.a,{},n.length)),i.label&&n.push(Object(u.jsx)(o.b,{children:i.label},n.length))):i.submenu?n.push(Object(u.jsx)(o.d,{label:i.label,children:xChildren(i)},n.length)):n.push(Object(u.jsx)(o.c,{onClick:i.click,disabled:i.disabled,checked:i.checked,type:i.type,children:i.role||i.label},n.length))}}catch(a){c.e(a)}finally{c.f()}return n}}).call(this,n(108).setImmediate)},747:function(e,t,n){"use strict";n.d(t,"d",(function(){return b}));var r=n(84),c=n(540),i=n(853),a=n(868),o=n(848);n.d(t,"c",(function(){return o.a}));var s=n(751);n.d(t,"b",(function(){return s.a}));var l=n(752);n.d(t,"a",(function(){return l.a}));n(748),n(749),n(750);var u=n(22),d={overflow:"auto"},j=Object(c.a)((function Menu(e){var t=Object.assign({},e);return Object(u.jsx)(i.a,Object(r.a)(Object(r.a)({},t),{},{portal:!0},d))}),i.a),b=Object(c.b)(a.a)((function SubMenu(e){var t=Object.assign({},e);return Object(u.jsx)(a.a,Object(r.a)(Object(r.a)({},t),d))}));t.e=j},750:function(e,t,n){},756:function(e,t,n){e.exports={padding:"Padding_padding__3cEtV","no-siblings":"Padding_no-siblings__1nLrM"}},757:function(e,t,n){},758:function(e,t,n){e.exports={"system-modal":"SystemModal_system-modal__3GtOL","outer-wrap":"SystemModal_outer-wrap__1fPfM","inner-wrap":"SystemModal_inner-wrap__1k8mt","small-viewport":"SystemModal_small-viewport__3gvyy",header:"SystemModal_header__37UXg"}},759:function(e,t,n){e.exports={sticky:"StickyTable_sticky__1r-_g"}},760:function(e,t,n){},761:function(e,t,n){e.exports={"button-transparent":"ButtonTransparent_button-transparent__nu1PF"}},762:function(e,t,n){e.exports={levels:"AudioLevelMeter_levels__3baNN","level-container":"AudioLevelMeter_level-container__12piT",level:"AudioLevelMeter_level__2fRqJ"}},785:function(e,t,n){},786:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return FullViewport}));var r=n(84),c=n(153),i=n(523),a=n(28),o=n(527),s=n.n(o),l=n(787),u=n.n(l),d=n(22),j=["className","children"];function FullViewport(t){var n=t.className,o=t.children,l=Object(i.a)(t,j),b=Object(a.useState)(null),h=Object(c.a)(b,2),f=h[0],p=h[1];return Object(a.useEffect)((function(){if(f){document.documentElement.classList.add(u.a["html-full-viewport"]),document.body.classList.add(u.a["body-full-viewport"]);var t=function handleResize(){e((function(){f.style.height=window.innerHeight+"px",document.body.scrollTop=0}))};return t(),window.addEventListener("resize",t),function(){document.documentElement.classList.remove(u.a["html-full-viewport"]),document.body.classList.remove(u.a["body-full-viewport"]),window.removeEventListener("resize",t)}}}),[f]),Object(d.jsx)("div",Object(r.a)(Object(r.a)({},l),{},{ref:p,className:s()(u.a["full-viewport"],n),children:o}))}}).call(this,n(108).setImmediate)},787:function(e,t,n){e.exports={"html-full-viewport":"FullViewport_html-full-viewport__2FFOO","body-full-viewport":"FullViewport_body-full-viewport__2_xlv","full-viewport":"FullViewport_full-viewport__2RwSj"}},788:function(e,t,n){e.exports={"auto-scaler":"AutoScaler_auto-scaler__zdzsp","content-wrap":"AutoScaler_content-wrap__2tFDr"}},789:function(e,t,n){e.exports={"notification-stack":"NotificationStack_notification-stack__1UiWO","inner-wrap":"NotificationStack_inner-wrap__2Mc0d"}},792:function(e,t,n){},793:function(e,t,n){e.exports={notification:"Notification_notification__3v54G",action:"Notification_action__3RBsB","main-image-wrap":"Notification_main-image-wrap__eqHez","main-image":"Notification_main-image__1PfuN",title:"Notification_title__2OHSD","body-outer-wrap":"Notification_body-outer-wrap__3eJfO",body:"Notification_body__1eZc4",close:"Notification_close__1O8FQ"}},794:function(e,t,n){e.exports={"virtual-link":"VirtualLink_virtual-link__76t27"}},795:function(e,t,n){e.exports={led:"LED_led__1cyGI",gray:"LED_gray__3hMZV",grey:"LED_grey__1_Ool",red:"LED_red__2O1gd",orange:"LED_orange__1Asac",yellow:"LED_yellow__H5_0O",green:"LED_green__5BS9Y",blue:"LED_blue__fOsqG"}},796:function(e,t,n){e.exports={"button-group":"ButtonGroup_button-group__3JQ0y"}},797:function(e,t,n){e.exports={"toggle-wrapper":"Toggle_toggle-wrapper__1K_Qn",disabled:"Toggle_disabled__3_Ejj",toggle:"Toggle_toggle__2zmhC",checkbox:"Toggle_checkbox__2zOQF"}},798:function(e,t,n){e.exports={"labeled-toggle":"LabeledToggle_labeled-toggle__14B6D",disabled:"LabeledToggle_disabled__11klv",cell:"LabeledToggle_cell__2ahlq",right:"LabeledToggle_right__3UVvj",active:"LabeledToggle_active__vC7cP",left:"LabeledToggle_left__V16KX","content-row":"LabeledToggle_content-row__13-yU","title-row":"LabeledToggle_title-row__2_m3u"}},799:function(e,t,n){e.exports={"color-adjuster":"ColorAdjuster_color-adjuster__2X490"}},800:function(e,t,n){e.exports={"object-viewer":"ObjectViewer_object-viewer__8k3ak"}},802:function(e,t,n){e.exports={vu:"VUMeter_vu__Xlt7R",mask:"VUMeter_mask__2OXhL",needle:"VUMeter_needle__AmMsB","vu-label":"VUMeter_vu-label__3kDDJ"}},803:function(e,t,n){e.exports={video:"Video_video__2GgL9"}},804:function(e,t,n){},805:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__hFctx",title:"Sidebar_title__27oVD"}},806:function(e,t,n){e.exports={ellipses:"Ellipses_ellipses__VA4M-","single-line":"Ellipses_single-line__P43mI"}},807:function(e,t,n){e.exports={"content-button":"ContentButton_content-button__2fBOK",overlay:"ContentButton_overlay__3bmAf"}},808:function(e,t,n){},809:function(e,t,n){e.exports={"labeled-led":"LabeledLED_labeled-led__wOicI","led-wrap":"LabeledLED_led-wrap__1c0-2","label-wrap":"LabeledLED_label-wrap__1FyWJ",disabled:"LabeledLED_disabled__1aKnC"}},810:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),c=n(4),i=n(5),a=n(6),o=function(e){Object(i.a)(LocaleService,e);var t=Object(a.a)(LocaleService);function LocaleService(){var e;Object(r.a)(this,LocaleService);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).setTitle("Locale Service"),e.setState({languageCode:"en-US"}),e}return Object(c.a)(LocaleService,[{key:"getLanguageCode",value:function getLanguageCode(){return this.getState().languageCode}}]),LocaleService}(n(58).c)},813:function(e,t){},814:function(e,t){},816:function(e,t){},820:function(e,t){},821:function(e,t){},822:function(e,t){},823:function(e,t){},824:function(e,t){},832:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n(1),c=n.n(r),i=n(9),a=n(3),o=n(4),s=n(5),l=n(6),u=n(58),d=n(705),j=function(t){Object(s.a)(PartOfSpeechAnalyzerService,t);var n=Object(l.a)(PartOfSpeechAnalyzerService);function PartOfSpeechAnalyzerService(){var t;Object(a.a)(this,PartOfSpeechAnalyzerService);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(t=n.call.apply(n,[this].concat(c))).setTitle("Part of Speech Analyzer Service"),t._rpcWorker=new d.a((function(){return new Worker(e,void 0)})),t.registerCleanupHandler((function(){return t._rpcWorker.destroy()})),t}return Object(o.a)(PartOfSpeechAnalyzerService,[{key:"fetchSyntaxTree",value:function(){var e=Object(i.a)(c.a.mark((function _callee(e){return c.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._rpcWorker.call("fetchSyntaxTree",{text:e}));case 1:case"end":return t.stop()}}),_callee,this)})));return function fetchSyntaxTree(t){return e.apply(this,arguments)}}()},{key:"fetchPartsOfSpeech",value:function(){var e=Object(i.a)(c.a.mark((function _callee2(e){return c.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._rpcWorker.call("fetchPartsOfSpeech",{text:e}));case 1:case"end":return t.stop()}}),_callee2,this)})));return function fetchPartsOfSpeech(t){return e.apply(this,arguments)}}()},{key:"fetchPolarity",value:function(){var e=Object(i.a)(c.a.mark((function _callee3(e){return c.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._rpcWorker.call("fetchPolarity",{text:e}));case 1:case"end":return t.stop()}}),_callee3,this)})));return function fetchPolarity(t){return e.apply(this,arguments)}}()},{key:"fetchSentimentAnalysis",value:function(){var e=Object(i.a)(c.a.mark((function _callee4(e){return c.a.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._rpcWorker.call("fetchSentimentAnalysis",{text:e}));case 1:case"end":return t.stop()}}),_callee4,this)})));return function fetchSentimentAnalysis(t){return e.apply(this,arguments)}}()},{key:"fetchRandomizedTemplate",value:function(){var e=Object(i.a)(c.a.mark((function _callee5(e){return c.a.wrap((function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._rpcWorker.call("fetchRandomizedTemplate",{text:e}));case 1:case"end":return t.stop()}}),_callee5,this)})));return function fetchRandomizedTemplate(t){return e.apply(this,arguments)}}()}]),PartOfSpeechAnalyzerService}(u.c)}).call(this,n(833))},833:function(e,t,n){e.exports=n.p+"0.worker.js"},834:function(e,t,n){e.exports=n.p+"2.worker.js"},835:function(e,t,n){e.exports={terminal:"CRT_terminal__2QS_3",bezel:"CRT_bezel__1esFY",crt:"CRT_crt__272dh",scanline:"CRT_scanline__2m1I7",textShadow:"CRT_textShadow__3tbwH"}},836:function(e,t,n){e.exports={caret:"Caret_caret__JQVam",blinking:"Caret_blinking__3ijnc"}},837:function(e,t,n){e.exports={"input-with-custom-caret":"InputWithCustomCaret_input-with-custom-caret__3kCbd",wrapper:"InputWithCustomCaret_wrapper__1XcM7"}},838:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return useWindowInputFocusLock}));var r=n(28),c=n(839);function useWindowInputFocusLock(t){var n=Object(c.a)(),i=n.getIsActive(),a=n.getElWindow();Object(r.useEffect)((function(){if(i&&t){var n=function handleFocus(){return e((function(){(document.body===document.activeElement||a===document.activeElement||a.contains(document.activeElement))&&t.focus()}))};return n(),t.addEventListener("blur",n,{passive:!0}),a.addEventListener("mousedown",n,{passive:!0}),a.addEventListener("touchstart",n,{passive:!0}),function(){t.removeEventListener("blur",n,{passive:!0}),a.removeEventListener("mousedown",n,{passive:!0}),a.removeEventListener("touchstart",n,{passive:!0})}}}),[i,n,t,a])}}).call(this,n(108).setImmediate)},839:function(e,t,n){"use strict";n.d(t,"a",(function(){return useWindowController}));var r=n(28),c=n(591);function useWindowController(){return Object(r.useContext)(c.a).windowController}},841:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(1),c=n.n(r),i=n(9),a=n(3),o=n(4),s=n(5),l=n(6),u=function(t){Object(s.a)(ElizaBotController,t);var n=Object(l.a)(ElizaBotController);function ElizaBotController(){return Object(a.a)(this,ElizaBotController),n.call(this,(function(){return new Worker(e,void 0)}))}return Object(o.a)(ElizaBotController,[{key:"start",value:function(){var e=Object(i.a)(c.a.mark((function _callee(){return c.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.call("start"));case 1:case"end":return e.stop()}}),_callee,this)})));return function start(){return e.apply(this,arguments)}}()},{key:"reply",value:function(){var e=Object(i.a)(c.a.mark((function _callee2(e){return c.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.call("reply",{text:e}));case 1:case"end":return t.stop()}}),_callee2,this)})));return function reply(t){return e.apply(this,arguments)}}()},{key:"bye",value:function(){var e=Object(i.a)(c.a.mark((function _callee3(){return c.a.wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.call("bye"));case 1:case"end":return e.stop()}}),_callee3,this)})));return function bye(){return e.apply(this,arguments)}}()}]),ElizaBotController}(n(705).a)}).call(this,n(842))},842:function(e,t,n){e.exports=n.p+"1.worker.js"},843:function(e,t,n){"use strict";var r=n(84),c=n(153),i=n(523),a=n(28),o=n.n(a),s=n(548),l=n(711),u=n(531),d=n(526),j=n(608),b=n(22),h=["children","onBorderDrag","borderWidth","isDisabled"],f="NW",p="NE",v="E",O="SE",g="SW",m="W",x=function useDirectionalDragger(e,t){return Object(j.useDrag)((function(n){var r=n.down,i=Object(c.a)(n.movement,2),a=i[0],o=i[1];t(e,{mx:a,my:o,isDragging:r})}),{pointer:{touch:!0}})};var y=n(567),w=n(586),S=n.n(w),C=n(560);function WindowTitleBarMaximizeButton(e){var t=Object.assign({},e);return Object(b.jsx)(WindowTitleBarButton,Object(r.a)(Object(r.a)({},t),{},{className:S.a.maximize}))}function WindowTitleBarMinimizeButton(e){var t=Object.assign({},e);return Object(b.jsx)(WindowTitleBarButton,Object(r.a)(Object(r.a)({},t),{},{className:S.a.minimize}))}function WindowTitleBarCloseButton(e){var t=Object.assign({},e);return Object(b.jsx)(WindowTitleBarButton,Object(r.a)(Object(r.a)({},t),{},{className:S.a.close}))}function WindowTitleBarButton(e){var t=Object.assign({},e);return Object(b.jsx)("button",Object(r.a)({},t))}var k=["title","onRestoreOrMaximize","onMinimize","onClose","titleBarView"];var A=function WindowTitleBar(e){var t=e.title,n=e.onRestoreOrMaximize,c=e.onMinimize,o=e.onClose,s=e.titleBarView,l=Object(i.a)(e,k),d=Object(a.useRef)(null),j=Object(C.d)().uiParadigm,h=j===C.b||s,f=Object(a.useMemo)((function(){return j===C.b?{onDoubleClick:function onDoubleClick(e){"DIV"===e.target.tagName&&n(e)}}:{}}),[j,n]);return h?Object(b.jsxs)("div",Object(r.a)(Object(r.a)(Object(r.a)({},l),{},{ref:d,className:S.a["title-bar"]},f),{},{children:[s?Object(b.jsx)(u.a,{children:s}):Object(b.jsx)(y.a,{className:S.a.title,children:t}),j===C.b&&Object(b.jsxs)(y.a,{className:S.a["window-controls"],children:[Object(b.jsx)(WindowTitleBarMaximizeButton,{onClick:n}),Object(b.jsx)(WindowTitleBarMinimizeButton,{onClick:c}),Object(b.jsx)(WindowTitleBarCloseButton,{onClick:o})]})]})):null},_=n(527),R=n.n(_);var I=n(584),D=n(568),T=n.n(D),M=n(607),z=n(615);var E=n(538);var N=function useWindowAutoPositioner(e){var t=e.elWindow,n=e.elWindowManager,r=e.windowController,i=e.onInitialAutoPosition,o=void 0===i?function(){return null}:i,l=Object(a.useRef)(null);t&&(l.current=o);var u=function useWindowOutOfBoundsPositionCorrection(e){var t=e.elWindow,n=e.elWindowManager,r=e.windowController,i=Object(z.a)({x:null,y:null}),o=Object(c.a)(i,2),l=o[0],u=o[1],d=Object(a.useCallback)((function(e,t){var n=Object(I.a)(t),r=Object(I.a)(e),c=Object(M.a)(e),i=c.x,a=c.y,o=c.x+r.width,s=c.y,l={x:null,y:null};return o<58&&(l.x=58-r.width),s<0&&(l.y=0),i>n.width-58&&(l.x=n.width-58),a>n.height-58&&(l.y=n.height-58),l}),[]),j=Object(C.d)().uiParadigm;return Object(a.useEffect)((function(){if(j===C.b&&t&&n&&r){var e=T()((function(){if(!r.getIsMinimized()){var e=d(t,n);u(e)}}),100,!1);return r.on(s.c,e),r.on(s.a,e),window.addEventListener("resize",e),e(),function unmount(){r.off(s.c,e),r.off(s.a,e),window.removeEventListener("resize",e)}}}),[j,t,n,r,d,u]),l}({elWindow:t,elWindowManager:n,windowController:r});Object(a.useEffect)((function(){if(r&&(null!==u.x||null!==u.y)){var e=r.getPosition(),t={x:null!==u.x?u.x:e.x,y:null!==u.y?u.y:e.y};r.setPosition(t)}}),[r,u]);var d=Object(a.useCallback)((function(){var e=function getElCenterPoint(e){return{x:e.offsetLeft+e.offsetWidth/2,y:e.offsetTop+e.offsetHeight/2}}(n),c=Object(I.a)(t),i=e.x-c.width/2,a=e.y-c.height/2;r.setPosition({x:i,y:a})}),[n,t,r]),j=Object(a.useCallback)((function(){if(r){var e=Object(I.a)(n),c=Object(I.a)(t),i=Math.floor(Math.random()*(e.width-c.width)),a=Math.floor(Math.random()*(e.height-c.height));r.setPosition({x:i,y:a})}}),[n,t,r]),b=Object(E.a)().appRuntimes,h=Object(a.useRef)(b);Object(a.useEffect)((function(){n&&t&&r&&(r.__INTERNAL__setCenterHandler(d),r.__INTERNAL__setScatterHandler(j),window.requestAnimationFrame((function(){h.current.length<2?d():j(),window.requestAnimationFrame((function(){l.current()}))})))}),[n,t,r,d,j])};var P=n(619);var W=n(545),L=["children","elWindowManager","windowController","isActive","titleBarView","style"],U=function WindowView(e){var t=e.children,n=e.elWindowManager,h=e.windowController,x=e.isActive,y=e.titleBarView,w=void 0===y?null:y,k=e.style,_=void 0===k?{}:k,I=Object(i.a)(e,L),D=Object(a.useState)(null),T=Object(c.a)(D,2),M=T[0],z=T[1],E=function useWindowOpenAnimation(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),r=n[0],i=n[1];return Object(P.a)({domElement:e,animationName:"zoomInUp",animationDuration:".5s",shouldRun:Boolean(e),onAnimationEnd:function onAnimationEnd(){return i(!0)}}),{isOpenAnimationEnded:r}}(M),U=E.isOpenAnimationEnded;N({elWindow:M,elWindowManager:n,windowController:h}),function useWindowAutoSizer(e){var t=e.windowController,n=Object(C.d)().uiParadigm;Object(a.useEffect)((function(){if(t&&!t.getIsMinimized())switch(n){case C.c:t.maximize();break;case C.b:t.restore()}}),[t,n])}({windowController:h});var V=Object(a.useState)(0),B=Object(c.a)(V,2),F=B[0],K=B[1],Q=Object(a.useState)(null),H=Object(c.a)(Q,2),Y=H[0],G=H[1],Z=Object(a.useRef)(null);Z.current=Y,Object(a.useEffect)((function(){h&&M&&h.__INTERNAL__attachWindowElement(M)}),[h,M]);var q=Object(a.useState)(!1),J=Object(c.a)(q,2),X=J[0],$=J[1],ee=Object(a.useRef)(null);ee.current=X;var te=Object(a.useState)(!1),ne=Object(c.a)(te,2),re=ne[0],ce=ne[1],ie=Object(a.useState)(!1),ae=Object(c.a)(ie,2),oe=ae[0],se=ae[1];Object(a.useEffect)((function(){if(h){var e=function _handleWindowControllerUpdate(e){e||(e=h.getState()||{});var t=h.getTitle();t!==Z.current&&G(t),void 0!==e.stackingIndex&&e.stackingIndex!==F&&K(e.stackingIndex),void 0!==e.isMaximized&&ce(e.isMaximized),void 0!==e.isMinimized&&se(e.isMinimized);var n=h.getIsBorderDisabled();ee.current!==n&&$(n)};return e(),h.on(s.d,e),function unmount(){h.off(s.d,e)}}}),[h,Y,F]);var le=function useWindowControls(e){var t=e.windowController;return{onRestoreOrMaximize:Object(a.useCallback)((function(){t.getIsMaximized()?t.restore():t.maximize()}),[t]),onMinimize:Object(a.useCallback)((function(){t.minimize()}),[t]),onClose:Object(a.useCallback)((function(){t.getIsDestroying()||t.destroy()}),[t])}}({windowController:h}),ue=le.onRestoreOrMaximize,de=le.onMinimize,je=le.onClose,be=function useWindowDragger(e){var t=e.windowController,n=e.isDisabled,r=Object(a.useRef)(null),i=Object(a.useRef)(null),o=Object(a.useState)(!1),s=Object(c.a)(o,2),l=s[0],u=s[1];return[Object(j.useDrag)((function(e){var a=e.down,o=Object(c.a)(e.movement,2),s=o[0],d=o[1],j=e.xy;if(e.event,n)l&&u(!1);else if(a!==l&&u(a),a){r.current||(r.current=t.getPosition()),i.current||(i.current=t.getWindowManagerSize());var b=r.current.x+s,h=r.current.y+d,f=i.current.width,p=i.current.height;h<0&&(h=0),h>p-58&&(h=p-58),j[0]<0&&(b=null),j[0]>f-0&&(b=null),t.setPosition({x:b,y:h})}else r.current=null,i.current=null})),l]}({windowController:h,isDisabled:X}),he=Object(c.a)(be,2),fe=he[0],pe=he[1],ve=function useWindowDragResizer(e){var t=e.windowController,n=Object(a.useRef)(null),i=Object(a.useRef)(null),o=Object(a.useState)(!1),s=Object(c.a)(o,2),l=s[0],u=s[1];return[Object(a.useCallback)((function(e,c){var a=c.mx,o=c.my,s=c.isDragging;if(s!==l&&u(s),s){n.current||(n.current=Object(r.a)(Object(r.a)({},t.getSize()),t.getPosition())),i.current||(i.current=t.getWindowManagerSize());var d=n.current,j=d.width,b=d.height,h=d.x,x=d.y,y=i.current.width,w=i.current.height;switch(e){case f:j-=a,b-=o,h+=a,x+=o;break;case"N":b-=o,x+=o;break;case p:b-=o,j+=a,x+=o;break;case v:j+=a;break;case O:j+=a,b+=o;break;case"S":b+=o;break;case g:j-=a,b+=o,h+=a;break;case m:j-=a,h+=a;break;default:throw new ReferenceError("Unknown direction: ".concat(e))}if(![p,v,O].includes(e)&&h<0){var S=0-h;h=0,j-=S}if(x<0){var C=0-x;x=0,b-=C}if([f,m,g].includes(e)||j+h>y&&(j=y-h,h=null),b+x>w&&("S"!==e&&e!==O&&e!==g||(b=w-x,x=null)),w-x<58)return;t.setSize({width:j,height:b}),t.setPosition({x:h,y:x})}else n.current=null,i.current=null}),[t,l]),l]}({windowController:h}),Oe=Object(c.a)(ve,2),ge=Oe[0],me=Oe[1],xe=Object(W.a)().isProfiling,ye=Object(a.useMemo)((function(){return function(e){var t=Object.assign({},e);return xe?Object(b.jsx)(o.a.Profiler,Object(r.a)(Object(r.a)({},t),{},{id:h.getUUID(),onRender:function onRender(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.captureRenderProfile(t)}})):Object(b.jsx)(o.a.Fragment,Object(r.a)({},t))}}),[xe,h]),we=function useWindowStyles(e){var t=e.style,n=e.isMaximized,r=e.isMinimized;return{outerBorderStyle:Object(a.useMemo)((function(){return n||r?{}:{width:t.width,height:t.height}}),[t.width,t.height,n,r]),windowStyle:Object(a.useMemo)((function(){return{backgroundColor:t.backgroundColor}}),[t.backgroundColor]),bodyStyle:Object(a.useMemo)((function(){return{padding:t.padding}}),[t.padding])}}({style:_,isMaximized:re,isMinimized:oe}),Se=we.outerBorderStyle,Ce=we.windowStyle,ke=we.bodyStyle;return Object(b.jsx)(l.a,Object(r.a)(Object(r.a)({ref:z},I),{},{style:Object(r.a)(Object(r.a)({},Se),{},{zIndex:F}),className:R()(S.a["window-outer-border"],!U&&S.a.hidden,x&&S.a.active,re&&S.a.maximized,oe&&S.a.minimized,(pe||me)&&S.a.dragging),isAccelerated:pe||me,"data-reshell-window-title":h.getTitle(),children:Object(b.jsx)(ye,{children:Object(b.jsx)(WindowView.Border,{isDisabled:X,onBorderDrag:ge,children:Object(b.jsx)(u.a,{className:R()(S.a.window,x&&S.a.active,pe&&S.a.dragging),style:Ce,children:Object(b.jsxs)(d.f,{children:[Object(b.jsx)(d.d,{children:Object(b.jsx)(A,Object(r.a)(Object(r.a)({},fe()),{},{title:Y,onRestoreOrMaximize:ue,onMinimize:de,onClose:je,titleBarView:w}))}),Object(b.jsx)(d.b,{className:S.a.body,style:ke,children:t})]})})})})}))};U.Border=function WindowBorder(e){var t=e.children,n=e.onBorderDrag,c=e.borderWidth,a=void 0===c?3:c,o=e.isDisabled,s=void 0!==o&&o,l=Object(i.a)(e,h),u=x(f,n),j=x("N",n),y=x(p,n),w=x(v,n),S=x(O,n),C=x("S",n),k=x(g,n),A=x(m,n);return Object(b.jsxs)(d.f,Object(r.a)(Object(r.a)({},l),{},{children:[Object(b.jsx)(d.d,{children:!s&&Object(b.jsxs)(d.e,{style:{maxHeight:a,height:a},children:[Object(b.jsx)(d.a,Object(r.a)(Object(r.a)({},u()),{},{style:{maxWidth:a,cursor:"nwse-resize"}})),Object(b.jsx)(d.a,Object(r.a)(Object(r.a)({},j()),{},{style:{cursor:"ns-resize"}})),Object(b.jsx)(d.a,Object(r.a)(Object(r.a)({},y()),{},{style:{maxWidth:a,cursor:"nesw-resize"}}))]})}),Object(b.jsx)(d.b,{children:Object(b.jsxs)(d.e,{children:[!s&&Object(b.jsx)(d.a,Object(r.a)(Object(r.a)({},A()),{},{style:{maxWidth:a,cursor:"ew-resize"}})),Object(b.jsx)(d.a,{children:t}),!s&&Object(b.jsx)(d.a,Object(r.a)(Object(r.a)({},w()),{},{style:{maxWidth:a,cursor:"ew-resize"}}))]})}),Object(b.jsx)(d.c,{children:!s&&Object(b.jsxs)(d.e,{style:{maxHeight:a,height:a},children:[Object(b.jsx)(d.a,Object(r.a)(Object(r.a)({},k()),{},{style:{maxWidth:a,cursor:"nesw-resize"}})),Object(b.jsx)(d.a,Object(r.a)(Object(r.a)({},C()),{},{style:{cursor:"ns-resize"}})),Object(b.jsx)(d.a,Object(r.a)(Object(r.a)({},S()),{},{style:{maxWidth:a,cursor:"nwse-resize"}}))]})})]}))};var V=U,B=["children","elWindowManager","isActive","titleBarView","style"],F=o.a.forwardRef((function(e,t){var n=e.children,o=e.elWindowManager,s=e.isActive,l=e.titleBarView,u=e.style,d=void 0===u?{}:u,j=Object(i.a)(e,B),h=Object(a.useState)(null),f=Object(c.a)(h,2),p=f[0],v=f[1];return Object(a.useImperativeHandle)(t,(function(){return{attachWindowController:v}})),p?Object(b.jsx)(V,Object(r.a)(Object(r.a)({},j),{},{style:d,elWindowManager:o,windowController:p,isActive:s,titleBarView:l,children:n})):null}));t.a=F},867:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"CMD_OPEN_APPLICATIONS",(function(){return Br})),n.d(r,"CMD_ACTIVATE_NEXT_WINDOW",(function(){return Fr})),n.d(r,"CMD_ACTIVATE_PREVIOUS_WINDOW",(function(){return Kr})),n.d(r,"CMD_MOVE_WINDOW_UP",(function(){return Qr})),n.d(r,"CMD_MOVE_WINDOW_UP_AND_RIGHT",(function(){return Hr})),n.d(r,"CMD_MOVE_WINDOW_UP_AND_LEFT",(function(){return Yr})),n.d(r,"CMD_MOVE_WINDOW_RIGHT",(function(){return Gr})),n.d(r,"CMD_MOVE_WINDOW_DOWN",(function(){return Zr})),n.d(r,"CMD_MOVE_WINDOW_DOWN_AND_RIGHT",(function(){return qr})),n.d(r,"CMD_MOVE_WINDOW_DOWN_AND_LEFT",(function(){return Jr})),n.d(r,"CMD_MOVE_WINDOW_LEFT",(function(){return Xr})),n.d(r,"CMD_CENTER_WINDOW",(function(){return $r})),n.d(r,"CMD_CENTER_ALL_WINDOWS",(function(){return ec})),n.d(r,"CMD_SCATTER_WINDOW",(function(){return tc})),n.d(r,"CMD_SCATTER_ALL_WINDOWS",(function(){return nc})),n.d(r,"CMD_MAXIMIZE_WINDOW",(function(){return rc})),n.d(r,"CMD_MINIMIZE_WINDOW",(function(){return cc})),n.d(r,"CMD_RESTORE_WINDOW",(function(){return ic})),n.d(r,"CLOSE_APPLICATION",(function(){return ac})),n.d(r,"SWITCH_TO_DESKTOP_PARADIGM",(function(){return oc})),n.d(r,"SWITCH_TO_MOBILE_PARADIGM",(function(){return sc})),n.d(r,"SWITCH_TO_AUTO_DETECT_PARADIGM",(function(){return lc}));var c=n(15),i=n.n(c),a=n(156),o=n(725).a,s=n(1),l=n.n(s),u=n(9),d=n(45),j=n(28),b=n.n(j),h=n(75),f=n(153),p=n(746).a,v=n(567),O=n(22);var g=function MenuBar(e){var t=e.menuStructures,n=void 0===t?[]:t,r=Object(j.useState)([]),c=Object(f.a)(r,2),i=c[0],a=c[1],o=Object(j.useState)(!1),s=Object(f.a)(o,2),l=s[0],u=s[1];return Object(j.useEffect)((function(){var e=Boolean(i.length);l!==e&&(u(e),e||a([]))}),[l,i]),Object(j.useEffect)((function(){var e,t=Object(h.a)(i);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(!n[r]){a([]),u(!1);break}}}catch(c){t.e(c)}finally{t.f()}}),[i,n]),Object(O.jsx)(v.a,{children:n.map((function(e,t){return e&&Object(O.jsx)(p,{menuStructure:e,onOpen:function onOpen(){return a((function(e){return Object(d.a)(new Set([].concat(Object(d.a)(e),[t])))}))},onClose:function onClose(){return a((function(e){return e.filter((function(e){return e!==t}))}))},opened:Boolean(i.includes(t)),onMouseOver:function onMouseOver(){l&&(i.includes(t)||a([t]))}},t)}))})},m=n(545),x=n(538),y=n(553),w=n(560),S=n(546),C=n(84),k=n(523),A=n(3),_=n(4),R=n(5),I=n(6),D=n(58),T=n(169),M=function(e){Object(R.a)(UIModalService,e);var t=Object(I.a)(UIModalService);function UIModalService(){var e;Object(A.a)(this,UIModalService);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).setTitle("UI Modal Service"),e.setState({modals:[]}),e}return Object(_.a)(UIModalService,[{key:"showModal",value:function showModal(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(T.a)(),c=null,i=function _handleClose(){clearTimeout(c),t.closeModalWithUUID(r)};this.setState({modals:[].concat(Object(d.a)(this.getState().modals),[{view:e,uuid:r,onClose:i,onCancel:i}])}),n.duration&&(c=setTimeout((function(){t.closeModalWithUUID(r)}),n.duration))}},{key:"closeModalWithUUID",value:function closeModalWithUUID(e){var t=this.getState().modals.filter((function(t){var n=t.uuid;return e!==n}));this.setState({modals:t})}}]),UIModalService}(D.c),z=n(530),E=n(531),N=n(756),P=n.n(N),W=n(527),L=n.n(W),U=["children","className"];var V=function Padding(e){var t=e.children,n=e.className,r=Object(k.a)(e,U),c=Object(j.useState)(null),i=Object(f.a)(c,2),a=i[0],o=i[1],s=Object(j.useState)(!1),l=Object(f.a)(s,2),u=l[0],b=l[1];return Object(j.useEffect)((function(){if(a){var e=Boolean(Object(d.a)(a.parentNode.children).length>1);b(e)}}),[a]),Object(O.jsx)("div",Object(C.a)(Object(C.a)({},r),{},{ref:o,className:L()(P.a.padding,!u&&P.a["no-siblings"],n),children:Object(O.jsx)(E.a,{children:t})}))},B=n(526),F=(n(757),["className"]),K=function DynamicIcon(e){var t=e.className,n=Object(k.a)(e,F);return Object(O.jsx)("i",Object(C.a)(Object(C.a)({},n),{},{className:"id92dd65b22cd4a62996cb3b8e0f579db-icon".concat(t?" ".concat(t):"")}))},Q=n(758),H=n.n(Q),Y=n(568);var G={onKeyDown:function onKeyDown(e){return null},onKeyUp:function onKeyUp(e){return null},onEnter:function onEnter(){return null},onEscape:function onEscape(){return null},isEnabled:!0};function useKeyboardEvents(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(j.useMemo)((function(){return Object(C.a)(Object(C.a)({},G),t)}),[t]),r=n.onKeyDown,c=n.onKeyUp,i=n.onEnter,a=n.onEscape,o=n.isEnabled;Object(j.useEffect)((function(){if(e&&o){var t=function _handleKeyDown(e){if(!e.repeat)switch(r(e.which),e.which){case 13:i();break;case 27:a()}},n=function _handleKeyUp(e){e.preventDefault(),c(e.which)};return e.addEventListener("keydown",t,!0),e.addEventListener("keyup",n,!0),function(){e.removeEventListener("keydown",t,!0),e.removeEventListener("keyup",n,!0)}}}),[e,r,c,i,a,o])}var Z=!1;var q=function SystemModal(e){var t=e.children,n=e.className,r=e.onClose,c=e.onCancel,i=e.headerView,a=void 0===i?null:i,o=e.footerView,s=void 0===o?function(e){var t=e.onCancel;return Object(O.jsx)("div",{style:{textAlign:"center"},children:Object(O.jsx)(V,{children:Object(O.jsxs)("button",{onClick:t,style:{backgroundColor:"red"},children:[Object(O.jsx)(K,{})," Cancel"]})})})}:o,l=Object(j.useState)(Z),u=Object(f.a)(l,2),d=u[0],b=u[1];return Z=d,function useViewportSize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=Object(j.useCallback)((function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}),[]),r=Object(j.useRef)(e);r.current=e,Object(j.useEffect)((function(){if("function"===typeof r.current){var e=Object(Y.debounce)((function(){(0,r.current)(n())}),t,!1);return e(),window.addEventListener("resize",e),function unmount(){window.removeEventListener("resize",e)}}}),[t,n])}((function(e){var t=e.width,n=e.height;b(t<500||n<600)})),useKeyboardEvents(window,{onEscape:c}),Object(O.jsx)(E.a,{className:L()(H.a["system-modal"],d?H.a["small-viewport"]:null,n),children:Object(O.jsx)("div",{className:H.a["outer-wrap"],children:Object(O.jsx)("div",{className:H.a["inner-wrap"],children:Object(O.jsxs)(B.f,{children:[a&&Object(O.jsx)(B.d,{className:H.a.header,children:"function"===typeof a?a({onCancel:c,onClose:r}):a}),Object(O.jsx)(B.b,{children:t}),s&&Object(O.jsx)(B.c,{className:H.a.footer,children:"function"===typeof s?s({onCancel:c,onClose:r}):s})]})})})})},J=["text","onCancel","onClose","footerView"];var X=function ConfirmModal(e){var t=e.text,n=e.onCancel,r=e.onClose,c=e.footerView,i=void 0===c?function(e){var t=e.onCancel,n=e.onClose;return Object(O.jsx)("div",{style:{textAlign:"center"},children:Object(O.jsxs)(V,{children:[Object(O.jsx)("button",{onClick:n,style:{backgroundColor:"red"},children:"Confirm"}),Object(O.jsx)("div",{style:{display:"inline-block",width:"1em"}}),Object(O.jsx)("button",{onClick:t,style:{backgroundColor:"#347fe8"},children:"Cancel"})]})})}:c,a=Object(k.a)(e,J);return Object(O.jsx)(q,Object(C.a)(Object(C.a)({},a),{},{onCancel:n,onClose:r,footerView:i,children:Object(O.jsx)(z.a,{canOverflow:!0,style:{fontWeight:"bold"},children:t})}))},$=n(551),ee=n(759),te=n.n(ee),ne=["className","children"];var re=function StickyTable(e){var t=e.className,n=e.children,r=Object(k.a)(e,ne);return Object(O.jsx)("table",Object(C.a)(Object(C.a)({className:L()(te.a.sticky,t)},r),{},{children:n}))},ce=(n(760),["className"]),ie=function DynamicIcon(e){var t=e.className,n=Object(k.a)(e,ce);return Object(O.jsx)("i",Object(C.a)(Object(C.a)({},n),{},{className:"i91eec2200f934fc6a4087e250fa26340-icon".concat(t?" ".concat(t):"")}))},ae=n(761),oe=n.n(ae),se=["children","className"];var le=function ButtonTransparent(e){var t=e.children,n=e.className,r=Object(k.a)(e,se);return Object(O.jsx)("button",Object(C.a)(Object(C.a)({className:L()(oe.a["button-transparent"],"unstyled",n)},r),{},{children:t}))},ue=n(762),de=n.n(ue),je=n(558),be=n.n(je),he=n(563);function useArrayDiff(e){var t=function usePrevious(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(j.useRef)(t);return Object(j.useEffect)((function(){n.current=e}),[e]),n.current}(e,[]),n=Object(j.useState)({added:[],removed:[]}),r=Object(f.a)(n,2),i=r[0],a=r[1];return Object(j.useEffect)((function(){if(!Array.isArray(e))throw new Error("next should be an array");var n=c.PhantomCollection.getChildrenDiff(t,e),r=n.added,i=n.removed;(r.length||i.length)&&a({added:r,removed:i})}),[t,e]),{added:i.added,removed:i.removed}}var fe=he.MultiAudioMediaStreamTrackLevelMonitor.EVT_AUDIO_LEVEL_UPDATED;function useMultiAudioMediaStreamTrackLevelMonitor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Object(j.useMemo)((function(){return(e?Array.isArray(e)?e:[e]:[]).filter((function(e){return e instanceof MediaStreamTrack&&"audio"===e.kind}))}),[e]),r=Object(j.useState)(null),c=Object(f.a)(r,2),i=c[0],a=c[1],o=Object(j.useRef)(t);o.current=t,Object(j.useEffect)((function(){var e=new he.MultiAudioMediaStreamTrackLevelMonitor;return e.on(fe,(function(e){o.current(e)})),a(e),function unmount(){e.getIsDestroying()||e.destroy()}}),[]);var s=useArrayDiff(n),l=s.added,u=s.removed;Object(j.useEffect)((function(){if(i){var e,t=Object(h.a)(l);try{for(t.s();!(e=t.n()).done;){var n=e.value;i.addMediaStreamTrack(n)}}catch(o){t.e(o)}finally{t.f()}var r,c=Object(h.a)(u);try{for(c.s();!(r=c.n()).done;){var a=r.value;i.removeMediaStreamTrack(a)}}catch(o){c.e(o)}finally{c.f()}}}),[i,l,u])}var pe=["className","mediaStreamTrack","mediaStreamTracks"];var ve=function AudioLevelMeter(e){var t=e.className,n=e.mediaStreamTrack,r=e.mediaStreamTracks,c=Object(k.a)(e,pe),i=Object(j.useState)(null),a=Object(f.a)(i,2),o=a[0],s=a[1],l=Object(j.useMemo)(T.a,[]),u=Object(j.useCallback)((function(e){o&&be()((function(){var t=100-e;o.style.clipPath="inset(".concat(t,"% 0 0 0)"),o.style.WebkitClipPath="inset(".concat(t,"% 0 0 0)")}),l)}),[o,l]);return Object(j.useEffect)((function(){o&&u(0)}),[u,o]),useMultiAudioMediaStreamTrackLevelMonitor(n||r,u),Object(O.jsx)("div",Object(C.a)(Object(C.a)({className:L()(de.a.levels,t)},c),{},{children:Object(O.jsx)("div",{className:de.a["level-container"],children:Object(O.jsx)("div",{ref:s,className:de.a.level})})}))},Oe=(n(785),["className"]),ge=function DynamicIcon(e){var t=e.className,n=Object(k.a)(e,Oe);return Object(O.jsx)("i",Object(C.a)(Object(C.a)({},n),{},{className:"ie8e4f3089b614c28aa33b6aaeff7d8b0-icon".concat(t?" ".concat(t):"")}))};function AudioInputDeviceTableRow(e){var t=e.device,n=e.mediaStreamTracks,r=e.isCapturing,c=e.onToggleCapture,i=e.isMuted,a=e.onToggleMute,o=e.audioQualityPresets,s=e.audioQualityPresetName,l=e.onChangeAudioQualityPresetName;if("audioinput"!==t.kind)throw new TypeError("device is not an audioinput device");return Object(O.jsxs)("tr",{style:r?{backgroundColor:"rgba(0,174,255,.2)"}:null,children:[Object(O.jsx)("td",{children:Object(O.jsxs)(V,{children:[Object(O.jsx)("div",{style:{fontWeight:"bold"},children:t.label||"[Unknown Label]"}),Object(O.jsxs)("div",{style:{marginTop:4},children:[Object(O.jsx)("span",{style:{fontSize:".7em"},children:"Quality:"})," ",r?Object(O.jsxs)("button",{onClick:c,style:{minWidth:145,textAlign:"left"},children:[s," ",Object(O.jsx)(K,{style:{color:"orange",float:"right"}})]}):Object(O.jsx)("select",{value:s,onChange:function onChange(e){return l(e.target.value)},disabled:r,children:o.map((function(e,t){var n=e.name;return Object(O.jsx)("option",{value:n,children:n},t)}))})]})]})}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)(V,{children:Object(O.jsx)("button",{onClick:c,style:{backgroundColor:r?"red":"#347FE8",width:"100%"},children:r?"Stop":"Start"})})}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)(V,{children:Object(O.jsxs)(le,{disabled:!r,onClick:a,style:{color:r?i?"white":"orange":"inherit"},children:[Object(O.jsx)("div",{style:{textAlign:"center"}}),Object(O.jsx)(ge,{style:{fontSize:"1.5em"}}),Object(O.jsx)("div",{style:{fontSize:".7em",marginTop:4},children:r?i?"Yes":"No":"N/A"})]})})}),Object(O.jsx)("td",{className:"center",style:{width:80,height:70},children:Object(O.jsx)(V,{children:r?"audioinput"===t.kind&&Object(O.jsx)(ve,{mediaStreamTracks:n}):Object(O.jsx)(z.a,{style:{color:"gray",fontSize:".7em"},children:"Off"})})})]})}var me=n(155),xe=n(73),ye="media-devices",we="userMetadata",Se=function(e){Object(R.a)(MediaDeviceCachingService,e);var t=Object(I.a)(MediaDeviceCachingService);function MediaDeviceCachingService(){var e;Object(A.a)(this,MediaDeviceCachingService);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).setState({devicesWithUserMetadata:[]}),e.setTitle("Media Device Caching Service"),e._storageEngine=e.useServiceClass(xe.a).getSecureLocalStorageEngine(),Object(u.a)(l.a.mark((function _callee(){return l.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e._fetchCachedMediaDeviceUserMetadata().then((function(t){return e.setState({devicesWithUserMetadata:t})}));case 1:case"end":return t.stop()}}),_callee)})))(),e}return Object(_.a)(MediaDeviceCachingService,[{key:"setMediaDeviceUserMetadata",value:function(){var e=Object(u.a)(l.a.mark((function _callee2(e,t){var n,r,i,a;return l.a.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:if("object"===typeof e){o.next=2;break}throw new TypeError("device must be an object");case 2:if("object"===typeof t){o.next=4;break}throw new TypeError("userMetadata must be an object");case 4:return n={},Object(me.a)(n,"device",e),Object(me.a)(n,we,t),r=n,o.next=7,this._fetchCachedMediaDeviceUserMetadata().then((function(n){return n.filter((function(n){var i=he.utils.mediaDevice.getIsSameMediaDevice(n.device,e);return i&&(r=Object(c.deepMerge)(n,Object(me.a)({},we,t))),!i}))}));case 7:return i=o.sent,a=[].concat(Object(d.a)(i),[r]),o.next=11,this._storageEngine.setItem(ye,a);case 11:this.setState({devicesWithUserMetadata:a});case 12:case"end":return o.stop()}}),_callee2,this)})));return function setMediaDeviceUserMetadata(t,n){return e.apply(this,arguments)}}()},{key:"_fetchCachedMediaDeviceUserMetadata",value:function(){var e=Object(u.a)(l.a.mark((function _callee3(){var e;return l.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._storageEngine.fetchItem(ye);case 2:if(e=t.sent,!Array.isArray(e)){t.next=7;break}return t.abrupt("return",e);case 7:return t.abrupt("return",[]);case 8:case"end":return t.stop()}}),_callee3,this)})));return function _fetchCachedMediaDeviceUserMetadata(){return e.apply(this,arguments)}}()},{key:"getMediaDeviceUserMetadata",value:function getMediaDeviceUserMetadata(e){var t=this.getState().devicesWithUserMetadata.find((function(t){return he.utils.mediaDevice.getIsSameMediaDevice(t.device,e)}));if(t)return t.userMetadata}}]),MediaDeviceCachingService}(D.c),Ce=function(e){Object(R.a)(InputMediaDeviceFactoryCollection,e);var t=Object(I.a)(InputMediaDeviceFactoryCollection);function InputMediaDeviceFactoryCollection(){return Object(A.a)(this,InputMediaDeviceFactoryCollection),t.apply(this,arguments)}return InputMediaDeviceFactoryCollection}(he.MediaStreamTrackControllerFactoryCollection),ke=function(e){Object(R.a)(InputMediaDevicesService,e);var t=Object(I.a)(InputMediaDevicesService);function InputMediaDevicesService(){var e;Object(A.a)(this,InputMediaDevicesService);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).setTitle("Input Media Devices Service"),e.setState({isFetchingMediaDevices:!1,isAudioContextStarted:!1,devices:[]}),e._mediaDeviceCachingService=e.useServiceClass(Se),e._inputMediaDeviceFactoryCollection=e.bindCollectionClass(Ce),e.fetchInputMediaDevices(),e}return Object(_.a)(InputMediaDevicesService,[{key:"fetchInputMediaDevices",value:function(){var e=Object(u.a)(l.a.mark((function _callee(){var e,t,n=this,r=arguments;return l.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return e=!(r.length>0&&void 0!==r[0])||r[0],this.setState({isFetchingMediaDevices:!0}),c.next=4,this.untilAudioContextResumed();case 4:return c.next=6,he.utils.mediaDevice.fetchInputMediaDevices(e).catch(console.error).finally((function(){return n.setState({isFetchingMediaDevices:!1})}));case 6:return t=c.sent,this.setState({devices:t}),c.abrupt("return",t);case 9:case"end":return c.stop()}}),_callee,this)})));return function fetchInputMediaDevices(){return e.apply(this,arguments)}}()},{key:"untilAudioContextResumed",value:function(){var e=Object(u.a)(l.a.mark((function _callee2(){return l.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.utils.audioContext.untilAudioContextResumed();case 2:this.setState({isAudioContextStarted:!0});case 3:case"end":return e.stop()}}),_callee2,this)})));return function untilAudioContextResumed(){return e.apply(this,arguments)}}()},{key:"getIsFetchingMediaDevices",value:function getIsFetchingMediaDevices(){return this.getState().isFetchingMediaDevices}},{key:"getInputMediaDevices",value:function getInputMediaDevices(){return this.getState().devices||[]}},{key:"getAudioInputMediaDevices",value:function getAudioInputMediaDevices(){return this.getInputMediaDevices().filter((function(e){return e.kind.includes("audioinput")}))}},{key:"getCaptureFactories",value:function getCaptureFactories(){return this._inputMediaDeviceFactoryCollection.getTrackControllerFactories()}},{key:"getIsAudioMediaDeviceBeingCaptured",value:function getIsAudioMediaDeviceBeingCaptured(e){return Boolean(he.MediaStreamTrackControllerFactory.getFactoriesWithInputMediaDevice(e,"audio").length)}},{key:"getMediaDeviceCaptureFactory",value:function getMediaDeviceCaptureFactory(e){var t=he.MediaStreamTrackControllerFactory.getFactoriesWithInputMediaDevice(e,"audio");if(t)return t[0]}},{key:"captureSpecificMediaDevice",value:function(){var e=Object(u.a)(l.a.mark((function _callee3(e){var t,n,r,c=arguments;return l.a.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2&&void 0!==c[2]?c[2]:{},i.next=4,he.utils.mediaDevice.captureSpecificMediaDevice(e,t,n);case 4:return r=i.sent,this._inputMediaDeviceFactoryCollection.addTrackControllerFactory(r),i.abrupt("return",r);case 7:case"end":return i.stop()}}),_callee3,this)})));return function captureSpecificMediaDevice(t){return e.apply(this,arguments)}}()},{key:"uncaptureSpecificMediaDevice",value:function(){var e=Object(u.a)(l.a.mark((function _callee4(e){return l.a.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",he.utils.mediaDevice.uncaptureSpecificMediaDevice(e));case 1:case"end":return t.stop()}}),_callee4)})));return function uncaptureSpecificMediaDevice(t){return e.apply(this,arguments)}}()},{key:"getIsCapturingAnyAudio",value:function getIsCapturingAnyAudio(){return this._inputMediaDeviceFactoryCollection.getAudioTrackControllers().length}},{key:"getIsAllAudioMuted",value:function getIsAllAudioMuted(){return this._inputMediaDeviceFactoryCollection.getIsAudioMuted()}},{key:"setIsAllAudioMuted",value:function setIsAllAudioMuted(e){return this._inputMediaDeviceFactoryCollection.setIsAudioMuted(e)}},{key:"muteAllAudio",value:function muteAllAudio(){return this._inputMediaDeviceFactoryCollection.muteAudio()}},{key:"unmuteAllAudio",value:function unmuteAllAudio(){return this._inputMediaDeviceFactoryCollection.unmuteAudio()}}]),InputMediaDevicesService}(D.c),Ae=he.utils.constraints.audioQualityPresets,_e=Ae.AUDIO_QUALITY_PRESET_TALK_RADIO;var Re=function InputMediaDevicesSelector(e){var t=e.onDeviceCapture,n=void 0===t?function(e){return null}:t,r=e.onDeviceUncapture,c=function useInputMediaDevicesSelectorState(e){var t=e.onDeviceCapture,n=void 0===t?function(e){return null}:t,r=e.onDeviceUncapture,c=void 0===r?function(e){return null}:r,i=Object(S.a)(ke).serviceInstance,a=Object(S.a)(Se).serviceInstance;Object(j.useEffect)((function(){i&&i.fetchInputMediaDevices()}),[i]);var o=Object(j.useCallback)(function(){var e=Object(u.a)(l.a.mark((function _callee(e,t){var n;return l.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if("audioinput"===e.kind){r.next=3;break}return console.warn('Cannot set device preferred audio quality preset name for "'.concat(e.kind,'" kind.  Expected audioinput kind.')),r.abrupt("return");case 3:return n=he.utils.constraints.audioQualityPresets.getAudioQualityPresetWithName(t),r.abrupt("return",a.setMediaDeviceUserMetadata(e,{audioQualityPreset:n}));case 5:case"end":return r.stop()}}),_callee)})));return function(t,n){return e.apply(this,arguments)}}(),[a]),s=Object(j.useCallback)(function(){var e=Object(u.a)(l.a.mark((function _callee2(e){var t,n,r;return l.a.wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return n=a.getMediaDeviceUserMetadata(e),(r=n&&(null===(t=n.audioQualityPreset)||void 0===t?void 0:t.constraints))||"audioinput"!==e.kind||(r=Ae.getAudioQualityPresetConstraints(_e)),c.abrupt("return",i.captureSpecificMediaDevice(e,r));case 4:case"end":return c.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),[i,a]),d=Object(j.useCallback)((function(e){var t,n=a.getMediaDeviceUserMetadata(e);return n?null===(t=n.audioQualityPreset)||void 0===t?void 0:t.name:_e.name}),[a]),b=Object(j.useCallback)(function(){var e=Object(u.a)(l.a.mark((function _callee3(e){return l.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:if(i.getIsAudioMediaDeviceBeingCaptured(e)){t.next=7;break}return t.next=4,s(e);case 4:n(e),t.next=10;break;case 7:return t.next=9,i.uncaptureSpecificMediaDevice(e);case 9:c(e);case 10:case"end":return t.stop()}}),_callee3)})));return function(t){return e.apply(this,arguments)}}(),[i,s,n,c]),h=(null===i||void 0===i?void 0:i.getAudioInputMediaDevices())||[],f=h.filter((function(e){return null===i||void 0===i?void 0:i.getIsAudioMediaDeviceBeingCaptured(e)}));return{inputMediaDevicesService:i,mediaDevicesCachingService:a,audioInputDevices:h,capturedAudioInputDevices:f,audioQualityPresets:Ae,toggleSpecificAudioInputDevice:b,setDevicePreferredAudioQualityPresetName:o,getDevicePreferredAudioQualityPresetName:d}}({onDeviceCapture:n,onDeviceUncapture:void 0===r?function(e){return null}:r}),i=c.inputMediaDevicesService,a=c.mediaDevicesCachingService,o=c.audioInputDevices,s=c.capturedAudioInputDevices,d=c.audioQualityPresets,b=c.toggleSpecificAudioInputDevice,h=c.setDevicePreferredAudioQualityPresetName,f=c.getDevicePreferredAudioQualityPresetName;if(!i||!a)return null;var p=o.length,v=i.getIsFetchingMediaDevices();if(!o.length)return Object(O.jsx)(z.a,{style:{fontWeight:"bold"},children:v?"Fetching audio devices...":"No audio input devices are currently available."});var g=s.length;return Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.d,{children:"Select device(s) for sound input:"}),Object(O.jsx)(B.b,{children:Object(O.jsx)(V,{children:Object(O.jsx)(E.a,{style:{overflow:"auto",border:"4px #22668F solid",borderRadius:4},children:Object(O.jsxs)(re,{children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:"Name"})}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)(V,{children:"f(x)"})}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)(V,{children:"Muted"})}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)(V,{children:"Level"})})]})}),Object(O.jsx)("tbody",{children:o.map((function(e,t){var n,r=s.includes(e),c=i.getMediaDeviceCaptureFactory(e),a=r&&(null===c||void 0===c||null===(n=c.getOutputMediaStream())||void 0===n?void 0:n.getTracks());return Object(O.jsx)(AudioInputDeviceTableRow,{device:e,mediaStreamTracks:a,isCapturing:r,onToggleCapture:function onToggleCapture(){return b(e)},isMuted:null===c||void 0===c?void 0:c.getIsMuted(),onToggleMute:function onToggleMute(){return null===c||void 0===c?void 0:c.toggleMute()},audioQualityPresets:d,audioQualityPresetName:f(e),onChangeAudioQualityPresetName:function onChangeAudioQualityPresetName(t){return h(e,t)}},t)}))})]})})})}),Object(O.jsx)(B.c,{style:{minHeight:50},children:Object(O.jsxs)(V,{children:[Object(O.jsx)(ie,{style:{fontSize:38,marginLeft:20,color:"rgba(255,255,255,.2)"}}),Object(O.jsx)($.a,{children:Object(O.jsxs)(z.a,{children:[Object(O.jsxs)("div",{children:[p," audio input device",1!==p&&"s"," available."]}),Object(O.jsxs)("div",{children:[g," audio input device",1!==g&&"s"," currently being captured."]})]})})]})})]})};var Ie=function InputDeviceSelectorModal(e){var t=e.onDeviceCapture,n=e.onDeviceUncapture,r=e.onCancel,c=e.onClose,i=Object(j.useCallback)((function(e){t(e),c()}),[t,c]);return Object(O.jsx)(q,{onClose:c,onCancel:r,children:Object(O.jsx)(V,{children:Object(O.jsx)(Re,{onDeviceCapture:i,onDeviceUncapture:n})})})};function useUUID(){return Object(j.useRef)(Object(T.a)()).current}var De=["className","label","placeholder","onClose","onCancel","onChange"];var Te=function TextInputModal(e){var t=e.className,n=e.label,r=e.placeholder,c=e.onClose,i=e.onCancel,a=e.onChange,o=void 0===a?function(){return null}:a,s=Object(k.a)(e,De),l=Object(j.useState)(null),u=Object(f.a)(l,2),d=u[0],b=u[1],h=Object(j.useState)(""),p=Object(f.a)(h,2),v=p[0],g=p[1],m=Object(j.useCallback)((function(e){var t=e.target.value;g(t),o(t)}),[o]),x=Object(j.useCallback)((function(){c(v)}),[c,v]),y=x;useKeyboardEvents(d,{onEnter:x});var w=useUUID();return Object(O.jsx)(q,Object(C.a)(Object(C.a)({},s),{},{className:t,label:n,onCancel:i,onClose:x,children:Object(O.jsx)(V,{children:Object(O.jsx)(z.a,{children:Object(O.jsxs)("div",{style:{textAlign:"left"},children:[n&&Object(O.jsx)("label",{htmlFor:w,children:n}),Object(O.jsxs)(B.e,{children:[Object(O.jsx)(B.a,{children:Object(O.jsx)("input",{ref:b,id:w,type:"text",onChange:m,placeholder:r,style:{borderTopRightRadius:0,borderBottomRightRadius:0}})}),Object(O.jsx)(B.a,{disableHorizontalFill:!0,children:Object(O.jsx)("button",{style:{borderTopLeftRadius:0,borderBottomLeftRadius:0,backgroundColor:"#347fe8"},disabled:!Boolean(v),onClick:y,children:"Submit"})})]})]})})})}))},Me=["onClose","onCancel"],ze=["onClose"],Ee=function(e){Object(R.a)(UIModalWidgetService,e);var t=Object(I.a)(UIModalWidgetService);function UIModalWidgetService(){var e;Object(A.a)(this,UIModalWidgetService);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).setTitle("UIModal Widget Service"),e._uiModalService=e.useServiceClass(M),e}return Object(_.a)(UIModalWidgetService,[{key:"confirm",value:function(){var e=Object(u.a)(l.a.mark((function _callee(e){var t=this;return l.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,new Promise((function(n,r){t._uiModalService.showModal((function(t){var c=t.onClose,i=t.onCancel,a=Object(k.a)(t,Me);return Object(O.jsx)(X,Object(C.a)({text:e,onClose:function onClose(){n(),c()},onCancel:function onCancel(){r(),i()}},a))}))}));case 3:return n.abrupt("return",!0);case 6:return n.prev=6,n.t0=n.catch(0),Object(c.consume)(n.t0),n.abrupt("return",!1);case 10:case"end":return n.stop()}}),_callee,null,[[0,6]])})));return function confirm(t){return e.apply(this,arguments)}}()},{key:"showInputMediaDevicesSelectionModal",value:function(){var e=Object(u.a)(l.a.mark((function _callee2(){var e,t=this;return l.a.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(e){return t._uiModalService.showModal((function(t){var n=Object.assign({},t);return Object(O.jsx)(Ie,Object(C.a)({onDeviceCapture:e},n))}))}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),_callee2)})));return function showInputMediaDevicesSelectionModal(){return e.apply(this,arguments)}}()},{key:"showTextInputModal",value:function(){var e=Object(u.a)(l.a.mark((function _callee3(e){var t,n,r=this;return l.a.wrap((function _callee3$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.label,c.next=3,new Promise((function(e){return r._uiModalService.showModal((function(n){var r=n.onClose,c=Object(k.a)(n,ze);return Object(O.jsx)(Te,Object(C.a)({label:t,onClose:function onClose(t){r(),e(t)}},c))}))}));case 3:return n=c.sent,c.abrupt("return",n);case 5:case"end":return c.stop()}}),_callee3)})));return function showTextInputModal(t){return e.apply(this,arguments)}}()}]),UIModalWidgetService}(D.c),Ne=["href","target"];var Pe=function ExternalLinkButton(e){var t=e.href,n=e.target,r=void 0===n?"_blank":n,c=Object(k.a)(e,Ne);return Object(O.jsx)("button",Object(C.a)(Object(C.a)({},c),{},{onClick:function onClick(){return window.open(t,r)}}))};var We=function DesktopMenuBar(){var e=Object(w.d)(),t=e.uiParadigm,n=e.isUIParadigmAutoSet,r=e.setStaticUIParadigm,i=Object(S.a)(Ee,!1).serviceInstance,o=Object(m.a)().activeWindowController,s=Object(x.a)(),b=s.appRegistrations,h=s.activateAppRegistration,f=s.appRuntimes,p=s.runningAppRegistrations,v=Object(y.a)();Object(j.useEffect)((function(){if(o)return o.on(c.EVT_UPDATED,v),function(){o.off(c.EVT_UPDATED,v)}}),[o,v]);var C=Object(j.useMemo)((function(){return b.map((function(e){return{type:"checkbox",label:e.getTitle(),checked:p.map((function(e){return e.getID()})).includes(e.getID()),click:function click(){return h(e)}}}))}),[b,p,h]),k=Object(j.useMemo)((function(){var e=b.filter((function(e){return e.getIsPinned()})).map((function(e){return{label:e.getTitle(),click:function click(){return h(e)}}}));return e.length?[{type:"separator",label:"Pinned Applications"}].concat(Object(d.a)(e)):[]}),[b,h]),A=f.length>0,_={label:"Desktop",submenu:[{label:"Applications",submenu:C}].concat(Object(d.a)(k),[{type:"separator",label:"Layout Control"},{label:"UI Paradigm",submenu:[{label:"Desktop Paradigm",click:function click(){return r(w.b)},type:"checkbox",checked:t===w.b},{label:"Mobile Paradigm",click:function click(){return r(w.c)},type:"checkbox",checked:t===w.c},{label:"Auto Detect",click:function click(){return r(w.a)},type:"checkbox",checked:n}]}],Object(d.a)(t===w.b?[{label:"Scatter Windows",click:function click(){return f.forEach((function(e){var t=e.getWindowController();t&&t.scatter()}))},disabled:!A},{label:"Center Windows",click:function click(){return f.forEach((function(e){var t=e.getWindowController();t&&t.center()}))},disabled:!A}]:[]),[{type:"separator",label:"Help & Support"},{label:function label(){return Object(O.jsx)(Pe,{href:"https://linktr.ee/zenosmosis",children:"Contact zenOSmosis"})}},{type:"separator",label:"Desktop Operations"},{label:"Reload ReShell",click:function(){var e=Object(u.a)(l.a.mark((function _callee(){return l.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.confirm("Are you sure you wish to reload?");case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}a.a.reload();case 5:case"end":return e.stop()}}),_callee)})));return function click(){return e.apply(this,arguments)}}()},{label:"Quit ReShell",click:function(){var e=Object(u.a)(l.a.mark((function _callee2(){return l.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.confirm("Are you sure you wish to close the desktop?");case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}a.a.destroy();case 5:case"end":return e.stop()}}),_callee2)})));return function click(){return e.apply(this,arguments)}}()}])},R=null===o||void 0===o?void 0:o.getTitle(),I=Object(j.useMemo)((function(){if(o)return{label:R,submenu:[{label:"Quit",click:function click(){return o.destroy()}}]}}),[o,R]),D=function(){if(t===w.b&&o)return{label:"Window",submenu:[{label:"Minimize",click:function click(){return o.minimize()},disabled:o.getIsMinimized()},{label:"Maximize",click:function click(){return o.maximize()},disabled:o.getIsMaximized()},{label:"Restore",click:function click(){return o.restore()},disabled:!o.getIsMaximized()&&!o.getIsMinimized()},{label:"Scatter",click:function click(){return o.scatter()}},{label:"Center",click:function click(){return o.center()}}]}}();return Object(O.jsx)(g,{menuStructures:[_,I,D]})};var Le=function TopBar(){return Object(O.jsx)(B.e,{children:Object(O.jsx)(B.a,{style:{width:"100%"},children:Object(O.jsx)(We,{})})})},Ue=n(638),Ve=n.n(Ue);function DockItem(e){var t=e.appRegistration,n=e.isActiveRegistration,r=e.onClick,c=e.elDock,i=Object(j.useState)(null),a=Object(f.a)(i,2),o=a[0],s=a[1];return Object(j.useEffect)((function(){if(c&&o&&n){var e=o.offsetLeft,t=o.offsetTop;c.scrollTo({top:t,left:e,behavior:"smooth"})}}),[c,o,n]),Object(O.jsx)("button",{ref:s,className:L()(Ve.a["dock-item"],n&&Ve.a.active),onClick:r,children:t.getTitle()})}var Be=n(714);var Fe=function Dock(){var e=Object(j.useState)(null),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Object(j.useState)(null),i=Object(f.a)(c,2),a=i[0],o=i[1],s=Object(Be.a)(a),l=Object(j.useCallback)((function(e){n.scroll({top:0,left:n.scrollLeft+e.deltaY})}),[n]),u=Object(m.a)().activeWindowController,b=Object(x.a)(),h=b.appRegistrations,p=b.runningAppRegistrations,v=b.activateAppRegistration,g=Object(j.useMemo)((function(){return Object(d.a)(new Set([].concat(Object(d.a)(h.filter((function(e){return e.getIsPinnedToDock()}))),Object(d.a)(p))))}),[h,p]),y=Object(j.useMemo)((function(){return null===u||void 0===u?void 0:u.getAppRegistration()}),[u]);return Object(O.jsx)("div",{ref:r,className:L()(Ve.a.dock,Ve.a["horizontal-orientation"],s&&Ve.a.overflown),onWheel:l,children:Object(O.jsx)("div",{ref:o,className:L()("button-group",Ve.a["content-wrapper"]),children:g.map((function(e){return Object(O.jsx)(DockItem,{appRegistration:e,isActiveRegistration:e===y,onClick:function onClick(){return v(e)},elDock:n},e.getUUID())}))})})},Ke=n(786).a,Qe=n(788),He=n.n(Qe),Ye=n(622),Ge=["children","className"];window.ResizeObserver||Object(Ye.install)();var Ze=function AutoScaler(e){var t=e.children,n=e.className,r=Object(k.a)(e,Ge),c=Object(j.useState)(null),i=Object(f.a)(c,2),a=i[0],o=i[1],s=Object(j.useState)(null),l=Object(f.a)(s,2),u=l[0],d=l[1],b=Object(j.useMemo)(T.a,[]);return Object(j.useEffect)((function(){if(a&&u){var e={width:0,height:0},t={width:0,height:0};u.style.visibility="hidden";var n=new ResizeObserver((function(n){be()((function(){var r,c=Object(h.a)(n);try{for(c.s();!(r=c.n()).done;){var i=r.value,o={width:i.target.offsetWidth,height:i.target.offsetHeight};i.target===a?e=o:t=o}}catch(j){c.e(j)}finally{c.f()}var s=e.width/t.width,l=e.height/t.height,d=Math.min(s,l);u.style.transform="scale(".concat(d,", ").concat(d,")"),"hidden"===u.style.visibility&&setTimeout((function(){u.style.visibility="visible"}),4)}),b)}));return n.observe(a),n.observe(u),function unmount(){n.unobserve(a),n.unobserve(u)}}}),[a,u,b]),Object(O.jsx)("div",Object(C.a)(Object(C.a)({},r),{},{ref:o,className:L()(He.a["auto-scaler"],n),children:Object(O.jsx)("div",{ref:d,className:He.a["content-wrap"],children:t})}))},qe=n(789),Je=n.n(qe),Xe=n(713),$e=(n(792),["className"]),et=function DynamicIcon(e){var t=e.className,n=Object(k.a)(e,$e);return Object(O.jsx)("i",Object(C.a)(Object(C.a)({},n),{},{className:"ibcd0b21d7ccf498b89d8ce646138a3ec-icon".concat(t?" ".concat(t):"")}))},tt=n(793),nt=n.n(tt),rt=["body","image","title","uuid","onClose","onClick","autoCloseTime"];var ct=function Notification(e){var t=e.body,n=e.image,r=e.title,c=e.uuid,i=e.onClose,a=e.onClick,o=e.autoCloseTime,s=void 0===o?4e3:o,l=Object(k.a)(e,rt),u=Object(j.useState)(!1),d=Object(f.a)(u,2),h=d[0],p=d[1],v=Object(j.useRef)(i),g=Object(j.useCallback)((function(e){e&&e.stopPropagation(),p(!0),setTimeout((function(){v.current(c)}),500)}),[c]),m=Object(j.useState)(null),x=Object(f.a)(m,2),y=x[0],w=x[1];Object(j.useEffect)((function(){if(y){var e=null,t=function startTimeout(){e=setTimeout(g,s)};t();var n=function stopTimeout(){clearTimeout(e)};return y.addEventListener("mouseover",n,{passive:!0}),y.addEventListener("mouseout",t,{passive:!0}),y.addEventListener("touchstart",n,{passive:!0}),function unmount(){y.removeEventListener("mouseover",n,{passive:!0}),y.removeEventListener("mouseout",t,{passive:!0}),y.removeEventListener("touchstart",n,{passive:!0}),n()}}}),[y,s,g]);var S=Object(j.useMemo)((function(){return function(){switch(typeof n){case"string":return Object(O.jsx)("img",{alt:r,src:n,className:nt.a["main-image"]});case"function":return n();default:return n||Object(O.jsx)(et,{})}}}),[n,r]),A=Object(j.useMemo)((function(){return function(e){var t=Object.assign({},e);return"function"===typeof a?Object(O.jsx)(le,Object(C.a)(Object(C.a)({},t),{},{onClick:a,className:nt.a.action})):Object(O.jsx)(b.a.Fragment,Object(C.a)({},t))}}),[a]);return Object(O.jsx)("div",Object(C.a)(Object(C.a)({ref:w,onTouchEnd:g,onMouseUp:g,className:nt.a.notification},l),{},{children:Object(O.jsx)(Xe.a,{animationName:h?"slideOutRight":"slideInRight",animationDuration:".5s",children:Object(O.jsxs)("div",{className:nt.a["body-outer-wrap"],children:[Object(O.jsx)(A,{children:Object(O.jsxs)(V,{children:[Object(O.jsx)("div",{className:nt.a["main-image-wrap"],children:Object(O.jsx)(S,{})}),Object(O.jsx)("div",{className:nt.a.title,children:r}),Object(O.jsx)("div",{className:nt.a.body,children:t})]})}),Object(O.jsx)(le,{onClick:g,className:nt.a.close,children:Object(O.jsx)(V,{children:Object(O.jsx)(K,{})})})]})})}))};var it=function NotificationStack(e){var t=e.notifications,n=void 0===t?[]:t,r=e.onNotificationClose;return Object(O.jsx)("div",{className:Je.a["notification-stack"],children:Object(O.jsx)("div",{className:Je.a["inner-wrap"],children:n.map((function(e){var t=e.body,n=e.image,c=e.onClick,i=e.title,a=e.uuid;return Object(O.jsx)("div",{children:Object(O.jsx)(ct,{body:t,image:n,onClick:c,title:i,uuid:a,onClose:function onClose(){return r(a)}})},a)}))})})},at=n(614),ot=b.a.createContext({});var st=function NotificationProvider(e){var t=e.children,n=Object(S.a)(at.a),r=n.serviceInstance,c=n.serviceState,i=Object(j.useCallback)((function(e){return r.showNotification(e)}),[r]),a=Object(j.useCallback)((function(e){return r.closeNotificationWithUUID(e)}),[r]);return Object(O.jsxs)(ot.Provider,{value:{showNotification:i},children:[t,Object(O.jsx)(it,{notifications:c.notifications,onNotificationClose:a})]})},lt=["view","onClose"];var ut=function Modal(e){var t=e.view,n=e.onClose,r=Object(k.a)(e,lt);return Object(O.jsx)($.a,{children:Object(O.jsx)(t,Object(C.a)(Object(C.a)({},r),{},{onClose:n}))})},dt=["view","uuid","onClose"];var jt=function ModalStack(e){var t=e.modals,n=void 0===t?[]:t;return Object(O.jsx)(O.Fragment,{children:n.map((function(e){var t=e.view,n=e.uuid,r=e.onClose,c=Object(k.a)(e,dt);return Object(O.jsx)("div",{children:Object(O.jsx)(ut,Object(C.a)(Object(C.a)({},c),{},{view:t,uuid:n,onClose:r}))},n)}))})},bt=b.a.createContext({});var ht=function ModalProvider(e){var t=e.children,n=Object(S.a)(M),r=n.serviceInstance,c=n.serviceState,i=Object(j.useCallback)((function(e){return r.showModal(e)}),[r]);return Object(O.jsxs)(bt.Provider,{value:{showModal:i},children:[t,Object(O.jsx)(jt,{modals:c.modals})]})},ft=n(590);var pt=function Desktop(e){var t=e.backgroundView,n=void 0===t?null:t;return function useDesktopAppConfiguration(e){var t=e.appDescriptors,n=void 0===t?[]:t,r=e.defaultAppAutoStartConfigs,c=void 0===r?{}:r,i=Object(x.a)().addOrUpdateAppRegistration;Object(j.useEffect)((function(){n.forEach((function(e){return i(e)}))}),[n,i]);var a=Object(S.a)(ft.a,!1).serviceInstance;Object(j.useEffect)((function(){a.setDefaultAppAutoStartConfigs(c)}),[a,c])}({appDescriptors:e.appDescriptors,defaultAppAutoStartConfigs:e.defaultAppAutoStartConfigs}),Object(O.jsx)(Ke,{children:Object(O.jsx)(ht,{children:Object(O.jsxs)(st,{children:[Object(O.jsx)($.a,{style:{backgroundColor:"#424242"},children:n}),Object(O.jsx)($.a,{children:Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.d,{style:{whiteSpace:"nowrap",backgroundColor:"rgba(0,0,0,.5)"},children:Object(O.jsx)(Le,{})}),Object(O.jsxs)(B.b,{children:[Object(O.jsx)("div",{style:{maxWidth:"50%",position:"absolute",bottom:28,right:10,color:"rgba(255,255,255,.2)",fontSize:"2rem",pointerEvents:"none"},children:Object(O.jsx)(Ze,{style:{whiteSpace:"nowrap"},children:Object(O.jsxs)("div",{style:{textAlign:"left",fontSize:".5em"},children:[Object(O.jsxs)("div",{children:["ReShell ",a.a.getReShellVersion()]}),Object(O.jsxs)("div",{children:["PhantomCore ",i.a.getPhantomCoreVersion()]}),Object(O.jsxs)("div",{children:["Env: ","production"]})]})})}),Object(O.jsx)(o,{children:Object(O.jsx)(Fe,{})})]})]})})]})})})},vt=n(794),Ot=n.n(vt),gt=["children","className","onClick"];var mt=function VirtualLink(e){var t=e.children,n=e.className,r=e.onClick,c=Object(k.a)(e,gt);return Object(O.jsx)(le,Object(C.a)(Object(C.a)({},c),{},{className:L()("link",Ot.a["virtual-link"],n),onClick:r,children:t}))},xt=n(795),yt=n.n(xt),wt=["color"];var St=function LED(e){var t=e.color,n=void 0===t?null:t,r=Object(k.a)(e,wt);return Object(O.jsx)("div",Object(C.a)(Object(C.a)({},r),{},{className:L()(yt.a.led,yt.a[n])}))};function ApplicationSelector(e){var t=e.searchQuery,n=void 0===t?"":t,r=e.onResetSearchQuery,i=Object(x.a)(),a=i.appRegistrations,o=i.appRuntimes,s=i.activateAppRegistration,l=Object(j.useMemo)((function(){return o.map((function(e){return e.getRegistration()}))}),[o]),u=Object(j.useMemo)((function(){return a.filter((function(e){return!Boolean(n)||e.getTitle().toUpperCase().includes(n.toUpperCase())}))}),[a,n]);return(null===n||void 0===n?void 0:n.length)&&!u.length?Object(O.jsxs)(z.a,{children:[Object(O.jsx)(V,{style:{fontWeight:"bold"},children:"No applications found for search."}),Object(O.jsx)(V,{children:Object(O.jsx)("button",{onClick:r,children:"Reset Search Query"})})]}):Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(z.a,{canOverflow:!0,children:Object(O.jsx)(V,{children:u.map((function(e){var t=l.filter((function(t){return t===e})).length;return Object(O.jsxs)("button",{style:{width:100,height:100,backgroundColor:"transparent",borderColor:t>0?"green":""},onClick:function onClick(){return s(e)},children:[e.getTitle(),Object(O.jsx)("div",{style:{position:"absolute",bottom:0,right:0},children:Object(d.a)(new Array(t)).map((function(e,n){return Object(c.consume)(e),Object(O.jsx)(St,{color:t>0?"green":"gray",style:{margin:"0px 2px"}},n)}))})]},e.getUUID())}))})})}),Object(O.jsx)(B.c,{children:Object(O.jsx)(V,{children:Object(O.jsxs)("span",{className:"note",children:[a.length," registered application",1!==a.length?"s":""," (",l.length," active)"]})})})]})}function PortalSwitcher(){return Object(O.jsx)(z.a,{canOverflow:!0,children:Object.entries(a.a.getPortals()).map((function(e){var t=Object(f.a)(e,1)[0];return Object(O.jsx)("button",{onClick:function onClick(){return window.confirm("Any unsaved state will be lost and the current call will be dropped if switching portals.  Proceed?")&&a.a.switchToPortal(t)},children:t},t)}))})}var Ct=Object.keys(a.a.getPortals()).length,kt="applications",At={id:kt,title:"Applications",style:{width:768,height:576},isPinnedToDock:!0,initialSharedState:{searchQuery:""},titleBarView:function TitleBarView(e){var t=e.sharedState,n=e.setSharedState,r=Object(j.useState)(null),c=Object(f.a)(r,2),i=c[0],a=c[1];useKeyboardEvents(i,{onEscape:function onEscape(){return n({searchQuery:""})}});var o=Object(j.useCallback)((function(e){return n({searchQuery:e.target.value})}),[n]),s=Object(j.useCallback)((function(e){Boolean(t.searchQuery)&&e.stopPropagation()}),[t]);return Object(O.jsx)(V,{children:Object(O.jsx)("input",{ref:a,placeholder:"Search Applications",onChange:o,value:t.searchQuery,style:{width:"100%"},onDoubleClick:s})})},view:function View(e){var t=e.windowController,n=e.sharedState,r=e.setSharedState,c=Object(j.useState)(!1),i=Object(f.a)(c,2),a=i[0],o=i[1];Object(j.useEffect)((function(){t.setTitle(a?"Portals":"Applications")}),[t,a]);var s=null===n||void 0===n?void 0:n.searchQuery,l=Object(j.useCallback)((function(){return r({searchQuery:""})}),[r]);return Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:a?Object(O.jsx)(PortalSwitcher,{}):Object(O.jsx)(ApplicationSelector,{searchQuery:s,onResetSearchQuery:l})}),Boolean(Ct>1)&&Object(O.jsx)(B.c,{children:Object(O.jsxs)(V,{children:[Object(O.jsx)("button",{onClick:function onClick(){return o((function(e){return!e}))},children:a?"Applications":"Portals"})," ",Object(O.jsx)("span",{className:"note",children:a?Object(O.jsxs)(O.Fragment,{children:["Return to"," ",Object(O.jsx)(mt,{onClick:function onClick(){return o(!1)},children:"application list"}),"."]}):Object(O.jsxs)(O.Fragment,{children:["Other applications may be available in"," ",Object(O.jsx)(mt,{onClick:function onClick(){return o(!0)},children:"another portal"}),"."]})})]})})]})}},_t=["onTick","className"];var Rt=function Timer(e){var t,n=e.onTick,r=(e.className,Object(k.a)(e,_t)),c=Object(j.useState)(n()),i=Object(f.a)(c,2),a=i[0],o=i[1],s=Object(j.useCallback)((function(){return n()}),[n]);return Object(j.useEffect)((function(){var e=function handleUpdate(){return o(s())};e();var t=window.setInterval(e,1e3);return function unmount(){window.clearInterval(t)}}),[s]),Object(O.jsx)(v.a,Object(C.a)(Object(C.a)({},r),{},{children:(t=a,new Date(t%86400*1e3).toISOString().substr(11,8))}))},It=n(548);function AppRuntimeTableRow(e){var t=e.appRuntime,n=Object(m.a)().activeWindowController,r=t.getWindowController(),i=!r||r===n,a=Object(j.useState)(null),o=Object(f.a)(a,2),s=o[0],l=o[1],u=Object(j.useState)(null),d=Object(f.a)(u,2),b=d[0],h=d[1],p=Object(j.useState)(null),v=Object(f.a)(p,2),g=v[0],x=v[1],y=Object(j.useState)(null),w=Object(f.a)(y,2),S=w[0],C=w[1],k=Object(j.useState)(null),A=Object(f.a)(k,2),_=A[0],R=A[1],I=Object(j.useState)(null),D=Object(f.a)(I,2),T=D[0],M=D[1];return Object(j.useEffect)((function(){if(r&&s){var e=function handleRenderProfile(e){var t=Object(f.a)(e,7),n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],l=t[5],u=t[6];Object(c.consume)(n),s.innerHTML=r,b.innerHTML=parseFloat(i).toFixed(2),g.innerHTML=parseFloat(a).toFixed(2),S.innerHTML=parseFloat(o/1e3).toFixed(2),_.innerHTML=parseFloat(l/1e3).toFixed(2),T.innerHTML=Object.values(u).length};return r.on(It.b,e),function unmount(){r.off(It.b,e)}}}),[r,s,b,g,S,_,T]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("tr",{style:{textAlign:"center"},children:[Object(O.jsx)("td",{children:t.getTitle()||"[Untitled]"}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:Object(O.jsx)("span",{ref:l,children:"N/A"})}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:Object(O.jsx)("span",{ref:h,children:"N/A"})}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:Object(O.jsx)("span",{ref:x,children:"N/A"})}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:Object(O.jsx)("span",{ref:C,children:"N/A"})}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:Object(O.jsx)("span",{ref:R,children:"N/A"})}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:Object(O.jsx)("span",{ref:M,children:"N/A"})})]},t.getUUID()),Object(O.jsxs)("tr",{style:{textAlign:"center"},children:[Object(O.jsxs)("td",{style:{fontStyle:"italic"},children:["Uptime: ",Object(O.jsx)(Rt,{onTick:function onTick(){return t.getInstanceUptime()}})]}),Object(O.jsxs)("td",{colSpan:"3",children:[Object(O.jsx)("button",{onClick:function onClick(){return console.log({appRuntime:t})},disabled:!0,children:"Process"}),Object(O.jsx)("span",{children:" | "}),Object(O.jsx)("button",{onClick:function onClick(){return console.log({environment:t.getEnvironment()})},disabled:!0,children:"Environment"})]}),Object(O.jsx)("td",{children:Object(O.jsx)(St,{color:i?"green":"gray"})}),Object(O.jsxs)("td",{colSpan:"2",children:[Object(O.jsx)("button",{onClick:function onClick(){return r.bringToTop()},style:{backgroundColor:"blue"},disabled:i,children:"Bring to Top"}),Object(O.jsx)("span",{children:" | "}),Object(O.jsx)("button",{onClick:function onClick(){t.getIsDestroying()||t.destroy()},style:{backgroundColor:"red"},children:"Close"})]})]}),Object(O.jsx)("tr",{children:Object(O.jsx)("td",{colSpan:"7",style:{backgroundColor:"gray",height:4}})})]})}function AppRuntimeTable(e){var t=e.appRuntimes;return Object(O.jsxs)(re,{style:{width:"100%"},children:[Object(O.jsxs)("thead",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{rowSpan:"2",children:"Name"}),Object(O.jsx)("td",{colSpan:"6",style:{backgroundColor:"purple"},children:"Profiler"}),Object(O.jsx)("td",{colSpan:"2"})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:"Phase"}),Object(O.jsxs)("td",{style:{backgroundColor:"purple"},children:["Actual",Object(O.jsx)("br",{}),"Duration"]}),Object(O.jsxs)("td",{style:{backgroundColor:"purple"},children:["Base",Object(O.jsx)("br",{}),"Duration"]}),Object(O.jsxs)("td",{style:{backgroundColor:"purple"},children:["Start",Object(O.jsx)("br",{}),"Time"]}),Object(O.jsxs)("td",{style:{backgroundColor:"purple"},children:["Commit",Object(O.jsx)("br",{}),"Time"]}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:"Interactions"})]})]}),Object(O.jsx)("tbody",{children:t.map((function(e){return Object(O.jsx)(AppRuntimeTableRow,{appRuntime:e},e.getUUID())}))})]})}var Dt=["id","children","title"];var Tt=function AppLinkButton(e){var t=e.id,n=e.children,r=void 0===n?null:n,c=e.title,i=void 0===c?null:c,a=Object(k.a)(e,Dt),o=function useAppRegistrationLink(e){var t=Object(x.a)(),n=t.getAppRegistrationTitleWithID,r=t.activateAppRegistrationWithID;return{title:Object(j.useMemo)((function(){return n(e)}),[n,e]),link:Object(j.useCallback)((function(){return r(e)}),[r,e])}}(t),s=o.title,l=o.link,u=Object(j.useMemo)((function(){return function(e){return r?Object(O.jsx)(le,Object(C.a)({},e)):Object(O.jsx)("button",Object(C.a)({},e))}}),[r]);return l?Object(O.jsx)(u,Object(C.a)(Object(C.a)({},a),{},{onClick:l,children:r||i||s})):null},Mt=n(587),zt="service-monitor",Et={id:zt,title:"Service Monitor",style:{width:640,height:480},isPinned:!0,view:function View(){var e=Object(j.useContext)(Mt.a).services;return Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(E.a,{style:{overflowY:"auto"},children:Object(O.jsxs)(re,{style:{width:"100%"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:"Service Name"})}),Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:"Uptime"})}),Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:"f(x)"})})]})}),Object(O.jsx)("tbody",{children:e.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:e.getTitle()||"[Untitled]"})}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)(Rt,{onTick:function onTick(){return e.getInstanceUptime()}})}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)(V,{children:Object(O.jsx)("button",{onClick:function onClick(){return e.log(e.getState())},children:Object(O.jsx)(v.a,{children:"log(state)"})})})})]},e.getUUID())}))})]})})}),Object(O.jsxs)(B.c,{children:[Object(O.jsx)("hr",{style:{margin:0,padding:0}}),Object(O.jsxs)(V,{children:[Object(O.jsxs)("div",{style:{position:"absolute",bottom:0,left:0},children:[e.length," running service",1!==e.length?"s":""]}),Object(O.jsx)(Tt,{id:Nt,style:{float:"right",verticalAlign:"bottom"}})]})]})]})}},Nt="application-monitor",Pt={id:Nt,title:"Application Monitor",style:{width:640,height:480},isPinned:!0,view:function View(){var e=Object(x.a)().appRuntimes,t=Object(m.a)(),n=t.isProfiling,r=t.setIsProfiling;return Object(j.useEffect)((function(){if(n)return function(){return r(!1)}}),[n,r]),n?Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(V,{style:{overflowY:"auto"},children:Object(O.jsx)(AppRuntimeTable,{appRuntimes:e})})}),Object(O.jsxs)(B.c,{style:{fontSize:".8rem"},children:[Object(O.jsx)("hr",{style:{margin:0,padding:0}}),Object(O.jsxs)(V,{children:[Object(O.jsxs)("div",{style:{position:"absolute",bottom:0,left:0},children:["PhantomCore uptime:"," ",Object(O.jsx)(Rt,{onTick:function onTick(){return i.a.getUptime()}})]}),Object(O.jsx)(Tt,{id:zt,style:{float:"right",verticalAlign:"bottom"}})]})]})]}):Object(O.jsx)(z.a,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{style:{fontWeight:"bold"},children:"Application Profiling is experimental!"}),Object(O.jsxs)("ol",{style:{maxWidth:500,textAlign:"left",display:"inline-block"},children:[Object(O.jsx)("li",{children:"Each window may lose its current state once profiling is enabled."}),Object(O.jsx)("li",{children:"Also, once enabled and closing this application, the state may be lost again!"})]}),Object(O.jsx)("p",{className:"note",style:{fontWeight:"bold"},children:"Profiling will be disabled once closing this window."}),Object(O.jsx)(V,{children:Object(O.jsx)("button",{onClick:function onClick(){return r(!0)},style:{backgroundColor:"red"},children:"Enable Profiling"})})]})})}},Wt=n(566),Lt={id:"startup-manager",title:"Startup Manager",style:{width:420,height:480},serviceClasses:[Wt.a,ft.a],view:function View(e){var t=e.appServices,n=t[Wt.a].getAppRegistrations(),r=t[ft.a],c=r.getAppAutoStartConfigs(),i=Object(j.useMemo)((function(){return Array.from(Array(21).keys()).map((function(e){return 5*e}))}),[]);return Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.d,{children:Object(O.jsx)(V,{children:Object(O.jsx)(z.a,{children:"Choose the applications that should start up automatically when ReShell starts."})})}),Object(O.jsx)(B.b,{children:Object(O.jsx)(E.a,{style:{overflowY:"auto"},children:Object(O.jsxs)(re,{children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{}),Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:"Title"})}),Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:"Priority"})})]})}),Object(O.jsx)("tbody",{children:n.map((function(e){var t=c[e.getAppDescriptorID()],n=Boolean(t),a=null===t||void 0===t?void 0:t.priority;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:Object(O.jsx)(z.a,{children:Object(O.jsx)("input",{type:"checkbox",onChange:function onChange(t){t.target.checked?r.setAutoStartAppRegistration(e):r.removeAutoStartAppRegistration(e)},checked:n})})})}),Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:e.getTitle()})}),Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:Object(O.jsx)("select",{disabled:!n,value:a?a.toString():"",onChange:function onChange(t){return r.setAutoStartAppRegistration(e,parseInt(t.target.value,10))},children:n?Object(O.jsx)(O.Fragment,{children:i.map((function(e){return Object(O.jsx)("option",{value:e.toString(),children:e},e)}))}):Object(O.jsx)("option",{children:"N/A"})})})})]},e.getUUID())}))})]})})})]})}},Ut=n(796),Vt=n.n(Ut),Bt=["children","className"];var Ft=function ButtonGroup(e){var t=e.children,n=e.className,r=Object(k.a)(e,Bt);return Object(O.jsx)("div",Object(C.a)(Object(C.a)({},r),{},{className:L()(Vt.a["button-group"],"button-group",n),children:t}))},Kt=["buttons"],Qt=["content","onClick","disabled","isSelected","style","className","type"];var Ht=function ButtonPanel(e){var t=e.buttons,n=Object(k.a)(e,Kt),r=Object(j.useState)((function(){var e=0;return t.forEach((function(t,n){t.isSelected&&(e=n)})),e})),c=Object(f.a)(r,2),i=c[0],a=c[1],o=Object(j.useRef)(t),s=Object(j.useRef)(i);return Object(j.useEffect)((function(){var e=o.current[s.current];e&&("function"!==typeof e.onClick?console.error("All buttons should have onClick handlers"):e.onClick())}),[]),Object(O.jsx)(Ft,Object(C.a)(Object(C.a)({},n),{},{children:t.map((function(e,t){var n=e.content,r=e.onClick,c=e.disabled,o=(e.isSelected,e.style),s=e.className,l=e.type,u=void 0===l?"button":l,d=Object(k.a)(e,Qt);return Object(j.createElement)("button",Object(C.a)(Object(C.a)({},d),{},{key:t,type:u,onClick:function onClick(){a(t),r()},disabled:c,style:o,className:L()([i===t&&"active",s])}),"string"===typeof n?n:"function"===typeof n?Object(O.jsx)(n,{}):{Content:n})}))}))},Yt=n(797),Gt=n.n(Yt),Zt=["className","isOn","disabled","onChange"];var qt=function Toggle(e){var t=e.className,n=e.isOn,r=e.disabled,c=e.onChange,i=void 0===c?function(){return null}:c,a=Object(k.a)(e,Zt),o=useUUID();return Object(O.jsxs)("div",Object(C.a)(Object(C.a)({className:L()(Gt.a["toggle-wrapper"],r&&Gt.a.disabled,t)},a),{},{children:[Object(O.jsx)("input",{type:"checkbox",id:o,className:Gt.a.checkbox,checked:n,onChange:function onChange(e){return i(e.target.checked)},disabled:r}),Object(O.jsx)("label",{htmlFor:o,className:Gt.a.toggle})]}))},Jt=n(798),Xt=n.n(Jt),$t=["className","labelOff","labelOn","masterLabel","isOn","disabled","style"];var en=function LabeledToggle(e){var t=e.className,n=e.labelOff,r=void 0===n?"Off":n,c=e.labelOn,i=void 0===c?"On":c,a=e.masterLabel,o=void 0===a?"":a,s=e.isOn,l=e.disabled,u=e.style,d=Object(k.a)(e,$t),b=Object(j.useMemo)((function(){var e=r.length,t=i.length,n=e===t||e>t?e:t;return[n-e,n-t]}),[r,i]),h=Object(f.a)(b,2),p=h[0],v=h[1];return Object(O.jsxs)("div",{className:L()(Xt.a["labeled-toggle"],l&&Xt.a.disabled,t),style:u,children:[Object(O.jsxs)("div",{className:Xt.a["content-row"],children:[Object(O.jsx)("div",{className:L()(Xt.a.cell,Xt.a["label-wrap"],Xt.a.left,s?null:!l&&Xt.a.active),style:{paddingLeft:"".concat(p/2,"em")},children:r}),Object(O.jsx)("div",{className:Xt.a.cell,children:Object(O.jsx)(qt,Object(C.a)({isOn:s,disabled:l,style:u},d))}),Object(O.jsx)("div",{className:L()(Xt.a.cell,Xt.a["label-wrap"],Xt.a.right,s?!l&&Xt.a.active:null),style:{paddingRight:"".concat(v/2,"em")},children:i})]}),Object(O.jsx)("div",{className:Xt.a["title-row"],children:o})]})},tn=["children","target","rel"];var nn=function ExternalLink(e){var t=e.children,n=e.target,r=void 0===n?"_blank":n,c=e.rel,i=void 0===c?"noreferrer":c,a=Object(k.a)(e,tn);return Object(O.jsx)("a",Object(C.a)(Object(C.a)({},a),{},{target:r,rel:i,children:t}))},rn={PhantomCore:"https://github.com/zenOSmosis/phantom-core",PhantomCollection:"https://github.com/zenOSmosis/phantom-core/tree/main/src/PhantomCollection",ReShellCore:"https://github.com/zenOSmosis/reshell",SyncObject:"https://github.com/zenOSmosis/sync-object",MediaStreamController:"https://github.com/zenOSmosis/media-stream-track-controller",WebRTCPeer:"https://github.com/zenOSmosis/webrtc-peer"},cn={minHeight:"4em",whiteSpace:"wrap",width:"100%",height:"100%"};var an=function Details(){return Object(O.jsxs)(E.a,{style:{overflowY:"auto"},children:[Object(O.jsxs)("p",{children:["ReShell is a browser-based layout library and UI services engine composed of various"," ",Object(O.jsx)("a",{href:"https://github.com/zenosmosis",target:"_blank",rel:"noreferrer",children:"open-source components"}),"."]}),Object(O.jsxs)("p",{children:["It is currently in an alpha phase, and"," ",Object(O.jsx)("span",{style:{fontWeight:"bold"},children:'other builds (i.e. "portals") may have other built-in applications'}),"."]}),Object(O.jsxs)("p",{children:["Leveraged off of the core code for"," ",Object(O.jsx)(nn,{href:"https://speaker.app",children:"Speaker.app"})," and other"," ",Object(O.jsx)(nn,{href:"https://zenosmosis.com",children:"zenOSmosis"})," ","projects based on"," ",Object(O.jsx)(nn,{href:"https://github.com/zenOSmosis/phantom-core",children:"PhantomCore"}),", a library for managing the JavaScript application lifecycle."]}),Object(O.jsx)("p",{style:{fontWeight:"bold"},children:"Some included technologies:"}),Object(O.jsx)("div",{style:{textAlign:"center"},children:Object.entries(rn).map((function(e,t){var n=Object(f.a)(e,2),r=n[0],c=n[1];return Object(O.jsx)(V,{style:{width:200,display:"inline-block"},children:"string"===typeof c?Object(O.jsx)(Pe,{href:c,style:cn,children:r}):Object(O.jsx)("button",{onClick:c,style:cn,children:r})},t)}))})]})},on={zenOSmosis:"https://zenOSmosis.com",GitHub:"https://github.com/zenosmosis","Speaker.app":"https://speaker.app"};var sn=function Resources(){return Object(O.jsxs)(z.a,{canOverflow:!0,children:[Object(O.jsx)("p",{style:{fontWeight:"bold"},children:"Additional resources:"}),Object(O.jsx)("div",{style:{display:"inline-block",textAlign:"left"},children:Object.entries(on).map((function(e,t){var n=Object(f.a)(e,2),r=n[0],c=n[1];return Object(O.jsxs)(V,{children:[r,": ",Object(O.jsx)(nn,{href:c,children:c})]},t)}))}),Object(O.jsx)("hr",{}),Object(O.jsx)("p",{children:Object(O.jsx)(Pe,{href:"https://linktr.ee/zenosmosis",children:"Contact zenOSmosis"})})]})},ln=(new Date).getFullYear();var un="about-reshell",dn={id:un,title:"About ReShell",style:{width:640,height:480},initialSharedState:{screen:"overview"},titleBarView:function TitleBarView(e){var t=e.sharedState,n=e.setSharedState;return Object(O.jsx)(V,{children:Object(O.jsx)(Ht,{buttons:[{content:"Overview",onClick:function onClick(){return n({screen:"overview"})},isSelected:"overview"===t.screen},{content:"Details",onClick:function onClick(){return n({screen:"details"})},isSelected:"details"===t.screen},{content:"Resources",onClick:function onClick(){return n({screen:"resources"})},isSelected:"resources"===t.screen}]},t.screen)})},view:function View(e){var t=e.sharedState,n=e.setSharedState,r=Object(w.d)(),c=r.uiParadigm,i=r.isUIParadigmAutoSet,a=r.setStaticUIParadigm,o=useUUID();return Object(O.jsx)(V,{children:Object(O.jsxs)(B.f,{children:[Object(O.jsxs)(B.b,{children:["overview"===t.screen&&Object(O.jsx)(Ze,{children:Object(O.jsxs)(z.a,{children:[Object(O.jsx)("div",{style:{fontSize:"5rem",fontStyle:"italic"},children:"ReShell"}),Object(O.jsx)(v.a,{style:{fontSize:"1.5rem"},children:"Web Desktop and UI Service Engine"})]})}),"details"===t.screen&&Object(O.jsx)(an,{}),"resources"===t.screen&&Object(O.jsx)(sn,{})]}),Object(O.jsxs)(B.c,{style:{textAlign:"center"},children:["overview"===t.screen&&Object(O.jsxs)(V,{children:[Object(O.jsx)("div",{children:Object(O.jsxs)(v.a,{children:[Object(O.jsx)(en,{labelOff:"Mobile",labelOn:"Desktop",isOn:c===w.b,onChange:function onChange(e){return a(e?w.b:w.c)}}),Object(O.jsxs)(v.a,{children:[Object(O.jsx)("input",{id:o,type:"checkbox",checked:i,onChange:function onChange(e){return a(e.target.checked?w.a:c)}})," ",Object(O.jsx)("label",{htmlFor:o,style:{display:"inline-block"},children:"Auto-Detect"})]})]})}),Object(O.jsx)(mt,{onClick:function onClick(){return n({screen:"details"})},children:"Details"})," ","|"," ",Object(O.jsx)(mt,{onClick:function onClick(){return n({screen:"resources"})},children:"Resources"})]}),Object(O.jsx)("div",{style:{opacity:.5},children:"Copyright \xa9 2010 - ".concat(ln," zenOSmosis. All rights reserved.")})]})]})})}},jn=n(247),bn=n(158),hn=n.n(bn),fn="check-for-updates",pn={id:fn,title:"Check for Updates",style:{width:320,height:240},isPinned:!0,view:function View(){var e=Object(j.useState)(!0),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Object(j.useState)(!1),i=Object(f.a)(c,2),o=i[0],s=i[1],d=Object(j.useState)(!1),b=Object(f.a)(d,2),h=b[0],p=b[1],v=Object(j.useState)(null),g=Object(f.a)(v,2),m=g[0],x=g[1],y=Object(j.useRef)(null);y.current=o;var w=Object(j.useCallback)(Object(u.a)(l.a.mark((function _callee(){var e;return l.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!y.current){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,p(!1),s(!0),t.next=8,Object(jn.a)();case 8:e=t.sent,r(e),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0),p(!0),r(!1);case 17:return t.prev=17,s(!1),x((new Date).getTime()),t.finish(17);case 21:case"end":return t.stop()}}),_callee,null,[[3,12,17,21]])}))),[]);return Object(j.useEffect)((function(){w()}),[w]),Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.d,{children:Object(O.jsx)(V,{style:{textAlign:"center"},children:Object(O.jsx)("button",{onClick:w,disabled:o,children:"Check for Updates"})})}),Object(O.jsx)(B.b,{children:Object(O.jsx)(z.a,{canOverflow:!0,children:h?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("p",{children:["There was an error checking for updates."," ",Object(O.jsx)("button",{onClick:w,children:"Try again?"})]})}):n?Object(O.jsx)("p",{children:"You appear to be running the latest version of ReShell."}):Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("p",{children:["Your version of ReShell appears out of date."," ",Object(O.jsx)("button",{onClick:function onClick(){return a.a.forceUpdate()},children:"Refresh?"})]})})})}),Object(O.jsx)(B.c,{children:Object(O.jsx)(V,{children:Object(O.jsxs)("div",{className:"note",children:["Last checked:"," ",m?hn()(m).format("LLL"):"N/A"]})})})]})}},vn=n(799),On=n.n(vn),gn={id:"color-adjuster",title:"Color Adjuster",style:{width:640,height:400},view:function View(e){e.windowController,e.appServices;var t=Object(j.useState)(!1),n=Object(f.a)(t,2),r=n[0],c=n[1];return Object(j.useEffect)((function(){r?document.body.classList.add("grayscale"):document.body.classList.remove("grayscale")}),[r]),Object(O.jsxs)(B.f,{className:On.a["color-adjuster"],children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(z.a,{children:Object(O.jsxs)("button",{onClick:function onClick(){return c((function(e){return!e}))},children:[r?"Disable":"Enable"," Grayscale"]})})}),Object(O.jsx)(B.c,{children:["#B04628","#B9FC6D","#FC7853","#3A65FC","#314EB0"].map((function(e,t){return Object(O.jsx)("div",{style:{backgroundColor:e,height:100,width:"20%",display:"inline-block"},children:Object(O.jsx)(z.a,{children:Object(O.jsx)("span",{style:{padding:4,backgroundColor:"rgba(0,0,0,.4)",borderRadius:4},children:e})})},t)}))})]})}},mn=n(640),xn=n.n(mn),yn=n(800),wn=n.n(yn),Sn=["className","src"];var Cn=function ObjectViewer(e){var t=e.className,n=e.src,r=Object(k.a)(e,Sn);return Object(O.jsx)(E.a,Object(C.a)(Object(C.a)({},r),{},{className:L()(wn.a["object-viewer"],t),children:Object(O.jsx)(xn.a,{src:n,theme:"monokai",style:{width:"100%",height:"100%"}})}))},kn="environment",An={id:kn,title:"Environment",style:{width:512,height:384},view:function View(){return Object(O.jsx)(B.f,{children:Object(O.jsx)(B.b,{children:Object(O.jsx)(Cn,{src:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})})})})}},_n=n(257),Rn={id:"software-info",title:"Software Info",style:{width:640,height:480},view:function View(){return Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.d,{children:Object(O.jsx)(V,{children:"Package.json content"})}),Object(O.jsx)(B.b,{children:Object(O.jsx)(Cn,{src:_n})}),Object(O.jsx)(B.c,{children:Object(O.jsx)(V,{children:Object(O.jsxs)(B.e,{children:[Object(O.jsx)(B.a,{children:Object(O.jsx)(z.a,{children:Object(O.jsxs)("div",{style:{float:"left",textAlign:"left"},className:"note",children:["ReShell version: ",a.a.getReShellVersion(),Object(O.jsx)("br",{}),"PhantomCore version: ",i.a.getPhantomCoreVersion(),Object(O.jsx)("br",{}),"Portal: ",a.a.getPortalName()]})})}),Object(O.jsx)(B.a,{children:Object(O.jsxs)(z.a,{style:{textAlign:"right"},children:[Object(O.jsx)(Tt,{id:fn})," ",Object(O.jsx)(Tt,{id:kn})]})})]})})})]})}},In=n(715),Dn=n(639),Tn=["children","preloadResources","disabledLoadingIndicator","onError"];var Mn=function Preload(e){var t=e.children,n=e.preloadResources,r=e.disabledLoadingIndicator,c=void 0!==r&&r,i=(e.onError,Object(k.a)(e,Tn));return Object(Dn.a)(n).isPreloaded||c?Object(O.jsx)(b.a.Fragment,{children:t}):Object(O.jsx)(Ze,Object(C.a)(Object(C.a)({},i),{},{children:Object(O.jsx)(In.a,{})}))},zn=n(802),En=n.n(zn),Nn=n.p+"static/media/vu.8cb21748.png",Pn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAzCAYAAADRlospAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAq1JREFUeNrU2lGk1ncYB/BPxeEQEYcR56p01XkuYlejFCmOjTSmiGyazaZpSilNWSJKMWUXOUcpTVnKmXeauhoRo5+IiBExDhFxOBxnF+/z8kqxWup9fjfvn9d78fH//57n+f7e/4KxsbFRfNNa2+sVKyK8z9Vae+V3C9HBnog4peBaiG8xg10RcbgcoLV2G59hFociYne1O6C1dgM7MIcTEfF5KUAiLuXjBD9HxJZSgEScxX4swsWI2DjogAXz8/MvK5vHsC839wb8Ochl9GU/2I+zGMYUVpd4hF5AfI1LWJK9YmUpQK4duIER3MJoKUBrbTZ7xG0sS8QHle6A1toMPsFdLMdNLC0DyPUcm3Afq3JPDFcCwNNEPMKHWZ2GKgHgSfaFJ1iHK9n0ygDg70RM42OcrwaAB/k4PcNWnKkGgL8wnuPGV/ixGkDOSJ9mljiAPdUA8Bu2Z5Y4jp3VAPALvszrM7kvSgHgHL7PsjqRFaoUAE7iaDa4y1hTDQAH8VOOGteza5cCyGx9IbPEVM5PpQC9LHEts0QnJ9lSgLkXskQnP8sAZIMb78sSnbwjZQD6TjZ6WWIq90YZgBz61vdlietvKxC9K4Acv9dmlliTfWKoEqAXiNb3ZYmJ/xuI3jUAHuaeeCtZ4n0A4F4GopmcXo9XA8CdPK6ZzRyxrxoA/sC2bHrHMtmVAsBVfPGmWWIQADCJ7/L6/OtkiUEBwGn8kGX1iu65UykAHMlQNPRfs8SgAWQsncTiHP5WVQPITX1V9xT8ZkQsrwaYy/L6u+7/EbciYlklQC9LbNY9PBtNxEglQC9LjOfosRKdiFhSCdDLEhtyCFyNqYgYrgTQWpvOMfwxPsKvETFUBpCIXpb4Bxt13yRYVAaQiEd9WeJha22uFCAR97GitXYQ/h0A2RC5PwhR/WwAAAAASUVORK5CYII=",Wn=["label","className","mediaStreamTrack","mediaStreamTracks"];var Ln=function VUMeter(e){var t=e.label,n=void 0===t?"Mono":t,r=e.className,c=e.mediaStreamTrack,i=e.mediaStreamTracks,a=Object(k.a)(e,Wn),o=Object(j.useState)(null),s=Object(f.a)(o,2),l=s[0],u=s[1],d=Object(j.useState)(null),b=Object(f.a)(d,2),h=b[0],p=b[1],v=Object(j.useMemo)(T.a,[]);Object(j.useEffect)((function(){l&&h&&(l.style.backgroundImage="url(".concat(Nn,")"),l.style.backgroundPosition="top left",l.style.backgroundRepeat="no-repeat",h.style.backgroundImage="url(".concat(Pn,")"),h.style.backgroundPosition="top left",h.style.backgroundRepeat="no-repeat")}),[l,h]);var g=Object(j.useCallback)((function(e){h&&be()((function(){h.style.transform="rotateZ(".concat(Math.min(e/100*87),"deg)")}),v)}),[h,v]);return Object(j.useEffect)((function(){h&&g(0)}),[g,h]),useMultiAudioMediaStreamTrackLevelMonitor(c||i,g),Object(O.jsx)(Mn,{preloadResources:[Nn,Pn],children:Object(O.jsxs)("div",Object(C.a)(Object(C.a)({ref:u,className:L()(En.a.vu,r)},a),{},{children:[Object(O.jsx)("div",{className:En.a.mask,children:Object(O.jsx)("div",{ref:p,className:En.a.needle,style:{transform:"rotateZ(0deg)"}})}),Object(O.jsx)("p",{className:En.a["vu-label"],children:n})]}))})},Un="vu-meter",Vn={id:Un,title:"VU Meter",style:{width:360,height:360},serviceClasses:[ke],view:function view(e){var t=e.appServices[ke].getCaptureFactories().map((function(e){return e.getAudioTrackControllers().map((function(e){return e.getOutputMediaStreamTrack()}))})).flat();return Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(z.a,{canOverflow:!0,children:Object(O.jsxs)("div",{children:[Object(O.jsx)(Ln,{mediaStreamTracks:t}),Object(O.jsx)(ve,{style:{marginLeft:20,height:160,width:40},mediaStreamTracks:t})]})})}),Object(O.jsx)(B.c,{children:Object(O.jsx)(V,{children:Object(O.jsx)(Tt,{id:Jn})})})]})}},Bn=["mediaStreamTrack","mediaType","onEl"];function AVBase(e){var t=e.mediaStreamTrack,n=e.mediaType,r=void 0===n?"video":n,c=e.onEl,i=void 0===c?function(e){return null}:c,a=Object(k.a)(e,Bn),o=Object(j.useState)(null),s=Object(f.a)(o,2),l=s[0],u=s[1],d=Object(j.useMemo)((function(){return t&&new MediaStream([t])}),[t]);Object(j.useEffect)((function(){l&&(d?(l.srcObject=d,l.play().then((function(){return l.muted=!1})).catch((function(e){return console.warn("Caught",e)}))):l.srcObject=null)}),[l,d]);var h=Object(j.useRef)(i);return Object(j.useEffect)((function(){var e=h.current;l&&"function"===typeof e&&e(l)}),[l]),b.a.createElement(r,Object(C.a)({ref:u,autoPlay:!1,muted:!0,playsInline:!0,controls:!1},a))}var Fn=n(803),Kn=n.n(Fn),Qn=["className"];function Video(e){var t=e.className,n=Object(k.a)(e,Qn);return Object(O.jsx)(AVBase,Object(C.a)({className:L()(Kn.a.video,t)},n))}var Hn=function(e){Object(R.a)(ScreenCaptureFactoryCollection,e);var t=Object(I.a)(ScreenCaptureFactoryCollection);function ScreenCaptureFactoryCollection(){return Object(A.a)(this,ScreenCaptureFactoryCollection),t.apply(this,arguments)}return ScreenCaptureFactoryCollection}(he.MediaStreamTrackControllerFactoryCollection),Yn=function(e){Object(R.a)(ScreenCapturerService,e);var t=Object(I.a)(ScreenCapturerService);function ScreenCapturerService(){var e;Object(A.a)(this,ScreenCapturerService);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).setTitle("Screen Capturer Service"),e.bindCollectionClass(Hn),e}return Object(_.a)(ScreenCapturerService,[{key:"getIsScreenCaptureSupported",value:function getIsScreenCaptureSupported(){return he.utils.screen.getIsScreenCaptureSupported()}},{key:"startScreenCapture",value:function(){var e=Object(u.a)(l.a.mark((function _callee(){var e,t,n,r=arguments;return l.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t=r.length>1&&void 0!==r[1]?r[1]:{},c.next=4,he.utils.screen.captureScreen(e,t);case 4:return n=c.sent,this.getCollectionInstance(Hn).addTrackControllerFactory(n),c.abrupt("return",n);case 7:case"end":return c.stop()}}),_callee,this)})));return function startScreenCapture(){return e.apply(this,arguments)}}()},{key:"getMediaStreamTracks",value:function getMediaStreamTracks(){return this.getCollectionInstance(Hn).getChildren().map((function(e){return e.getTrackControllers().map((function(e){return e.getOutputMediaStreamTrack()}))})).flat()}},{key:"getCaptureFactories",value:function getCaptureFactories(){return this.getCollectionInstance(Hn).getChildren()}}]),ScreenCapturerService}(D.c),Gn="screen-capture-window",Zn={id:Gn,title:"Screen Capture",style:{width:512,height:384},serviceClasses:[Yn],view:function View(e){var t,n,r=e.appServices,i=e.windowController,a=r[Yn],o=Object(j.useMemo)((function(){return a.getIsScreenCaptureSupported()}),[a]);Object(j.useEffect)((function(){if(!o){var e=window.setTimeout(i.destroy,3e3);i.once(c.EVT_DESTROYED,(function(){return window.clearTimeout(e)}))}}),[o,i]);var s=Object(j.useState)(null),d=Object(f.a)(s,2),b=d[0],h=d[1],p=function useGetIsUnmounting(){var e=Object(j.useRef)(!1);return Object(j.useEffect)((function(){return function unmount(){e.current=!0}}),[]),Object(j.useCallback)((function(){return e.current}),[])}(),v=Object(j.useCallback)(Object(u.a)(l.a.mark((function _callee(){var e,t,n,r=arguments;return l.a.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t=r.length>1&&void 0!==r[1]?r[1]:{},i.next=4,a.startScreenCapture(e,t);case 4:return n=i.sent,h(n),n.once(c.EVT_DESTROYED,(function(){p()||h(null)})),i.abrupt("return",n);case 8:case"end":return i.stop()}}),_callee)}))),[a,p]);Object(j.useEffect)((function(){if(b)return function(){b.getIsDestroying()||b.destroy()}}),[b]);var g=null===b||void 0===b||null===(t=b.getVideoTrackControllers()[0])||void 0===t?void 0:t.getOutputTrack(),m=null===b||void 0===b||null===(n=b.getAudioTrackControllers()[0])||void 0===n?void 0:n.getOutputTrack();return o?Object(O.jsxs)(B.f,{style:{backgroundColor:"#424242",color:"#999"},children:[Object(O.jsx)(B.b,{children:Object(O.jsxs)(B.e,{children:[Object(O.jsxs)(B.a,{children:[Object(O.jsx)(Video,{mediaStreamTrack:g}),!b&&Object(O.jsx)($.a,{children:Object(O.jsx)(z.a,{children:Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:function onClick(){return v()},style:{backgroundColor:"green",width:200,height:200,borderRadius:200,fontWeight:"bold",fontSize:"1.4rem",border:"8px #ccc solid"},children:"Start Screen Capture"})})})})]}),Object(O.jsx)(B.a,{style:{width:50,maxWidth:50},children:Object(O.jsx)(B.e,{style:{textAlign:"center"},children:Object(O.jsx)(B.a,{children:Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(ve,{mediaStreamTrack:m})}),Object(O.jsx)(B.c,{children:"Audio"})]})})})})]})}),Object(O.jsx)(B.c,{children:Object(O.jsx)(V,{children:Object(O.jsxs)(B.e,{children:[Object(O.jsx)(B.a,{children:Object(O.jsx)(z.a,{children:Object(O.jsx)(Tt,{id:Jn})})}),Object(O.jsx)(B.a,{children:Object(O.jsx)(z.a,{children:Object(O.jsx)("button",{style:{backgroundColor:b?"red":"green",whiteSpace:"nowrap"},onClick:function onClick(){b&&!b.getIsDestroying()?b.destroy():v()},children:b?"Stop":"Capture"})})})]})})})]}):Object(O.jsx)(z.a,{children:Object(O.jsx)("div",{style:{fontWeight:"bold"},children:"Screen capture is not supported in this browser."})})}},qn=Zn,Jn="input-media-devices",Xn={id:Jn,title:"Input Media Devices",style:{width:640,height:380},serviceClasses:[ke],view:function View(e){var t=e.appServices[ke];return Object(O.jsx)(V,{children:Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(Re,{})}),Object(O.jsxs)(B.c,{children:[Object(O.jsx)("button",{onClick:function onClick(){return t.fetchInputMediaDevices(!0)},style:{float:"right"},children:"Refetch"}),Object(O.jsxs)("span",{className:"button-group",children:[Object(O.jsx)(Tt,{id:Un}),Object(O.jsx)(Tt,{id:Gn})]})]})]})})}},$n=function bytesToSize(e){var t=["bytes","kB","MB","GB","TB"];if(0===e)return"0 ".concat(t[0]);var n=parseInt(Math.floor(Math.log(Math.abs(e))/Math.log(1024)),10);return 0===n?"".concat(e," ").concat(t[n]):"".concat((e/Math.pow(1024,n)).toFixed(1)," ").concat(t[n])},er={id:"memory-info",title:"Memory Info",style:{width:280,height:150},view:function View(){var e=Object(j.useState)({jsHeapSizeLimit:"N/A",totalJSHeapSize:"N/A",usedJSHeapSize:"N/A"}),t=Object(f.a)(e,2),n=t[0],r=n.jsHeapSizeLimit,c=n.totalJSHeapSize,i=n.usedJSHeapSize,a=t[1],o=Object(j.useCallback)((function(){if(window.performance.memory){var e=window.performance.memory,t=e.jsHeapSizeLimit,n=e.totalJSHeapSize,r=e.usedJSHeapSize,c={jsHeapSizeLimit:$n(t),totalJSHeapSize:$n(n),usedJSHeapSize:$n(r)};return a(c),c}}),[]);return Object(j.useEffect)((function(){if(o()){var e=setInterval((function(){o()}),1e3);return function unmount(){clearInterval(e)}}}),[o]),Object(O.jsxs)(B.f,{style:{backgroundColor:"#424242",color:"#999"},children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(z.a,{children:Object(O.jsxs)("table",{style:{display:"inline-block"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Heap Size Limit"}),Object(O.jsx)("td",{children:"Total Heap Size"}),Object(O.jsx)("td",{children:"Used Heap Size"})]})}),Object(O.jsx)("tbody",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:r}),Object(O.jsx)("td",{children:c}),Object(O.jsx)("td",{children:i})]})})]})})}),Object(O.jsxs)(B.c,{style:{fontSize:".8rem"},children:[Object(O.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Performance/memory",target:"_blank",rel:"noreferrer",style:{float:"left"},children:"MDN Documentation"}),Object(O.jsx)("span",{style:{float:"right"},children:"Only supported in Chromium-based browsers."})]})]})}};var tr=function KeyVaultItems(e){var t=e.keyStorageEngineMaps,n=void 0===t?[]:t,r=e.onGetValue,c=e.onEmpty,i=e.onNewItem,a=Object(y.a)();return n.length?Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(E.a,{style:{overflowY:"auto"},children:Object(O.jsxs)(re,{children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{}),Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:"Key"})}),Object(O.jsx)("td",{style:{color:"gray"},children:Object(O.jsx)(V,{children:"Value"})}),Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:"Encryption"})}),Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:"Storage Engine"})})]})}),Object(O.jsx)("tbody",{children:n.map((function(e,t){var n=e.key,c=e.storageEngine;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"center",children:Object(O.jsx)(V,{children:Object(O.jsx)("input",{type:"checkbox",disabled:!0})})}),Object(O.jsx)("td",{children:Object(O.jsx)(V,{children:n})}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)("button",{onClick:function onClick(){return r(n,c)},disabled:!0,children:"Get"})}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)(V,{children:c.getEncryptionType()||"None"})}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)(V,{children:c.getTitle()})})]},t)}))})]})})}),Object(O.jsx)(B.c,{children:Object(O.jsxs)(V,{style:{overflow:"auto"},children:[Object(O.jsx)("button",{onClick:c,children:"Empty"}),Object(O.jsx)("button",{style:{float:"right"},onClick:a,children:"Reload"})]})})]}):Object(O.jsx)(z.a,{children:Object(O.jsxs)(V,{children:[Object(O.jsx)(V,{style:{fontWeight:"bold"},children:"No Key Vault items."}),Object(O.jsx)(V,{className:"note",children:"These may be automatically managed by other applications as needed, in order to perform key / value pair storage operations."}),Object(O.jsx)(V,{className:"note",children:"You have the ability to clear all local / session storage via this utility."}),Object(O.jsx)(V,{children:Object(O.jsx)("button",{onClick:i,children:"Add new item..."})})]})})};function getFormValues(e){for(var t=e.elements,n={},r=0,c=Object(d.a)(t);r<c.length;r++){var i=c[r],a=i.name||i.id;a&&(n[a]=i.value)}return n}var nr=["children","autoComplete","validator","onChange","onSubmit"];var rr=function Form(e){var t=e.children,n=e.autoComplete,r=void 0===n?"off":n,c=e.validator,i=void 0===c?function(e){return null}:c,a=e.onChange,o=void 0===a?function(e){return null}:a,s=e.onSubmit,l=void 0===s?function(e){return null}:s,u=Object(k.a)(e,nr),d=function useFormController(e){var t=e.onSubmit,n=e.onChange,r=void 0===n?function(){return null}:n,c=e.validator,i=void 0===c?function(){return null}:c,a=Object(j.useState)(null),o=Object(f.a)(a,2),s=o[0],l=o[1];Object(j.useEffect)((function(){if(s){Object.values(getFormValues(s)).length||console.warn("No form values detected for form element.  All input fields should have a name or id attribute.",s);var e,t=Object(h.a)(s.elements);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("BUTTON"===n.tagName.toUpperCase()&&!n.getAttribute("type")){console.warn('All button elements should have a type attribute specified or they will default to "submit"',n);break}}}catch(r){t.e(r)}finally{t.f()}}}),[s]);var u=Object(j.useState)(!1),d=Object(f.a)(u,2),b=d[0],p=d[1],v=Object(j.useState)({}),O=Object(f.a)(v,2),g=O[0],m=O[1],x=Object(j.useCallback)((function(e){var t=!1,n=Object.fromEntries(Object.entries(i(e)||{}).filter((function(e){var n=Boolean(e[1]);return n&&(t=!0),n}))),r=!t;return p(r),m(n),r}),[i]),y=Object(j.useCallback)((function(e){var t=getFormValues(s);x(t),r(t)}),[x,s,r]),w=Object(j.useCallback)((function(e){e.preventDefault();var n=getFormValues(s);x(n)&&t(n)}),[x,s,t]);return{isValid:b,handleFormValidate:x,handleFormChange:y,handleFormSubmit:w,errors:g,setFormRef:l}}({onSubmit:l,onChange:o,validator:i}),b=d.setFormRef,p=d.handleFormChange,v=d.handleFormSubmit,g=d.handleFormValidate,m=d.errors,x=d.isValid;return Object(O.jsx)("form",Object(C.a)(Object(C.a)({},u),{},{ref:b,autoComplete:r,onChange:p,onSubmit:v,children:t({errors:m,isValid:x,submit:v,validate:g})}))};function KeyEditorForm(e){var t=e.initialKey,n=e.initialValue,r=e.initialStorageEngine,c=e.storageEngines,i=e.onSubmit;return Object(O.jsx)(z.a,{canOverflow:!0,children:Object(O.jsx)(rr,{onSubmit:i,validator:function validator(e){return{key:e.key.length<1&&"Key must contain at least one character"}},children:function children(e){var i=e.errors,a=e.isValid;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(V,{children:Object(O.jsx)("input",{name:"key",type:"text",placeholder:"Key",defaultValue:t,required:!0})}),(null===i||void 0===i?void 0:i.key)&&Object(O.jsx)("div",{className:"note",style:{color:"red"},children:i.key}),Object(O.jsx)(V,{children:Object(O.jsx)("textarea",{name:"value",placeholder:"Value",defaultValue:n})}),Object(O.jsxs)(V,{style:{marginTop:20,textAlign:"left"},children:[Object(O.jsx)("label",{children:"Storage Engine"}),Object(O.jsx)("select",{name:"storageEngineShortUUID",defaultValue:null===r||void 0===r?void 0:r.getShortUUID(),required:!0,children:c.map((function(e){var t=e.getTitle(),n=e.getShortUUID();return Object(O.jsx)("option",{value:n,children:t},t)}))})]}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"submit",value:"Submit",style:{backgroundColor:"#347fe8"},disabled:!a})})]})}})})}n(804);var cr=["className"],ir=function DynamicIcon(e){var t=e.className,n=Object(k.a)(e,cr);return Object(O.jsx)("i",Object(C.a)(Object(C.a)({},n),{},{className:"id0d6dd5d02e64b979154a770ab790dba-icon".concat(t?" ".concat(t):"")}))},ar={id:"key-vault",title:"Key Vault",style:{width:640,height:480},serviceClasses:[xe.a,Ee],view:function View(e){var t=e.appServices,n=t[xe.a],r=n.getKeyStorageEngineMaps(),c=t[Ee],i=Object(j.useState)([]),a=Object(f.a)(i,2),o=a[0],s=a[1],d=Object(j.useState)(!1),b=Object(f.a)(d,2),p=b[0],v=b[1];Object(j.useEffect)((function(){Object(u.a)(l.a.mark((function _callee(){var e,t,n,c,i,a,o;return l.a.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:e=[],t=Object(h.a)(r),l.prev=2,t.s();case 4:if((n=t.n()).done){l.next=14;break}return c=n.value,i=c[0],a=c[1],l.next=10,a.fetchItem(i);case 10:o=l.sent,e.push({key:i,storageEngine:a,value:o});case 12:l.next=4;break;case 14:l.next=19;break;case 16:l.prev=16,l.t0=l.catch(2),t.e(l.t0);case 19:return l.prev=19,t.f(),l.finish(19);case 22:s(e);case 23:case"end":return l.stop()}}),_callee,null,[[2,16,19,22]])})))()}),[r]);var g=Object(j.useCallback)((function(e){n.getStorageEngineWithShortUUID(e.storageEngineShortUUID).setItem(e.key,e.value).then((function(){v(!1)}))}),[n]),m=Object(j.useCallback)(Object(u.a)(l.a.mark((function _callee2(){return l.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.confirm("Are you sure you wish to empty the Key Vault?");case 2:if(!e.sent){e.next=4;break}n.clearAllStorageEngines();case 4:case"end":return e.stop()}}),_callee2)}))),[c,n]);return useKeyboardEvents(window,{onEscape:function onEscape(){return v(!1)}}),Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.d,{children:Object(O.jsx)(V,{children:Object(O.jsx)("button",{onClick:function onClick(){return v((function(e){return!e}))},children:p?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ir,{})," Back"]}):Object(O.jsx)(O.Fragment,{children:"(+) New Item"})})})}),Object(O.jsx)(B.b,{children:p?Object(O.jsx)(KeyEditorForm,{storageEngines:n.getStorageEngines(),onSubmit:g}):Object(O.jsx)(tr,{keyStorageEngineMaps:o,onEmpty:m,onNewItem:function onNewItem(){return v(!0)}})})]})}};function AppRegistrationSelector(e){var t=e.onRegistrationChange,n=Object(x.a)().appRegistrations;return console.log({appRegistrations:n}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{onChange:function onChange(e){return t(e.target.value)},children:[Object(O.jsx)("option",{value:"",children:"Select app registration"}),n.map((function(e){return Object(O.jsx)("option",{value:e.getID(),children:e.getTitle()},e.getUUID())}))]})})}var or={id:"app-registration-viewer",title:"App Registration Viewer",style:{width:640,height:480},view:function View(){var e=Object(x.a)().appRegistrations,t=Object(j.useState)(null),n=Object(f.a)(t,2),r=n[0],c=n[1],i=Object(j.useCallback)((function(t){var n=e.find((function(e){return e.getID()===t}));console.log({matchedRegistration:n}),c(n?n.getAppDescriptor():null)}),[e]);return r?Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)("div",{style:{width:"100%",height:"100%",overflowY:"auto"},children:Object(O.jsx)(xn.a,{src:r,theme:"monokai",style:{width:"100%",height:"100%"}})})}),Object(O.jsx)(B.c,{children:Object(O.jsx)(AppRegistrationSelector,{onRegistrationChange:i})})]}):Object(O.jsx)(z.a,{children:Object(O.jsx)(AppRegistrationSelector,{onRegistrationChange:i})})}},sr=n(103),lr=n(805),ur=n.n(lr);var dr=function Sidebar(e){var t=e.registeredSpyClassNames,n=e.spyAgents,r=e.onSelectSpyAgent;return Object(O.jsx)(B.a,{style:{backgroundColor:"rgba(255,255,255,.1)",maxWidth:180},className:ur.a.sidebar,children:Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(E.a,{style:{overflowY:"auto"},children:Object(O.jsxs)(V,{children:[Object(O.jsx)("h1",{children:"Class"}),Object(O.jsx)("div",{children:Object(O.jsx)("ul",{children:t.map((function(e){var t=n.filter((function(t){return t.getSpiedOnClassName()===e}));return Object(O.jsxs)("li",{children:[Object(O.jsx)(mt,{disabled:!0,onClick:function onClick(){return alert("TODO: Handle")},children:e}),Object(O.jsx)("ul",{children:t.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsxs)(mt,{style:{width:"100%",textAlign:"left",overflow:"auto"},onClick:function onClick(){return r(e)},children:[Object(O.jsx)("div",{style:{float:"left"},className:ur.a.title,children:e.getTitle()}),Object(O.jsx)("div",{style:{float:"right",marginTop:8},className:"note",children:Object(O.jsx)(Rt,{onTick:e.getInstanceUptime})})]})},e.getUUID())}))})]},e)}))})})]})})}),Object(O.jsx)(B.c,{children:Object(O.jsxs)(V,{className:"note",children:["ReShell Uptime: ",Object(O.jsx)(Rt,{onTick:sr.a.getReShellUptime})]})})]})})},jr=n(806),br=n.n(jr),hr=["children","className"];var fr=function Ellipses(e){var t=e.children,n=e.className,r=Object(k.a)(e,hr);return Object(O.jsx)("div",Object(C.a)(Object(C.a)({},r),{},{className:L()(br.a.ellipses,br.a["single-line"],n),children:t}))},pr=n(807),vr=n.n(pr),Or=["children","className","onClick","disabled"];var gr=function ContentButton(e){var t=e.children,n=e.className,r=e.onClick,c=e.disabled,i=void 0!==c&&c,a=Object(k.a)(e,Or);return Object(O.jsxs)("div",Object(C.a)(Object(C.a)({},a),{},{className:L()(vr.a["content-button"],n),children:[t,Object(O.jsx)($.a,{children:Object(O.jsx)(le,{className:vr.a.overlay,onClick:r,disabled:i})})]}))},mr=(n(808),["className"]),xr=function DynamicIcon(e){var t=e.className,n=Object(k.a)(e,mr);return Object(O.jsx)("i",Object(C.a)(Object(C.a)({},n),{},{className:"i40682bf046774cbfb2b3cfc01e707a93-icon".concat(t?" ".concat(t):"")}))};var yr=function Overview(e){var t=e.registeredSpyClassNames,n=e.spyAgentClassNames;return e.spyAgents,Object(O.jsx)(z.a,{canOverflow:!0,children:t.map((function(e){var t=n.includes(e);return Object(O.jsx)(gr,{disabled:!0,style:{border:"1px #999 solid",borderRadius:8,width:120,height:120,display:"inline-block",fontWeight:"bold",margin:4},children:Object(O.jsxs)(B.f,{style:{padding:4,borderRadius:4},children:[Object(O.jsx)(B.b,{children:Object(O.jsxs)(B.f,{style:{border:"1px #999 solid",borderRadius:4,backgroundColor:"rgba(255, 255, 255, .05)"},children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(z.a,{children:Object(O.jsx)(xr,{style:{fontSize:"1.8em",color:t?"green":"gray"}})})}),Object(O.jsx)(B.c,{children:e})]})}),Object(O.jsx)(B.c,{children:Object(O.jsx)(V,{children:Object(O.jsx)(St,{color:t?"green":"gray"})})})]})},e)}))})};var wr=function MainContent(e){var t=e.spyAgentClassNames,n=e.selectedSpyAgent,r=e.onSpyAgentDeselect,c=e.registeredSpyClassNames,i=n?n.getTitle():"Overview";return Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.d,{children:Object(O.jsx)(V,{children:Object(O.jsxs)(B.e,{children:[Object(O.jsx)(B.a,{children:Object(O.jsx)("h1",{children:Object(O.jsx)(fr,{children:i})})}),Object(O.jsx)(B.a,{disableHorizontalFill:!0,children:Object(O.jsx)("button",{disabled:!n,onClick:r,children:"Reset"})})]})})}),Object(O.jsx)(B.b,{children:n?Object(O.jsx)(E.a,{style:{overflowY:"auto"},children:Object(O.jsx)(Cn,{src:n.getState()})}):Object(O.jsx)(yr,{spyAgentClassNames:t,registeredSpyClassNames:c})}),Object(O.jsx)(B.c,{children:Object(O.jsx)(V,{children:Object(O.jsx)("span",{className:"note",children:"ReShell Native JavaScript API Spy System"})})})]})},Sr=n(707),Cr={id:"native-spy-agent",title:"Native Spy Agent",style:{width:640,height:480},serviceClasses:[Sr.a],view:function View(e){var t=e.appServices[Sr.a],n=t.getRegisteredSpies(),r=Object(j.useMemo)((function(){return n.map((function(e){return Object(c.getClassName)(e)}))}),[n]),i=t.getSpyAgents(),a=Object(j.useMemo)((function(){return i.map((function(e){return e.getSpiedOnClassName()}))}),[i]),o=Object(j.useState)(null),s=Object(f.a)(o,2),l=s[0],u=s[1],d=Object(j.useCallback)((function(){return u(null)}),[]);return Object(j.useEffect)((function(){l&&!i.includes(l)&&u(null)}),[i,l]),Object(O.jsx)(B.f,{children:Object(O.jsx)(B.b,{children:Object(O.jsxs)(B.e,{children:[Object(O.jsx)(dr,{registeredSpyClassNames:r,spyAgentClassNames:a,spyAgents:i,onSelectSpyAgent:u}),Object(O.jsx)(B.a,{children:Object(O.jsx)(wr,{registeredSpyClassNames:r,spyAgentClassNames:a,spyAgents:i,selectedSpyAgent:l,onSpyAgentDeselect:d})})]})})})}},kr=n(809),Ar=n.n(kr),_r=["color","className","style","label","disabled"];var Rr=function LabeledLED(e){var t=e.color,n=e.className,r=e.style,c=e.label,i=e.disabled,a=Object(k.a)(e,_r);return Object(O.jsxs)("div",{className:L()(Ar.a["labeled-led"],i&&Ar.a.disabled,n),style:r,children:[Object(O.jsx)("div",{className:Ar.a["led-wrap"],children:Object(O.jsx)(St,Object(C.a)({color:t},a))}),Object(O.jsx)("div",{className:Ar.a["label-wrap"],children:c})]})},Ir=n(248),Dr=n.n(Ir),Tr=function(e){Object(R.a)(NetworkStatusMonitorService,e);var t=Object(I.a)(NetworkStatusMonitorService);function NetworkStatusMonitorService(){var e;Object(A.a)(this,NetworkStatusMonitorService);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).setTitle("Network Status Monitor Service"),e.setState({isOnline:!1,isFetchingIPInfo:!1,data:null}),function(){var t,n=function _handleNetworkOnline(){e.setState({isOnline:!0}),e.fetchIPInfo()},r=function _handleNetworkOffline(){e.setState({isOnline:!1,data:null})};e.addNativeEventListener("online",n),e.addNativeEventListener("offline",r),(null===(t=navigator)||void 0===t?void 0:t.onLine)?n():r()}(),e}return Object(_.a)(NetworkStatusMonitorService,[{key:"fetchIPInfo",value:function(){var e=Object(u.a)(l.a.mark((function _callee(){var e=this;return l.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:this.setState({isFetchingIPInfo:!0}),Dr.a.get("https://www.cloudflare.com/cdn-cgi/trace").then((function(e){return e.data})).then((function(t){var n=Object.fromEntries(t.split("\n").map((function(e){return e.trim()})).filter((function(e){return e.length>0})).map((function(e){var t,n="",r="",c=!1,i=Object(h.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;"="===a?c=!0:c?r+=a:n+=a}}catch(o){i.e(o)}finally{i.f()}return[n,r]})));n&&e.setState({data:n})})).finally((function(){return e.setState({isFetchingIPInfo:!1})}));case 2:case"end":return t.stop()}}),_callee,this)})));return function fetchIPInfo(){return e.apply(this,arguments)}}()},{key:"getIsFetchingIPInfo",value:function getIsFetchingIPInfo(){return this.getState().isFetchingIPInfo}},{key:"getIsOnline",value:function getIsOnline(){return this.getState().isOnline}},{key:"getIPAddress",value:function getIPAddress(){var e;return null===(e=this.getState().data)||void 0===e?void 0:e.ip}},{key:"getData",value:function getData(){return this.getState().data}}]),NetworkStatusMonitorService}(D.c),Mr={id:"ip",title:"IP",style:{width:320,height:240},serviceClasses:[Tr],view:function View(e){var t=e.appServices[Tr],n=t.getIsOnline(),r=t.getData();return Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(z.a,{canOverflow:!0,children:n?Object(O.jsxs)(re,{children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Key"}),Object(O.jsx)("td",{children:"Value"})]})}),Object(O.jsx)("tbody",{children:r&&Object.entries(r).filter((function(e){var t=Object(f.a)(e,1)[0];return!["uag","ts","fl","h","visit_scheme","tls","sni","warp"].includes(t)})).map((function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:n}),Object(O.jsx)("td",{children:r})]},n)}))})]}):Object(O.jsx)("div",{style:{fontWeight:"bold"},children:"Not online"})})}),Object(O.jsx)(B.c,{children:Object(O.jsx)(V,{children:Object(O.jsx)(Rr,{style:{float:"right"},color:n?"green":"red",label:"Internet"})})})]})}},zr=n(575),Er={id:"tts-configurer",title:"TTS Configurer",style:{width:640,height:240},serviceClasses:[zr.a],view:function View(e){var t=e.appServices[zr.a],n=t.getLocaleVoices(),r=t.getDefaultVoice();return Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(E.a,{style:{overflowY:"auto"},children:Object(O.jsxs)(re,{children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Default"}),Object(O.jsx)("td",{children:"Language"}),Object(O.jsx)("td",{children:"Name"}),Object(O.jsx)("td",{children:"Local?"})]})}),Object(O.jsx)("tbody",{children:n.map((function(e,n){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)("input",{type:"checkbox",checked:e===r,onChange:function onChange(n){return n.target.checked&&t.setDefaultVoice(e)}})}),Object(O.jsx)("td",{children:e.lang}),Object(O.jsxs)("td",{children:[e.name,e.voiceURI.includes("premium")?" (Premium)":""]}),Object(O.jsx)("td",{children:e.localService?"Yes":"No"})]},n)}))})]})})}),Object(O.jsx)(B.c,{children:Object(O.jsx)(V,{children:Object(O.jsx)("button",{onClick:function onClick(){return t.say("hello")},disabled:t.getIsSpeaking(),children:'Say "Hello"'})})})]})}},Nr=["children","className"];var Pr=function Section(e){var t=e.children,n=e.className,r=Object(k.a)(e,Nr);return Object(O.jsx)("div",Object(C.a)(Object(C.a)({},r),{},{className:L()("section",n),children:t}))};var Wr=function SpeechActivityTable(e){var t=e.realTimeTranscription,n=e.finalizedTranscription,r=e.disabled,c=void 0!==r&&r;return Object(O.jsxs)(B.e,{disableVerticalFill:!0,style:{height:80},children:[Object(O.jsx)(B.a,{style:{border:"1px #999 solid",borderRadius:4,backgroundColor:"rgba(0,0,0,.4)"},children:Object(O.jsx)(V,{children:Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)("div",{style:{color:c?"gray":"inherit"},children:!c&&t?t:"N/A"})}),Object(O.jsx)(B.c,{children:Object(O.jsx)("div",{style:{fontStyle:"italic",fontSize:".9em",color:"gray"},children:"Real-time"})})]})})}),Object(O.jsx)(B.a,{style:{border:"1px #999 solid",borderRadius:4,backgroundColor:"rgba(0,0,0,.4)"},children:Object(O.jsx)(V,{children:Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)("div",{style:{color:c?"gray":"inherit"},children:!c&&n?n:"N/A"})}),Object(O.jsx)(B.c,{children:Object(O.jsx)("div",{style:{fontStyle:"italic",fontSize:".9em",color:"gray"},children:"Finalized"})})]})})})]})};var Lr=function SpeechRecognizerSection(e){var t=e.speechProvider,n=t.speechRecognizerService,r=t.apiKeyManagementService;return Object(O.jsxs)(Pr,{children:[!t.disabled&&Object(O.jsx)("div",{style:{position:"absolute",top:4,left:8},children:Object(O.jsx)(Rt,{onTick:function onTick(){return null===n||void 0===n?void 0:n.getRecognizerUptime()},style:{color:!t.active||t.disabled?"gray":"inherit"}})}),(!t.disabled||t.status)&&Object(O.jsx)("div",{style:{float:"right",overflow:"auto"},children:Object(O.jsx)("div",{style:{display:"inline-block",marginLeft:10},children:t.disabled?Object(O.jsx)("span",{className:"note",children:t.status}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Rr,{label:"Connection",color:(null===n||void 0===n?void 0:n.getHasRecognizer())?(null===n||void 0===n?void 0:n.getIsConnecting())?"yellow":(null===n||void 0===n?void 0:n.getIsConnected())?"green":"red":"gray"}),Object(O.jsx)(Rr,{label:"Voice Activity",color:(null===n||void 0===n?void 0:n.getHasRecognizer())?(null===n||void 0===n?void 0:n.getIsRecognizing())?"green":"red":"gray"})]})})}),Object(O.jsxs)("div",{style:{marginTop:14},children:[Object(O.jsx)("h2",{style:{color:t.disabled?"gray":null},children:t.title}),Object(O.jsx)(V,{children:Object(O.jsxs)(B.e,{children:[Object(O.jsx)(B.a,{children:Object(O.jsx)(en,{masterLabel:"Speech Recognition",disabled:t.disabled,isOn:null===n||void 0===n?void 0:n.getHasRecognizer(),onChange:function onChange(e){return e?null===n||void 0===n?void 0:n.startRecognizing():null===n||void 0===n?void 0:n.stopRecognizing()}})}),Object(O.jsx)(B.a,{children:Object(O.jsx)(en,{masterLabel:"Control Desktop",isOn:null===n||void 0===n?void 0:n.getIsControllingDesktop(),onChange:null===n||void 0===n?void 0:n.setIsControllingDesktop,disabled:!(null===n||void 0===n?void 0:n.getHasRecognizer())||t.disabled})})]})})]}),!t.disabled&&Object(O.jsxs)("div",{style:{overflow:"auto"},children:[Object(O.jsx)(V,{children:Object(O.jsx)(Wr,{disabled:!(null===n||void 0===n?void 0:n.getHasRecognizer())||t.disabled,realTimeTranscription:null===n||void 0===n?void 0:n.getRealTimeTranscription(),finalizedTranscription:null===n||void 0===n?void 0:n.getFinalizedTranscription()})}),r&&Object(O.jsx)(V,{style:{textAlign:"right"},children:t.requiresAPIKey&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{onClick:r.acquireAPIKey,disabled:r.getHasCachedAPIKey(),children:"Set API Key"})," ",Object(O.jsx)("button",{onClick:r.deleteCachedAPIKey,disabled:!r.getHasCachedAPIKey(),style:{backgroundColor:"red"},children:"Delete API Key"})]})})]}),t.serviceProviderURL&&Object(O.jsxs)("div",{className:"note",children:["Provider information:"," ",Object(O.jsx)(nn,{href:t.serviceProviderURL,children:t.serviceProviderURL})]})]})},Ur=n(552),Vr=300,Br={id:"open-applications",keywords:"open applications",description:"Open Applications app",action:function action(e,t){t.appOrchestrationService.activateAppRegistrationWithID(kt)}},Fr={id:"activate-next-window",keywords:"cycle activate next window",description:"Activate next window",action:function action(e,t){var n=t.windowController,r=t.appOrchestrationService.getWindowControllers(),c=r.indexOf(n),i=r[c+1]||r[0];i&&i.bringToTop()}},Kr={id:"activate-previous-window",keywords:"cycle activate previous window",description:"Activate previous window",action:function action(e,t){var n=t.windowController,r=t.appOrchestrationService.getWindowControllers(),c=r.indexOf(n),i=r[c-1]||r[r.length-1];i&&i.bringToTop()}},Qr={id:"move-window-up",keywords:"reposition move window up",description:"Move a window up",action:function action(e,t){var n=t.windowController;if(n){var r=n.getPosition();n.setPosition({x:r.x,y:r.y-Vr})}}},Hr={id:"move-window-up-and-right",keywords:"reposition move window up and right",description:"Move a window up and right",action:function action(e,t){var n=t.windowController;if(n){var r=n.getPosition();n.setPosition({x:r.x+Vr,y:r.y-Vr})}}},Yr={id:"move-window-up-and-left",keywords:"reposition move window up and left",description:"Move a window up and left",action:function action(e,t){var n=t.windowController;if(n){var r=n.getPosition();n.setPosition({x:r.x-Vr,y:r.y-Vr})}}},Gr={id:"move-window-right",keywords:"reposition move window right",description:"Move a window right",action:function action(e,t){var n=t.windowController;if(n){var r=n.getPosition();n.setPosition({x:r.x+Vr,y:r.y})}}},Zr={id:"move-window-down",keywords:"reposition move window down",description:"Move a window down",action:function action(e,t){var n=t.windowController,r=n.getPosition();n.setPosition({x:r.x,y:r.y+Vr})}},qr={id:"move-window-down-and-right",keywords:"reposition move window down and right",description:"Move a window down and right",action:function action(e,t){var n=t.windowController;if(n){var r=n.getPosition();n.setPosition({x:r.x+Vr,y:r.y+Vr})}}},Jr={id:"move-window-down-and-left",keywords:"reposition move window down and left",description:"Move a window down and left",action:function action(e,t){var n=t.windowController,r=n.getPosition();n.setPosition({x:r.x-Vr,y:r.y+Vr})}},Xr={id:"move-window-left",keywords:"reposition move window left",description:"Move a window left",action:function action(e,t){var n=t.windowController;if(n){var r=n.getPosition();n.setPosition({x:r.x-Vr,y:r.y})}}},$r={id:"center-window",keywords:"reposition center window",description:"Center a window",action:function action(e,t){var n=t.windowController;n&&n.center()}},ec={id:"center-all-windows",keywords:"reposition center all windows",description:"Center all windows",action:function action(e,t){t.appOrchestrationService.getWindowControllers().forEach((function(e){return e.center()}))}},tc={id:"scatter-window",keywords:"reposition scatter window",description:"Scatter a window",action:function action(e,t){var n=t.windowController;n&&n.scatter()}},nc={id:"scatter-all-windows",keywords:"reposition scatter all windows",description:"Scatter all windows",action:function action(e,t){t.appOrchestrationService.getWindowControllers().forEach((function(e){return e.scatter()}))}},rc={id:"maximize-window",keywords:"resize maximize window",description:"Maximize a window",action:function action(e,t){var n=t.windowController;n&&n.maximize()}},cc={id:"minimize-window",keywords:"resize minimize window",description:"Minimize a window",action:function action(e,t){var n=t.windowController;n&&n.minimize()}},ic={id:"restore-window",keywords:"resize restore window",description:"Restore a window",action:function action(e,t){var n=t.windowController;n&&n.restore()}},ac={id:"close-application",keywords:"close application window",description:"Close an application window",action:function(){var e=Object(u.a)(l.a.mark((function _callee(e,t){var n;return l.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.windowController)){e.next=4;break}return e.next=4,n.destroy();case 4:case"end":return e.stop()}}),_callee)})));return function action(t,n){return e.apply(this,arguments)}}()},oc={id:"desktop-paradigm",keywords:"switch select desktop paradigm view display",description:"Switch to desktop UI paradigm",action:function(){var e=Object(u.a)(l.a.mark((function _callee2(e,t){return l.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:t.uiParadigmService.setStaticUIParadigm(Ur.b);case 2:case"end":return e.stop()}}),_callee2)})));return function action(t,n){return e.apply(this,arguments)}}()},sc={id:"mobile-paradigm",keywords:"switch select mobile paradigm view display",description:"Switch to mobile UI paradigm",action:function(){var e=Object(u.a)(l.a.mark((function _callee3(e,t){return l.a.wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:t.uiParadigmService.setStaticUIParadigm(Ur.c);case 2:case"end":return e.stop()}}),_callee3)})));return function action(t,n){return e.apply(this,arguments)}}()},lc={id:"auto-detect-paradigm",keywords:"switch select auto detect paradigm view display",description:"Switch to auto detect UI paradigm",action:function(){var e=Object(u.a)(l.a.mark((function _callee4(e,t){return l.a.wrap((function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:t.uiParadigmService.setStaticUIParadigm(Ur.a);case 2:case"end":return e.stop()}}),_callee4)})));return function action(t,n){return e.apply(this,arguments)}}()},uc=function(e){Object(R.a)(DesktopCommanderControllerService,e);var t=Object(I.a)(DesktopCommanderControllerService);function DesktopCommanderControllerService(){var e;Object(A.a)(this,DesktopCommanderControllerService);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];(e=t.call.apply(t,[this].concat(c))).setTitle("Desktop Commander Controller Service"),e.setState({lastCommand:null,lastCommandInvokeTime:null}),e._appOrchestrationService=e.useServiceClass(Wt.a),e._uiParadigmService=e.useServiceClass(Ur.d),e._commands={};for(var a=0,o=Object.keys(r);a<o.length;a++){var s=o[a],l=r[s];e.registerCommand(l)}return e}return Object(_.a)(DesktopCommanderControllerService,[{key:"getCommands",value:function getCommands(){return this._commands}},{key:"registerCommand",value:function registerCommand(e){"string"===typeof e.keywords&&(e.keywords=e.keywords.split(" ")),this._commands[e.id]=e}},{key:"getCommandWithId",value:function getCommandWithId(e){return this._commands[e]}},{key:"getLastCommand",value:function getLastCommand(){return this.getState().lastCommand}},{key:"getLastCommandInvokeTime",value:function getLastCommandInvokeTime(){return this.getState().lastCommandInvokeTime}},{key:"execCommand",value:function(){var e=Object(u.a)(l.a.mark((function _callee(e){var t,n,r,i=arguments;return l.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return(t=i.length>1&&void 0!==i[1]?i[1]:{}).windowController||(n=this._appOrchestrationService.getActiveWindowController(),t.windowController=n||(null===(r=this._appOrchestrationService.getWindowControllers())||void 0===r?void 0:r[0])),t.appOrchestrationService=this._appOrchestrationService,t.uiParadigmService=this._uiParadigmService,this.setState({lastCommand:e,lastCommandInvokeTime:Object(c.getUnixTime)()}),a.abrupt("return",e.action(this,t));case 6:case"end":return a.stop()}}),_callee,this)})));return function execCommand(t){return e.apply(this,arguments)}}()}]),DesktopCommanderControllerService}(D.c),dc=uc,jc="desktop-commander-debugger",bc={id:jc,title:"Desktop Commander Debugger",style:{width:640,height:720},serviceClasses:[dc,Wt.a],view:function View(e){var t=e.appServices,n=e.windowController,r=Object(j.useState)(null),c=Object(f.a)(r,2),i=c[0],a=c[1];Object(j.useEffect)((function(){i&&i.parentNode.parentNode.scrollTo({top:i.offsetTop-10,left:i.offsetLeft-10})}),[i]);var o=Object(j.useState)(null),s=Object(f.a)(o,2),l=s[0],u=s[1],d=null===l||void 0===l?void 0:l.getUUID(),b=t[dc],h=b.getCommands(),p=b.getLastCommand(),v=t[Wt.a],g=v.getAppRuntimes().map((function(e){return{appRuntime:e,windowController:e.getWindowController()}})).filter((function(e){return e.windowController})),m=Object(j.useCallback)((function(e){var t=e.target.value,n=v.getWindowControllerWithUUID(t);u(n)}),[v]),x=v.getActiveWindowController();return Object(j.useEffect)((function(){var e;x&&g.length>1?x!==n&&(e=x):e=n,e&&u(e)}),[x,n,g]),Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(z.a,{canOverflow:!0,children:Object(O.jsx)(V,{children:Object.values(h).map((function(e){var t=e===p;return Object(O.jsx)("div",{ref:function ref(e){return t&&a(e)},style:{width:250,height:100,border:"1px #999 solid",borderRadius:8,margin:1,display:"inline-block",textAlign:"left",backgroundColor:t?"green":null},children:Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsxs)(V,{style:{overflowY:"auto"},children:[Object(O.jsx)("div",{children:e.description}),Object(O.jsx)("div",{style:{fontStyle:"italic",fontSize:".8em",marginTop:4},children:e.keywords.join(" ")})]})}),Object(O.jsx)(B.c,{style:{textAlign:"right"},children:Object(O.jsx)("button",{onClick:function onClick(){return b.execCommand(e,{windowController:l})},style:{margin:8},children:e.id})})]})},e.id)}))})})}),Object(O.jsxs)(B.c,{children:[Object(O.jsx)("hr",{}),Object(O.jsx)(V,{children:Object(O.jsxs)(z.a,{children:[Object(O.jsx)("label",{children:"Choose a window to send a command:"}),Object(O.jsxs)("select",{onChange:m,value:d,children:[Object(O.jsx)("option",{children:"Choose a window"}),g.map((function(e,t){var n=e.windowController;return Object(O.jsx)("option",{value:n.getUUID(),children:n.getTitle()},t)}))]})]})})]})]})}};var hc=function Footer(){return Object(O.jsx)(B.c,{children:Object(O.jsx)(V,{style:{textAlign:"center"},children:Object(O.jsxs)(Ft,{children:[Object(O.jsx)(Tt,{id:Jn}),Object(O.jsx)(Tt,{id:jc,title:"Command Debugger"})]})})})},fc=n(23),pc=n(17),vc="acquire",Oc="confirmDelete",gc="hasCachedAPIKey",mc=function(e){Object(R.a)(ExternalAPIKeyManagementServiceCore,e);var t=Object(I.a)(ExternalAPIKeyManagementServiceCore);function ExternalAPIKeyManagementServiceCore(e){var n,r,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"API";Object(A.a)(this,ExternalAPIKeyManagementServiceCore);var i=(n={},Object(me.a)(n,vc,"Enter the ".concat(c," Key")),Object(me.a)(n,Oc,"Are you sure you wish to delete the ".concat(c," Key?")),n);if(!e)throw new ReferenceError("secureLocalStorageKey is not set");for(var a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];return(r=t.call.apply(t,[this].concat(o))).setTitle("".concat(c," Key Management Service")),r.setState(Object(me.a)({},gc,!1)),r._secureLocalStorageKey=e,r._labels=i,r._keyVaultService=r.useServiceClass(xe.a),r._secureLocalStorageEngine=r._keyVaultService.getSecureLocalStorageEngine(),r._fetchCachedAPIKey(),r.proxyOn(r._keyVaultService,D.b,(function(){r._fetchCachedAPIKey()})),r}return Object(_.a)(ExternalAPIKeyManagementServiceCore,[{key:"_cacheAPIKey",value:function(){var e=Object(u.a)(l.a.mark((function _callee(e){return l.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._secureLocalStorageEngine.setItem(this._secureLocalStorageKey,e);case 2:this.setState(Object(me.a)({},gc,Boolean(e)));case 3:case"end":return t.stop()}}),_callee,this)})));return function _cacheAPIKey(t){return e.apply(this,arguments)}}()},{key:"_fetchCachedAPIKey",value:function(){var e=Object(u.a)(l.a.mark((function _callee2(){var e;return l.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._secureLocalStorageEngine.fetchItem(this._secureLocalStorageKey);case 2:return e=t.sent,this.setState(Object(me.a)({},gc,Boolean(e))),t.abrupt("return",e);case 5:case"end":return t.stop()}}),_callee2,this)})));return function _fetchCachedAPIKey(){return e.apply(this,arguments)}}()},{key:"getHasCachedAPIKey",value:function getHasCachedAPIKey(){return this.getState().hasCachedAPIKey}},{key:"acquireAPIKey",value:function(){var e=Object(u.a)(l.a.mark((function _callee3(){var e;return l.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetchCachedAPIKey();case 2:if(!(e=t.sent)){t.next=5;break}return t.abrupt("return",e);case 5:return t.next=7,this.useServiceClass(Ee).showTextInputModal({label:this._labels.acquire});case 7:if(null!==(e=t.sent)){t.next=10;break}return t.abrupt("return",null);case 10:if(!e){t.next=16;break}return t.next=13,this._cacheAPIKey(e);case 13:return t.abrupt("return",e);case 16:return t.abrupt("return",this.acquireAPIKey());case 17:case"end":return t.stop()}}),_callee3,this)})));return function acquireAPIKey(){return e.apply(this,arguments)}}()},{key:"deleteCachedAPIKey",value:function(){var e=Object(u.a)(l.a.mark((function _callee4(){return l.a.wrap((function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.useServiceClass(Ee).confirm(this._labels.confirmDelete);case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this._secureLocalStorageEngine.removeItem(this._secureLocalStorageKey);case 6:this.setState(Object(me.a)({},gc,!1));case 7:case"end":return e.stop()}}),_callee4,this)})));return function deleteCachedAPIKey(){return e.apply(this,arguments)}}()}]),ExternalAPIKeyManagementServiceCore}(D.c),xc=n(547),yc=function(e){Object(R.a)(SpeechRecognizerServiceCore,e);var t=Object(I.a)(SpeechRecognizerServiceCore);function SpeechRecognizerServiceCore(e){var n;Object(A.a)(this,SpeechRecognizerServiceCore);for(var r=arguments.length,c=new Array(r>1?r-1:0),i=1;i<r;i++)c[i-1]=arguments[i];if((n=t.call.apply(t,[this].concat(c)))._apiKeyManagementService=n.useServiceClass(e),n.proxyOn(n._apiKeyManagementService,D.b,(function(e){return n.emit(D.b,e)})),!(n._apiKeyManagementService instanceof mc))throw new TypeError("ExternalAPIKeyManagementServiceClass does not extend ExternalAPIKeyManagementServiceCore");return n.setState({isConnecting:!1,isConnected:!1,hasRecognizer:!1,isRecognizing:!1,realTimeTranscription:null,finalizedTranscription:null,isControllingDesktop:!1}),n._recognizer=null,n.registerCleanupHandler(Object(u.a)(l.a.mark((function _callee(){return l.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!n._recognizer){e.next=3;break}return e.next=3,n._recognizer.destroy();case 3:case"end":return e.stop()}}),_callee)})))),n.on(D.b,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.hasRecognizer){var t=function _handleConnectStateChange(){n.setState({isConnecting:n._recognizer.getIsConnecting(),isConnected:n._recognizer.getIsConnected()})};n.proxyOn(n._recognizer,xc.c,t),n.proxyOn(n._recognizer,xc.b,t),n.proxyOn(n._recognizer,xc.d,t),n.proxyOn(n._recognizer,xc.a,(function(){n.setState({isRecognizing:!0})})),n.proxyOn(n._recognizer,xc.e,(function(){n.setState({isRecognizing:!1})})),n.proxyOn(n._recognizer,xc.g,(function(e){n.setState({realTimeTranscription:e}),n.emit(xc.g,e)})),n.proxyOn(n._recognizer,xc.f,(function(e){n.setState({finalizedTranscription:e}),n.emit(xc.f,e)}))}})),n._inputMediaDevicesService=n.useServiceClass(ke),n}return Object(_.a)(SpeechRecognizerServiceCore,[{key:"getAPIKeyManagementService",value:function getAPIKeyManagementService(){return this._apiKeyManagementService}},{key:"getServiceProviderURL",value:function getServiceProviderURL(){throw new Error("getServiceProviderURL must be overridden")}},{key:"getIsConnecting",value:function getIsConnecting(){return this.getState().isConnecting}},{key:"getIsConnected",value:function getIsConnected(){return this.getState().isConnected}},{key:"getHasRecognizer",value:function getHasRecognizer(){return this.getState().hasRecognizer}},{key:"getRealTimeTranscription",value:function getRealTimeTranscription(){return this.getState().realTimeTranscription}},{key:"getFinalizedTranscription",value:function getFinalizedTranscription(){return this.getState().finalizedTranscription}},{key:"getIsRecognizing",value:function getIsRecognizing(){return this.getState().isRecognizing}},{key:"_createRecognizer",value:function(){var e=Object(u.a)(l.a.mark((function _callee2(e,t){return l.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("_createRecognizer must be overridden");case 1:case"end":return e.stop()}}),_callee2)})));return function _createRecognizer(t,n){return e.apply(this,arguments)}}()},{key:"startRecognizing",value:function(){var e=Object(u.a)(l.a.mark((function _callee3(){var e,t,n,r=this,c=arguments;return l.a.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:{},!this._recognizer){i.next=4;break}return i.next=4,this._recognizer.destroy();case 4:if(this.emit(xc.c),(t=this._inputMediaDevicesService.getCaptureFactories()).length){i.next=9;break}return i.next=9,this.useServiceClass(Ee).showInputMediaDevicesSelectionModal();case 9:if((t=this._inputMediaDevicesService.getCaptureFactories()).length){i.next=12;break}throw new Error("Could not obtain input capture factories");case 12:return n=t[0].getOutputMediaStream(),i.next=15,this._createRecognizer(n,e);case 15:this._recognizer=i.sent,this.setState({hasRecognizer:!0}),this._recognizer.registerCleanupHandler((function(){r.setState({isConnecting:!1,isConnected:!1,hasRecognizer:!1,isRecognizing:!1,realTimeTranscription:null,finalizedTranscription:null})}));case 18:case"end":return i.stop()}}),_callee3,this)})));return function startRecognizing(){return e.apply(this,arguments)}}()},{key:"stopRecognizing",value:function(){var e=Object(u.a)(l.a.mark((function _callee4(){return l.a.wrap((function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:if(!this._recognizer){e.next=3;break}return e.next=3,this._recognizer.destroy();case 3:case"end":return e.stop()}}),_callee4,this)})));return function stopRecognizing(){return e.apply(this,arguments)}}()},{key:"setIsControllingDesktop",value:function setIsControllingDesktop(e){this.setState({isControllingDesktop:Boolean(e)})}},{key:"getIsControllingDesktop",value:function getIsControllingDesktop(){return this.getState().isControllingDesktop}},{key:"getRecognizerUptime",value:function getRecognizerUptime(){return this._recognizer?this._recognizer.getInstanceUptime():0}}]),SpeechRecognizerServiceCore}(D.c),wc=function(e){Object(R.a)(SpeechRecognizerServiceCollection,e);var t=Object(I.a)(SpeechRecognizerServiceCollection);function SpeechRecognizerServiceCollection(){var e;Object(A.a)(this,SpeechRecognizerServiceCollection);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).registerCleanupHandler((function(){return e.destroyAllChildren()})),e}return Object(_.a)(SpeechRecognizerServiceCollection,[{key:"addChild",value:function addChild(e){var t=this;if(!(e instanceof yc))throw new TypeError("speechRecognizerService is not a SpeechRecognizerServiceCore");return[xc.g,xc.f].forEach((function(n){t.proxyOn(e,n,(function(r){t.emit(n,[e,r])}))})),Object(fc.a)(Object(pc.a)(SpeechRecognizerServiceCollection.prototype),"addChild",this).call(this,e)}},{key:"addSpeechRecognizerServiceInstance",value:function addSpeechRecognizerServiceInstance(e){return this.addChild(e)}},{key:"getSpeechRecognizerServices",value:function getSpeechRecognizerServices(){return this.getChildren()}},{key:"getHasRecognizer",value:function getHasRecognizer(){return this.getChildren().some((function(e){return e.getHasRecognizer()}))}}]),SpeechRecognizerServiceCollection}(c.PhantomCollection),Sc=n(846);Sc.Recognizer.enableTelemetry(!1);var Cc=function(e){Object(R.a)(MesaSpeechRecognizer,e);var t=Object(I.a)(MesaSpeechRecognizer);function MesaSpeechRecognizer(e,n,r){var c;return Object(A.a)(this,MesaSpeechRecognizer),(c=t.call(this,e,r))._subscriptionKey=n,c._locationRegion="eastus",c._speechRecognitionLanguage="en-US",c._recognizer=null,c.registerCleanupHandler((function(){return c._stopRecognizing()})),c}return Object(_.a)(MesaSpeechRecognizer,[{key:"getLocationRegion",value:function getLocationRegion(){return this._locationRegion}},{key:"getRecognitionLanguage",value:function getRecognitionLanguage(){return this._recognitionLanguage}},{key:"_stopRecognizing",value:function(){var e=Object(u.a)(l.a.mark((function _callee(){return l.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this._recognizer&&(this._recognizer.stopContinuousRecognitionAsync(),this._recognizer.close(),this._recognizer=null);case 1:case"end":return e.stop()}}),_callee,this)})));return function _stopRecognizing(){return e.apply(this,arguments)}}()},{key:"_startRecognizing",value:function(){var e=Object(u.a)(l.a.mark((function _callee3(){var e,t,n,r,c=this;return l.a.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(!this._recognizer){i.next=3;break}return i.next=3,this._stopRecognizing();case 3:this._setIsConnecting(!0),e=this._mediaStream,(t=Sc.SpeechConfig.fromSubscription(this._subscriptionKey,this._locationRegion)).speechRecognitionLanguage=this._speechRecognitionLanguage,n=Sc.AudioConfig.fromStreamInput(e),r=new Sc.SpeechRecognizer(t,n),this._recognizer=r,r.recognizing=function(e,t){c.log.debug("RECOGNIZING: Text=".concat(t.result.text)),c._setRealTimeTranscription(t.result.text)},r.recognized=function(e,t){t.result.reason===Sc.ResultReason.RecognizedSpeech?(c._setFinalizedTranscription(t.result.text),c.log.debug("RECOGNIZED: Text=".concat(t.result.text))):t.result.reason===Sc.ResultReason.NoMatch&&(c._setIsRecognizing(!1),c.log.debug("NOMATCH: Speech could not be recognized."))},r.canceled=function(){var e=Object(u.a)(l.a.mark((function _callee2(e,t){return l.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return c._setIsRecognizing(!1),c.log.debug("CANCELED: Reason=".concat(t.reason)),t.reason===Sc.CancellationReason.Error&&(c.log.debug('"CANCELED: ErrorCode='.concat(t.errorCode)),c.log.debug('"CANCELED: ErrorDetails='.concat(t.errorDetails)),c.log.debug("CANCELED: Did you update the key and location/region info?")),r.stopContinuousRecognitionAsync(),e.abrupt("return",c.destroy());case 5:case"end":return e.stop()}}),_callee2)})));return function(t,n){return e.apply(this,arguments)}}(),r.sessionStopped=function(e,t){c.log.debug("Session stopped event"),r.stopContinuousRecognitionAsync()},r.startContinuousRecognitionAsync();case 11:case"end":return i.stop()}}),_callee3,this)})));return function _startRecognizing(){return e.apply(this,arguments)}}()}]),MesaSpeechRecognizer}(xc.h),kc="mesa-sub-1",Ac=function(e){Object(R.a)(MesaSubscriptionKeyManagementService,e);var t=Object(I.a)(MesaSubscriptionKeyManagementService);function MesaSubscriptionKeyManagementService(){Object(A.a)(this,MesaSubscriptionKeyManagementService);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.call.apply(t,[this,kc,"Azure Subscription"].concat(n))}return MesaSubscriptionKeyManagementService}(mc),_c=function(e){Object(R.a)(MesaSpeechRecognizerService,e);var t=Object(I.a)(MesaSpeechRecognizerService);function MesaSpeechRecognizerService(){var e;Object(A.a)(this,MesaSpeechRecognizerService);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this,Ac].concat(r))).setTitle("Mesa Speech Recognizer Service"),e}return Object(_.a)(MesaSpeechRecognizerService,[{key:"getServiceProviderURL",value:function getServiceProviderURL(){return"https://azure.microsoft.com/en-us/services/cognitive-services/speech-to-text/"}},{key:"_createRecognizer",value:function(){var e=Object(u.a)(l.a.mark((function _callee(e,t){var n;return l.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return n=t.subscriptionKey,r.abrupt("return",new Cc(e,n));case 2:case"end":return r.stop()}}),_callee)})));return function _createRecognizer(t,n){return e.apply(this,arguments)}}()},{key:"startRecognizing",value:function(){var e=Object(u.a)(l.a.mark((function _callee2(){var e;return l.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._apiKeyManagementService.acquireAPIKey();case 2:return e=t.sent,t.abrupt("return",Object(fc.a)(Object(pc.a)(MesaSpeechRecognizerService.prototype),"startRecognizing",this).call(this,{subscriptionKey:e}));case 4:case"end":return t.stop()}}),_callee2,this)})));return function startRecognizing(){return e.apply(this,arguments)}}()}]),MesaSpeechRecognizerService}(yc),Rc=_c,Ic=function(e){Object(R.a)(DeepgramSpeechRecognizer,e);var t=Object(I.a)(DeepgramSpeechRecognizer);function DeepgramSpeechRecognizer(e,n,r){var c;return Object(A.a)(this,DeepgramSpeechRecognizer),(c=t.call(this,e,r))._apiKey=n,c._deepgramSocket=null,c._mediaRecorder=null,c.registerCleanupHandler((function(){return c._stopRecognizing()})),c}return Object(_.a)(DeepgramSpeechRecognizer,[{key:"_stopRecognizing",value:function(){var e=Object(u.a)(l.a.mark((function _callee(){return l.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:try{this._mediaRecorder&&this._mediaRecorder.stop()}catch(t){console.error(t)}finally{this._mediaRecorder=null}try{this._deepgramSocket&&this._deepgramSocket.close()}catch(t){console.error(t)}finally{this._deepgramSocket=null}case 2:case"end":return e.stop()}}),_callee,this)})));return function _stopRecognizing(){return e.apply(this,arguments)}}()},{key:"_startRecognizing",value:function(){var e=Object(u.a)(l.a.mark((function _callee2(){var e=this;return l.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._stopRecognizing();case 2:t.prev=2,this._setIsConnecting(!0),this._deepgramSocket=new WebSocket("wss://api.deepgram.com/v1/listen",["token",this._apiKey]),this._mediaRecorder=new MediaRecorder(this._mediaStream,{mimeType:"audio/webm"}),this._deepgramSocket.addEventListener("open",(function(){e._setIsConnected(!0),e._mediaRecorder.addEventListener("dataavailable",(function(t){var n;t.data.size>0&&1===(null===(n=e._deepgramSocket)||void 0===n?void 0:n.readyState)&&e._deepgramSocket.send(t.data)})),e._mediaRecorder.start(100),e._deepgramSocket.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.channel.alternatives[0].transcript;r&&(n.is_final?e._setFinalizedTranscription(r):e._setRealTimeTranscription(r))}))})),this._deepgramSocket.addEventListener("error",(function(){return e.destroy()})),this._deepgramSocket.addEventListener("close",(function(){return e.destroy()})),t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(2),this._stopRecognizing(),t.t0;case 15:case"end":return t.stop()}}),_callee2,this,[[2,11]])})));return function _startRecognizing(){return e.apply(this,arguments)}}()}]),DeepgramSpeechRecognizer}(xc.h),Dc="deepgram-sub-1",Tc=function(e){Object(R.a)(DeepgramAPIKeyManagementService,e);var t=Object(I.a)(DeepgramAPIKeyManagementService);function DeepgramAPIKeyManagementService(){Object(A.a)(this,DeepgramAPIKeyManagementService);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.call.apply(t,[this,Dc,"Deepgram API"].concat(n))}return DeepgramAPIKeyManagementService}(mc),Mc=function(e){Object(R.a)(DeepgramSpeechRecognizerService,e);var t=Object(I.a)(DeepgramSpeechRecognizerService);function DeepgramSpeechRecognizerService(){var e;Object(A.a)(this,DeepgramSpeechRecognizerService);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this,Tc].concat(r))).setTitle("Deepgram Speech Recognizer Service"),e}return Object(_.a)(DeepgramSpeechRecognizerService,[{key:"getServiceProviderURL",value:function getServiceProviderURL(){return"https://deepgram.com/"}},{key:"_createRecognizer",value:function(){var e=Object(u.a)(l.a.mark((function _callee(e,t){var n;return l.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return n=t.apiKey,r.abrupt("return",new Ic(e,n));case 2:case"end":return r.stop()}}),_callee)})));return function _createRecognizer(t,n){return e.apply(this,arguments)}}()},{key:"startRecognizing",value:function(){var e=Object(u.a)(l.a.mark((function _callee2(){var e;return l.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._apiKeyManagementService.acquireAPIKey();case 2:return e=t.sent,t.abrupt("return",Object(fc.a)(Object(pc.a)(DeepgramSpeechRecognizerService.prototype),"startRecognizing",this).call(this,{apiKey:e}));case 4:case"end":return t.stop()}}),_callee2,this)})));return function startRecognizing(){return e.apply(this,arguments)}}()}]),DeepgramSpeechRecognizerService}(yc),zc=Mc,Ec=function(e){Object(R.a)(SpeechRecognizerCollectionService,e);var t=Object(I.a)(SpeechRecognizerCollectionService);function SpeechRecognizerCollectionService(){var e;Object(A.a)(this,SpeechRecognizerCollectionService);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).setTitle("Speech Recognizer Collection Service"),e.setState({realTimeTranscription:null,finalizedTranscription:null}),e._speechRecognizerServiceCollection=e.bindCollectionClass(wc),[xc.g,xc.f].forEach((function(t){e.proxyOn(e._speechRecognizerServiceCollection,t,(function(n){var r=Object(f.a)(n,2),c=r[0],i=r[1];switch(e.emit(t,[c,i]),t){case xc.g:e.setState({realTimeTranscription:i});break;case xc.f:e.setState({finalizedTranscription:i})}}))})),e.useSpeechRecognizerServiceClass(Rc),e.useSpeechRecognizerServiceClass(zc),e}return Object(_.a)(SpeechRecognizerCollectionService,[{key:"useSpeechRecognizerServiceClass",value:function useSpeechRecognizerServiceClass(e){var t=this.useServiceClass(e);this._speechRecognizerServiceCollection.addSpeechRecognizerServiceInstance(t)}},{key:"getSpeechRecognizerServices",value:function getSpeechRecognizerServices(){return this._speechRecognizerServiceCollection.getChildren()}},{key:"getHasRecognizer",value:function getHasRecognizer(){return this._speechRecognizerServiceCollection.getHasRecognizer()}},{key:"getRealTimeTranscription",value:function getRealTimeTranscription(){return this.getState().realTimeTranscription}},{key:"getFinalizedTranscription",value:function getFinalizedTranscription(){return this.getState().finalizedTranscription}}]),SpeechRecognizerCollectionService}(D.c),Nc=Ec,Pc=function(e){Object(R.a)(SpeechDesktopControllerService,e);var t=Object(I.a)(SpeechDesktopControllerService);function SpeechDesktopControllerService(){var e;Object(A.a)(this,SpeechDesktopControllerService);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).setTitle("Speech Input Desktop Controller Service"),e._desktopControllerService=e.useServiceClass(dc),e._speechRecognizerCollectionService=e.useServiceClass(Nc),e.proxyOn(e._speechRecognizerCollectionService,xc.f,(function(t){var n=Object(f.a)(t,2),r=n[0],c=n[1];r.getIsControllingDesktop()&&e.extractCommandIntentFromText(c)})),e}return Object(_.a)(SpeechDesktopControllerService,[{key:"extractCommandIntentFromText",value:function(){var e=Object(u.a)(l.a.mark((function _callee(e){var t,n,r,c,i;return l.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.toLowerCase().replace(/[^a-z0-9 ]/gi,""),n=t.split(" "),r=Object.values(this._desktopControllerService.getCommands()).map((function(e){var t=n.filter((function(t){return e.keywords.includes(t)})).length;return{command:e,strength:t}})).filter((function(e){return e.strength})),!(c=r.reduce((function(e,t){return!e||t.strength>e.strength||t.strength===e.strength&&t.command.keywords.length<e.command.keywords.length?t:e}),null))){a.next=8;break}return i=c.command,a.next=8,this._desktopControllerService.execCommand(i);case 8:case"end":return a.stop()}}),_callee,this)})));return function extractCommandIntentFromText(t){return e.apply(this,arguments)}}()}]),SpeechDesktopControllerService}(D.c),Wc="speech-commander",Lc={id:Wc,title:"Speech Commander",style:{width:960,height:720},serviceClasses:[Nc,Pc,dc],view:function View(e){var t=e.appServices[Nc].getSpeechRecognizerServices(),n=Object(j.useMemo)((function(){var e=t.map((function(e){return{title:e.getTitle(),speechRecognizerService:e,apiKeyManagementService:e.getAPIKeyManagementService(),disabled:!1,requiresAPIKey:!0,serviceProviderURL:e.getServiceProviderURL()}}));return e.push({title:"Native Speech Recognizer Service",speechRecognizerService:null,apiKeyManagementService:null,disabled:!0,requiresAPIKey:!1,serviceProviderURL:"https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition",status:"Not implemented"}),e}),[t]);return Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.b,{children:Object(O.jsx)(E.a,{style:{overflowY:"auto"},children:Object(O.jsxs)(V,{children:[Object(O.jsx)("h1",{children:"Speech Recognition Providers"}),Object(O.jsx)("p",{className:"note",children:"Multiple speech recognition providers can be run concurrently."}),n.map((function(e){return Object(O.jsx)(Lr,{speechProvider:e},e.title)})),Object(O.jsx)(Pr,{children:Object(O.jsxs)(z.a,{children:[Object(O.jsx)(V,{style:{fontWeight:"bold"},children:"Do you have a speech recognition API you'd like to see in this list?"}),Object(O.jsx)(V,{children:Object(O.jsx)(Pe,{href:"https://linktr.ee/zenosmosis",children:"Contact zenOSmosis"})})]})})]})})}),Object(O.jsx)(hc,{})]})}};var Uc=function NoData(){return Object(O.jsx)(z.a,{children:"No data."})};var Vc=function SentimentSection(e){var t=e.sentiment;return Object(O.jsxs)(Pr,{children:[Object(O.jsx)("h1",{children:"Sentiment"}),Object(O.jsx)(V,{style:{height:100},children:t.title?Object(O.jsx)(Ze,{children:Object(O.jsx)(z.a,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{fontSize:"3.5em"},children:t.emoji}),Object(O.jsx)("div",{children:t.title})]})})}):Object(O.jsx)(Uc,{})})]})};var Bc=function ShifterSection(e){var t=e.posAnalyzer,n=e.text,r=e.onTextUpdate,c=Object(j.useState)(!1),i=Object(f.a)(c,2),a=i[0],o=i[1],s=Object(j.useState)(!1),d=Object(f.a)(s,2),b=d[0],h=d[1],p=Object(j.useRef)(b);p.current=b,Object(j.useEffect)((function(){p.current||h(!0)}),[n]);var v=Object(j.useCallback)(Object(u.a)(l.a.mark((function _callee(){return l.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:o(!0),t.fetchRandomizedTemplate(n).then((function(e){e===n?h(!1):r(e)})).finally((function(){return o(!1)}));case 2:case"end":return e.stop()}}),_callee)}))),[t,n,r]);return Object(O.jsxs)(Pr,{children:[Object(O.jsx)("h1",{children:"Shifter"}),Object(O.jsx)("p",{className:"note",children:"Shifter analyzes the sentence structure of your text and generates new sentences based on the same structure."}),Object(O.jsx)(V,{style:{textAlign:"center"},children:Object(O.jsx)("button",{disabled:!n||!b||a,onClick:v,children:"Shift It"})})]})};var Fc=function RightSidebar(e){var t,n=e.text,r=e.onTextUpdate,c=e.sentiment,i=e.hasSpeechRecognizer,a=e.ttsService,o=e.posAnalyzer,s=e.localeVoices,l=e.isTypingWithVoice,u=e.onIsTypingWithVoiceChange,d=e.isSpeaking;return Object(O.jsx)(B.a,{style:{maxWidth:210},children:Object(O.jsxs)(E.a,{style:{overflowY:"auto"},children:[Object(O.jsx)(Vc,{sentiment:c}),Object(O.jsx)(Bc,{posAnalyzer:o,text:n,onTextUpdate:r}),Object(O.jsxs)(Pr,{children:[Object(O.jsx)("h1",{children:"Voice Input"}),Object(O.jsx)(V,{children:Object(O.jsxs)(z.a,{children:[Object(O.jsx)(V,{children:Object(O.jsx)(Tt,{title:"Recognizers",id:Wc})}),i&&Object(O.jsx)(en,{masterLabel:"Type w/ Voice",onChange:u,isOn:l,disabled:!i})]})})]}),Object(O.jsxs)(Pr,{children:[Object(O.jsx)("h1",{children:"Voice Output"}),Object(O.jsx)(V,{children:Object(O.jsxs)(z.a,{children:[Object(O.jsx)(V,{children:Object(O.jsx)("select",{value:null===(t=a.getDefaultVoice())||void 0===t?void 0:t.voiceURI,onChange:function onChange(e){return a.setDefaultVoice(a.getVoiceWithURI(e.target.value))},children:s.map((function(e){return Object(O.jsx)("option",{value:e.voiceURI,children:e.name},e.voiceURI)}))})}),Object(O.jsxs)(V,{children:[Object(O.jsxs)(Ft,{children:[Object(O.jsx)("button",{onClick:function onClick(){return a.say(n)},disabled:!n||d,children:"Say It"}),Object(O.jsx)("button",{onClick:function onClick(){return a.cancel()},disabled:!d,children:"Cancel"})]}),Object(O.jsxs)(V,{children:[Object(O.jsx)("label",{children:"Pitch"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"range",min:"0.01",max:"1",step:".05",value:a.getDefaultPitch().toString(),onChange:function onChange(e){return a.setDefaultPitch(parseFloat(e.target.value))}})})]}),Object(O.jsxs)(V,{children:[Object(O.jsx)("label",{children:"Rate"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"range",min:"0",max:"1",step:".05",value:a.getDefaultRate().toString(),onChange:function onChange(e){return a.setDefaultRate(parseFloat(e.target.value))}})})]})]})]})})]})]})})};function PartOfSpeechTable(e){var t=e.partsOfSpeech;return Object(O.jsxs)(re,{children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Index"}),Object(O.jsx)("td",{children:"Word"}),Object(O.jsx)("td",{children:"Tag"}),Object(O.jsx)("td",{children:"Description"})]})}),Object(O.jsx)("tbody",{children:t.map((function(e,t){var n=e.word,r=e.partOfSpeech;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"center",children:t+1}),Object(O.jsx)("td",{children:n}),Object(O.jsx)("td",{children:r.tag}),Object(O.jsx)("td",{children:r.description})]},t)}))})]})}var Kc="table";var Qc=function PartOfSpeechAnalysis(e){var t=e.posAnalyzer,n=e.text,r=Object(j.useState)(Kc),c=Object(f.a)(r,2),i=c[0],a=c[1],o=Object(j.useState)([]),s=Object(f.a)(o,2),l=s[0],u=s[1];return Object(j.useEffect)((function(){n?t.fetchPartsOfSpeech(n).then((function(e){u(e)})):u([])}),[n,t]),Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.d,{children:Object(O.jsx)(V,{style:{textAlign:"center"},children:Object(O.jsx)(Ht,{buttons:[{content:"Table",onClick:function onClick(){return a(Kc)}},{content:"Object",onClick:function onClick(){return a("object")}}]})})}),Object(O.jsx)(B.b,{children:"object"===i?Object(O.jsx)(Cn,{src:l}):Object(O.jsx)(E.a,{style:{overflowY:"auto"},children:Object(O.jsx)(PartOfSpeechTable,{partsOfSpeech:l})})})]})};var Hc=function SyntaxTree(e){var t=e.posAnalyzer,n=e.text,r=Object(j.useState)(""),c=Object(f.a)(r,2),i=c[0],a=c[1];return Object(j.useEffect)((function(){n?t.fetchSyntaxTree(n).then(a):a("")}),[t,n]),Object(O.jsx)("textarea",{value:i,readOnly:!0,style:{width:"100%",height:"100%"}})};var Yc=function Polarity(e){var t=e.polarity;return Object(O.jsx)(Cn,{src:t})},Gc=n(832).a,Zc="partOfSpeech",qc="syntaxTree",Jc="polarity",Xc={id:"say-it-different",title:"Say It Different",style:{width:768,height:720},serviceClasses:[Nc,zr.a,Gc],view:function View(e){var t=e.appServices,n=Object(j.useState)(Zc),r=Object(f.a)(n,2),c=r[0],i=r[1],a=t[zr.a],o=t[Nc],s=t[Gc],l=a.getIsSpeaking(),u=a.getLocaleVoices(),d=o.getHasRecognizer(),b=o.getRealTimeTranscription(),h=Object(j.useState)("A fantastic welcome to ReShell!"),p=Object(f.a)(h,2),v=p[0],g=p[1],m=Object(j.useState)(!1),x=Object(f.a)(m,2),y=x[0],w=x[1],S=Object(j.useState)({}),C=Object(f.a)(S,2),k=C[0],A=C[1],_=Object(j.useState)({}),R=Object(f.a)(_,2),I=R[0],D=R[1];Object(j.useEffect)((function(){v?(s.fetchPolarity(v).then(A),s.fetchSentimentAnalysis(v).then(D)):(A({}),D({}))}),[s,v]);var T=!v.length;return Object(j.useEffect)((function(){d||w(!1)}),[d]),Object(j.useEffect)((function(){y&&g(b||"")}),[y,b]),Object(O.jsx)(B.f,{children:Object(O.jsx)(B.b,{children:Object(O.jsxs)(B.e,{children:[Object(O.jsx)(B.a,{children:Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.d,{children:Object(O.jsxs)(Pr,{children:[Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{onChange:function onChange(e){return g(e.target.value)},value:v,maxLength:420,children:v})}),Object(O.jsxs)(V,{style:{float:"left"},className:"note",children:[v.length," / ",420]}),Object(O.jsx)(V,{style:{float:"right"},children:Object(O.jsxs)(Ft,{children:[Object(O.jsx)("button",{onClick:function onClick(){return g("")},disabled:!v,children:"Clear"}),Object(O.jsx)("button",{onClick:function onClick(){return a.say(v)},disabled:!v||l,children:"Say It"}),Object(O.jsx)("button",{onClick:function onClick(){return a.cancel()},disabled:!l,children:"Cancel"})]})})]})}),Object(O.jsx)(B.b,{children:Object(O.jsxs)(B.f,{children:[Object(O.jsx)(B.d,{children:Object(O.jsx)(V,{style:{textAlign:"center"},children:Object(O.jsx)(Ht,{buttons:[{content:"Speech Tags",disabled:T,onClick:function onClick(){return i(Zc)}},{content:"Syntax Tree",disabled:T,onClick:function onClick(){return i(qc)}},{content:"Polarity",disabled:T,onClick:function onClick(){return i(Jc)}}]})})}),Object(O.jsx)(B.b,{children:Object(O.jsx)(V,{children:Object(O.jsx)(E.a,{style:{border:"1px rgba(255,255,255,.2) solid",borderRadius:"8px",backgroundColor:"rgba(0,0,0,.2)"},children:T?Object(O.jsx)(Uc,{}):Object(O.jsx)(O.Fragment,{children:function(){switch(c){case Zc:return Object(O.jsx)(Qc,{posAnalyzer:s,text:v});case qc:return Object(O.jsx)(Hc,{posAnalyzer:s,text:v});case Jc:return Object(O.jsx)(Yc,{polarity:k});default:return null}}()})})})})]})})]})}),Object(O.jsx)(Fc,{text:v,onTextUpdate:g,sentiment:I,ttsService:a,posAnalyzer:s,hasSpeechRecognizer:d,localeVoices:u,isTypingWithVoice:y,onIsTypingWithVoiceChange:w,isSpeaking:l})]})})})}},$c=n(835),ei=n.n($c);var ti=function CRT(e){var t=e.children;return Object(O.jsxs)(E.a,{className:L()(ei.a.crt,ei.a.off),children:[Object(O.jsx)("div",{className:ei.a.scanline}),Object(O.jsx)("div",{className:ei.a.terminal,children:t})]})},ni=n(836),ri=n.n(ni);var ci=function Caret(e){var t=e.className,n=e.isBlinking,r=void 0===n||n,c=e.content,i=void 0===c?"\u25a0":c;return Object(O.jsx)("div",{className:L()(ri.a.caret,r&&ri.a.blinking,t),children:i})};function calcWPMTimeout(e){return 1e3/(4.7*e/60)}function useSimulatedTyper(e){var t=e.text,n=e.onTypingStart,r=void 0===n?null:n,i=e.onTypingEnd,a=void 0===i?null:i,o=e.wpm,s=void 0===o?160:o,b=e.leadingEdgeTimeout,h=void 0===b?1e3:b,p=Object(j.useState)(!1),v=Object(f.a)(p,2),O=v[0],g=v[1],m=Object(j.useState)(""),x=Object(f.a)(m,2),y=x[0],w=x[1];return Object(j.useEffect)((function(){Object(c.consume)(t),w("")}),[t]),function useAsyncEffect(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(j.useEffect)((function(){var t=new AbortController,n=null;return Object(u.a)(l.a.mark((function _callee(){return l.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(t);case 2:n=r.sent;case 3:case"end":return r.stop()}}),_callee)})))(),function(){t.abort(),"function"===typeof cbRet&&n()}}),[e].concat(Object(d.a)(t)))}(function(){var e=Object(u.a)(l.a.mark((function _callee(e){var n,r,i;return l.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(t!==y){a.next=3;break}return g(!1),a.abrupt("return");case 3:if(n=y.length){a.next=7;break}return a.next=7,Object(c.sleep)(h);case 7:return r=y+t[n],i=window.setTimeout((function(){var t;(null===e||void 0===e||null===(t=e.signal)||void 0===t?void 0:t.aborted)||(O||g(!0),w(r))}),calcWPMTimeout(s)),a.abrupt("return",(function(){return window.clearTimeout(i)}));case 10:case"end":return a.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}(),[t,y,O,s,h]),Object(j.useEffect)((function(){O&&"function"===typeof r&&r()}),[r,O]),Object(j.useEffect)((function(){t===y&&"function"===typeof a&&a()}),[t,y,a]),{outputText:y,isTyping:O}}var ii=function SimulatedTyper(e){var t=useSimulatedTyper({text:e.text,onTypingStart:e.onTypingStart,onTypingEnd:e.onTypingEnd}).outputText;return Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:t}),Object(O.jsx)(ci,{})]})};function beep(){new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play()}var ai=["DR. RESHELL","COPYRIGHT (C) 1984 FAKE COMPANY.","ALL RIGHTS RESERVED.","","TAP OR PRESS ANY KEY TO START"];function IntroView(e){var t=e.onEnd,n=Object(j.useState)(0),r=Object(f.a)(n,2),c=r[0],i=r[1],a=Object(j.useState)(!1),o=Object(f.a)(a,2),s=o[0],l=o[1],u=Object(j.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(n||s&&"function"===typeof t)&&(beep(),t())}),[s,t]);return useKeyboardEvents(window,{onKeyDown:u,onEscape:function onEscape(){return u(null,!0)}}),Object(O.jsx)(E.a,{onMouseDown:u,onTouchStart:u,children:Object(O.jsx)(z.a,{children:ai.map((function(e,t){return c===t?Object(O.jsx)(ii,{text:e,onTypingEnd:function onTypingEnd(){c<ai.length-1?i(t+1):l(!0)}},t):Object(O.jsxs)("div",{children:["\xa0",t<=c&&e,"\xa0"]},t)}))})})}var oi=n(837),si=n.n(oi),li=["onChange","onKeyDown","value"],ui=b.a.forwardRef((function(e,t){var n=e.onChange,r=e.onKeyDown,c=e.value,i=Object(k.a)(e,li);return Object(O.jsxs)("div",{className:L()(si.a["input-with-custom-caret"],si.a.wrapper),children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:c}),Object(O.jsx)(ci,{})]}),Object(O.jsx)("input",Object(C.a)({ref:t,onChange:n,onKeyDown:r,value:c},i))]})})),di=n(838),ji=n(840);var bi=n.p+"static/media/zNBy-key4.b36862c6.mp3",hi="> ",fi=["onChange","onSubmit"];var pi=function InputContainer(e){var t=e.onChange,n=e.onSubmit,r=Object(k.a)(e,fi),c=Object(j.useState)(null),i=Object(f.a)(c,2),a=i[0],o=i[1];Object(di.a)(a);var s=Object(j.useState)(hi),l=Object(f.a)(s,2),u=l[0],d=l[1],b=function useAudio(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(j.useState)(!0),r=Object(f.a)(n,2),c=r[0],i=r[1],a=Object(j.useMemo)((function(){return e&&new ji.Howl({src:Array.isArray(e)?e:[e],format:t,html5:!1})}),[e,t]);return Object(j.useEffect)((function(){if(a){var e=function handlePreloaded(){return i(!0)};return"loaded"===a.state()?e():a.once("load",e),function(){a.unload()}}}),[a]),{play:Object(j.useCallback)((function(){return null===a||void 0===a?void 0:a.play()}),[a]),isPreloaded:c}}(bi),h=Object(j.useCallback)((function(e){return e.replace(hi,"")}),[]);useKeyboardEvents(a,{onKeyDown:b.play,onEnter:function onEnter(){"function"===typeof t&&t(h(a.value)),"function"===typeof n&&n(h(a.value))},onEscape:function onEscape(){return d(hi)}});var p=Object(j.useCallback)((function(e){var n=e.target.value;n.startsWith(hi)&&(d(n),"function"===typeof t&&t(h(n)))}),[t,h]);return b.isPreloaded?Object(O.jsx)(ui,Object(C.a)(Object(C.a)({ref:o},r),{},{value:u,onChange:p})):null},vi=n(841).a,Oi="auto-response-typing",gi="awaiting-user-input",mi="Unknown",xi=function(e){Object(R.a)(DrReShellSessionEngine,e);var t=Object(I.a)(DrReShellSessionEngine);function DrReShellSessionEngine(e){var n,r=e.posSpeechAnalyzer;return Object(A.a)(this,DrReShellSessionEngine),(n=t.call(this,{isAsync:!0}))._lastTextInputTime=null,n._history=[],n._posSpeechAnalyzer=r,n.registerCleanupHandler((function(){return n._posSpeechAnalyzer=null})),n._phase=null,n._totalInteractions=0,n._sentiment=mi,n._score=0,n._elizaBot=new vi,n.registerCleanupHandler((function(){return n._elizaBot.destroy()})),n._response=null,n._init(),n}return Object(_.a)(DrReShellSessionEngine,[{key:"_init",value:function(){var e=Object(u.a)(l.a.mark((function _callee(){return l.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._elizaBot.onceReady();case 2:return e.next=4,this._elizaBot.start();case 4:return this._response=e.sent,this._phase=Oi,e.abrupt("return",Object(fc.a)(Object(pc.a)(DrReShellSessionEngine.prototype),"_init",this).call(this));case 7:case"end":return e.stop()}}),_callee,this)})));return function _init(){return e.apply(this,arguments)}}()},{key:"processText",value:function(){var e=Object(u.a)(l.a.mark((function _callee2(e){var t,n,r,i;return l.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if((e=e.trim()).length){a.next=3;break}return a.abrupt("return");case 3:return this._history.push("".concat(hi).concat(e)),++this._totalInteractions,a.next=7,this._posSpeechAnalyzer.fetchSentimentAnalysis(e);case 7:if(a.t0=a.sent,a.t0){a.next=10;break}a.t0={title:"Neutral"};case 10:return t=a.t0,n=t.title,0===(r=t.score)&&this._sentiment!==mi||(this._sentiment=n),(i=1e3*r)&&this._history.push("".concat(i>0?"+":"").concat(i)),this._score+=i,this._history.push(""),this.emit(c.EVT_UPDATED),a.next=21,this._elizaBot.reply(e);case 21:this._response=a.sent,this.switchPhase(Oi);case 23:case"end":return a.stop()}}),_callee2,this)})));return function processText(t){return e.apply(this,arguments)}}()},{key:"getHistory",value:function getHistory(){return this._history}},{key:"getResponse",value:function getResponse(){return this._response}},{key:"addResponseToHistory",value:function addResponseToHistory(e){this._history.push(e),this.switchPhase(gi)}},{key:"switchPhase",value:function switchPhase(e){this._phase=e,this.emit(c.EVT_UPDATED)}},{key:"getPhase",value:function getPhase(){return this._phase}},{key:"getTotalInteractions",value:function getTotalInteractions(){return this._totalInteractions}},{key:"getSentiment",value:function getSentiment(){return this._sentiment}},{key:"getScore",value:function getScore(){return this._score}}]),DrReShellSessionEngine}(i.a);var yi,wi=function ConversationView(e){var t=e.posSpeechAnalyzer,n=e.onSessionEnd,r=e.onReset,i=e.ttsService,a=Object(j.useState)(null),o=Object(f.a)(a,2),s=o[0],l=o[1],u=Object(y.a)();Object(j.useEffect)((function(){var e=new xi({posSpeechAnalyzer:t});return e.once(c.EVT_READY,u),e.on(c.EVT_UPDATED,u),l(e),function(){return e.destroy()}}),[u,t]),Object(j.useEffect)((function(){if(s&&"function"===typeof n)return s.once(c.EVT_DESTROYED,n),function(){return s.off(c.EVT_DESTROYED,n)}}),[s,n]);var d=null===s||void 0===s?void 0:s.getPhase(),b=Object(j.useMemo)((function(){return d===Oi?null===s||void 0===s?void 0:s.getResponse():null}),[s,d]),h=Object(j.useCallback)((function(){null===s||void 0===s||s.addResponseToHistory(b)}),[s,b]),p=Object(j.useRef)(null),v=Object(j.useCallback)((function(){b&&i&&i.say(b)}),[b,i]);return(null===s||void 0===s?void 0:s.getIsReady())?(p.current&&(p.current.scrollTop=p.current.scrollHeight),Object(O.jsxs)(B.f,{children:[Object(O.jsxs)(B.d,{style:{textAlign:"right",borderBottom:"1px #00b800 dashed"},children:["Interactions: ",s.getTotalInteractions()," | Score:"," ",s.getScore()," | Overall Sentiment: ",s.getSentiment()]}),Object(O.jsx)(B.b,{children:Object(O.jsxs)("div",{ref:p,style:{width:"100%",height:"100%",overflowY:"auto"},children:[s.getHistory().map((function(e,t){return Object(O.jsx)("div",{children:e||Object(O.jsx)("span",{children:"\xa0"})},t)})),b&&d===Oi&&Object(O.jsx)(ii,{text:b,onTypingStart:v,onTypingEnd:h}),d===gi&&Object(O.jsx)(pi,{onSubmit:s.processText},s.getHistory().length)]})}),Object(O.jsxs)(B.c,{children:[Object(O.jsx)("button",{onClick:r,children:"Reset"}),Object(O.jsx)(Rt,{onTick:s.getInstanceUptime,style:{float:"right"}})]})]})):null},Si={id:"dr-reshell",title:"Doctor ReShell",style:{width:640,height:480},serviceClasses:[zr.a,Gc],view:function View(e){var t=e.appServices,n=t[zr.a],r=t[Gc],c=Object(j.useState)(!1),i=Object(f.a)(c,2),a=i[0],o=i[1],s=Object(j.useCallback)((function(){return o(!1)}),[]);return Object(O.jsx)(ti,{children:a?Object(O.jsx)(wi,{posSpeechAnalyzer:r,onReset:s,ttsService:n}):Object(O.jsx)(IntroView,{onEnd:function onEnd(){return o(!0)}})})}},Ci=(yi={},Object(me.a)(yi,Wc,{priority:0}),Object(me.a)(yi,un,{priority:5}),yi);t.default=function ReShellOrgPortal(){return Object(O.jsx)(pt,{appDescriptors:[At,Pt,Lt,dn,pn,gn,An,Xn,er,qn,Et,Rn,Vn,ar,or,Cr,Xc,Mr,Er,Lc,bc,Si],defaultAppAutoStartConfigs:Ci})}}}]);
//# sourceMappingURL=6.b2202d1b.chunk.js.map