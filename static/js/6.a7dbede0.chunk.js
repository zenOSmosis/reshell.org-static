(this.webpackJsonpreshell=this.webpackJsonpreshell||[]).push([[6],{540:function(e,t,n){e.exports={layout:"Layout_layout__3PvPc",header:"Layout_header__3EItT",content:"Layout_content__1t8Hf",footer:"Layout_footer__3EMQb"}},549:function(e,t,n){e.exports={"window-outer-border":"Window_window-outer-border__3TebC",hidden:"Window_hidden__3nppO",maximized:"Window_maximized__1kLcW",minimized:"Window_minimized__10t2-",dragging:"Window_dragging__2Ctk1",window:"Window_window__uDx5P",active:"Window_active__eAyll","title-bar":"Window_title-bar__376LO",title:"Window_title__3FnAS","window-controls":"Window_window-controls__1ACD5",maximize:"Window_maximize__2aW7z",minimize:"Window_minimize__hemKn",close:"Window_close__38hm-"}},571:function(e,t,n){"use strict";n.d(t,"e",(function(){return h}));var i=n(84),r=n(526),c=n(673),a=n(677),o=n(670);n.d(t,"d",(function(){return o.a}));var s=n(618);n.d(t,"a",(function(){return s.a}));var l=n(619);n.d(t,"c",(function(){return l.a}));var u=n(620);n.d(t,"b",(function(){return u.a}));n(615),n(616),n(617);var d=n(43),j={overflow:"auto"},b=Object(r.a)((function Menu(e){var t=Object.assign({},e);return Object(d.jsx)(c.a,Object(i.a)(Object(i.a)({},t),{},{portal:!0},j))}),c.a),h=Object(r.b)(a.a)((function SubMenu(e){var t=Object.assign({},e);return Object(d.jsx)(a.a,Object(i.a)(Object(i.a)({},t),j))}));t.f=b},602:function(e,t,n){e.exports={row:"RowColumn_row__2MIpa","disable-vertical-fill":"RowColumn_disable-vertical-fill__YiYeg",column:"RowColumn_column__3aAA3"}},604:function(e,t,n){e.exports={"no-wrap":"NoWrap_no-wrap__2b0bc"}},614:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Menu}));var i=n(74),r=n(84),c=n(518),a=n(27),o=n(571),s=n(519),l=n.n(s),u=n(43),d=["menuStructure","opened","onOpen","onClose"];function Menu(t){var n=t.menuStructure,i=t.opened,s=void 0!==i&&i,j=t.onOpen,b=void 0===j?function(){return null}:j,h=t.onClose,O=void 0===h?function(){return null}:h,f=Object(c.a)(t,d),v=Object(a.useRef)(null);return Object(a.useEffect)((function(){return window.addEventListener("resize",O),function(){window.removeEventListener("resize",O)}}),[O]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",Object(r.a)(Object(r.a)({ref:v},f),{},{className:l()("szh-menu-button",s&&"szh-menu-button--open"),onMouseDown:function onMouseDown(){e((function(){s?O():b()}))},disabled:n.disabled,children:n.label||n.role})),Object(u.jsx)(o.f,{anchorRef:v,state:v.current&&s?"open":"closed",onClose:O,portal:!0,children:xChildren(n)})]})}function xChildren(e){var t,n=[],r=Object(i.a)(e.submenu);try{for(r.s();!(t=r.n()).done;){var c=t.value;"separator"===c.type?(n.push(Object(u.jsx)(o.b,{},n.length)),c.label&&n.push(Object(u.jsx)(o.c,{children:c.label},n.length))):c.submenu?n.push(Object(u.jsx)(o.e,{label:c.label,children:xChildren(c)},n.length)):n.push(Object(u.jsx)(o.d,{onClick:c.click,disabled:c.disabled,children:c.role||c.label},n.length))}}catch(a){r.e(a)}finally{r.f()}return n}}).call(this,n(108).setImmediate)},617:function(e,t,n){},621:function(e,t,n){e.exports={led:"LED_led__1cyGI",gray:"LED_gray__3hMZV",grey:"LED_grey__1_Ool",red:"LED_red__2O1gd",orange:"LED_orange__1Asac",yellow:"LED_yellow__H5_0O",green:"LED_green__5BS9Y",blue:"LED_blue__fOsqG"}},622:function(e,t,n){e.exports={padding:"Padding_padding__3cEtV","no-siblings":"Padding_no-siblings__1nLrM"}},623:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return FullViewport}));var i=n(84),r=n(153),c=n(518),a=n(27),o=n(519),s=n.n(o),l=n(624),u=n.n(l),d=n(43),j=["className","children"];function FullViewport(t){var n=t.className,o=t.children,l=Object(c.a)(t,j),b=Object(a.useState)(null),h=Object(r.a)(b,2),O=h[0],f=h[1];return Object(a.useEffect)((function(){if(O){document.documentElement.classList.add(u.a["html-full-viewport"]),document.body.classList.add(u.a["body-full-viewport"]);var t=function handleResize(){e((function(){O.style.height=window.innerHeight+"px",document.body.scrollTop=0}))};return t(),window.addEventListener("resize",t),function(){document.documentElement.classList.remove(u.a["html-full-viewport"]),document.body.classList.remove(u.a["body-full-viewport"]),window.removeEventListener("resize",t)}}}),[O]),Object(d.jsx)("div",Object(i.a)(Object(i.a)({},l),{},{ref:f,className:s()(u.a["full-viewport"],n),children:o}))}}).call(this,n(108).setImmediate)},624:function(e,t,n){e.exports={"html-full-viewport":"FullViewport_html-full-viewport__2FFOO","body-full-viewport":"FullViewport_body-full-viewport__2_xlv","full-viewport":"FullViewport_full-viewport__2RwSj"}},625:function(e,t,n){e.exports={"auto-scaler":"AutoScaler_auto-scaler__zdzsp","content-wrap":"AutoScaler_content-wrap__2tFDr"}},628:function(e,t,n){e.exports={"notification-stack":"NotificationStack_notification-stack__1UiWO","inner-wrap":"NotificationStack_inner-wrap__2Mc0d"}},631:function(e,t,n){e.exports={"button-transparent":"ButtonTransparent_button-transparent__nu1PF"}},632:function(e,t,n){},633:function(e,t,n){},634:function(e,t,n){e.exports={notification:"Notification_notification__3v54G",action:"Notification_action__3RBsB","main-image-wrap":"Notification_main-image-wrap__eqHez","main-image":"Notification_main-image__1PfuN",title:"Notification_title__2OHSD","body-outer-wrap":"Notification_body-outer-wrap__3eJfO",body:"Notification_body__1eZc4",close:"Notification_close__1O8FQ"}},635:function(e,t,n){e.exports={"virtual-link":"VirtualLink_virtual-link__76t27"}},637:function(e,t,n){e.exports={"color-adjuster":"ColorAdjuster_color-adjuster__2X490"}},639:function(e,t,n){e.exports={"object-viewer":"ObjectViewer_object-viewer__8k3ak"}},662:function(e,t,n){},663:function(e,t,n){e.exports={levels:"AudioLevelMeter_levels__3baNN","level-container":"AudioLevelMeter_level-container__12piT",level:"AudioLevelMeter_level__2fRqJ"}},664:function(e,t,n){},665:function(e,t,n){e.exports={"loading-wrapper":"StaggeredWaveLoading_loading-wrapper__35kvv",loading:"StaggeredWaveLoading_loading__9ah1x",dot:"StaggeredWaveLoading_dot__1cWhz",wave:"StaggeredWaveLoading_wave__Du7Gv"}},666:function(e,t,n){e.exports={vu:"VUMeter_vu__Xlt7R",mask:"VUMeter_mask__2OXhL",needle:"VUMeter_needle__AmMsB","vu-label":"VUMeter_vu-label__3kDDJ"}},667:function(e,t,n){e.exports={video:"Video_video__2GgL9"}},668:function(e,t,n){},676:function(e,t,n){"use strict";n.r(t);var i=n(15),r=n.n(i),c=n(155),a=n(84),o=n(74),s=n(518),l=n(153),u=n(27),d=n.n(u),j=n(1),b=n.n(j),h=n(10),O=n(3),f=n(4),v=n(14),p=n(24),m=n(17),g=n(6),x=n(5),w=n(562),y=n.n(w);function getElPosition(e){return{x:e.offsetLeft,y:e.offsetTop}}function getElSize(e){return{width:e.offsetWidth,height:e.offsetHeight}}var C=n(535),S=n.n(C),k="render-profile",A="resized",_="moved",M=function(e){Object(g.a)(WindowController,e);var t=Object(x.a)(WindowController);function WindowController(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,c=r.onBringToTop;Object(O.a)(this,WindowController);var o={isMaximized:!1,isMinimized:!1};return(e=t.call(this,i.PhantomState.mergeOptions(Object(a.a)(Object(a.a)({},o),n))))._appRuntime=null,e._elWindow=null,e._elWindowManager=null,e._handleBringToTop=c,e._emitDebouncedResized=Object(w.debounce)(e._emitDebouncedResized.bind(Object(v.a)(e)),500,!1),e._emitDebouncedMoved=Object(w.debounce)(e._emitDebouncedMoved.bind(Object(v.a)(e)),500,!1),e._centerHandler=null,e._scatterHandler=null,e}return Object(f.a)(WindowController,[{key:"destroy",value:function(){var e=Object(h.a)(b.a.mark((function _callee2(){var e=this;return b.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(p.a)(Object(m.a)(WindowController.prototype),"destroy",this).call(this,Object(h.a)(b.a.mark((function _callee(){return b.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(e._emitDebouncedResized.clear(),!e._appRuntime||e._appRuntime.getIsDestroying()){t.next=4;break}return t.next=4,e._appRuntime.destroy();case 4:e._appRuntime=null,e._elWindow=null,e._elWindowManager=null;case 7:case"end":return t.stop()}}),_callee)})))));case 1:case"end":return t.stop()}}),_callee2,this)})));return function destroy(){return e.apply(this,arguments)}}()},{key:"__INTERNAL__setCenterHandler",value:function __INTERNAL__setCenterHandler(e){this._centerHandler=e}},{key:"center",value:function center(){return this._centerHandler()}},{key:"__INTERNAL__setScatterHandler",value:function __INTERNAL__setScatterHandler(e){this._scatterHandler=e}},{key:"scatter",value:function scatter(){return this._scatterHandler()}},{key:"bringToTop",value:function bringToTop(){this._handleBringToTop(this)}},{key:"captureRenderProfile",value:function captureRenderProfile(e){this.emit(k,e)}},{key:"__INTERNAL__attachWindowElement",value:function __INTERNAL__attachWindowElement(e){this._elWindow=e}},{key:"__INTERNAL__attachWindowManagerElement",value:function __INTERNAL__attachWindowManagerElement(e){this._elWindowManager=e}},{key:"setAppRuntime",value:function setAppRuntime(e){this._appRuntime=e,this._appRuntime.setTitle(this.getTitle())}},{key:"getAppRuntime",value:function getAppRuntime(){return this._appRuntime}},{key:"getAppRegistration",value:function getAppRegistration(){var e=this.getAppRuntime();if(e)return e.getRegistration()}},{key:"setSize",value:function setSize(e){var t=this,n=e.width,i=e.height,r=this._elWindow;r&&S()((function(){void 0!==n&&(r.style.width="".concat(n,"px")),void 0!==i&&(r.style.height="".concat(i,"px")),t._emitDebouncedResized()}),"".concat(this._uuid,"-size"))}},{key:"_emitDebouncedResized",value:function _emitDebouncedResized(){this.emit(A)}},{key:"getSize",value:function getSize(){var e=this._elWindow;if(e)return getElSize(e);this.log.warn("Unable to acquire elWindow")}},{key:"getWindowManagerSize",value:function getWindowManagerSize(){var e=this._elWindowManager;if(e)return getElSize(e);this.log.warn("Unable to acquire elWindowManager")}},{key:"setPosition",value:function setPosition(e){var t=this,n=e.x,i=e.y;if(!this.getIsMaximized()){var r=this._elWindow;r&&S()((function(){void 0!==n&&(r.style.left="".concat(n,"px"),delete r.style.right),void 0!==i&&(r.style.top="".concat(i,"px"),delete r.style.bottom),t._emitDebouncedMoved()}),"".concat(this._uuid,"-position"))}}},{key:"_emitDebouncedMoved",value:function _emitDebouncedMoved(){this.emit(_)}},{key:"getPosition",value:function getPosition(){var e=this._elWindow;if(e)return getElPosition(e)}},{key:"getIsBorderDisabled",value:function getIsBorderDisabled(){return this.getIsMaximized()||this.getIsMinimized()}},{key:"setState",value:function setState(e){if("object"!==typeof e)throw new TypeError("partialNextState is not an object");return e.isMaximized?e.isMinimized=!1:e.isMinimized&&(e.isMaximized=!1),Object(p.a)(Object(m.a)(WindowController.prototype),"setState",this).call(this,e)}},{key:"setIsMaximized",value:function setIsMaximized(e){return this.setState({isMaximized:e})}},{key:"maximize",value:function maximize(){return this.setIsMaximized(!0)}},{key:"getIsMaximized",value:function getIsMaximized(){return this.getState().isMaximized}},{key:"setIsMinimized",value:function setIsMinimized(e){return this.setState({isMinimized:e})}},{key:"minimize",value:function minimize(){return this.setIsMinimized(!0)}},{key:"getIsMinimized",value:function getIsMinimized(){return this.getState().isMinimized}},{key:"restore",value:function restore(){this.setState({isMaximized:!1,isMinimized:!1})}}]),WindowController}(i.PhantomState);var D=n(534),N=n(596),T=n(527),E=n(519),I=n.n(E),R=n(540),z=n.n(R),W=n(43),P=["className","children"];function Header(e){var t=e.className,n=e.children,i=Object(s.a)(e,P);return Object(W.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{className:I()(z.a.header,t),children:Object(W.jsx)(T.a,{children:n})}))}var U=["className","children"];function Content_Content(e){var t=e.className,n=e.children,i=Object(s.a)(e,U);return Object(W.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{className:I()(z.a.content,t),children:Object(W.jsx)(T.a,{children:n})}))}var L=["className","children"];function Footer(e){var t=e.className,n=e.children,i=Object(s.a)(e,L);return Object(W.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{className:I()(z.a.footer,t),children:Object(W.jsx)(T.a,{children:n})}))}var F=n(602),V=n.n(F),B=["children","className","disableVerticalFill"],H=["children","className"];function Row(e){var t=e.children,n=e.className,i=e.disableVerticalFill,r=void 0!==i&&i,c=Object(s.a)(e,B);return Object(W.jsx)("div",Object(a.a)(Object(a.a)({},c),{},{className:I()(V.a.row,r&&V.a["disable-vertical-fill"],n),children:t}))}function Column(e){var t=e.children,n=e.className,i=Object(s.a)(e,H);return Object(W.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{className:I()(V.a.column,n),children:t}))}var Q=["className","children"];var K=function Layout(e){var t=e.className,n=e.children,i=Object(s.a)(e,Q);return Object(W.jsx)(T.a,Object(a.a)(Object(a.a)({},i),{},{className:I()(z.a.layout,t),children:n}))},Y=n(563),G=["children","onBorderDrag","borderWidth","isDisabled"],Z="NW",J="NE",X="E",q="SE",$="SW",ee="W",te=function useDirectionalDragger(e,t){return Object(Y.useDrag)((function(n){var i=n.down,r=Object(l.a)(n.movement,2),c=r[0],a=r[1];t(e,{mx:c,my:a,isDragging:i})}),{pointer:{touch:!0}})};var ne=n(604),ie=n.n(ne),re=["children","className"];var ce=function NoWrap(e){var t=e.children,n=e.className,i=Object(s.a)(e,re);return Object(W.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{className:I()(ie.a["no-wrap"],n),children:t}))},ae=n(549),oe=n.n(ae);function WindowTitleBarMaximizeButton(e){var t=Object.assign({},e);return Object(W.jsx)(WindowTitleBarButton,Object(a.a)(Object(a.a)({},t),{},{className:oe.a.maximize}))}function WindowTitleBarMinimizeButton(e){var t=Object.assign({},e);return Object(W.jsx)(WindowTitleBarButton,Object(a.a)(Object(a.a)({},t),{},{className:oe.a.minimize}))}function WindowTitleBarCloseButton(e){var t=Object.assign({},e);return Object(W.jsx)(WindowTitleBarButton,Object(a.a)(Object(a.a)({},t),{},{className:oe.a.close}))}function WindowTitleBarButton(e){var t=Object.assign({},e);return Object(W.jsx)("button",Object(a.a)({},t))}var se=["onElTitleBar","title","onRestoreOrMaximize","onMinimize","onClose","titleBarView"];var le=function WindowTitleBar(e){var t=e.onElTitleBar,n=e.title,i=e.onRestoreOrMaximize,r=e.onMinimize,c=e.onClose,o=e.titleBarView,l=Object(s.a)(e,se);return Object(W.jsxs)("div",Object(a.a)(Object(a.a)({},l),{},{ref:t,className:oe.a["title-bar"],onDoubleClick:i,children:[o?Object(W.jsx)(T.a,{children:o}):Object(W.jsx)(ce,{className:oe.a.title,children:n}),Object(W.jsxs)(ce,{className:oe.a["window-controls"],children:[Object(W.jsx)(WindowTitleBarMaximizeButton,{onClick:i}),Object(W.jsx)(WindowTitleBarMinimizeButton,{onClick:r}),Object(W.jsx)(WindowTitleBarCloseButton,{onClick:c})]})]}))};var ue=n(669);function useObjectState(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(u.useState)(e),n=Object(l.a)(t,2),i=n[0],r=n[1],c=Object(u.useRef)(i);c.current=i;var o=Object(u.useCallback)((function(e){switch(typeof e){case"string":try{e=JSON.parse(e)}catch(t){throw console.error("Unable to parse string into JSON.  Did you forget to use an Object when setting object state?"),t}break;case"function":e=e(c.current);break;case"object":break;default:throw new TypeError("Unhandled useObjectState type: ".concat(typeof e))}r((function(t){var n=Object(a.a)(Object(a.a)({},t),e);return Object.keys(Object(ue.a)(t,n)).length?n:t}))}),[]);return[i,o]}var de=n(592);function useAppOrchestrationContext(){return Object(u.useContext)(de.a)}var je=function useWindowAutoPositioner(e){var t=e.elWindow,n=e.elWindowManager,i=e.windowController,r=e.onInitialAutoPosition,c=void 0===r?function(){return null}:r,a=Object(u.useRef)(null);t&&(a.current=c);var o=function useWindowOutOfBoundsPositionCorrection(e){var t=e.elWindow,n=e.elWindowManager,i=e.windowController,r=useObjectState({x:null,y:null}),c=Object(l.a)(r,2),a=c[0],o=c[1],s=Object(u.useCallback)((function(e,t){var n=getElSize(t),i=getElSize(e),r=getElPosition(e),c=r.x,a=r.y,o=r.x+i.width,s=r.y,l={x:null,y:null};return o<58&&(l.x=58-i.width),s<0&&(l.y=0),c>n.width-58&&(l.x=n.width-58),a>n.height-58&&(l.y=n.height-58),l}),[]);return Object(u.useEffect)((function(){if(t&&n&&i){var e=y()((function(){if(!i.getIsMinimized()){var e=s(t,n);o(e)}}),100,!1);return i.on(A,e),i.on(_,e),window.addEventListener("resize",e),e(),function unmount(){i.off(A,e),i.off(_,e),window.removeEventListener("resize",e)}}}),[t,n,i,s,o]),a}({elWindow:t,elWindowManager:n,windowController:i});Object(u.useEffect)((function(){if(i&&(null!==o.x||null!==o.y)){var e=i.getPosition(),t={x:null!==o.x?o.x:e.x,y:null!==o.y?o.y:e.y};i.setPosition(t)}}),[i,o]);var s=Object(u.useCallback)((function(){var e=function getElCenterPoint(e){return{x:e.offsetLeft+e.offsetWidth/2,y:e.offsetTop+e.offsetHeight/2}}(n),r=getElSize(t),c=e.x-r.width/2,a=e.y-r.height/2;i.setPosition({x:c,y:a})}),[n,t,i]),d=Object(u.useCallback)((function(){if(i){var e=getElSize(n),r=getElSize(t),c=Math.floor(Math.random()*(e.width-r.width)),a=Math.floor(Math.random()*(e.height-r.height));i.setPosition({x:c,y:a})}}),[n,t,i]),j=useAppOrchestrationContext().appRuntimes,b=Object(u.useRef)(j);Object(u.useEffect)((function(){n&&t&&i&&(i.__INTERNAL__setCenterHandler(s),i.__INTERNAL__setScatterHandler(d),window.requestAnimationFrame((function(){b.current.length<2?s():d(),window.requestAnimationFrame((function(){a.current()}))})))}),[n,t,i,s,d])},be=n(593);function useDesktopContext(){return Object(u.useContext)(be.a)}var he=n(546);function useWindowAutoSizer(e){var t=e.windowController,n=function useUIParadigm(){return useDesktopContext().paradigm}();Object(u.useEffect)((function(){if(t)switch(n){case he.b:t.maximize();break;case he.a:t.restore()}}),[t,n])}var Oe=n(570);var fe=["children","elWindowManager","windowController","isActive","isProfiling","titleBarView","style"],ve=function WindowView(e){var t=e.children,n=e.elWindowManager,r=e.windowController,c=e.isActive,o=e.isProfiling,j=void 0===o||o,b=e.titleBarView,h=void 0===b?null:b,O=e.style,f=void 0===O?{}:O,v=Object(s.a)(e,fe),p=Object(u.useState)(null),m=Object(l.a)(p,2),g=m[0],x=m[1],w=function useWindowOpenAnimation(e){var t=Object(u.useState)(!1),n=Object(l.a)(t,2),i=n[0],r=n[1];return Object(Oe.a)({domElement:e,animationName:"zoomInUp",animationDuration:".5s",shouldRun:Boolean(e),onAnimationEnd:function onAnimationEnd(){return r(!0)}}),{isOpenAnimationEnded:i}}(g),y=w.isOpenAnimationEnded;je({elWindow:g,elWindowManager:n,windowController:r}),useWindowAutoSizer({windowController:r});var C=Object(u.useState)(0),S=Object(l.a)(C,2),k=S[0],A=S[1],_=Object(u.useState)(null),M=Object(l.a)(_,2),D=M[0],E=M[1],R=Object(u.useRef)(null);R.current=D,Object(u.useEffect)((function(){r&&g&&r.__INTERNAL__attachWindowElement(g)}),[r,g]);var z=Object(u.useState)(!1),P=Object(l.a)(z,2),U=P[0],L=P[1],F=Object(u.useRef)(null);F.current=U;var V=Object(u.useState)(!1),B=Object(l.a)(V,2),H=B[0],Q=B[1],G=Object(u.useState)(!1),te=Object(l.a)(G,2),ne=te[0],ie=te[1];Object(u.useEffect)((function(){if(r){var e=function _handleWindowControllerUpdate(e){e||(e=r.getState()||{});var t=r.getTitle();t!==R.current&&E(t),void 0!==e.stackingIndex&&e.stackingIndex!==k&&A(e.stackingIndex),void 0!==e.isMaximized&&Q(e.isMaximized),void 0!==e.isMinimized&&ie(e.isMinimized);var n=r.getIsBorderDisabled();F.current!==n&&L(n)};return e(),r.on(i.EVT_UPDATED,e),function unmount(){r.off(i.EVT_UPDATED,e)}}}),[r,D,k]);var re=function useWindowControls(e){var t=e.windowController;return{onRestoreOrMaximize:Object(u.useCallback)((function(){t.getIsMaximized()?t.restore():t.maximize()}),[t]),onMinimize:Object(u.useCallback)((function(){t.minimize()}),[t]),onClose:Object(u.useCallback)((function(){t.getIsDestroying()||t.destroy()}),[t])}}({windowController:r}),ce=re.onRestoreOrMaximize,ae=re.onMinimize,se=re.onClose,ue=function useWindowDragger(e){var t=e.windowController,n=e.isDisabled,i=Object(u.useRef)(null),r=Object(u.useRef)(null),c=Object(u.useState)(!1),a=Object(l.a)(c,2),o=a[0],s=a[1];return[Object(Y.useDrag)((function(e){var c=e.down,a=Object(l.a)(e.movement,2),u=a[0],d=a[1],j=e.xy;if(e.event,n)o&&s(!1);else if(c!==o&&s(c),c){i.current||(i.current=t.getPosition()),r.current||(r.current=t.getWindowManagerSize());var b=i.current.x+u,h=i.current.y+d,O=r.current.width,f=r.current.height;h<0&&(h=0),h>f-58&&(h=f-58),j[0]<0&&(b=null),j[0]>O-0&&(b=null),t.setPosition({x:b,y:h})}else i.current=null,r.current=null})),o]}({windowController:r,isDisabled:U}),de=Object(l.a)(ue,2),be=de[0],he=de[1],ve=function useWindowDragResizer(e){var t=e.windowController,n=Object(u.useRef)(null),i=Object(u.useRef)(null),r=Object(u.useState)(!1),c=Object(l.a)(r,2),o=c[0],s=c[1];return[Object(u.useCallback)((function(e,r){var c=r.mx,l=r.my,u=r.isDragging;if(u!==o&&s(u),u){n.current||(n.current=Object(a.a)(Object(a.a)({},t.getSize()),t.getPosition())),i.current||(i.current=t.getWindowManagerSize());var d=n.current,j=d.width,b=d.height,h=d.x,O=d.y,f=i.current.width,v=i.current.height;switch(e){case Z:j-=c,b-=l,h+=c,O+=l;break;case"N":b-=l,O+=l;break;case J:b-=l,j+=c,O+=l;break;case X:j+=c;break;case q:j+=c,b+=l;break;case"S":b+=l;break;case $:j-=c,b+=l,h+=c;break;case ee:j-=c,h+=c;break;default:throw new ReferenceError("Unknown direction: ".concat(e))}if(![J,X,q].includes(e)&&h<0){var p=0-h;h=0,j-=p}if(O<0){var m=0-O;O=0,b-=m}if([Z,ee,$].includes(e)||j+h>f&&(j=f-h,h=null),b+O>v&&("S"!==e&&e!==q&&e!==$||(b=v-O,O=null)),v-O<58)return;t.setSize({width:j,height:b}),t.setPosition({x:h,y:O})}else n.current=null,i.current=null}),[t,o]),o]}({windowController:r}),pe=Object(l.a)(ve,2),me=pe[0],ge=pe[1],xe=Object(u.useMemo)((function(){return function(e){var t=Object.assign({},e);return j?Object(W.jsx)(d.a.Profiler,Object(a.a)(Object(a.a)({},t),{},{id:r.getUUID(),onRender:function onRender(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.captureRenderProfile(t)}})):Object(W.jsx)(d.a.Fragment,Object(a.a)({},t))}}),[j,r]),we=function useWindowStyles(e){var t=e.style,n=e.isMaximized,i=e.isMinimized;return{outerBorderStyle:Object(u.useMemo)((function(){return n||i?{}:{width:t.width,height:t.height}}),[t.width,t.height,n,i]),windowStyle:Object(u.useMemo)((function(){return{backgroundColor:t.backgroundColor}}),[t.backgroundColor]),bodyStyle:Object(u.useMemo)((function(){return{padding:t.padding}}),[t.padding])}}({style:f,isMaximized:H,isMinimized:ne}),ye=we.outerBorderStyle,Ce=we.windowStyle,Se=we.bodyStyle;return Object(W.jsx)(xe,{children:Object(W.jsx)(N.a,Object(a.a)(Object(a.a)({onMount:x},v),{},{style:Object(a.a)(Object(a.a)({},ye),{},{zIndex:k}),className:I()(oe.a["window-outer-border"],!y&&oe.a.hidden,c&&oe.a.active,H&&oe.a.maximized,ne&&oe.a.minimized,(he||ge)&&oe.a.dragging),isAccelerated:!0,"data-reshell-window-title":r.getTitle(),children:Object(W.jsx)(WindowView.Border,{isDisabled:U,onBorderDrag:me,children:Object(W.jsx)(T.a,{className:I()(oe.a.window,c&&oe.a.active,he&&oe.a.dragging),style:Ce,children:Object(W.jsxs)(K,{children:[Object(W.jsx)(Header,{children:Object(W.jsx)(le,Object(a.a)(Object(a.a)({},be()),{},{title:D,onRestoreOrMaximize:ce,onMinimize:ae,onClose:se,titleBarView:h}))}),Object(W.jsx)(Content_Content,{className:oe.a.body,style:Se,children:t})]})})})}))})};ve.Border=function WindowBorder(e){var t=e.children,n=e.onBorderDrag,i=e.borderWidth,r=void 0===i?3:i,c=e.isDisabled,o=void 0!==c&&c,l=Object(s.a)(e,G),u=te(Z,n),d=te("N",n),j=te(J,n),b=te(X,n),h=te(q,n),O=te("S",n),f=te($,n),v=te(ee,n);return Object(W.jsxs)(K,Object(a.a)(Object(a.a)({},l),{},{children:[Object(W.jsx)(Header,{children:!o&&Object(W.jsxs)(Row,{style:{maxHeight:r,height:r},children:[Object(W.jsx)(Column,Object(a.a)(Object(a.a)({},u()),{},{style:{maxWidth:r,cursor:"nwse-resize"}})),Object(W.jsx)(Column,Object(a.a)(Object(a.a)({},d()),{},{style:{cursor:"ns-resize"}})),Object(W.jsx)(Column,Object(a.a)(Object(a.a)({},j()),{},{style:{maxWidth:r,cursor:"nesw-resize"}}))]})}),Object(W.jsx)(Content_Content,{children:Object(W.jsxs)(Row,{children:[!o&&Object(W.jsx)(Column,Object(a.a)(Object(a.a)({},v()),{},{style:{maxWidth:r,cursor:"ew-resize"}})),Object(W.jsx)(Column,{children:t}),!o&&Object(W.jsx)(Column,Object(a.a)(Object(a.a)({},b()),{},{style:{maxWidth:r,cursor:"ew-resize"}}))]})}),Object(W.jsx)(Footer,{children:!o&&Object(W.jsxs)(Row,{style:{maxHeight:r,height:r},children:[Object(W.jsx)(Column,Object(a.a)(Object(a.a)({},f()),{},{style:{maxWidth:r,cursor:"nesw-resize"}})),Object(W.jsx)(Column,Object(a.a)(Object(a.a)({},O()),{},{style:{cursor:"ns-resize"}})),Object(W.jsx)(Column,Object(a.a)(Object(a.a)({},h()),{},{style:{maxWidth:r,cursor:"nwse-resize"}}))]})})]}))};var pe=ve,me=["children","elWindowManager","isActive","titleBarView","style"],ge=d.a.forwardRef((function(e,t){var n=e.children,i=e.elWindowManager,r=e.isActive,c=e.titleBarView,o=e.style,d=void 0===o?{}:o,j=Object(s.a)(e,me),b=Object(u.useState)(null),h=Object(l.a)(b,2),O=h[0],f=h[1];return Object(u.useImperativeHandle)(t,(function(){return{attachWindowController:f}})),O?Object(W.jsx)(pe,Object(a.a)(Object(a.a)({},j),{},{style:d,elWindowManager:i,windowController:O,isActive:r,titleBarView:c,children:n})):null})),xe=d.a.createContext({});function WindowProvider(e){var t=e.children,n=e.initialSharedState,i=useObjectState(void 0===n?{}:n),r=Object(l.a)(i,2),c=r[0],a=r[1];return Object(W.jsx)(xe.Provider,{value:{setSharedState:a,sharedState:c},children:t})}var we=n(567),ye=n(520),Ce=d.a.createContext({});function WindowManagerRouteProvider(e){var t,n=e.children,i=useAppOrchestrationContext(),r=i.getAppRuntimesWithRegistrationID,c=i.activateAppRegistrationID,a=useDesktopContext(),o=a.activeWindowController,s=a.setActiveWindowController,l=Object(we.a)();Object(u.useEffect)((function(){l?c(l):s(null)}),[l,r,s,c]);var d=null===o||void 0===o||null===(t=o.getAppRuntime())||void 0===t?void 0:t.getRegistrationID(),j=Object(ye.d)();return Object(u.useEffect)((function(){j.push(d?"/".concat(d):"/")}),[d,j]),Object(W.jsx)(Ce.Provider,{value:{},children:n})}var Se=n(550),ke=n(541),Ae=["view","titleBarView","initialSharedState","id","title","serviceClasses","isPinned","isPinnedToDock","isAutoStart"],_e=["titleBarView"],Me=0;function WindowManagerView(e){var t=e.children,n=useAppOrchestrationContext().appRuntimes,r=Object(u.useState)(null),c=Object(l.a)(r,2),d=c[0],j=c[1],b=useDesktopContext(),h=b.activeWindowController,O=b.setActiveWindowController,f=Object(u.useState)({}),v=Object(l.a)(f,2),p=v[0],m=v[1],g=Object(u.useCallback)((function(e){return p[e]}),[p]),x=Object(u.useRef)(null);x.current=h;var w=Object(u.useCallback)((function(e){(null===e||void 0===e?void 0:e.getIsMinimized())&&e.setIsMinimized(!1),Object.is(e,x.current)||(O(e),e&&e.setState({stackingIndex:++Me}))}),[O]),y=Object(u.useCallback)((function(e){return Object.is(h,e)}),[h]),C=Object(Se.a)().startServiceClass,S=Object(u.useRef)(w);S.current=w,Object(u.useEffect)((function(){if(d){var e=function _handleElBaseTouch(e){e.target===d&&S.current(null)};return d.addEventListener("mousedown",e),d.addEventListener("touchstart",e,{passive:!0}),function unmount(){d.removeEventListener("mousedown",e),d.removeEventListener("touchstart",e,{passive:!0})}}}),[d]);var k=n.map((function(e){var t=e.getAppDescriptor();if(!t)return null;var n=e.getUUID(),r=t.view,c=t.titleBarView,l=t.initialSharedState,u=(t.id,t.title),j=t.serviceClasses,b=void 0===j?[]:j,h=(t.isPinned,t.isPinnedToDock,t.isAutoStart,Object(s.a)(t,Ae));if(!r)return null;var O=g(n),f=O&&O.windowController;if(O&&!O.windowController)return null;var v,p={},x=Object(o.a)(b);try{for(x.s();!(v=x.n()).done;){var S=v.value,k=C(S);p[S]=k}}catch(A){x.e(A)}finally{x.f()}return Object(W.jsx)(WindowProvider,{initialSharedState:l,children:Object(W.jsx)(ge,Object(a.a)(Object(a.a)({},h),{},{elWindowManager:d,isActive:y(f),onMouseDown:function onMouseDown(){return w(f)},onTouchStart:function onTouchStart(){return w(f)},titleBarView:c?Object(W.jsx)(De,{titleBarView:c,appServices:p,windowController:f,appRuntime:e}):null,ref:function ref(t){if(t&&!f){var r=new M({},{onBringToTop:w});r.setTitle(u),r.__INTERNAL__attachWindowManagerElement(d),r.setAppRuntime(e),e.__INTERNAL__setWindowController(r),t.attachWindowController(r),m((function(e){var t=Object(a.a)({},e);return t[n]={windowController:r,key:n},t})),r.once(i.EVT_DESTROYED,(function(){m((function(e){var t=Object(a.a)({},e);return t[n].windowController=null,t}))})),w(r)}},children:f&&Object(W.jsx)(Ne,{appServices:p,windowController:f,appRuntime:e,view:r})}))},n)})).filter((function(e){return Boolean(e)}));return Object(W.jsx)(D.a,{children:Object(W.jsxs)("div",{ref:j,style:{width:"100%",height:"100%",position:"relative"},children:[t,k]})})}var De=function WrappedTitleBarView(e){var t=e.titleBarView,n=Object(s.a)(e,_e);return Object(W.jsx)(Ne,Object(a.a)(Object(a.a)({},n),{},{view:t}))},Ne=function WrappedView(e){var t=e.appServices,n=e.windowController,r=e.appRuntime,c=e.view,a=Object(ke.a)(),o=function useWindowContext(){return Object(u.useContext)(xe)}(),s=o.sharedState,l=o.setSharedState;Object(u.useEffect)((function(){for(var e=function _handleServiceUpdate(){a()},n=0,r=Object.values(t);n<r.length;n++){r[n].on(i.EVT_UPDATED,e)}return function unmount(){for(var n=0,r=Object.values(t);n<r.length;n++){r[n].off(i.EVT_UPDATED,e)}}}),[t,a]);var d=function useRegistrationViewOnResized(e){var t=Object(u.useRef)(null),n=Object(u.useCallback)((function(e){t.current=e}),[]);return Object(u.useEffect)((function(){if(e){if(!(e instanceof M))throw new TypeError("windowController is not a WindowController");var n=function _handleExecResizedCallback(){var e=t.current;"function"===typeof e&&e()};return e.on(A,n),function unmount(){e.off(A,n)}}}),[e]),n}(n);return Object(W.jsx)(c,{windowController:n,appServices:t,appRuntime:r,setResizeHandler:d,sharedState:s,setSharedState:l})},Te=function WindowManager(e){var t=e.appDescriptors,n=void 0===t?[]:t,i=e.children,r=useAppOrchestrationContext().addOrUpdateAppRegistration;return Object(u.useEffect)((function(){n.forEach((function(e){return r(e)}))}),[n,r]),Object(W.jsx)(WindowManagerRouteProvider,{children:Object(W.jsx)(WindowManagerView,{children:i})})},Ee=n(45),Ie=n(614).a;var Re=function MenuBar(e){var t=e.menuStructures,n=void 0===t?[]:t,i=Object(u.useState)([]),r=Object(l.a)(i,2),c=r[0],a=r[1],s=Object(u.useState)(!1),d=Object(l.a)(s,2),j=d[0],b=d[1];return Object(u.useEffect)((function(){var e=Boolean(c.length);j!==e&&(b(e),e||a([]))}),[j,c]),Object(u.useEffect)((function(){var e,t=Object(o.a)(c);try{for(t.s();!(e=t.n()).done;){var i=e.value;if(!n[i]){a([]),b(!1);break}}}catch(r){t.e(r)}finally{t.f()}}),[c,n]),Object(W.jsx)(ce,{children:n.map((function(e,t){return e&&Object(W.jsx)(Ie,{menuStructure:e,onOpen:function onOpen(){return a((function(e){return Object(Ee.a)(new Set([].concat(Object(Ee.a)(e),[t])))}))},onClose:function onClose(){return a((function(e){return e.filter((function(e){return e!==t}))}))},opened:Boolean(c.includes(t)),onMouseOver:function onMouseOver(){j&&(c.includes(t)||a([t]))}},t)}))})};var ze=function DesktopMenuBar(){var e=useDesktopContext().activeWindowController,t=useAppOrchestrationContext(),n=t.appRegistrations,r=t.activateAppRegistration,a=t.appRuntimes,o=Object(ke.a)();Object(u.useEffect)((function(){if(e)return e.on(i.EVT_UPDATED,o),function(){e.off(i.EVT_UPDATED,o)}}),[e,o]);var s=Object(u.useMemo)((function(){return{label:"Desktop",submenu:[{label:"Applications",submenu:n.sort((function(e,t){var n=e.getTitle(),i=t.getTitle();return n<i?-1:i>n?1:0})).map((function(e){return{role:e.getTitle(),click:function click(){return r(e)}}}))}].concat(Object(Ee.a)(function(){var e=n.filter((function(e){return e.getIsPinned()})).map((function(e){return{role:e.getTitle(),click:function click(){return r(e)}}}));return e.length?[{type:"separator",label:"Pinned Applications"}].concat(Object(Ee.a)(e)):[]}()),[{type:"separator",label:"Global Window Management"},{label:"Scatter Windows",click:function click(){return a.forEach((function(e){var t=e.getWindowController();t&&t.scatter()}))}},{label:"Center Windows",click:function click(){return a.forEach((function(e){var t=e.getWindowController();t&&t.center()}))}},{type:"separator",label:"Desktop Operations"},{label:"Reload ReShell",click:function click(){window.confirm("Are you sure you wish to reload?")&&c.a.reload()}},{label:"Quit ReShell",click:function click(){window.confirm("Are you sure you wish to close the desktop?")&&c.a.destroy()}}])}}),[n,a,r]),l=null===e||void 0===e?void 0:e.getTitle(),d=Object(u.useMemo)((function(){if(e)return{label:l,submenu:[{label:"Quit",click:function click(){return e.destroy()}}]}}),[e,l]),j=function(){if(e)return{label:"Window",submenu:[{label:"Minimize",click:function click(){return e.minimize()},disabled:e.getIsMinimized()},{label:"Maximize",click:function click(){return e.maximize()},disabled:e.getIsMaximized()},{label:"Restore",click:function click(){return e.restore()},disabled:!e.getIsMaximized()&&!e.getIsMinimized()},{label:"Scatter",click:function click(){return e.scatter()}},{label:"Center",click:function click(){return e.center()}}]}}();return Object(W.jsx)(Re,{menuStructures:[s,d,j]})},We=n(621),Pe=n.n(We),Ue=["color"];var Le=function LED(e){var t=e.color,n=void 0===t?null:t,i=Object(s.a)(e,Ue);return Object(W.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{className:I()(Pe.a.led,Pe.a[n])}))},Fe=n(571);function useAppRegistrationLink(e){var t=useAppOrchestrationContext(),n=t.getAppRegistrationTitleWithDescriptorID,i=t.activateAppRegistrationID;return{title:Object(u.useMemo)((function(){return n(e)}),[n,e]),link:Object(u.useCallback)((function(){return i(e)}),[i,e])}}var Ve=n(551),Be=n(622),He=n.n(Be),Qe=["children","className"];var Ke=function Padding(e){var t=e.children,n=e.className,i=Object(s.a)(e,Qe),r=Object(u.useState)(null),c=Object(l.a)(r,2),o=c[0],d=c[1],j=Object(u.useState)(!1),b=Object(l.a)(j,2),h=b[0],O=b[1];return Object(u.useEffect)((function(){if(o){var e=Boolean(Object(Ee.a)(o.parentNode.children).length>1);O(e)}}),[o]),Object(W.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{ref:d,className:I()(He.a.padding,!h&&He.a["no-siblings"],n),children:t}))},Ye=["onTick","className"];var Ge=function Timer(e){var t,n=e.onTick,i=(e.className,Object(s.a)(e,Ye)),r=Object(u.useState)(n()),c=Object(l.a)(r,2),o=c[0],d=c[1],j=Object(u.useCallback)((function(){return n()}),[n]);return Object(u.useEffect)((function(){var e=function handleUpdate(){return d(j())};e();var t=setInterval(e,1e3);return function unmount(){clearInterval(t)}}),[j]),Object(W.jsx)(ce,Object(a.a)(Object(a.a)({},i),{},{children:(t=o,new Date(t%86400*1e3).toISOString().substr(11,8))}))},Ze="service-monitor",Je={id:Ze,title:"Service Monitor",style:{width:640,height:480},isPinned:!0,view:function View(){var e=Object(u.useContext)(Ve.a).services;return Object(W.jsx)(Ke,{style:{overflowY:"auto"},children:Object(W.jsxs)("table",{style:{width:"100%"},children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:"Service Name"}),Object(W.jsx)("td",{children:"Uptime"}),Object(W.jsx)("td",{children:"f(x)"})]})}),Object(W.jsx)("tbody",{children:e.map((function(e){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:e.getTitle()||"[Untitled]"}),Object(W.jsx)("td",{className:"center",children:Object(W.jsx)(Ge,{onTick:function onTick(){return e.getInstanceUptime()}})}),Object(W.jsx)("td",{className:"center",children:Object(W.jsx)("button",{onClick:function onClick(){return e.log(e.getState())},children:Object(W.jsx)(ce,{children:"log(state)"})})})]},e.getUUID())}))})]})})}};var Xe=function TopBar(){var e=useAppRegistrationLink(Ze).link,t=Object(Se.a)().services;return Object(W.jsxs)(Row,{children:[Object(W.jsx)(Column,{style:{width:"100%"},children:Object(W.jsx)(ze,{})}),Object(W.jsx)(Column,{style:{maxWidth:110},children:Object(W.jsx)("div",{style:{textAlign:"right"},children:Object(W.jsx)(Fe.f,{portal:!0,menuButton:Object(W.jsxs)(Fe.a,{children:["Service Core"," ",Object(W.jsx)(Le,{color:t.length>0?"green":"gray"})]}),children:0===t.length?Object(W.jsx)(Fe.d,{children:Object(W.jsx)("span",{style:{fontStyle:"italic"},children:"No running services"})}):t.map((function(t){return Object(W.jsx)(Fe.d,{onClick:e,children:t.getTitle()},t.getUUID())}))})})})]})};var qe=function Dock(){var e=useDesktopContext().activeWindowController,t=useAppOrchestrationContext(),n=t.appRegistrations,i=t.activeAppRegistrations,r=t.activateAppRegistration,c=Object(u.useMemo)((function(){return Object(Ee.a)(new Set([].concat(Object(Ee.a)(n.filter((function(e){return e.getIsPinnedToDock()}))),Object(Ee.a)(i))))}),[n,i]),a=Object(u.useMemo)((function(){return null===e||void 0===e?void 0:e.getAppRegistration()}),[e]);return Object(W.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",textAlign:"center",isolation:"isolate",zIndex:99999999,overflowX:"auto",pointerEvents:"none"},children:Object(W.jsx)("div",{style:{display:"inline-block",color:"black",whiteSpace:"nowrap",maxWidth:"100%",pointerEvents:"all"},className:"button-group",children:c.map((function(e){return Object(W.jsxs)("button",{style:Object.assign(e===a?{backgroundColor:"#347FE8",color:"#000"}:{backgroundColor:"#000"},{minWidth:120}),onClick:function onClick(){return r(e)},children:[e.getTitle()," "]},e.getUUID())}))})})},$e=n(623).a,et=n(625),tt=n.n(et),nt=n(166),it=n(574),rt=["children","className"];window.ResizeObserver||Object(it.install)();var ct=function AutoScaler(e){var t=e.children,n=e.className,i=Object(s.a)(e,rt),r=Object(u.useState)(null),c=Object(l.a)(r,2),d=c[0],j=c[1],b=Object(u.useState)(null),h=Object(l.a)(b,2),O=h[0],f=h[1],v=Object(u.useMemo)(nt.a,[]);return Object(u.useEffect)((function(){if(d&&O){var e={width:0,height:0},t={width:0,height:0};O.style.visibility="hidden";var n=new ResizeObserver((function(n){S()((function(){var i,r=Object(o.a)(n);try{for(r.s();!(i=r.n()).done;){var c=i.value,a={width:c.target.offsetWidth,height:c.target.offsetHeight};c.target===d?e=a:t=a}}catch(j){r.e(j)}finally{r.f()}var s=e.width/t.width,l=e.height/t.height,u=Math.min(s,l);O.style.transform="scale(".concat(u,", ").concat(u,")"),"hidden"===O.style.visibility&&setTimeout((function(){O.style.visibility="visible"}),4)}),v)}));return n.observe(d),n.observe(O),function unmount(){n.unobserve(d),n.unobserve(O)}}}),[d,O,v]),Object(W.jsx)("div",Object(a.a)(Object(a.a)({},i),{},{ref:j,className:I()(tt.a["auto-scaler"],n),children:Object(W.jsx)("div",{ref:f,className:tt.a["content-wrap"],children:t})}))},at=n(628),ot=n.n(at),st=n(595),lt=n(631),ut=n.n(lt),dt=["children","className"];var jt=function ButtonTransparent(e){var t=e.children,n=e.className,i=Object(s.a)(e,dt);return Object(W.jsx)("button",Object(a.a)(Object(a.a)({className:I()(ut.a["button-transparent"],n)},i),{},{children:t}))},bt=(n(632),["className"]),ht=function DynamicIcon(e){var t=e.className,n=Object(s.a)(e,bt);return Object(W.jsx)("i",Object(a.a)(Object(a.a)({},n),{},{className:"ibcd0b21d7ccf498b89d8ce646138a3ec-icon".concat(t?" ".concat(t):"")}))},Ot=(n(633),["className"]),ft=function DynamicIcon(e){var t=e.className,n=Object(s.a)(e,Ot);return Object(W.jsx)("i",Object(a.a)(Object(a.a)({},n),{},{className:"id92dd65b22cd4a62996cb3b8e0f579db-icon".concat(t?" ".concat(t):"")}))},vt=n(634),pt=n.n(vt),mt=["body","image","title","uuid","onClose","onClick","autoCloseTime"];var gt=function Notification(e){var t=e.body,n=e.image,i=e.title,r=e.uuid,c=e.onClose,o=e.onClick,j=e.autoCloseTime,b=void 0===j?4e3:j,h=Object(s.a)(e,mt),O=Object(u.useState)(!1),f=Object(l.a)(O,2),v=f[0],p=f[1],m=Object(u.useRef)(c),g=Object(u.useCallback)((function(e){e&&e.stopPropagation(),p(!0),setTimeout((function(){m.current(r)}),500)}),[r]),x=Object(u.useState)(null),w=Object(l.a)(x,2),y=w[0],C=w[1];Object(u.useEffect)((function(){if(y){var e=null,t=function startTimeout(){e=setTimeout(g,b)};t();var n=function stopTimeout(){clearTimeout(e)};return y.addEventListener("mouseover",n,{passive:!0}),y.addEventListener("mouseout",t,{passive:!0}),y.addEventListener("touchstart",n,{passive:!0}),function unmount(){y.removeEventListener("mouseover",n,{passive:!0}),y.removeEventListener("mouseout",t,{passive:!0}),y.removeEventListener("touchstart",n,{passive:!0}),n()}}}),[y,b,g]);var S=Object(u.useMemo)((function(){return function(){switch(typeof n){case"string":return Object(W.jsx)("img",{alt:i,src:n,className:pt.a["main-image"]});case"function":return n();default:return n||Object(W.jsx)(ht,{})}}}),[n,i]),k=Object(u.useMemo)((function(){return function(e){var t=Object.assign({},e);return"function"===typeof o?Object(W.jsx)(jt,Object(a.a)(Object(a.a)({},t),{},{onClick:o,className:pt.a.action})):Object(W.jsx)(d.a.Fragment,Object(a.a)({},t))}}),[o]);return Object(W.jsx)("div",Object(a.a)(Object(a.a)({ref:C,onTouchEnd:g,onMouseUp:g,className:pt.a.notification},h),{},{children:Object(W.jsx)(st.a,{animationName:v?"slideOutRight":"slideInRight",animationDuration:".5s",children:Object(W.jsxs)("div",{className:pt.a["body-outer-wrap"],children:[Object(W.jsx)(k,{children:Object(W.jsxs)(Ke,{children:[Object(W.jsx)("div",{className:pt.a["main-image-wrap"],children:Object(W.jsx)(S,{})}),Object(W.jsx)("div",{className:pt.a.title,children:i}),Object(W.jsx)("div",{className:pt.a.body,children:t})]})}),Object(W.jsx)(jt,{onClick:g,className:pt.a.close,children:Object(W.jsx)(Ke,{children:Object(W.jsx)(ft,{})})})]})})}))};var xt=function NotificationStack(e){var t=e.notifications,n=void 0===t?[]:t,i=e.onNotificationClose;return Object(W.jsx)("div",{className:ot.a["notification-stack"],children:Object(W.jsx)("div",{className:ot.a["inner-wrap"],children:n.map((function(e){var t=e.body,n=e.image,r=e.onClick,c=e.title,a=e.uuid;return Object(W.jsx)("div",{children:Object(W.jsx)(gt,{body:t,image:n,onClick:r,title:c,uuid:a,onClose:function onClose(){return i(a)}})},a)}))})})},wt=n(537),yt=n(57),Ct=function(e){Object(g.a)(UINotificationService,e);var t=Object(x.a)(UINotificationService);function UINotificationService(){var e;Object(O.a)(this,UINotificationService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("UI Notification Service"),e.setState({notifications:[]}),e}return Object(f.a)(UINotificationService,[{key:"showNotification",value:function showNotification(e){var t=e.image,n=e.title,i=e.body,r=e.onClick,c=e.onClose,a=void 0===c?function(){return null}:c;this.setState({notifications:[].concat(Object(Ee.a)(this.getState().notifications),[{image:t,title:n,body:i,onClick:r,onClose:a,uuid:Object(nt.a)()}])})}},{key:"closeNotificationWithUUID",value:function closeNotificationWithUUID(e){var t=this.getState().notifications.filter((function(t){var n=t.uuid,i=t.onClose,r=e!==n;return r||i(),r}));this.setState({notifications:t})}}]),UINotificationService}(yt.b),St=d.a.createContext({});var kt=function NotificationProvider(e){var t=e.children,n=Object(wt.a)(Ct),i=n.serviceInstance,r=n.serviceState,c=Object(u.useCallback)((function(e){return i.showNotification(e)}),[i]),a=Object(u.useCallback)((function(e){return i.closeNotificationWithUUID(e)}),[i]);return Object(W.jsxs)(St.Provider,{value:{showNotification:c},children:[t,Object(W.jsx)(xt,{notifications:r.notifications,onNotificationClose:a})]})},At=["view","onClose"];var _t=function Modal(e){var t=e.view,n=e.onClose,i=Object(s.a)(e,At);return Object(W.jsx)(D.a,{children:Object(W.jsx)(t,Object(a.a)(Object(a.a)({},i),{},{onClose:n}))})},Mt=["view","uuid","onClose"];var Dt=function ModalStack(e){var t=e.modals,n=void 0===t?[]:t;return Object(W.jsx)(W.Fragment,{children:n.map((function(e){var t=e.view,n=e.uuid,i=e.onClose,r=Object(s.a)(e,Mt);return Object(W.jsx)("div",{children:Object(W.jsx)(_t,Object(a.a)(Object(a.a)({},r),{},{view:t,uuid:n,onClose:i}))},n)}))})},Nt=function(e){Object(g.a)(UIModalService,e);var t=Object(x.a)(UIModalService);function UIModalService(){var e;Object(O.a)(this,UIModalService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("UI Modal Service"),e.setState({modals:[]}),e}return Object(f.a)(UIModalService,[{key:"showModal",value:function showModal(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(nt.a)(),r=null,c=function _handleClose(){clearTimeout(r),t.closeModalWithUUID(i)};this.setState({modals:[].concat(Object(Ee.a)(this.getState().modals),[{view:e,uuid:i,onClose:c}])}),n.duration&&(r=setTimeout((function(){t.closeModalWithUUID(i)}),n.duration))}},{key:"closeModalWithUUID",value:function closeModalWithUUID(e){var t=this.getState().modals.filter((function(t){var n=t.uuid;return e!==n}));this.setState({modals:t})}}]),UIModalService}(yt.b),Tt=d.a.createContext({});var Et=function ModalProvider(e){var t=e.children,n=Object(wt.a)(Nt),i=n.serviceInstance,r=n.serviceState,c=Object(u.useCallback)((function(e){return i.showModal(e)}),[i]);return Object(W.jsxs)(Tt.Provider,{value:{showModal:c},children:[t,Object(W.jsx)(Dt,{modals:r.modals})]})};var It=function Desktop(e){var t=e.backgroundView,n=void 0===t?Object(W.jsx)("div",{style:{backgroundColor:"#ccc"}}):t,i=e.appDescriptors;return Object(W.jsx)($e,{children:Object(W.jsx)(Et,{children:Object(W.jsxs)(kt,{children:[Object(W.jsx)(D.a,{style:{backgroundColor:"#424242"},children:n}),Object(W.jsx)(D.a,{children:Object(W.jsxs)(K,{children:[Object(W.jsx)(Header,{style:{whiteSpace:"nowrap",backgroundColor:"rgba(0,0,0,.5)"},children:Object(W.jsx)(Xe,{})}),Object(W.jsxs)(Content_Content,{children:[Object(W.jsx)("div",{style:{maxWidth:"50%",position:"absolute",bottom:28,right:10,color:"rgba(255,255,255,.2)",fontSize:"2rem"},children:Object(W.jsx)(ct,{style:{whiteSpace:"nowrap"},children:Object(W.jsxs)("div",{style:{textAlign:"left",fontSize:".7em"},children:[Object(W.jsxs)("div",{children:["ReShell ",c.a.getReShellVersion()]}),Object(W.jsxs)("div",{children:["PhantomCore ",r.a.getPhantomCoreVersion()]}),Object(W.jsxs)("div",{children:["Portal: ",c.a.getPortalName()]}),Object(W.jsxs)("div",{children:["Env: ","production"]})]})})}),Object(W.jsx)(Te,{appDescriptors:i,children:Object(W.jsx)(qe,{})})]})]})})]})})})},Rt=n(635),zt=n.n(Rt),Wt=["children","className","onClick"];var Pt=function VirtualLink(e){var t=e.children,n=e.className,i=e.onClick,r=Object(s.a)(e,Wt);return Object(W.jsx)(jt,Object(a.a)(Object(a.a)({},r),{},{className:I()("link",zt.a["virtual-link"],n),onClick:i,children:t}))},Ut={onKeyDown:function onKeyDown(e){return null},onKeyUp:function onKeyUp(e){return null},onEnter:function onEnter(){return null},onEscape:function onEscape(){return null},isEnabled:!0};var Lt=n(521);function ApplicationSelector(e){var t=e.searchQuery,n=void 0===t?"":t,i=e.onResetSearchQuery,r=useAppOrchestrationContext(),c=r.appRegistrations,a=r.appRuntimes,o=r.activateAppRegistration,s=Object(u.useMemo)((function(){return a.map((function(e){return e.getRegistration()}))}),[a]),l=Object(u.useMemo)((function(){return c.filter((function(e){return!Boolean(n)||e.getTitle().toUpperCase().includes(n.toUpperCase())}))}),[c,n]);return(null===n||void 0===n?void 0:n.length)&&!l.length?Object(W.jsxs)(Lt.a,{children:[Object(W.jsx)(Ke,{style:{fontWeight:"bold"},children:"No applications found for search."}),Object(W.jsx)(Ke,{children:Object(W.jsx)("button",{onClick:i,children:"Reset Search Query"})})]}):Object(W.jsx)(Lt.a,{canOverflow:!0,children:Object(W.jsx)(Ke,{children:l.map((function(e){var t=s.filter((function(t){return t===e})).length;return Object(W.jsxs)("button",{style:{width:100,height:100,overflow:"hidden",backgroundColor:"transparent",borderColor:t>0?"green":""},onClick:function onClick(){return o(e)},children:[e.getTitle(),Object(W.jsx)("div",{style:{position:"absolute",bottom:0,right:0},children:Object(Ee.a)(new Array(t)).map((function(e,n){return Object(W.jsx)(Le,{color:t>0?"green":"gray",style:{margin:"0px 2px"}},n)}))})]},e.getUUID())}))})})}function PortalSwitcher(){return Object(W.jsx)(Lt.a,{canOverflow:!0,children:Object.entries(c.a.getPortals()).map((function(e){var t=Object(l.a)(e,1)[0];return Object(W.jsx)("button",{onClick:function onClick(){return window.confirm("Any unsaved state will be lost and the current call will be dropped if switching portals.  Proceed?")&&c.a.switchToPortal(t)},children:t},t)}))})}var Ft=Object.keys(c.a.getPortals()).length,Vt={id:"applications",title:"Applications",style:{width:640,height:400},isAutoStart:!0,isPinnedToDock:!0,initialSharedState:{searchQuery:""},titleBarView:function TitleBarView(e){var t=e.sharedState,n=e.setSharedState,i=Object(u.useState)(null),r=Object(l.a)(i,2),c=r[0],o=r[1];!function useKeyboardEvents(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(u.useMemo)((function(){return Object(a.a)(Object(a.a)({},Ut),t)}),[t]),i=n.onKeyDown,r=n.onKeyUp,c=n.onEnter,o=n.onEscape,s=n.isEnabled;Object(u.useEffect)((function(){if(e&&s){var t=function _handleKeyDown(e){if(!e.repeat)switch(i(e.which),e.which){case 13:c();break;case 27:o()}},n=function _handleKeyUp(e){e.preventDefault(),r(e.which)};return e.addEventListener("keydown",t),e.addEventListener("keyup",n),function unmount(){e.removeEventListener("keydown",t),e.removeEventListener("keyup",n)}}}),[e,i,r,c,o,s])}(c,{onEscape:function onEscape(){return n({searchQuery:""})}});var s=Object(u.useCallback)((function(e){return n({searchQuery:e.target.value})}),[n]),d=Object(u.useCallback)((function(e){Boolean(t.searchQuery)&&e.stopPropagation()}),[t]);return Object(W.jsx)(Ke,{children:Object(W.jsx)("input",{ref:o,placeholder:"Search Applications",onChange:s,value:t.searchQuery,style:{width:"100%"},onDoubleClick:d})})},view:function View(e){var t=e.windowController,n=e.sharedState,i=e.setSharedState,r=Object(u.useState)(!1),c=Object(l.a)(r,2),a=c[0],o=c[1];Object(u.useEffect)((function(){t.setTitle(a?"Portals":"Applications")}),[t,a]);var s=null===n||void 0===n?void 0:n.searchQuery,d=Object(u.useCallback)((function(){return i({searchQuery:""})}),[i]);return Object(W.jsxs)(K,{children:[Object(W.jsx)(Content_Content,{children:a?Object(W.jsx)(PortalSwitcher,{}):Object(W.jsx)(ApplicationSelector,{searchQuery:s,onResetSearchQuery:d})}),Boolean(Ft>1)&&Object(W.jsx)(Footer,{children:Object(W.jsxs)(Ke,{children:[Object(W.jsx)("button",{onClick:function onClick(){return o((function(e){return!e}))},children:a?"Applications":"Portals"})," ",Object(W.jsx)("span",{className:"note",children:a?Object(W.jsxs)(W.Fragment,{children:["Return to"," ",Object(W.jsx)(Pt,{onClick:function onClick(){return o(!1)},children:"application list"}),"."]}):Object(W.jsxs)(W.Fragment,{children:["Other applications may be available in"," ",Object(W.jsx)(Pt,{onClick:function onClick(){return o(!0)},children:"another portal"}),"."]})})]})})]})}},Bt=Vt,Ht=Object(a.a)(Object(a.a)({},Bt),{},{isAutoStart:!1});function AppRuntimeTableRow(e){var t=e.appRuntime,n=useDesktopContext().activeWindowController,i=t.getWindowController(),r=!i||i===n,c=Object(u.useState)(null),a=Object(l.a)(c,2),o=a[0],s=a[1],d=Object(u.useState)(null),j=Object(l.a)(d,2),b=j[0],h=j[1],O=Object(u.useState)(null),f=Object(l.a)(O,2),v=f[0],p=f[1],m=Object(u.useState)(null),g=Object(l.a)(m,2),x=g[0],w=g[1],y=Object(u.useState)(null),C=Object(l.a)(y,2),S=C[0],A=C[1],_=Object(u.useState)(null),M=Object(l.a)(_,2),D=M[0],N=M[1];return Object(u.useEffect)((function(){if(i&&o){var e=function handleRenderProfile(e){var t=Object(l.a)(e,7),n=(t[0],t[1]),i=t[2],r=t[3],c=t[4],a=t[5],s=t[6];o.innerHTML=n,b.innerHTML=parseFloat(i).toFixed(2),v.innerHTML=parseFloat(r).toFixed(2),x.innerHTML=parseFloat(c/1e3).toFixed(2),S.innerHTML=parseFloat(a/1e3).toFixed(2),D.innerHTML=Object.values(s).length};return i.on(k,e),function unmount(){i.off(k,e)}}}),[i,o,b,v,x,S,D]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("tr",{style:{textAlign:"center"},children:[Object(W.jsx)("td",{children:t.getTitle()||"[Untitled]"}),Object(W.jsx)("td",{style:{backgroundColor:"purple"},children:Object(W.jsx)("span",{ref:s,children:"N/A"})}),Object(W.jsx)("td",{style:{backgroundColor:"purple"},children:Object(W.jsx)("span",{ref:h,children:"N/A"})}),Object(W.jsx)("td",{style:{backgroundColor:"purple"},children:Object(W.jsx)("span",{ref:p,children:"N/A"})}),Object(W.jsx)("td",{style:{backgroundColor:"purple"},children:Object(W.jsx)("span",{ref:w,children:"N/A"})}),Object(W.jsx)("td",{style:{backgroundColor:"purple"},children:Object(W.jsx)("span",{ref:A,children:"N/A"})}),Object(W.jsx)("td",{style:{backgroundColor:"purple"},children:Object(W.jsx)("span",{ref:N,children:"N/A"})})]},t.getUUID()),Object(W.jsxs)("tr",{style:{textAlign:"center"},children:[Object(W.jsxs)("td",{style:{fontStyle:"italic"},children:["Uptime: ",Object(W.jsx)(Ge,{onTick:function onTick(){return t.getInstanceUptime()}})]}),Object(W.jsxs)("td",{colSpan:"3",children:[Object(W.jsx)("button",{onClick:function onClick(){return console.log({appRuntime:t})},disabled:!0,children:"Process"}),Object(W.jsx)("span",{children:" | "}),Object(W.jsx)("button",{onClick:function onClick(){return console.log({environment:t.getEnvironment()})},disabled:!0,children:"Environment"})]}),Object(W.jsx)("td",{children:Object(W.jsx)(Le,{color:r?"green":"gray"})}),Object(W.jsxs)("td",{colSpan:"2",children:[Object(W.jsx)("button",{onClick:function onClick(){return i.bringToTop()},style:{backgroundColor:"blue"},disabled:r,children:"Bring to Top"}),Object(W.jsx)("span",{children:" | "}),Object(W.jsx)("button",{onClick:function onClick(){t.getIsDestroying()||t.destroy()},style:{backgroundColor:"red"},children:"Close"})]})]}),Object(W.jsx)("tr",{children:Object(W.jsx)("td",{colSpan:"7",style:{backgroundColor:"gray",height:4}})})]})}function AppRuntimeTable(e){var t=e.appRuntimes;return Object(W.jsxs)("table",{style:{width:"100%"},children:[Object(W.jsxs)("thead",{children:[Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{rowSpan:"2",children:"Name"}),Object(W.jsx)("td",{colSpan:"6",style:{backgroundColor:"purple"},children:"Profiler"}),Object(W.jsx)("td",{colSpan:"2"})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{style:{backgroundColor:"purple"},children:"Phase"}),Object(W.jsxs)("td",{style:{backgroundColor:"purple"},children:["Actual",Object(W.jsx)("br",{}),"Duration"]}),Object(W.jsxs)("td",{style:{backgroundColor:"purple"},children:["Base",Object(W.jsx)("br",{}),"Duration"]}),Object(W.jsxs)("td",{style:{backgroundColor:"purple"},children:["Start",Object(W.jsx)("br",{}),"Time"]}),Object(W.jsxs)("td",{style:{backgroundColor:"purple"},children:["Commit",Object(W.jsx)("br",{}),"Time"]}),Object(W.jsx)("td",{style:{backgroundColor:"purple"},children:"Interactions"})]})]}),Object(W.jsx)("tbody",{children:t.map((function(e){return Object(W.jsx)(AppRuntimeTableRow,{appRuntime:e},e.getUUID())}))})]})}var Qt={id:"application-monitor",title:"Application Monitor",style:{width:640,height:480},isPinned:!0,view:function View(){var e=useAppOrchestrationContext().appRuntimes;return Object(W.jsxs)(K,{children:[Object(W.jsx)(Content_Content,{children:Object(W.jsx)(Ke,{style:{overflowY:"auto"},children:Object(W.jsx)(AppRuntimeTable,{appRuntimes:e})})}),Object(W.jsx)(Footer,{style:{fontSize:".8rem"},children:Object(W.jsxs)(Ke,{children:["PhantomCore uptime: ",Object(W.jsx)(Ge,{onTick:function onTick(){return r.a.getUptime()}})]})})]})}},Kt=["buttons","className"],Yt=["content","onClick","disabled","isSelected","style","className","type"];var Gt=function ButtonPanel(e){var t=e.buttons,n=e.className,i=Object(s.a)(e,Kt),r=Object(u.useState)((function(){var e=0;return t.forEach((function(t,n){t.isSelected&&(e=n)})),e})),c=Object(l.a)(r,2),o=c[0],d=c[1],j=Object(u.useRef)(-1);return++j.current,Object(W.jsx)("div",Object(a.a)(Object(a.a)({className:I()("button-group",n)},i),{},{children:t.map((function(e,t){var n=e.content,i=e.onClick,r=e.disabled,c=(e.isSelected,e.style),l=e.className,b=e.type,h=void 0===b?"button":b,O=Object(s.a)(e,Yt);return 0===j.current&&o===t&&setTimeout((function(){i()})),Object(u.createElement)("button",Object(a.a)(Object(a.a)({},O),{},{key:t,type:h,onClick:function onClick(){d(t),i()},disabled:r,style:c,className:I()([o===t&&"active",l])}),"string"===typeof n?n:"function"===typeof n?Object(W.jsx)(n,{}):{Content:n})}))}))},Zt=["children","target"];var Jt=function ExternalLink(e){var t=e.children,n=e.target,i=void 0===n?"_blank":n,r=Object(s.a)(e,Zt);return Object(W.jsx)("a",Object(a.a)(Object(a.a)({},r),{},{target:i,children:t}))},Xt=["href","target"];var qt=function ExternalLinkButton(e){var t=e.href,n=e.target,i=void 0===n?"_blank":n,r=Object(s.a)(e,Xt);return Object(W.jsx)("button",Object(a.a)(Object(a.a)({},r),{},{onClick:function onClick(){return window.open(t,i)}}))},$t={PhantomCore:"https://github.com/zenOSmosis/phantom-core",PhantomCollection:"https://github.com/zenOSmosis/phantom-core/tree/main/src/PhantomCollection",ReShellCore:"https://github.com/zenOSmosis/reshell.org-static",SyncObject:"https://github.com/zenOSmosis/sync-object",MediaStreamController:"https://github.com/zenOSmosis/media-stream-track-controller",WebRTCPeer:"https://github.com/zenOSmosis/webrtc-peer"},en={minHeight:"4em",whiteSpace:"wrap",width:"100%",height:"100%"};var tn=function Details(){return Object(W.jsxs)(T.a,{style:{overflowY:"auto"},children:[Object(W.jsxs)("p",{children:["ReShell is a browser-based layout framework and UI services engine composed of various"," ",Object(W.jsx)("a",{href:"https://github.com/zenosmosis",target:"_blank",rel:"noreferrer",children:"open-source components"}),"."]}),Object(W.jsx)("p",{children:"It is currently in an alpha phase, and other builds may have other built-in applications."}),Object(W.jsxs)("p",{children:["Leveraged off of the core code for"," ",Object(W.jsx)(Jt,{href:"https://speaker.app",children:"Speaker.app"})," and other"," ",Object(W.jsx)(Jt,{href:"https://zenosmosis.com",children:"zenOSmosis"})," ","projects based on"," ",Object(W.jsx)(Jt,{href:"https://github.com/zenOSmosis/phantom-core",children:"PhantomCore"}),", a library for managing the JavaScript application lifecycle."]}),Object(W.jsx)("p",{style:{fontWeight:"bold"},children:"Some included technologies:"}),Object(W.jsx)("div",{style:{textAlign:"center"},children:Object(W.jsx)("div",{style:{display:"inline-grid",gridTemplateColumns:"1fr 1fr 1fr"},children:Object.entries($t).map((function(e,t){var n=Object(l.a)(e,2),i=n[0],r=n[1];return Object(W.jsx)(Ke,{children:"string"===typeof r?Object(W.jsx)(qt,{href:r,style:en,children:i}):Object(W.jsx)("button",{onClick:r,style:en,children:i})},t)}))})})]})},nn={zenOSmosis:"https://zenOSmosis.com",GitHub:"https://github.com/zenosmosis","Speaker.app":"https://speaker.app"};var rn=function Resources(){return Object(W.jsxs)(Lt.a,{canOverflow:!0,children:[Object(W.jsx)("p",{style:{fontWeight:"bold"},children:"Additional resources:"}),Object(W.jsx)("div",{style:{display:"inline-block",textAlign:"left"},children:Object.entries(nn).map((function(e,t){var n=Object(l.a)(e,2),i=n[0],r=n[1];return Object(W.jsxs)(Ke,{children:[i,":"," ",Object(W.jsx)(Jt,{href:r,children:r})]},t)}))}),Object(W.jsx)("hr",{}),Object(W.jsxs)("p",{children:["To contact us directly, email:"," ",Object(W.jsx)(Jt,{href:"mailto:info@zenosmosis.com",children:"info@zenosmosis.com"}),"."]})]})},cn=(new Date).getFullYear();var an={id:"about-reshell",title:"About ReShell",style:{width:640,height:480},initialSharedState:{screen:"overview"},titleBarView:function TitleBarView(e){var t=e.sharedState,n=e.setSharedState;return Object(W.jsx)(Ke,{children:Object(W.jsx)(Gt,{buttons:[{content:"Overview",onClick:function onClick(){return n({screen:"overview"})},isSelected:"overview"===t.screen},{content:"Details",onClick:function onClick(){return n({screen:"details"})},isSelected:"details"===t.screen},{content:"Resources",onClick:function onClick(){return n({screen:"resources"})},isSelected:"resources"===t.screen}]},t.screen)})},view:function View(e){var t=e.sharedState,n=e.setSharedState;return Object(W.jsx)(Ke,{children:Object(W.jsxs)(K,{children:[Object(W.jsxs)(Content_Content,{children:["overview"===t.screen&&Object(W.jsx)(ct,{children:Object(W.jsxs)(Lt.a,{children:[Object(W.jsx)("div",{style:{fontSize:"8rem",fontStyle:"italic"},children:"ReShell"}),Object(W.jsx)(ce,{style:{fontSize:"1.5rem"},children:"App layout framework and UI services engine"})]})}),"details"===t.screen&&Object(W.jsx)(tn,{}),"resources"===t.screen&&Object(W.jsx)(rn,{})]}),Object(W.jsxs)(Footer,{style:{textAlign:"center"},children:["overview"===t.screen&&Object(W.jsxs)("p",{children:[Object(W.jsx)(Pt,{onClick:function onClick(){return n({screen:"details"})},children:"Details"})," ","|"," ",Object(W.jsx)(Pt,{onClick:function onClick(){return n({screen:"resources"})},children:"Resources"})]}),Object(W.jsx)("div",{style:{opacity:.5},children:"Copyright \xa9 2010 - ".concat(cn," zenOSmosis. All rights reserved.")})]})]})})}},on=Object(a.a)(Object(a.a)({},an),{},{isAutoStart:!0}),sn=n(243),ln=n(156),un=n.n(ln),dn="check-for-updates",jn={id:dn,title:"Check for Updates",style:{width:320,height:240},isPinned:!0,view:function View(){var e=Object(u.useState)(!0),t=Object(l.a)(e,2),n=t[0],i=t[1],r=Object(u.useState)(!1),a=Object(l.a)(r,2),o=a[0],s=a[1],d=Object(u.useState)(!1),j=Object(l.a)(d,2),O=j[0],f=j[1],v=Object(u.useState)(null),p=Object(l.a)(v,2),m=p[0],g=p[1],x=Object(u.useRef)(null);x.current=o;var w=Object(u.useCallback)(Object(h.a)(b.a.mark((function _callee(){var e;return b.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!x.current){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,f(!1),s(!0),t.next=8,Object(sn.a)();case 8:e=t.sent,i(e),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0),f(!0),i(!1);case 17:return t.prev=17,s(!1),g((new Date).getTime()),t.finish(17);case 21:case"end":return t.stop()}}),_callee,null,[[3,12,17,21]])}))),[]);return Object(u.useEffect)((function(){w()}),[w]),Object(W.jsxs)(K,{children:[Object(W.jsx)(Header,{children:Object(W.jsx)(Ke,{style:{textAlign:"center"},children:Object(W.jsx)("button",{onClick:w,disabled:o,children:"Check for Updates"})})}),Object(W.jsx)(Content_Content,{children:Object(W.jsx)(Lt.a,{canOverflow:!0,children:O?Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("p",{children:["There was an error checking for updates."," ",Object(W.jsx)("button",{onClick:w,children:"Try again?"})]})}):n?Object(W.jsx)("p",{children:"You appear to be running the latest version of ReShell."}):Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("p",{children:["Your version of ReShell appears out of date."," ",Object(W.jsx)("button",{onClick:function onClick(){return c.a.forceUpdate()},children:"Refresh?"})]})})})}),Object(W.jsx)(Footer,{children:Object(W.jsx)(Ke,{children:Object(W.jsxs)("div",{className:"note",children:["Last checked:"," ",m?un()(m).format("LLL"):"N/A"]})})})]})}},bn=n(637),hn=n.n(bn),On={id:"color-adjuster",title:"Color Adjuster",style:{width:640,height:400},view:function View(e){e.windowController,e.appServices;var t=Object(u.useState)(!1),n=Object(l.a)(t,2),i=n[0],r=n[1];return Object(u.useEffect)((function(){i?document.body.classList.add("grayscale"):document.body.classList.remove("grayscale")}),[i]),Object(W.jsxs)(K,{className:hn.a["color-adjuster"],children:[Object(W.jsx)(Content_Content,{children:Object(W.jsx)(Lt.a,{children:Object(W.jsxs)("button",{onClick:function onClick(){return r((function(e){return!e}))},children:[i?"Disable":"Enable"," Grayscale"]})})}),Object(W.jsx)(Footer,{children:["#B04628","#B9FC6D","#FC7853","#3A65FC","#314EB0"].map((function(e,t){return Object(W.jsx)("div",{style:{backgroundColor:e,height:100,width:"20%",display:"inline-block"},children:Object(W.jsx)(Lt.a,{children:Object(W.jsx)("span",{style:{padding:4,backgroundColor:"rgba(0,0,0,.4)",borderRadius:4},children:e})})},t)}))})]})}},fn=n(638),vn=n.n(fn),pn=n(639),mn=n.n(pn),gn=["className","src"];var xn=function ObjectViewer(e){var t=e.className,n=e.src,i=Object(s.a)(e,gn);return Object(W.jsx)(T.a,Object(a.a)(Object(a.a)({},i),{},{className:I()(mn.a["object-viewer"],t),children:Object(W.jsx)(vn.a,{src:n,theme:"monokai",style:{width:"100%",height:"100%"}})}))},wn="environment",yn={id:wn,title:"Environment",style:{width:512,height:384},view:function View(){return Object(W.jsx)(K,{children:Object(W.jsx)(Content_Content,{children:Object(W.jsx)(xn,{src:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})})})})}},Cn=["id","children","title"];var Sn=function AppLinkButton(e){var t=e.id,n=e.children,i=void 0===n?null:n,r=e.title,c=void 0===r?null:r,o=Object(s.a)(e,Cn),l=useAppRegistrationLink(t),d=l.title,j=l.link,b=Object(u.useMemo)((function(){return function(e){return i?Object(W.jsx)(jt,Object(a.a)({},e)):Object(W.jsx)("button",Object(a.a)({},e))}}),[i]);return j?Object(W.jsx)(b,Object(a.a)(Object(a.a)({},o),{},{onClick:j,children:i||c||d})):null},kn=n(252),An={id:"software-info",title:"Software Info",style:{width:640,height:480},view:function View(){return Object(W.jsxs)(K,{children:[Object(W.jsx)(Header,{children:Object(W.jsx)(Ke,{children:"Package.json content"})}),Object(W.jsx)(Content_Content,{children:Object(W.jsx)(xn,{src:kn})}),Object(W.jsx)(Footer,{children:Object(W.jsx)(Ke,{children:Object(W.jsxs)(Row,{children:[Object(W.jsx)(Column,{children:Object(W.jsx)(Lt.a,{children:Object(W.jsxs)("div",{style:{float:"left",textAlign:"left"},className:"note",children:["ReShell version: ",c.a.getReShellVersion(),Object(W.jsx)("br",{}),"PhantomCore version: ",r.a.getPhantomCoreVersion(),Object(W.jsx)("br",{}),"Portal: ",c.a.getPortalName()]})})}),Object(W.jsx)(Column,{children:Object(W.jsxs)(Lt.a,{style:{textAlign:"right"},children:[Object(W.jsx)(Sn,{id:dn})," ",Object(W.jsx)(Sn,{id:wn})]})})]})})})]})}},_n=n(538),Mn=n(157),Dn=n(72),Nn="media-devices",Tn="userMetadata",En=function(e){Object(g.a)(MediaDeviceCachingService,e);var t=Object(x.a)(MediaDeviceCachingService);function MediaDeviceCachingService(){var e;Object(O.a)(this,MediaDeviceCachingService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setState({devicesWithUserMetadata:[]}),e.setTitle("Media Device Caching Service"),e._storageEngine=e.useServiceClass(Dn.a).getSecureLocalStorageEngine(),Object(h.a)(b.a.mark((function _callee(){return b.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e._fetchCachedMediaDeviceUserMetadata().then((function(t){return e.setState({devicesWithUserMetadata:t})}));case 1:case"end":return t.stop()}}),_callee)})))(),e}return Object(f.a)(MediaDeviceCachingService,[{key:"setMediaDeviceUserMetadata",value:function(){var e=Object(h.a)(b.a.mark((function _callee2(e,t){var n,r,c,a;return b.a.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:if("object"===typeof e){o.next=2;break}throw new TypeError("device must be an object");case 2:if("object"===typeof t){o.next=4;break}throw new TypeError("userMetadata must be an object");case 4:return n={},Object(Mn.a)(n,"device",e),Object(Mn.a)(n,Tn,t),r=n,o.next=7,this._fetchCachedMediaDeviceUserMetadata().then((function(n){return n.filter((function(n){var c=_n.utils.mediaDevice.getIsSameMediaDevice(n.device,e);return c&&(r=Object(i.deepMerge)(n,Object(Mn.a)({},Tn,t))),!c}))}));case 7:return c=o.sent,a=[].concat(Object(Ee.a)(c),[r]),o.next=11,this._storageEngine.setItem(Nn,a);case 11:this.setState({devicesWithUserMetadata:a});case 12:case"end":return o.stop()}}),_callee2,this)})));return function setMediaDeviceUserMetadata(t,n){return e.apply(this,arguments)}}()},{key:"_fetchCachedMediaDeviceUserMetadata",value:function(){var e=Object(h.a)(b.a.mark((function _callee3(){var e;return b.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._storageEngine.fetchItem(Nn);case 2:if(e=t.sent,!Array.isArray(e)){t.next=7;break}return t.abrupt("return",e);case 7:return t.abrupt("return",[]);case 8:case"end":return t.stop()}}),_callee3,this)})));return function _fetchCachedMediaDeviceUserMetadata(){return e.apply(this,arguments)}}()},{key:"getMediaDeviceUserMetadata",value:function getMediaDeviceUserMetadata(e){var t=this.getState().devicesWithUserMetadata.find((function(t){return _n.utils.mediaDevice.getIsSameMediaDevice(t.device,e)}));if(t)return t.userMetadata}}]),MediaDeviceCachingService}(yt.b),In=function(e){Object(g.a)(InputMediaDeviceFactoryCollection,e);var t=Object(x.a)(InputMediaDeviceFactoryCollection);function InputMediaDeviceFactoryCollection(){return Object(O.a)(this,InputMediaDeviceFactoryCollection),t.apply(this,arguments)}return InputMediaDeviceFactoryCollection}(_n.MediaStreamTrackControllerFactoryCollection),Rn=function(e){Object(g.a)(InputMediaDevicesService,e);var t=Object(x.a)(InputMediaDevicesService);function InputMediaDevicesService(){var e;Object(O.a)(this,InputMediaDevicesService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("Input Media Devices Service"),e.setState({isFetchingMediaDevices:!1,isAudioContextStarted:!1,devices:[]}),e._mediaDeviceCachingService=e.useServiceClass(En),e._inputMediaDeviceFactoryCollection=e.bindCollectionClass(In),e.fetchInputMediaDevices(),e}return Object(f.a)(InputMediaDevicesService,[{key:"fetchInputMediaDevices",value:function(){var e=Object(h.a)(b.a.mark((function _callee(){var e,t,n=this,i=arguments;return b.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e=!(i.length>0&&void 0!==i[0])||i[0],this.setState({isFetchingMediaDevices:!0}),r.next=4,this.untilAudioContextResumed();case 4:return r.next=6,_n.utils.mediaDevice.fetchInputMediaDevices(e).catch(console.error).finally((function(){return n.setState({isFetchingMediaDevices:!1})}));case 6:return t=r.sent,console.log({inputMediaDevices:t}),this.setState({devices:t}),r.abrupt("return",t);case 10:case"end":return r.stop()}}),_callee,this)})));return function fetchInputMediaDevices(){return e.apply(this,arguments)}}()},{key:"untilAudioContextResumed",value:function(){var e=Object(h.a)(b.a.mark((function _callee2(){return b.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n.utils.audioContext.untilAudioContextResumed();case 2:this.setState({isAudioContextStarted:!0});case 3:case"end":return e.stop()}}),_callee2,this)})));return function untilAudioContextResumed(){return e.apply(this,arguments)}}()},{key:"getIsFetchingMediaDevices",value:function getIsFetchingMediaDevices(){return this.getState().isFetchingMediaDevices}},{key:"getInputMediaDevices",value:function getInputMediaDevices(){return this.getState().devices||[]}},{key:"getAudioInputMediaDevices",value:function getAudioInputMediaDevices(){return this.getInputMediaDevices().filter((function(e){return e.kind.includes("audioinput")}))}},{key:"getCaptureFactories",value:function getCaptureFactories(){return this._inputMediaDeviceFactoryCollection.getTrackControllerFactories()}},{key:"getIsAudioMediaDeviceBeingCaptured",value:function getIsAudioMediaDeviceBeingCaptured(e){return Boolean(_n.MediaStreamTrackControllerFactory.getFactoriesWithInputMediaDevice(e,"audio").length)}},{key:"getMediaDeviceCaptureFactory",value:function getMediaDeviceCaptureFactory(e){var t=_n.MediaStreamTrackControllerFactory.getFactoriesWithInputMediaDevice(e,"audio");if(t)return t[0]}},{key:"captureSpecificMediaDevice",value:function(){var e=Object(h.a)(b.a.mark((function _callee3(e){var t,n,i,r=arguments;return b.a.wrap((function _callee3$(c){for(;;)switch(c.prev=c.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:{},n=r.length>2&&void 0!==r[2]?r[2]:{},c.next=4,_n.utils.mediaDevice.captureSpecificMediaDevice(e,t,n);case 4:return i=c.sent,this._inputMediaDeviceFactoryCollection.addTrackControllerFactory(i),c.abrupt("return",i);case 7:case"end":return c.stop()}}),_callee3,this)})));return function captureSpecificMediaDevice(t){return e.apply(this,arguments)}}()},{key:"uncaptureSpecificMediaDevice",value:function(){var e=Object(h.a)(b.a.mark((function _callee4(e){return b.a.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",_n.utils.mediaDevice.uncaptureSpecificMediaDevice(e));case 1:case"end":return t.stop()}}),_callee4)})));return function uncaptureSpecificMediaDevice(t){return e.apply(this,arguments)}}()},{key:"getIsCapturingAnyAudio",value:function getIsCapturingAnyAudio(){return this._inputMediaDeviceFactoryCollection.getAudioTrackControllers().length}},{key:"getIsAllAudioMuted",value:function getIsAllAudioMuted(){return this._inputMediaDeviceFactoryCollection.getIsAudioMuted()}},{key:"setIsAllAudioMuted",value:function setIsAllAudioMuted(e){return this._inputMediaDeviceFactoryCollection.setIsAudioMuted(e)}},{key:"muteAllAudio",value:function muteAllAudio(){return this._inputMediaDeviceFactoryCollection.muteAudio()}},{key:"unmuteAllAudio",value:function unmuteAllAudio(){return this._inputMediaDeviceFactoryCollection.unmuteAudio()}}]),InputMediaDevicesService}(yt.b),zn=(n(662),["className"]),Wn=function DynamicIcon(e){var t=e.className,n=Object(s.a)(e,zn);return Object(W.jsx)("i",Object(a.a)(Object(a.a)({},n),{},{className:"i91eec2200f934fc6a4087e250fa26340-icon".concat(t?" ".concat(t):"")}))},Pn=n(663),Un=n.n(Pn);function useArrayDiff(e){var t=function usePrevious(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(u.useRef)(t);return Object(u.useEffect)((function(){n.current=e}),[e]),n.current}(e,[]),n=Object(u.useState)({added:[],removed:[]}),r=Object(l.a)(n,2),c=r[0],a=r[1];return Object(u.useEffect)((function(){if(!Array.isArray(e))throw new Error("next should be an array");var n=i.PhantomCollection.getChildrenDiff(t,e),r=n.added,c=n.removed;(r.length||c.length)&&a({added:r,removed:c})}),[t,e]),{added:c.added,removed:c.removed}}var Ln=_n.MultiAudioMediaStreamTrackLevelMonitor.EVT_AUDIO_LEVEL_UPDATED;function useMultiAudioMediaStreamTrackLevelMonitor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Object(u.useMemo)((function(){return(e?Array.isArray(e)?e:[e]:[]).filter((function(e){return e instanceof MediaStreamTrack&&"audio"===e.kind}))}),[e]),i=Object(u.useState)(null),r=Object(l.a)(i,2),c=r[0],a=r[1],s=Object(u.useRef)(t);s.current=t,Object(u.useEffect)((function(){var e=new _n.MultiAudioMediaStreamTrackLevelMonitor;return e.on(Ln,(function(e){s.current(e)})),a(e),function unmount(){e.getIsDestroying()||e.destroy()}}),[]);var d=useArrayDiff(n),j=d.added,b=d.removed;Object(u.useEffect)((function(){if(c){var e,t=Object(o.a)(j);try{for(t.s();!(e=t.n()).done;){var n=e.value;c.addMediaStreamTrack(n)}}catch(s){t.e(s)}finally{t.f()}var i,r=Object(o.a)(b);try{for(r.s();!(i=r.n()).done;){var a=i.value;c.removeMediaStreamTrack(a)}}catch(s){r.e(s)}finally{r.f()}}}),[c,j,b])}var Fn=["className","mediaStreamTrack","mediaStreamTracks"];var Vn=function AudioLevelMeter(e){var t=e.className,n=e.mediaStreamTrack,i=e.mediaStreamTracks,r=Object(s.a)(e,Fn),c=Object(u.useState)(null),o=Object(l.a)(c,2),d=o[0],j=o[1],b=Object(u.useMemo)(nt.a,[]),h=Object(u.useCallback)((function(e){d&&S()((function(){var t=100-e;d.style.clipPath="inset(".concat(t,"% 0 0 0)"),d.style.WebkitClipPath="inset(".concat(t,"% 0 0 0)")}),b)}),[d,b]);return Object(u.useEffect)((function(){d&&h(0)}),[h,d]),useMultiAudioMediaStreamTrackLevelMonitor(n||i,h),Object(W.jsx)("div",Object(a.a)(Object(a.a)({className:I()(Un.a.levels,t)},r),{},{children:Object(W.jsx)("div",{className:Un.a["level-container"],children:Object(W.jsx)("div",{ref:j,className:Un.a.level})})}))},Bn=(n(664),["className"]),Hn=function DynamicIcon(e){var t=e.className,n=Object(s.a)(e,Bn);return Object(W.jsx)("i",Object(a.a)(Object(a.a)({},n),{},{className:"ie8e4f3089b614c28aa33b6aaeff7d8b0-icon".concat(t?" ".concat(t):"")}))};function AudioInputDeviceTableRow(e){var t=e.device,n=e.mediaStreamTracks,i=e.isCapturing,r=e.onToggleCapture,c=e.isMuted,a=e.onToggleMute,o=e.audioQualityPresets,s=e.audioQualityPresetName,l=e.onChangeAudioQualityPresetName;if("audioinput"!==t.kind)throw new TypeError("device is not an audioinput device");return Object(W.jsxs)("tr",{style:i?{backgroundColor:"rgba(0,174,255,.2)"}:null,children:[Object(W.jsx)("td",{children:Object(W.jsxs)(Ke,{children:[Object(W.jsx)("div",{style:{fontWeight:"bold"},children:t.label||"[Unknown Label]"}),Object(W.jsxs)("div",{style:{marginTop:4},children:[Object(W.jsx)("span",{style:{fontSize:".7em"},children:"Quality:"})," ",i?Object(W.jsxs)("button",{onClick:r,style:{minWidth:145,textAlign:"left"},children:[s," ",Object(W.jsx)(ft,{style:{color:"orange",float:"right"}})]}):Object(W.jsx)("select",{value:s,onChange:function onChange(e){return l(e.target.value)},disabled:i,children:o.map((function(e,t){var n=e.name;return Object(W.jsx)("option",{value:n,children:n},t)}))})]})]})}),Object(W.jsx)("td",{className:"center",children:Object(W.jsx)(Ke,{children:Object(W.jsx)("button",{onClick:r,style:{backgroundColor:i?"red":"#347FE8",width:"100%"},children:i?"Stop":"Start"})})}),Object(W.jsx)("td",{className:"center",children:Object(W.jsx)(Ke,{children:Object(W.jsxs)(jt,{disabled:!i,onClick:a,style:{color:i?c?"white":"orange":"inherit"},children:[Object(W.jsx)("div",{style:{textAlign:"center"}}),Object(W.jsx)(Hn,{style:{fontSize:"1.5em"}}),Object(W.jsx)("div",{style:{fontSize:".7em",marginTop:4},children:i?c?"Yes":"No":"N/A"})]})})}),Object(W.jsx)("td",{className:"center",style:{width:80,height:70},children:Object(W.jsx)(Ke,{children:i?"audioinput"===t.kind&&Object(W.jsx)(Vn,{mediaStreamTracks:n}):Object(W.jsx)(Lt.a,{style:{color:"gray",fontSize:".7em"},children:"Off"})})})]})}var Qn=_n.utils.constraints.audioQualityPresets,Kn=Qn.AUDIO_QUALITY_PRESET_TALK_RADIO;var Yn=function InputMediaDevicesSelector(e){var t=e.onDeviceCapture,n=void 0===t?function(e){return null}:t,i=e.onDeviceUncapture,r=function useInputMediaDevicesSelectorState(e){var t=e.onDeviceCapture,n=void 0===t?function(e){return null}:t,i=e.onDeviceUncapture,r=void 0===i?function(e){return null}:i,c=Object(wt.a)(Rn).serviceInstance,a=Object(wt.a)(En).serviceInstance;Object(u.useEffect)((function(){c&&c.fetchInputMediaDevices()}),[c]);var o=Object(u.useCallback)(function(){var e=Object(h.a)(b.a.mark((function _callee(e,t){var n;return b.a.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if("audioinput"===e.kind){i.next=3;break}return console.warn('Cannot set device preferred audio quality preset name for "'.concat(e.kind,'" kind.  Expected audioinput kind.')),i.abrupt("return");case 3:return n=_n.utils.constraints.audioQualityPresets.getAudioQualityPresetWithName(t),i.abrupt("return",a.setMediaDeviceUserMetadata(e,{audioQualityPreset:n}));case 5:case"end":return i.stop()}}),_callee)})));return function(t,n){return e.apply(this,arguments)}}(),[a]),s=Object(u.useCallback)(function(){var e=Object(h.a)(b.a.mark((function _callee2(e){var t,n,i;return b.a.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return n=a.getMediaDeviceUserMetadata(e),(i=n&&(null===(t=n.audioQualityPreset)||void 0===t?void 0:t.constraints))||"audioinput"!==e.kind||(i=Qn.getAudioQualityPresetConstraints(Kn)),r.abrupt("return",c.captureSpecificMediaDevice(e,i));case 4:case"end":return r.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),[c,a]),l=Object(u.useCallback)((function(e){var t,n=a.getMediaDeviceUserMetadata(e);return n?null===(t=n.audioQualityPreset)||void 0===t?void 0:t.name:Kn.name}),[a]),d=Object(u.useCallback)(function(){var e=Object(h.a)(b.a.mark((function _callee3(e){return b.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:if(c.getIsAudioMediaDeviceBeingCaptured(e)){t.next=7;break}return t.next=4,s(e);case 4:n(e),t.next=10;break;case 7:return t.next=9,c.uncaptureSpecificMediaDevice(e);case 9:r(e);case 10:case"end":return t.stop()}}),_callee3)})));return function(t){return e.apply(this,arguments)}}(),[c,s,n,r]),j=(null===c||void 0===c?void 0:c.getAudioInputMediaDevices())||[],O=j.filter((function(e){return null===c||void 0===c?void 0:c.getIsAudioMediaDeviceBeingCaptured(e)}));return{inputMediaDevicesService:c,mediaDevicesCachingService:a,audioInputDevices:j,capturedAudioInputDevices:O,audioQualityPresets:Qn,toggleSpecificAudioInputDevice:d,setDevicePreferredAudioQualityPresetName:o,getDevicePreferredAudioQualityPresetName:l}}({onDeviceCapture:n,onDeviceUncapture:void 0===i?function(e){return null}:i}),c=r.inputMediaDevicesService,a=r.mediaDevicesCachingService,o=r.audioInputDevices,s=r.capturedAudioInputDevices,l=r.audioQualityPresets,d=r.toggleSpecificAudioInputDevice,j=r.setDevicePreferredAudioQualityPresetName,O=r.getDevicePreferredAudioQualityPresetName;if(!c||!a)return null;var f=o.length,v=c.getIsFetchingMediaDevices();if(!o.length)return Object(W.jsx)(Lt.a,{style:{fontWeight:"bold"},children:v?"Fetching audio devices...":"No audio input devices are currently available."});var p=s.length;return Object(W.jsxs)(K,{children:[Object(W.jsx)(Header,{children:"Select device(s) for sound input:"}),Object(W.jsx)(Content_Content,{children:Object(W.jsx)(Ke,{children:Object(W.jsx)(T.a,{style:{overflow:"auto",border:"4px #22668F solid",borderRadius:4},children:Object(W.jsxs)("table",{style:{width:"100%"},children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:"Name"}),Object(W.jsx)("td",{className:"center",children:"f(x)"}),Object(W.jsx)("td",{className:"center",children:"Muted"}),Object(W.jsx)("td",{className:"center",children:"Level"})]})}),Object(W.jsx)("tbody",{children:o.map((function(e,t){var n,i=s.includes(e),r=c.getMediaDeviceCaptureFactory(e),a=i&&(null===r||void 0===r||null===(n=r.getOutputMediaStream())||void 0===n?void 0:n.getTracks()),o=i&&(null===r||void 0===r?void 0:r.getAudioTrackControllers()[0]);return o&&console.log({settings:o.getSettings()}),Object(W.jsx)(AudioInputDeviceTableRow,{device:e,mediaStreamTracks:a,isCapturing:i,onToggleCapture:function onToggleCapture(){return d(e)},isMuted:null===r||void 0===r?void 0:r.getIsMuted(),onToggleMute:function onToggleMute(){return null===r||void 0===r?void 0:r.toggleMute()},audioQualityPresets:l,audioQualityPresetName:O(e),onChangeAudioQualityPresetName:function onChangeAudioQualityPresetName(t){return j(e,t)}},t)}))})]})})})}),Object(W.jsx)(Footer,{style:{minHeight:50},children:Object(W.jsxs)(Ke,{children:[Object(W.jsx)(Wn,{style:{fontSize:38,marginLeft:20,color:"rgba(255,255,255,.2)"}}),Object(W.jsx)(D.a,{children:Object(W.jsxs)(Lt.a,{children:[Object(W.jsxs)("div",{children:[f," audio input device",1!==f&&"s"," available."]}),Object(W.jsxs)("div",{children:[p," audio input device",1!==p&&"s"," currently being captured."]})]})})]})})]})},Gn=n(665),Zn=n.n(Gn);var Jn=function StaggeredWaveLoading(e){var t=Object.assign({},e);return Object(W.jsx)("div",Object(a.a)(Object(a.a)({className:Zn.a["loading-wrapper"]},t),{},{children:Object(W.jsxs)("div",{className:Zn.a.loading,children:[Object(W.jsx)("div",{className:Zn.a.dot}),Object(W.jsx)("div",{className:Zn.a.dot}),Object(W.jsx)("div",{className:Zn.a.dot}),Object(W.jsx)("div",{className:Zn.a.dot}),Object(W.jsx)("div",{className:Zn.a.dot})]})}))},Xn=n(576),qn=["children","preloadResources","disabledLoadingIndicator","onError"];var $n=function Preload(e){var t=e.children,n=e.preloadResources,i=e.disabledLoadingIndicator,r=void 0!==i&&i,c=(e.onError,Object(s.a)(e,qn));return Object(Xn.a)(n).isPreloaded||r?Object(W.jsx)(d.a.Fragment,{children:t}):Object(W.jsx)(ct,Object(a.a)(Object(a.a)({},c),{},{children:Object(W.jsx)(Jn,{})}))},ei=n(666),ti=n.n(ei),ni=n.p+"static/media/vu.8cb21748.png",ii="data:image/png;base64,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",ri=["label","className","mediaStreamTrack","mediaStreamTracks"];var ci=function VUMeter(e){var t=e.label,n=void 0===t?"Mono":t,i=e.className,r=e.mediaStreamTrack,c=e.mediaStreamTracks,o=Object(s.a)(e,ri),d=Object(u.useState)(null),j=Object(l.a)(d,2),b=j[0],h=j[1],O=Object(u.useState)(null),f=Object(l.a)(O,2),v=f[0],p=f[1],m=Object(u.useMemo)(nt.a,[]);Object(u.useEffect)((function(){b&&v&&(b.style.backgroundImage="url(".concat(ni,")"),b.style.backgroundPosition="top left",b.style.backgroundRepeat="no-repeat",v.style.backgroundImage="url(".concat(ii,")"),v.style.backgroundPosition="top left",v.style.backgroundRepeat="no-repeat")}),[b,v]);var g=Object(u.useCallback)((function(e){v&&S()((function(){v.style.transform="rotateZ(".concat(Math.min(e/100*87),"deg)")}),m)}),[v,m]);return Object(u.useEffect)((function(){v&&g(0)}),[g,v]),useMultiAudioMediaStreamTrackLevelMonitor(r||c,g),Object(W.jsx)($n,{preloadResources:[ni,ii],children:Object(W.jsxs)("div",Object(a.a)(Object(a.a)({ref:h,className:I()(ti.a.vu,i)},o),{},{children:[Object(W.jsx)("div",{className:ti.a.mask,children:Object(W.jsx)("div",{ref:p,className:ti.a.needle,style:{transform:"rotateZ(0deg)"}})}),Object(W.jsx)("p",{className:ti.a["vu-label"],children:n})]}))})},ai="vu-meter",oi={id:ai,title:"VU Meter",style:{width:360,height:360,backgroundColor:"rgba(0,0,0,.4)"},serviceClasses:[Rn],view:function view(e){var t=e.appServices[Rn].getCaptureFactories().map((function(e){return e.getAudioTrackControllers().map((function(e){return e.getOutputMediaStreamTrack()}))})).flat();return Object(W.jsxs)(K,{children:[Object(W.jsx)(Content_Content,{children:Object(W.jsx)(Lt.a,{canOverflow:!0,children:Object(W.jsxs)("div",{children:[Object(W.jsx)(ci,{mediaStreamTracks:t}),Object(W.jsx)(Vn,{style:{marginLeft:20,height:160,width:40},mediaStreamTracks:t})]})})}),Object(W.jsx)(Footer,{children:Object(W.jsx)(Ke,{children:Object(W.jsx)(Sn,{id:vi})})})]})}},si=["mediaStreamTrack","mediaType","onEl"];function AVBase(e){var t=e.mediaStreamTrack,n=e.mediaType,i=void 0===n?"video":n,r=e.onEl,c=void 0===r?function(e){return null}:r,o=Object(s.a)(e,si),j=Object(u.useState)(null),b=Object(l.a)(j,2),h=b[0],O=b[1],f=Object(u.useMemo)((function(){return t&&new MediaStream([t])}),[t]);Object(u.useEffect)((function(){h&&(f?(h.srcObject=f,h.play().then((function(){return h.muted=!1})).catch((function(e){return console.warn("Caught",e)}))):h.srcObject=null)}),[h,f]);var v=Object(u.useRef)(c);return Object(u.useEffect)((function(){var e=v.current;h&&"function"===typeof e&&e(h)}),[h]),d.a.createElement(i,Object(a.a)({ref:O,autoPlay:!1,muted:!0,playsInline:!0,controls:!1},o))}var li=n(667),ui=n.n(li),di=["className"];function Video(e){var t=e.className,n=Object(s.a)(e,di);return Object(W.jsx)(AVBase,Object(a.a)({className:I()(ui.a.video,t)},n))}var ji=function(e){Object(g.a)(ScreenCaptureFactoryCollection,e);var t=Object(x.a)(ScreenCaptureFactoryCollection);function ScreenCaptureFactoryCollection(){return Object(O.a)(this,ScreenCaptureFactoryCollection),t.apply(this,arguments)}return ScreenCaptureFactoryCollection}(_n.MediaStreamTrackControllerFactoryCollection),bi=function(e){Object(g.a)(ScreenCapturerService,e);var t=Object(x.a)(ScreenCapturerService);function ScreenCapturerService(){var e;Object(O.a)(this,ScreenCapturerService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("Screen Capturer Service"),e.bindCollectionClass(ji),e}return Object(f.a)(ScreenCapturerService,[{key:"startScreenCapture",value:function(){var e=Object(h.a)(b.a.mark((function _callee(){var e,t,n,i=arguments;return b.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t=i.length>1&&void 0!==i[1]?i[1]:{},r.next=4,_n.utils.screen.captureScreen(e,t);case 4:return n=r.sent,this.getCollectionInstance(ji).addTrackControllerFactory(n),r.abrupt("return",n);case 7:case"end":return r.stop()}}),_callee,this)})));return function startScreenCapture(){return e.apply(this,arguments)}}()},{key:"getMediaStreamTracks",value:function getMediaStreamTracks(){return this.getCollectionInstance(ji).getChildren().map((function(e){return e.getTrackControllers().map((function(e){return e.getOutputMediaStreamTrack()}))})).flat()}},{key:"getCaptureFactories",value:function getCaptureFactories(){return this.getCollectionInstance(ji).getChildren()}}]),ScreenCapturerService}(yt.b),hi="screen-capture-window",Oi={id:hi,title:"Screen Capture",style:{width:512,height:384},serviceClasses:[bi],view:function View(e){var t,n,r=e.appServices[bi],c=Object(u.useState)(null),a=Object(l.a)(c,2),o=a[0],s=a[1],d=function useGetIsUnmounting(){var e=Object(u.useRef)(!1);return Object(u.useEffect)((function(){return function unmount(){e.current=!0}}),[]),Object(u.useCallback)((function(){return e.current}),[])}(),j=Object(u.useCallback)(Object(h.a)(b.a.mark((function _callee(){var e,t,n,c=arguments;return b.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{},t=c.length>1&&void 0!==c[1]?c[1]:{},a.next=4,r.startScreenCapture(e,t);case 4:return n=a.sent,s(n),n.once(i.EVT_DESTROYED,(function(){d()||s(null)})),a.abrupt("return",n);case 8:case"end":return a.stop()}}),_callee)}))),[r,d]);Object(u.useEffect)((function(){if(o)return function(){o.getIsDestroying()||o.destroy()}}),[o]);var O=null===o||void 0===o||null===(t=o.getVideoTrackControllers()[0])||void 0===t?void 0:t.getOutputTrack(),f=null===o||void 0===o||null===(n=o.getAudioTrackControllers()[0])||void 0===n?void 0:n.getOutputTrack();return Object(W.jsxs)(K,{style:{backgroundColor:"#424242",color:"#999"},children:[Object(W.jsx)(Content_Content,{children:Object(W.jsxs)(Row,{children:[Object(W.jsxs)(Column,{children:[Object(W.jsx)(Video,{mediaStreamTrack:O}),!o&&Object(W.jsx)(D.a,{children:Object(W.jsx)(Lt.a,{children:Object(W.jsx)("div",{children:Object(W.jsx)("button",{onClick:function onClick(){return j()},style:{backgroundColor:"green",width:200,height:200,borderRadius:200,fontWeight:"bold",fontSize:"1.4rem",border:"8px #ccc solid"},children:"Start Screen Capture"})})})})]}),Object(W.jsx)(Column,{style:{width:50,maxWidth:50},children:Object(W.jsx)(Row,{style:{textAlign:"center"},children:Object(W.jsx)(Column,{children:Object(W.jsxs)(K,{children:[Object(W.jsx)(Content_Content,{children:Object(W.jsx)(Vn,{mediaStreamTrack:f})}),Object(W.jsx)(Footer,{children:"Audio"})]})})})})]})}),Object(W.jsx)(Footer,{children:Object(W.jsx)(Ke,{children:Object(W.jsxs)(Row,{children:[Object(W.jsx)(Column,{children:Object(W.jsx)(Lt.a,{children:Object(W.jsx)(Sn,{id:vi})})}),Object(W.jsx)(Column,{children:Object(W.jsx)(Lt.a,{children:Object(W.jsx)("button",{style:{backgroundColor:o?"red":"green",whiteSpace:"nowrap"},onClick:function onClick(){o&&!o.getIsDestroying()?o.destroy():j()},children:o?"Stop":"Capture"})})}),Object(W.jsx)(Column,{children:Object(W.jsxs)(Row,{children:[Object(W.jsx)(Column,{children:Object(W.jsx)(Lt.a,{children:Object(W.jsx)(Le,{color:o?"green":"gray",style:{float:"left",marginLeft:8}})})}),Object(W.jsx)(Column,{children:Object(W.jsx)(Lt.a,{children:Object(W.jsx)("button",{disabled:!0,style:{whiteSpace:"nowrap"},children:"Video Stats"})})})]})})]})})})]})}},fi=Oi,vi="input-media-devices",pi={id:vi,title:"Input Media Devices",style:{width:640,height:380},serviceClasses:[Rn],view:function View(e){var t=e.appServices[Rn];return Object(W.jsx)(Ke,{children:Object(W.jsxs)(K,{children:[Object(W.jsx)(Content_Content,{children:Object(W.jsx)(Yn,{})}),Object(W.jsxs)(Footer,{children:[Object(W.jsx)("button",{onClick:function onClick(){return t.fetchInputMediaDevices(!0)},style:{float:"right"},children:"Refetch"}),Object(W.jsxs)("span",{className:"button-group",children:[Object(W.jsx)(Sn,{id:ai}),Object(W.jsx)(Sn,{id:hi})]})]})]})})}},mi=function bytesToSize(e){var t=["bytes","kB","MB","GB","TB"];if(0===e)return"0 ".concat(t[0]);var n=parseInt(Math.floor(Math.log(Math.abs(e))/Math.log(1024)),10);return 0===n?"".concat(e," ").concat(t[n]):"".concat((e/Math.pow(1024,n)).toFixed(1)," ").concat(t[n])},gi={id:"memory-info",title:"Memory Info",style:{width:280,height:150},view:function View(){var e=Object(u.useState)({jsHeapSizeLimit:"N/A",totalJSHeapSize:"N/A",usedJSHeapSize:"N/A"}),t=Object(l.a)(e,2),n=t[0],i=n.jsHeapSizeLimit,r=n.totalJSHeapSize,c=n.usedJSHeapSize,a=t[1],o=Object(u.useCallback)((function(){if(window.performance.memory){var e=window.performance.memory,t=e.jsHeapSizeLimit,n=e.totalJSHeapSize,i=e.usedJSHeapSize,r={jsHeapSizeLimit:mi(t),totalJSHeapSize:mi(n),usedJSHeapSize:mi(i)};return a(r),r}}),[]);return Object(u.useEffect)((function(){if(o()){var e=setInterval((function(){o()}),1e3);return function unmount(){clearInterval(e)}}}),[o]),Object(W.jsxs)(K,{style:{backgroundColor:"#424242",color:"#999"},children:[Object(W.jsx)(Content_Content,{children:Object(W.jsx)(Lt.a,{children:Object(W.jsxs)("table",{style:{display:"inline-block"},children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:"Heap Size Limit"}),Object(W.jsx)("td",{children:"Total Heap Size"}),Object(W.jsx)("td",{children:"Used Heap Size"})]})}),Object(W.jsx)("tbody",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:i}),Object(W.jsx)("td",{children:r}),Object(W.jsx)("td",{children:c})]})})]})})}),Object(W.jsxs)(Footer,{style:{fontSize:".8rem"},children:[Object(W.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Performance/memory",target:"_blank",rel:"noreferrer",style:{float:"left"},children:"MDN Documentation"}),Object(W.jsx)("span",{style:{float:"right"},children:"Only supported in Chromium-based browsers."})]})]})}};var xi=function LocalStorageItems(e){var t=e.keyStorageEngineMaps,n=void 0===t?[]:t,i=e.onGetValue,r=e.onEmpty,c=e.onNewItem;return n.length?Object(W.jsxs)(K,{children:[Object(W.jsx)(Content_Content,{children:Object(W.jsx)(Ke,{style:{overflowY:"auto"},children:Object(W.jsxs)("table",{style:{width:"100%"},children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{}),Object(W.jsx)("td",{children:"Key"}),Object(W.jsx)("td",{children:"Value"}),Object(W.jsx)("td",{children:"Encryption"}),Object(W.jsx)("td",{children:"Storage Engine"})]})}),Object(W.jsx)("tbody",{children:n.map((function(e,t){var n=e.key,r=e.storageEngine;return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{className:"center",children:Object(W.jsx)("input",{type:"checkbox"})}),Object(W.jsx)("td",{children:n}),Object(W.jsx)("td",{className:"center",children:Object(W.jsx)("button",{onClick:function onClick(){return i(n,r)},children:"Get"})}),Object(W.jsx)("td",{className:"center",children:r.getEncryptionType()||"Not Encrypted"}),Object(W.jsx)("td",{className:"center",children:r.getTitle()})]},t)}))})]})})}),Object(W.jsx)(Footer,{children:Object(W.jsx)(Ke,{children:Object(W.jsx)("button",{onClick:r,children:"Empty"})})})]}):Object(W.jsx)(Lt.a,{children:Object(W.jsxs)(Ke,{children:[Object(W.jsx)(Ke,{style:{fontWeight:"bold"},children:"No Key Vault items."}),Object(W.jsx)(Ke,{className:"note",children:"These may be automatically managed by other applications as needed, in order to perform key / value pair storage operations."}),Object(W.jsx)(Ke,{className:"note",children:"You have the ability to clear all local / session storage via this utility."}),Object(W.jsx)(Ke,{children:Object(W.jsx)("button",{onClick:c,children:"Add new item..."})})]})})};function getFormValues(e){for(var t=e.elements,n={},i=0,r=Object(Ee.a)(t);i<r.length;i++){var c=r[i],a=c.name||c.id;a&&(n[a]=c.value)}return n}var wi=["children","autoComplete","validator","onChange","onSubmit"];var yi=function Form(e){var t=e.children,n=e.autoComplete,i=void 0===n?"off":n,r=e.validator,c=void 0===r?function(e){return null}:r,d=e.onChange,j=void 0===d?function(e){return null}:d,b=e.onSubmit,h=void 0===b?function(e){return null}:b,O=Object(s.a)(e,wi),f=function useFormController(e){var t=e.onSubmit,n=e.onChange,i=void 0===n?function(){return null}:n,r=e.validator,c=void 0===r?function(){return null}:r,a=Object(u.useState)(null),s=Object(l.a)(a,2),d=s[0],j=s[1];Object(u.useEffect)((function(){if(d){Object.values(getFormValues(d)).length||console.warn("No form values detected for form element.  All input fields should have a name or id attribute.",d);var e,t=Object(o.a)(d.elements);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("BUTTON"===n.tagName.toUpperCase()&&!n.getAttribute("type")){console.warn('All button elements should have a type attribute specified or they will default to "submit"',n);break}}}catch(i){t.e(i)}finally{t.f()}}}),[d]);var b=Object(u.useState)(!1),h=Object(l.a)(b,2),O=h[0],f=h[1],v=Object(u.useState)({}),p=Object(l.a)(v,2),m=p[0],g=p[1],x=Object(u.useCallback)((function(e){var t=!1,n=Object.fromEntries(Object.entries(c(e)||{}).filter((function(e){var n=Boolean(e[1]);return n&&(t=!0),n}))),i=!t;return f(i),g(n),i}),[c]),w=Object(u.useCallback)((function(e){var t=getFormValues(d);x(t),i(t)}),[x,d,i]),y=Object(u.useCallback)((function(e){e.preventDefault();var n=getFormValues(d);x(n)&&t(n)}),[x,d,t]);return{isValid:O,handleFormValidate:x,handleFormChange:w,handleFormSubmit:y,errors:m,setFormRef:j}}({onSubmit:h,onChange:j,validator:c}),v=f.setFormRef,p=f.handleFormChange,m=f.handleFormSubmit,g=f.handleFormValidate,x=f.errors,w=f.isValid;return Object(W.jsx)("form",Object(a.a)(Object(a.a)({},O),{},{ref:v,autoComplete:i,onChange:p,onSubmit:m,children:t({errors:x,isValid:w,submit:m,validate:g})}))};function KeyEditorForm(e){var t=e.initialKey,n=e.initialValue,i=e.initialStorageEngine,r=e.storageEngines,c=e.onSubmit;return Object(W.jsx)(Lt.a,{canOverflow:!0,children:Object(W.jsx)(yi,{onSubmit:c,validator:function validator(e){return{key:e.key.length<1&&"Key must contain at least one character"}},children:function children(e){var c=e.errors,a=e.isValid;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Ke,{children:Object(W.jsx)("input",{name:"key",type:"text",placeholder:"Key",defaultValue:t,required:!0})}),(null===c||void 0===c?void 0:c.key)&&Object(W.jsx)("div",{className:"note",style:{color:"red"},children:c.key}),Object(W.jsx)(Ke,{children:Object(W.jsx)("textarea",{name:"value",placeholder:"Value",defaultValue:n})}),Object(W.jsxs)(Ke,{style:{marginTop:20,textAlign:"left"},children:[Object(W.jsx)("label",{children:"Storage Engine"}),Object(W.jsx)("select",{name:"storageEngineShortUUID",defaultValue:null===i||void 0===i?void 0:i.getShortUUID(),required:!0,children:r.map((function(e){var t=e.getTitle(),n=e.getShortUUID();return Object(W.jsx)("option",{value:n,children:t},t)}))})]}),Object(W.jsx)("div",{children:Object(W.jsx)("input",{type:"submit",value:"Submit",disabled:!a})})]})}})})}n(668);var Ci=["className"],Si=function DynamicIcon(e){var t=e.className,n=Object(s.a)(e,Ci);return Object(W.jsx)("i",Object(a.a)(Object(a.a)({},n),{},{className:"id0d6dd5d02e64b979154a770ab790dba-icon".concat(t?" ".concat(t):"")}))},ki={id:"key-vault",title:"Key Vault",style:{width:640,height:480},serviceClasses:[Dn.a],view:function View(e){var t=e.appServices[Dn.a],n=Object(u.useState)([]),i=Object(l.a)(n,2),r=i[0],c=i[1],a=Object(u.useCallback)(Object(h.a)(b.a.mark((function _callee(){var e,n,i,r,a,s,l,u;return b.a.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.fetchKeyStorageEngineMaps();case 2:e=d.sent,n=[],i=Object(o.a)(e),d.prev=5,i.s();case 7:if((r=i.n()).done){d.next=17;break}return a=r.value,s=a[0],l=a[1],d.next=13,l.fetchItem(s);case 13:u=d.sent,n.push({key:s,storageEngine:l,value:u});case 15:d.next=7;break;case 17:d.next=22;break;case 19:d.prev=19,d.t0=d.catch(5),i.e(d.t0);case 22:return d.prev=22,i.f(),d.finish(22);case 25:c(n);case 26:case"end":return d.stop()}}),_callee,null,[[5,19,22,25]])}))),[t]),s=Object(u.useState)(!1),d=Object(l.a)(s,2),j=d[0],O=d[1];Object(u.useEffect)((function(){a()}),[a]);var f=Object(u.useCallback)(function(){var e=Object(h.a)(b.a.mark((function _callee2(e,t){var n;return b.a.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.fetchItem(e);case 2:n=i.sent,console.log({key:e,value:n}),alert("TODO: Implement get value");case 5:case"end":return i.stop()}}),_callee2)})));return function(t,n){return e.apply(this,arguments)}}(),[]),v=Object(u.useCallback)((function(e){t.getStorageEngineWithShortUUID(e.storageEngineShortUUID).setItem(e.key,e.value).then((function(){a(),O(!1)}))}),[t,a]),p=Object(u.useCallback)((function(){window.confirm("Are you sure you wish to empty the Key Vault?")&&t.clearAllStorageEngines().then(a)}),[t,a]);return Object(W.jsxs)(K,{children:[Object(W.jsx)(Header,{children:Object(W.jsx)(Ke,{children:Object(W.jsx)("button",{onClick:function onClick(){return O((function(e){return!e}))},children:j?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Si,{})," Back"]}):Object(W.jsx)(W.Fragment,{children:"(+) New Item"})})})}),Object(W.jsx)(Content_Content,{children:j?Object(W.jsx)(KeyEditorForm,{storageEngines:t.getStorageEngines(),onSubmit:v}):Object(W.jsx)(xi,{keyStorageEngineMaps:r,onGetValue:f,onEmpty:p,onNewItem:function onNewItem(){return O(!0)}})})]})}},Ai=ki;t.default=function ReShellOrgPortal(){return Object(W.jsx)(It,{appDescriptors:[Ht,Qt,on,jn,On,yn,pi,gi,fi,Je,An,oi,Ai]})}}}]);
//# sourceMappingURL=6.a7dbede0.chunk.js.map