(this.webpackJsonpreshell=this.webpackJsonpreshell||[]).push([[4],{157:function(e,t,n){e.exports={layout:"Layout_layout__3PvPc",header:"Layout_header__3EItT",content:"Layout_content__1t8Hf",footer:"Layout_footer__3EMQb"}},163:function(e,t,n){e.exports={"window-outer-border":"Window_window-outer-border__3TebC",hidden:"Window_hidden__3nppO",maximized:"Window_maximized__1kLcW",minimized:"Window_minimized__10t2-",dragging:"Window_dragging__2Ctk1",window:"Window_window__uDx5P",active:"Window_active__eAyll",titlebar:"Window_titlebar__yB8Zx",title:"Window_title__3FnAS","window-controls":"Window_window-controls__1ACD5",maximize:"Window_maximize__2aW7z",minimize:"Window_minimize__hemKn",close:"Window_close__38hm-"}},191:function(e,t,n){e.exports={"stacking-context":"StackingContext_stacking-context__3KDjJ",accelerated:"StackingContext_accelerated__E4pfU"}},192:function(e,t,n){e.exports={full:"Full_full__3xUwm"}},193:function(e,t,n){e.exports={cover:"Cover_cover__3qNO7","no-display":"Cover_no-display__vixgE"}},195:function(e,t,n){e.exports={row:"RowColumn_row__2MIpa",column:"RowColumn_column__3aAA3"}},197:function(e,t,n){e.exports={"no-wrap":"NoWrap_no-wrap__2b0bc"}},199:function(e,t,n){e.exports={led:"LED_led__1cyGI",gray:"LED_gray__3hMZV",grey:"LED_grey__1_Ool",red:"LED_red__2O1gd",orange:"LED_orange__1Asac",yellow:"LED_yellow__H5_0O",green:"LED_green__5BS9Y",blue:"LED_blue__fOsqG"}},200:function(e,t,n){e.exports={"auto-scaler":"AutoScaler_auto-scaler__zdzsp","content-wrap":"AutoScaler_content-wrap__2tFDr"}},205:function(e,t,n){},206:function(e,t,n){e.exports={padding:"Padding_padding__3cEtV","no-siblings":"Padding_no-siblings__1nLrM"}},208:function(e,t,n){e.exports={animation:"Animation_animation__1HH_d",inline:"Animation_inline__3Lb1U"}},209:function(e,t,n){e.exports={"button-transparent":"ButtonTransparent_button-transparent__nu1PF"}},210:function(e,t,n){e.exports={notification:"Notification_notification__1C7Ma","main-image-wrap":"Notification_main-image-wrap__30_l1","main-image":"Notification_main-image__fpW0x","main-button":"Notification_main-button__3XiPY","body-outer-wrap":"Notification_body-outer-wrap__2RNF3","body-inner-wrap":"Notification_body-inner-wrap__2Kjzr",body:"Notification_body__1iO2i",title:"Notification_title__3IJtT","close-button":"Notification_close-button__3j56e"}},211:function(e,t,n){e.exports={"notifications-stack":"NotificationsStack_notifications-stack__1ecNs","inner-wrap":"NotificationsStack_inner-wrap__2pUR5"}},212:function(e,t,n){e.exports={"virtual-link":"VirtualLink_virtual-link__76t27"}},213:function(e,t,n){e.exports={center:"Center_center__PZFg8","inner-wrap":"Center_inner-wrap__2OIMV",overflown:"Center_overflown__LMy0-"}},214:function(e,t,n){e.exports={"color-adjuster":"ColorAdjuster_color-adjuster__J_S1V"}},216:function(e,t,n){e.exports={"object-viewer":"ObjectViewer_object-viewer__8k3ak"}},217:function(e){e.exports=JSON.parse('{"name":"reshell","version":"0.0.1-alpha","private":true,"dependencies":{"@craco/craco":"^6.2.0","@react-spring/web":"^9.2.4","@szhsin/react-menu":"^2.1.0","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","@use-gesture/react":"^10.1.1","animate.css":"^4.1.1","axios":"^0.23.0","classnames":"^2.3.1","concurrently":"^6.2.1","dayjs":"^1.10.7","debounce":"^1.2.1","media-stream-track-controller":"github:zenosmosis/media-stream-track-controller#feature/phantom-core-2.0.0-alpha","phantom-core":"github:zenosmosis/phantom-core#v2/feature--core-utils","preload-it":"^1.4.0","query-string":"^7.0.1","react":"^17.0.2","react-dom":"^17.0.2","react-json-view":"^1.21.3","react-router-dom":"^5.3.0","react-scripts":"4.0.3","resize-observer":"^1.0.2","secure-ls":"^1.2.6","socket.io-client":"^4.3.0","web-vitals":"^1.0.1","xterm":"^4.14.1","xterm-addon-fit":"^0.5.0","xterm-addon-web-links":"^0.4.0"},"scripts":{"start":"HTTPS=true craco start","start:no-ssl":"craco start","start:docker.dev":"npm run stop:docker.dev && docker-compose -f docker-compose.dev.yml up","stop:docker.dev":"docker-compose -f docker-compose.dev.yml down --remove-orphans","build:docker.dev":"docker-compose -f docker-compose.dev.yml build","start:frontend-with-hostbridge-proxy":"concurrently \\"npm run start:host-bridge\\" \\"npm run start\\"","start:host-bridge":"cd host.bridge-prototype && npm install node-pty && npm run start:dev","build":"craco build","build:with-profiling":"craco build --profile","test":"craco test","eject":"craco eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},231:function(e,t,n){e.exports={levels:"AudioLevelMeter_levels__3baNN","level-container":"AudioLevelMeter_level-container__12piT",level:"AudioLevelMeter_level__2fRqJ","level-animation":"AudioLevelMeter_level-animation__251Dc"}},232:function(e,t,n){e.exports={"loading-wrapper":"StaggeredWaveLoading_loading-wrapper__35kvv",loading:"StaggeredWaveLoading_loading__9ah1x",dot:"StaggeredWaveLoading_dot__1cWhz",wave:"StaggeredWaveLoading_wave__Du7Gv"}},233:function(e,t,n){e.exports={vu:"VUMeter_vu__Xlt7R",mask:"VUMeter_mask__2OXhL",needle:"VUMeter_needle__AmMsB","vu-label":"VUMeter_vu-label__3kDDJ"}},234:function(e,t,n){e.exports={video:"Video_video__2GgL9"}},235:function(e,t,n){},238:function(e,t,n){"use strict";n.r(t);var i=n(2),r=n.n(i),c=n(13),a=n(24),o=n(53),s=n(11),l=n(1),u=n.n(l),d=n(82);function useDesktopContext(){return Object(l.useContext)(d.a)}var j=n(81);function useAppRuntimesContext(){return Object(l.useContext)(j.a)}var b=n(151),O=n(7),h=u.a.createContext({});function WindowManagerRouteProvider(e){var t,n=e.children,i=Object(b.e)(),r=useAppRuntimesContext().getAppRuntimesWithRegistrationID,c=Object(l.useState)([]),a=Object(s.a)(c,2),o=a[0],u=a[1];Object(l.useEffect)((function(){var e,t=null===(e=i.pathname)||void 0===e?void 0:e.substring(1),n=r(t);u(n)}),[i,r]);var d=useDesktopContext().activeWindowController,j=null===d||void 0===d||null===(t=d.getAppRuntime())||void 0===t?void 0:t.getRegistrationID(),f=Object(b.d)();return Object(l.useEffect)((function(){f.push(j?"/".concat(j):"/")}),[j,f]),Object(O.jsx)(h.Provider,{value:{locationAppRuntimes:o},children:n})}var f=n(4),v=n(8),p=n(6),m=n(5),x=n(54),g=n.n(x),w=n(191),C=n.n(w),y=["className","children","isAccelerated","onMount","onDOMMatrix"],k=function StackingContext(e){var t=e.className,n=e.children,i=e.isAccelerated,r=void 0!==i&&i,a=e.onMount,s=void 0===a?function(){return null}:a,u=e.onDOMMatrix,d=void 0===u?function(){return null}:u,j=Object(o.a)(e,y),b=Object(l.useRef)(s),h=Object(l.useRef)(d),f=Object(l.useRef)(r),v=Object(l.useRef)(null);return Object(l.useEffect)((function(){var e=v.current;if(e){var t=b.current,n=h.current;f.current&&setTimeout((function(){var t=window.getComputedStyle(e),i=new DOMMatrix(t.transform);i.is2D&&console.warn("Unable to apply, or detect, added 3D space to accelerated element",e),n(i)})),t(e)}}),[]),Object(O.jsx)("div",Object(c.a)(Object(c.a)({ref:v},j),{},{className:g()(C.a["stacking-context"],r&&C.a.accelerated,t),children:n}))},S=n(192),A=n.n(S),_=["children","className"],N=function(e){Object(p.a)(Full,e);var t=Object(m.a)(Full);function Full(){return Object(f.a)(this,Full),t.apply(this,arguments)}return Object(v.a)(Full,[{key:"render",value:function render(){var e=this.props,t=e.children,n=e.className,i=Object(o.a)(e,_);return Object(O.jsx)(k,Object(c.a)(Object(c.a)({},i),{},{className:g()(A.a.full,n),children:t}))}}]),Full}(l.Component),M=n(193),T=n.n(M),E=["isVisible","children","className"],D=u.a.forwardRef((function Cover(e,t){var n=e.isVisible,i=void 0===n||n,r=e.children,a=(e.className,Object(o.a)(e,E));return Object(O.jsx)(N,Object(c.a)(Object(c.a)({ref:t},a),{},{className:g()(T.a.cover,i?"":T.a["no-display"]),children:r}))})),R=n(0),z=n.n(R),I=n(3),W=n(16),P=n(12),V=n(9),L=n(194),B="render-profile",F="resized",U=function(e){Object(p.a)(WindowController,e);var t=Object(m.a)(WindowController);function WindowController(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,c=r.onBringToTop;Object(f.a)(this,WindowController);var a={isMaximized:!1,isMinimized:!1,title:(e=t.call(this)).getTitle()};return e._state=Object.seal(Object(i.deepMerge)(a,n)),e._appRuntime=null,e._windowEl=null,e._windowManagerEl=null,e._handleBringToTop=c,e._emitDebouncedResized=Object(L.debounce)(e._emitDebouncedResized.bind(Object(W.a)(e)),500),e._emitDebouncedMoved=Object(L.debounce)(e._emitDebouncedMoved.bind(Object(W.a)(e)),500),e._centerHandler=null,e._scatterHandler=null,e}return Object(v.a)(WindowController,[{key:"destroy",value:function(){var e=Object(I.a)(z.a.mark((function _callee(){return z.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(this._emitDebouncedResized.clear(),!this._appRuntime){e.next=4;break}return e.next=4,this._appRuntime.destroy();case 4:return this._state={},this._appRuntime=null,this._windowEl=null,this._windowManagerEl=null,e.abrupt("return",Object(P.a)(Object(V.a)(WindowController.prototype),"destroy",this).call(this));case 9:case"end":return e.stop()}}),_callee,this)})));return function destroy(){return e.apply(this,arguments)}}()},{key:"__INTERNAL__setCenterHandler",value:function __INTERNAL__setCenterHandler(e){this._centerHandler=e}},{key:"center",value:function center(){return this._centerHandler()}},{key:"__INTERNAL__setScatterHandler",value:function __INTERNAL__setScatterHandler(e){this._scatterHandler=e}},{key:"scatter",value:function scatter(){return this._scatterHandler()}},{key:"bringToTop",value:function bringToTop(){this._handleBringToTop(this)}},{key:"captureRenderProfile",value:function captureRenderProfile(e){this.emit(B,e)}},{key:"attachWindowElement",value:function attachWindowElement(e){this._windowEl=e}},{key:"attachWindowManagerElement",value:function attachWindowManagerElement(e){this._windowManagerEl=e}},{key:"setAppRuntime",value:function setAppRuntime(e){this._appRuntime=e,this._appRuntime.setTitle(this.getTitle())}},{key:"getAppRuntime",value:function getAppRuntime(){return this._appRuntime}},{key:"getAppRegistration",value:function getAppRegistration(){var e=this.getAppRuntime();if(e)return e.getRegistration()}},{key:"setSize",value:function setSize(e){var t=this,n=e.width,i=e.height,r=this._windowEl;r&&window.requestAnimationFrame((function(){void 0!==n&&(r.style.width="".concat(n,"px")),void 0!==i&&(r.style.height="".concat(i,"px")),t._emitDebouncedResized()}))}},{key:"_emitDebouncedResized",value:function _emitDebouncedResized(){this.emit(F)}},{key:"getSize",value:function getSize(){var e=this._windowEl;if(e)return{width:e.offsetWidth,height:e.offsetHeight};console.warn("Unable to acquire windowEl")}},{key:"getWindowManagerSize",value:function getWindowManagerSize(){var e=this._windowManagerEl;if(e)return{width:parseInt(e.offsetWidth,10),height:parseInt(e.offsetHeight,10)};console.warn("Unable to acquire windowManagerEl")}},{key:"setPosition",value:function setPosition(e){var t=this,n=e.x,i=e.y,r=this._windowEl;r&&window.requestAnimationFrame((function(){void 0!==n&&(r.style.left="".concat(n,"px"),delete r.style.right),void 0!==i&&(r.style.top="".concat(i,"px"),delete r.style.bottom),t._emitDebouncedMoved()}))}},{key:"_emitDebouncedMoved",value:function _emitDebouncedMoved(){this.emit("moved")}},{key:"getPosition",value:function getPosition(){var e=this._windowEl;if(e)return{x:parseInt(e.offsetLeft,10),y:parseInt(e.offsetTop,10)}}},{key:"getIsBorderDisabled",value:function getIsBorderDisabled(){return this.getIsMaximized()||this.getIsMinimized()}},{key:"setState",value:function setState(e){if("object"!==typeof e)throw new TypeError("partialNextState is not an object");void 0!==e.title&&this._appRuntime&&this._appRuntime.setTitle(e.title),e.isMaximized?e.isMinimized=!1:e.isMinimized&&(e.isMaximized=!1),this._state=Object(i.deepMerge)(this._state,e),this.emit(i.EVT_UPDATED,e)}},{key:"setTitle",value:function setTitle(e){this.setState({title:e}),Object(P.a)(Object(V.a)(WindowController.prototype),"setTitle",this).call(this,e)}},{key:"getState",value:function getState(){return this._state}},{key:"setIsMaximized",value:function setIsMaximized(e){return this.setState({isMaximized:e})}},{key:"maximize",value:function maximize(){return this.setIsMaximized(!0)}},{key:"getIsMaximized",value:function getIsMaximized(){return this._state.isMaximized}},{key:"setIsMinimized",value:function setIsMinimized(e){return this.setState({isMinimized:e})}},{key:"minimize",value:function minimize(){return this.setIsMinimized(!0)}},{key:"getIsMinimized",value:function getIsMinimized(){return this._state.isMinimized}},{key:"restore",value:function restore(){this.setState({isMaximized:!1,isMinimized:!1})}}]),WindowController}(r.a),H=n(157),K=n.n(H),Y=["className","children"];function Header(e){var t=e.className,n=e.children,i=Object(o.a)(e,Y);return Object(O.jsx)("div",Object(c.a)(Object(c.a)({},i),{},{className:g()(K.a.header,t),children:Object(O.jsx)(N,{children:n})}))}var Q=["className","children"];function Content_Content(e){var t=e.className,n=e.children,i=Object(o.a)(e,Q);return Object(O.jsx)("div",Object(c.a)(Object(c.a)({},i),{},{className:g()(K.a.content,t),children:Object(O.jsx)(N,{children:n})}))}var G=["className","children"];function Footer(e){var t=e.className,n=e.children,i=Object(o.a)(e,G);return Object(O.jsx)("div",Object(c.a)(Object(c.a)({},i),{},{className:g()(K.a.footer,t),children:Object(O.jsx)(N,{children:n})}))}var Z=n(195),q=n.n(Z),J=["children","className"],X=["children","className"];function Row(e){var t=e.children,n=e.className,i=Object(o.a)(e,J);return Object(O.jsx)("div",Object(c.a)(Object(c.a)({},i),{},{className:g()(q.a.row,n),children:t}))}function Column(e){var t=e.children,n=e.className,i=Object(o.a)(e,X);return Object(O.jsx)("div",Object(c.a)(Object(c.a)({},i),{},{className:g()(q.a.column,n),children:t}))}var $=["className","children"];var ee=function Layout(e){var t=e.className,n=e.children,i=Object(o.a)(e,$);return Object(O.jsx)(N,Object(c.a)(Object(c.a)({},i),{},{className:g()(K.a.layout,t),children:n}))},te=n(172),ne=["children","onBorderDrag","borderWidth","isDisabled"],ie="SE",re="SW",ce=function useDirectionalDragger(e,t){return Object(te.useDrag)((function(n){var i=n.down,r=Object(s.a)(n.movement,2),c=r[0],a=r[1];t(e,{mx:c,my:a,isDragging:i})}),{pointer:{touch:!0}})};var ae=n(197),oe=n.n(ae),se=["children","className"];var le=function NoWrap(e){var t=e.children,n=e.className,i=Object(o.a)(e,se);return Object(O.jsx)("span",Object(c.a)(Object(c.a)({},i),{},{className:g()(oe.a["no-wrap"],n),children:t}))},ue=n(163),de=n.n(ue);function WindowTitlebarMaximizeButton(e){var t=Object.assign({},e);return Object(O.jsx)(WindowTitlebarButton,Object(c.a)(Object(c.a)({},t),{},{className:de.a.maximize}))}function WindowTitlebarMinimizeButton(e){var t=Object.assign({},e);return Object(O.jsx)(WindowTitlebarButton,Object(c.a)(Object(c.a)({},t),{},{className:de.a.minimize}))}function WindowTitlebarCloseButton(e){var t=Object.assign({},e);return Object(O.jsx)(WindowTitlebarButton,Object(c.a)(Object(c.a)({},t),{},{className:de.a.close}))}function WindowTitlebarButton(e){var t=Object.assign({},e);return Object(O.jsx)("button",Object(c.a)({},t))}var je=["onElTitlebar","title","onRestoreOrMaximize","onMinimize","onClose","titleBarView"];var be=function WindowTitlebar(e){var t=e.onElTitlebar,n=e.title,i=e.onRestoreOrMaximize,r=e.onMinimize,a=e.onClose,s=e.titleBarView,l=Object(o.a)(e,je);return Object(O.jsxs)("div",Object(c.a)(Object(c.a)({},l),{},{ref:t,className:de.a.titlebar,onDoubleClick:i,children:[s?Object(O.jsx)(N,{children:s}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(le,{style:{width:80}}),Object(O.jsx)(le,{className:de.a.title,children:n})]}),Object(O.jsxs)(le,{className:de.a["window-controls"],children:[Object(O.jsx)(WindowTitlebarMaximizeButton,{onClick:i}),Object(O.jsx)(WindowTitlebarMinimizeButton,{onClick:r}),Object(O.jsx)(WindowTitlebarCloseButton,{onClick:a})]})]}))};function getElCenterPoint(e){return{x:e.offsetLeft+e.offsetWidth/2,y:e.offsetTop+e.offsetHeight/2}}function getElSize(e){return{width:e.offsetWidth,height:e.offsetHeight}}n(198);function useAnimation(e){var t=e.domElement,n=e.animationName,i=e.animationDuration,r=void 0===i?"1s":i,c=e.animationDelay,a=void 0===c?"0s":c,o=e.onAnimationEnd,s=e.animationEngine,u=void 0===s?"animate.css":s,d=e.isDisabled,j=void 0!==d&&d,b=e.shouldRun,O=void 0===b||b;"string"!==typeof r&&console.warn('animationDuration should be a string (i.e. "1s")'),"string"!==typeof a&&console.warn('animationDelay should be a string (i.e. "0s")');var h=Object(l.useRef)(o);Object(l.useEffect)((function(){if(O&&t){if(!j){var e=t.classList;switch(t.style.visibility="visible",t.style.animationDuration=r,t.style.animationDelay=a,u){case"animate.css":!function(){var i="animate__animated";e.contains(i)||t.classList.add(i),e.contains("animate__"+n)||t.classList.add("animate__"+n)}();break;default:throw new Error("Unsupported animation engine: ".concat(u))}var i=h.current;return t.addEventListener("animationend",i),function unmount(){t.removeEventListener("animationend",i)}}t.style.visibility="visible"}}),[u,n,r,a,t,j,O])}var Oe=["children","elWindowManager","windowController","isActive","isProfiling","titleBarView","style"],he=function WindowView(e){var t=e.children,n=e.elWindowManager,r=e.windowController,a=e.isActive,d=e.isProfiling,j=void 0===d||d,b=e.titleBarView,h=void 0===b?null:b,f=e.style,v=void 0===f?{}:f,p=Object(o.a)(e,Oe),m=Object(l.useState)(null),x=Object(s.a)(m,2),w=x[0],C=x[1],y=function useWindowOpenAnimation(e){var t=Object(l.useState)(!1),n=Object(s.a)(t,2),i=n[0],r=n[1];return useAnimation({domElement:e,animationName:"zoomInUp",animationDuration:".5s",shouldRun:Boolean(e),onAnimationEnd:function onAnimationEnd(){return r(!0)}}),{isOpenAnimationEnded:i}}(w).isOpenAnimationEnded;!function useWindowAutoPositioner(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return null},r=Object(l.useRef)(null);t&&(r.current=i);var c=Object(l.useCallback)((function(){var i=getElCenterPoint(e),r=getElSize(t),c=i.x-r.width/2,a=i.y-r.height/2;n.setPosition({x:c,y:a})}),[e,t,n]),a=Object(l.useCallback)((function(){if(n){var i=getElSize(e),r=getElSize(t),c=Math.floor(Math.random()*(i.width-r.width)),a=Math.floor(Math.random()*(i.height-r.height));n.setPosition({x:c,y:a})}}),[e,t,n]),o=useAppRuntimesContext().appRuntimes,s=Object(l.useRef)(o);Object(l.useEffect)((function(){e&&t&&n&&(n.__INTERNAL__setCenterHandler(c),n.__INTERNAL__setScatterHandler(a),requestAnimationFrame((function(){s.current.length<2?c():a(),requestAnimationFrame((function(){r.current()}))})))}),[e,t,n,c,a])}(n,w,r);var S=Object(l.useState)(0),A=Object(s.a)(S,2),_=A[0],M=A[1],T=Object(l.useState)(null),E=Object(s.a)(T,2),D=E[0],R=E[1];Object(l.useEffect)((function(){r&&w&&r.attachWindowElement(w)}),[r,w]);var z=Object(l.useState)(!1),I=Object(s.a)(z,2),W=I[0],P=I[1],V=Object(l.useRef)(null);V.current=W;var L=Object(l.useState)(!1),B=Object(s.a)(L,2),F=B[0],U=B[1],H=Object(l.useState)(!1),K=Object(s.a)(H,2),Y=K[0],Q=K[1];Object(l.useEffect)((function(){if(r){var e=function _handleWindowControllerUpdate(e){e||(e=r.getState()||{}),void 0!==e.title&&e.title!==D&&R(e.title),void 0!==e.stackingIndex&&e.stackingIndex!==_&&M(e.stackingIndex),void 0!==e.isMaximized&&U(e.isMaximized),void 0!==e.isMinimized&&Q(e.isMinimized);var t=r.getIsBorderDisabled();V.current!==t&&P(t)};return e(),r.on(i.EVT_UPDATED,e),function unmount(){r.off(i.EVT_UPDATED,e)}}}),[r,D,_]);var G=function useWindowControls(e){return{onRestoreOrMaximize:Object(l.useCallback)((function(){e.getIsMaximized()?e.restore():e.maximize()}),[e]),onMinimize:Object(l.useCallback)((function(){e.minimize()}),[e]),onClose:Object(l.useCallback)((function(){e.destroy()}),[e])}}(r),Z=G.onRestoreOrMaximize,q=G.onMinimize,J=G.onClose,X=function useWindowDragger(e){var t=e.windowController,n=e.isDisabled,i=Object(l.useRef)(null),r=Object(l.useRef)(null),c=Object(l.useState)(!1),a=Object(s.a)(c,2),o=a[0],u=a[1];return[Object(te.useDrag)((function(e){var c=e.down,a=Object(s.a)(e.movement,2),l=a[0],d=a[1],j=e.xy,b=e.event;if(!n&&"BUTTON"!==b.target.tagName.toUpperCase())if(c!==o&&u(c),c){i.current||(i.current=t.getPosition()),r.current||(r.current=t.getWindowManagerSize());var O=i.current.x+l,h=i.current.y+d,f=r.current.width,v=r.current.height;h<0&&(h=0),h>v-58&&(h=v-58),j[0]<0&&(O=null),j[0]>f-0&&(O=null),t.setPosition({x:O,y:h})}else i.current=null,r.current=null}),{pointer:{touch:!0}}),o]}({windowController:r,isDisabled:W}),$=Object(s.a)(X,2),ne=$[0],ce=$[1],ae=function useWindowDragResizer(e){var t=e.windowController,n=Object(l.useRef)(null),i=Object(l.useRef)(null),r=Object(l.useState)(!1),a=Object(s.a)(r,2),o=a[0],u=a[1];return[Object(l.useCallback)((function(e,r){var a=r.mx,s=r.my,l=r.isDragging;if(l!==o&&u(l),l){n.current||(n.current=Object(c.a)(Object(c.a)({},t.getSize()),t.getPosition())),i.current||(i.current=t.getWindowManagerSize());var d=n.current.width,j=n.current.height,b=n.current.x,O=n.current.y,h=i.current.width,f=i.current.height;switch(e){case"NW":d-=a,j-=s,b+=a,O+=s;break;case"N":j-=s,O+=s;break;case"NE":j-=s,d+=a,O+=s;break;case"E":d+=a;break;case ie:d+=a,j+=s;break;case"S":j+=s;break;case re:d-=a,j+=s,b+=a;break;case"W":d-=a,b+=a;break;default:throw new ReferenceError("Unknown direction: ".concat(e))}if(b<0){var v=0-b;b=0,d-=v}if(O<0){var p=0-O;O=0,j-=p}if(d+b>h&&(d=h-b,b=null),j+O>f&&("S"!==e&&e!==ie&&e!==re||(j=f-O,O=null)),f-O<58)return;t.setSize({width:d,height:j}),t.setPosition({x:b,y:O})}else n.current=null,i.current=null}),[t,o]),o]}({windowController:r}),oe=Object(s.a)(ae,2),se=oe[0],le=oe[1],ue=Object(l.useMemo)((function(){return function(e){var t=Object.assign({},e);return j?Object(O.jsx)(u.a.Profiler,Object(c.a)(Object(c.a)({},t),{},{id:r.getUUID(),onRender:function onRender(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.captureRenderProfile(t)}})):Object(O.jsx)(u.a.Fragment,Object(c.a)({},t))}}),[j,r]),je=function useWindowStyles(e){var t=e.style,n=e.isMaximized,i=e.isMinimized;return{outerBorderStyle:Object(l.useMemo)((function(){return n||i?{}:{width:t.width,height:t.height}}),[t.width,t.height,n,i]),windowStyle:Object(l.useMemo)((function(){return{backgroundColor:t.backgroundColor}}),[t.backgroundColor]),bodyStyle:Object(l.useMemo)((function(){return{padding:t.padding}}),[t.padding])}}({style:v,isMaximized:F,isMinimized:Y}),he=je.outerBorderStyle,fe=je.windowStyle,ve=je.bodyStyle;return Object(O.jsx)(ue,{children:Object(O.jsx)(k,Object(c.a)(Object(c.a)({onMount:C},p),{},{style:Object(c.a)(Object(c.a)({},he),{},{zIndex:_}),className:g()(de.a["window-outer-border"],!y&&de.a.hidden,a&&de.a.active,F&&de.a.maximized,Y&&de.a.minimized,(ce||le)&&de.a.dragging),isAccelerated:!0,children:Object(O.jsx)(WindowView.Border,{isDisabled:W,onBorderDrag:se,children:Object(O.jsx)(N,{className:g()(de.a.window,a&&de.a.active,ce&&de.a.dragging),style:fe,children:Object(O.jsxs)(ee,{children:[Object(O.jsx)(Header,{children:Object(O.jsx)(be,Object(c.a)(Object(c.a)({},ne()),{},{title:D,onRestoreOrMaximize:Z,onMinimize:q,onClose:J,titleBarView:h}))}),Object(O.jsx)(Content_Content,{className:de.a.body,style:ve,children:t})]})})})}))})};he.Border=function WindowBorder(e){var t=e.children,n=e.onBorderDrag,i=e.borderWidth,r=void 0===i?3:i,a=e.isDisabled,s=void 0!==a&&a,l=Object(o.a)(e,ne),u=ce("NW",n),d=ce("N",n),j=ce("NE",n),b=ce("E",n),h=ce(ie,n),f=ce("S",n),v=ce(re,n),p=ce("W",n);return Object(O.jsxs)(ee,Object(c.a)(Object(c.a)({},l),{},{children:[Object(O.jsx)(Header,{children:!s&&Object(O.jsxs)(Row,{style:{maxHeight:r,height:r},children:[Object(O.jsx)(Column,Object(c.a)(Object(c.a)({},u()),{},{style:{maxWidth:r,cursor:"nwse-resize"}})),Object(O.jsx)(Column,Object(c.a)(Object(c.a)({},d()),{},{style:{cursor:"ns-resize"}})),Object(O.jsx)(Column,Object(c.a)(Object(c.a)({},j()),{},{style:{maxWidth:r,cursor:"nesw-resize"}}))]})}),Object(O.jsx)(Content_Content,{children:Object(O.jsxs)(Row,{children:[!s&&Object(O.jsx)(Column,Object(c.a)(Object(c.a)({},p()),{},{style:{maxWidth:r,cursor:"ew-resize"}})),Object(O.jsx)(Column,{children:t}),!s&&Object(O.jsx)(Column,Object(c.a)(Object(c.a)({},b()),{},{style:{maxWidth:r,cursor:"ew-resize"}}))]})}),Object(O.jsx)(Footer,{children:!s&&Object(O.jsxs)(Row,{style:{maxHeight:r,height:r},children:[Object(O.jsx)(Column,Object(c.a)(Object(c.a)({},v()),{},{style:{maxWidth:r,cursor:"nesw-resize"}})),Object(O.jsx)(Column,Object(c.a)(Object(c.a)({},f()),{},{style:{cursor:"ns-resize"}})),Object(O.jsx)(Column,Object(c.a)(Object(c.a)({},h()),{},{style:{maxWidth:r,cursor:"nwse-resize"}}))]})})]}))};var fe=he,ve=["children","elWindowManager","isActive","titleBarView","style"],pe=u.a.forwardRef((function(e,t){var n=e.children,i=e.elWindowManager,r=e.isActive,a=e.titleBarView,u=e.style,d=void 0===u?{}:u,j=Object(o.a)(e,ve),b=Object(l.useState)(null),h=Object(s.a)(b,2),f=h[0],v=h[1];return Object(l.useImperativeHandle)(t,(function(){return{attachWindowController:v}})),f?Object(O.jsx)(fe,Object(c.a)(Object(c.a)({},j),{},{style:d,elWindowManager:i,windowController:f,isActive:r,titleBarView:a,children:n})):null}));var me=u.a.createContext({});function WindowProvider(e){var t=e.children,n=e.initialSharedState,i=function useObjectState(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(l.useState)(e),n=Object(s.a)(t,2),i=n[0],r=n[1],a=Object(l.useRef)(i);a.current=i;var o=Object(l.useCallback)((function(e){switch(typeof e){case"string":try{e=JSON.parse(e)}catch(t){console.error("Unable to parse string.  Did you forget to use an Object when setting object state?",{err:t})}break;case"function":e=e(a.current);break;case"object":break;default:console.warn("Unhandled updatedState type: ".concat(typeof e))}return r((function(t){return Object(c.a)(Object(c.a)({},t),e)}))}),[]);return[i,o]}(void 0===n?{}:n),r=Object(s.a)(i,2),a=r[0],o=r[1];return Object(O.jsx)(me.Provider,{value:{setSharedState:o,sharedState:a},children:t})}var xe=n(41);function useServicesContext(){return Object(l.useContext)(xe.a)}var ge=n(42);function useAppRegistrationsContext(){return Object(l.useContext)(ge.a)}var we=n(28);var Ce=["view","titleBarView","initialSharedState","id","title","serviceClasses","isPinned","isPinnedToDock","isAutoStart"],ye=["titleBarView"],ke=0;function WindowManagerView(e){var t=e.appDescriptors,n=void 0===t?[]:t,r=e.children,u=useAppRegistrationsContext().addOrUpdateAppRegistration,d=useAppRuntimesContext().appRuntimes,j=Object(l.useState)(null),b=Object(s.a)(j,2),h=b[0],f=b[1];Object(l.useEffect)((function(){n.forEach((function(e){return u(e)}))}),[n,u]);var v=useDesktopContext(),p=v.activeWindowController,m=v.setActiveWindowController,x=Object(l.useState)({}),g=Object(s.a)(x,2),w=g[0],C=g[1],y=Object(l.useCallback)((function(e){return w[e]}),[w]),k=Object(l.useRef)(null);k.current=p;var S=Object(l.useCallback)((function(e){(null===e||void 0===e?void 0:e.getIsMinimized())&&e.setIsMinimized(!1),Object.is(e,k.current)||(m(e),e&&e.setState({stackingIndex:++ke}))}),[m]),A=Object(l.useCallback)((function(e){return Object.is(p,e)}),[p]),_=useServicesContext().startService,N=Object(l.useRef)(S);N.current=S,Object(l.useEffect)((function(){if(h){var e=function _handleElBaseTouch(e){e.target===h&&N.current(null)};return h.addEventListener("mousedown",e),h.addEventListener("touchstart",e,{passive:!0}),function unmount(){h.removeEventListener("mousedown",e),h.removeEventListener("touchstart",e,{passive:!0})}}}),[h]);var M=d.map((function(e){var t=e.getUUID(),n=e.getAppDescriptor(),r=n.view,s=n.titleBarView,l=n.initialSharedState,u=(n.id,n.title),d=n.serviceClasses,j=void 0===d?[]:d,b=(n.isPinned,n.isPinnedToDock,n.isAutoStart,Object(o.a)(n,Ce));if(!r)return null;var f=y(t),v=f&&f.windowController;if(f&&!f.windowController)return null;var p,m={},x=Object(a.a)(j);try{for(x.s();!(p=x.n()).done;){var g=p.value,w=_(g);m[g]=w}}catch(k){x.e(k)}finally{x.f()}return Object(O.jsx)(WindowProvider,{initialSharedState:l,children:Object(O.jsx)(pe,Object(c.a)(Object(c.a)({},b),{},{elWindowManager:h,isActive:A(v),onMouseDown:function onMouseDown(){return S(v)},onTouchStart:function onTouchStart(){return S(v)},titleBarView:s?Object(O.jsx)(Se,{titleBarView:s,appServices:m,windowController:v,appRuntime:e}):null,ref:function ref(n){if(n&&!v){var r=new U({},{onBringToTop:S});r.setTitle(u),r.attachWindowManagerElement(h),r.setAppRuntime(e),e.setWindowController(r),n.attachWindowController(r),C((function(e){var n=Object(c.a)({},e);return n[t]={windowController:r,key:t},n})),r.once(i.EVT_DESTROYED,(function(){C((function(e){var n=Object(c.a)({},e);return n[t].windowController=null,n}))})),S(r)}},children:v&&Object(O.jsx)(Ae,{appServices:m,windowController:v,appRuntime:e,view:r})}))},t)})).filter((function(e){return Boolean(e)}));return Object(O.jsx)(D,{children:Object(O.jsxs)("div",{ref:f,style:{width:"100%",height:"100%",position:"relative"},children:[r,M]})})}var Se=function WrappedTitleBarView(e){var t=e.titleBarView,n=Object(o.a)(e,ye);return Object(O.jsx)(Ae,Object(c.a)(Object(c.a)({},n),{},{view:t}))},Ae=function WrappedView(e){var t=e.appServices,n=e.windowController,r=e.appRuntime,c=e.view,a=Object(we.a)(),o=function useWindowContext(){return Object(l.useContext)(me)}(),s=o.sharedState,u=o.setSharedState;Object(l.useEffect)((function(){for(var e=function _handleServiceUpdate(){a()},n=0,r=Object.values(t);n<r.length;n++){r[n].on(i.EVT_UPDATED,e)}return function unmount(){for(var n=0,r=Object.values(t);n<r.length;n++){r[n].off(i.EVT_UPDATED,e)}}}),[t,a]);var d=function useRegistrationViewOnResized(e){var t=Object(l.useRef)(null),n=Object(l.useCallback)((function(e){t.current=e}),[]);return Object(l.useEffect)((function(){if(e){if(!(e instanceof U))throw new TypeError("windowController is not a WindowController");var n=function _handleExecResizedCallback(){var e=t.current;"function"===typeof e&&e()};return e.on(F,n),function unmount(){e.off(F,n)}}}),[e]),n}(n);return Object(O.jsx)(c,{windowController:n,appServices:t,appRuntime:r,setResizeHandler:d,sharedState:s,setSharedState:u})},_e=function WindowManager(e){var t=e.appDescriptors,n=void 0===t?[]:t,i=e.children;return Object(O.jsx)(WindowManagerRouteProvider,{children:Object(O.jsx)(WindowManagerView,{appDescriptors:n,children:i})})},Ne=n(199),Me=n.n(Ne),Te=["color"];var Ee=function LED(e){var t=e.color,n=void 0===t?null:t,i=Object(o.a)(e,Te);return Object(O.jsx)("div",Object(c.a)(Object(c.a)({},i),{},{className:g()(Me.a.led,Me.a[n])}))},De=n(23);var Re=function Dock(){var e=useDesktopContext().activeWindowController,t=useAppRuntimesContext(),n=t.runningRegistrations,i=t.bringToFrontOrStartAppRuntime,r=useAppRegistrationsContext().appRegistrations,c=Object(l.useMemo)((function(){return Object(De.a)(new Set([].concat(Object(De.a)(r.filter((function(e){return e.getIsPinnedToDock()}))),Object(De.a)(n))))}),[r,n]),a=Object(l.useMemo)((function(){return null===e||void 0===e?void 0:e.getAppRegistration()}),[e]);return Object(O.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",textAlign:"center",isolation:"isolate",zIndex:99999999},children:Object(O.jsx)("div",{style:{display:"inline-block",color:"black",whiteSpace:"nowrap",maxWidth:"100%",overflowX:"auto"},className:"button-group",children:c.map((function(e){return Object(O.jsxs)("button",{style:e===a?{backgroundColor:"rgba(38, 157, 255, .8)",color:"#000"}:{backgroundColor:"#000"},onClick:function onClick(){return i(e)},children:[e.getTitle()," "]},e.getUUID())}))})})},ze=n(200),Ie=n.n(ze),We=n(175),Pe=["children","className"];window.ResizeObserver||Object(We.install)();var Ve=function AutoScaler(e){var t=e.children,n=e.className,i=Object(o.a)(e,Pe),r=Object(l.useState)(null),u=Object(s.a)(r,2),d=u[0],j=u[1],b=Object(l.useState)(null),h=Object(s.a)(b,2),f=h[0],v=h[1];return Object(l.useEffect)((function(){if(d&&f){var e={width:0,height:0},t={width:0,height:0};f.style.visibility="hidden";var n=new ResizeObserver((function(n){requestAnimationFrame((function(){var i,r=Object(a.a)(n);try{for(r.s();!(i=r.n()).done;){var c=i.value,o={width:c.target.offsetWidth,height:c.target.offsetHeight};c.target===d?e=o:t=o}}catch(j){r.e(j)}finally{r.f()}var s=e.width/t.width,l=e.height/t.height,u=Math.min(s,l);f.style.transform="scale(".concat(u,", ").concat(u,")"),"hidden"===f.style.visibility&&setTimeout((function(){f.style.visibility="visible"}),4)}))}));return n.observe(d),n.observe(f),function unmount(){n.unobserve(d),n.unobserve(f)}}}),[d,f]),Object(O.jsx)("div",Object(c.a)(Object(c.a)({},i),{},{ref:j,className:g()(Ie.a["auto-scaler"],n),children:Object(O.jsx)("div",{ref:v,className:Ie.a["content-wrap"],children:t})}))},Le=n(177),Be=n(55),Fe=n(155),Ue=(n(203),n(204),n(205),{overflow:"auto"}),He=Object(Fe.g)((function Menu(e){var t=Object.assign({},e);return Object(O.jsx)(Fe.a,Object(c.a)(Object(c.a)({},t),{},{portal:!0},Ue))}),Fe.a),Ke=Object(Fe.h)(Fe.f)((function SubMenu(e){var t=Object.assign({},e);return Object(O.jsx)(Fe.f,Object(c.a)(Object(c.a)({},t),Ue))})),Ye=He;function useAppRegistrationLink(e){var t=useAppRegistrationsContext().getAppRegistrationTitle,n=useAppRuntimesContext().switchToAppRegistrationID;return{title:Object(l.useMemo)((function(){return t(e)}),[t,e]),link:Object(l.useCallback)((function(){return n(e)}),[n,e])}}var Qe=n(206),Ge=n.n(Qe),Ze=["children","className"];var qe=function Padding(e){var t=e.children,n=e.className,i=Object(o.a)(e,Ze),r=Object(l.useState)(null),a=Object(s.a)(r,2),u=a[0],d=a[1],j=Object(l.useState)(!1),b=Object(s.a)(j,2),h=b[0],f=b[1];return Object(l.useEffect)((function(){if(u){var e=Boolean(Object(De.a)(u.parentNode.children).length>1);f(e)}}),[u]),Object(O.jsx)("div",Object(c.a)(Object(c.a)({},i),{},{ref:d,className:g()(Ge.a.padding,!h&&Ge.a["no-siblings"],n),children:t}))},Je=["onTick","className"];var Xe=function Timer(e){var t,n=e.onTick,i=(e.className,Object(o.a)(e,Je)),r=Object(l.useState)(n()),a=Object(s.a)(r,2),u=a[0],d=a[1],j=Object(l.useCallback)((function(){return n()}),[n]);return Object(l.useEffect)((function(){var e=function handleUpdate(){return d(j())};e();var t=setInterval(e,1e3);return function unmount(){clearInterval(t)}}),[j]),Object(O.jsx)(le,Object(c.a)(Object(c.a)({},i),{},{children:(t=u,new Date(t%86400*1e3).toISOString().substr(11,8))}))},$e="service-monitor",et={id:$e,title:"Service Monitor",style:{width:640,height:480},isPinned:!0,view:function View(){var e=Object(l.useContext)(xe.a).services;return Object(O.jsx)(qe,{style:{overflowY:"auto"},children:Object(O.jsxs)("table",{style:{width:"100%"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Service Name"}),Object(O.jsx)("td",{children:"Uptime"}),Object(O.jsx)("td",{children:"f(x)"})]})}),Object(O.jsx)("tbody",{children:e.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.getTitle()||"[Untitled]"}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)(Xe,{onTick:function onTick(){return e.getInstanceUptime()}})}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)("button",{onClick:function onClick(){return e.log(e.getState())},children:Object(O.jsx)(le,{children:"log(state)"})})})]},e.getUUID())}))})]})})}},tt=n(64),nt=n(207),it=n.n(nt);function usePreload(e){var t=Object(l.useState)(!1),n=Object(s.a)(t,2),i=n[0],r=n[1],c=Object(l.useState)(0),a=Object(s.a)(c,2),o=a[0],u=a[1],d=Object(l.useRef)(e);return Object(l.useEffect)((function(){var e=d;if(e.length){var t=new it.a;t.onprogress=function(e){u(e.progress)},t.oncomplete=function(){r(!0)},t.fetch(e)}else r(!0),u(100)}),[]),{isPreloaded:i,progress:o}}var rt=n(208),ct=n.n(rt),at=["className","children","animationName","animationDuration","animationDelay","animationEngine","preloadResources","onAnimationEnd","tag","inline","disabled"];var ot=function Animation(e){var t=e.className,n=e.children,i=e.animationName,r=e.animationDuration,a=e.animationDelay,u=e.animationEngine,d=void 0===u?"animate.css":u,j=e.preloadResources,b=void 0===j?[]:j,h=e.onAnimationEnd,f=void 0===h?function(){return null}:h,v=e.tag,p=void 0===v?"div":v,m=e.inline,x=void 0!==m&&m,w=e.disabled,C=void 0!==w&&w,y=Object(o.a)(e,at),k=Object(l.useState)(null),S=Object(s.a)(k,2),A=S[0],_=S[1],N=usePreload(b).isPreloaded;useAnimation({domElement:A,animationName:i,animationDuration:r,animationDelay:a,animationEngine:d,onAnimationEnd:f,isDisabled:C});var M=Object(l.useMemo)((function(){return p}),[p]);return N?Object(O.jsx)(M,Object(c.a)(Object(c.a)({},y),{},{ref:_,className:g()(ct.a.animation,x?ct.a.inline:null,t),children:n})):null},st=n(209),lt=n.n(st),ut=["children","className"];var dt=function ButtonTransparent(e){var t=e.children,n=e.className,i=Object(o.a)(e,ut);return Object(O.jsx)("button",Object(c.a)(Object(c.a)({className:g()(lt.a["button-transparent"],n)},i),{},{children:t}))},jt=n(210),bt=n.n(jt),Ot=["body","image","title","uuid","onClose","onClick","autoCloseTime"];function Notification(e){var t=e.body,n=e.image,i=e.title,r=e.uuid,a=e.onClose,d=e.onClick,j=e.autoCloseTime,b=void 0===j?4e3:j,h=Object(o.a)(e,Ot),f=Object(l.useState)(!1),v=Object(s.a)(f,2),p=v[0],m=v[1],x=Object(l.useRef)(a),g=Object(l.useCallback)((function(e){e&&e.stopPropagation(),m(!0),setTimeout((function(){x.current(r)}),500)}),[r]),w=Object(l.useState)(null),C=Object(s.a)(w,2),y=C[0],k=C[1];Object(l.useEffect)((function(){if(y){var e=null,t=function startTimeout(){e=setTimeout(g,b)};t();var n=function stopTimeout(){clearInterval(e)};return y.addEventListener("mouseover",n,{passive:!0}),y.addEventListener("mouseout",t,{passive:!0}),y.addEventListener("touchstart",n,{passive:!0}),function unmount(){y.removeEventListener("mouseover",n,{passive:!0}),y.removeEventListener("mouseout",t,{passive:!0}),y.removeEventListener("touchstart",n,{passive:!0}),n()}}}),[y,b,g]);var S=Object(l.useMemo)((function(){return function(){switch(typeof n){case"string":return Object(O.jsx)("img",{alt:i,src:n,className:bt.a["main-image"]});case"function":return n();default:return n||null}}}),[n,i]),A=Object(l.useMemo)((function(){return function(e){var t=Object.assign({},e);return"function"===typeof d?Object(O.jsx)(dt,Object(c.a)(Object(c.a)({},t),{},{onClick:d,className:bt.a["main-button"]})):Object(O.jsx)(u.a.Fragment,Object(c.a)({},t))}}),[d]);return Object(O.jsx)("div",Object(c.a)(Object(c.a)({ref:k,onTouchEnd:g,onMouseUp:g,className:bt.a.notification},h),{},{children:Object(O.jsx)(ot,{animationName:p?"slideOutRight":"slideInRight",animationDuration:".5s",children:Object(O.jsxs)("div",{className:bt.a["body-outer-wrap"],children:[Object(O.jsx)(A,{children:Object(O.jsxs)("div",{className:bt.a["body-inner-wrap"],children:[Object(O.jsx)("div",{className:bt.a.title,children:i}),Object(O.jsx)("div",{className:bt.a["main-image-wrap"],children:Object(O.jsx)(S,{})}),Object(O.jsx)("div",{className:bt.a.body,children:t})]})}),Object(O.jsx)(dt,{onClick:g,className:bt.a["close-button"],children:"X"})]})})}))}var ht=n(211),ft=n.n(ht);var vt=function NotificationsStack(e){var t=e.notifications,n=void 0===t?[]:t,i=e.onNotificationClose;return Object(O.jsx)("div",{className:ft.a["notifications-stack"],children:Object(O.jsx)("div",{className:ft.a["inner-wrap"],children:n.map((function(e){var t=e.body,n=e.image,r=e.onClick,c=e.title,a=e.uuid;return Object(O.jsx)("div",{children:Object(O.jsx)(Notification,{body:t,image:n,onClick:r,title:c,uuid:a,onClose:function onClose(){return i(a)}})},a)}))})})},pt=u.a.createContext({});function NotificationsProvider(e){var t=e.children,n=Object(l.useState)([]),i=Object(s.a)(n,2),r=i[0],c=i[1],a=Object(l.useCallback)((function(e){var t=e.image,n=e.title,i=e.body,r=e.onClick,a=e.onClose,o=void 0===a?function(){return null}:a;c((function(e){return[].concat(Object(De.a)(e),[{image:t,title:n,body:i,uuid:Object(tt.a)(),onClick:r,onClose:o}])}))}),[]),o=Object(l.useCallback)((function(e){c((function(t){return t.filter((function(t){var n=t.uuid,i=t.onClose,r=e!==n;return r||i(),r}))}))}),[]);return Object(O.jsxs)(pt.Provider,{value:{showNotification:a},children:[t,Object(O.jsx)(vt,{notifications:r,onNotificationClose:o})]})}var mt=function Desktop(e){var t=e.backgroundView,n=void 0===t?Object(O.jsx)("div",{style:{backgroundColor:"#ccc"}}):t,i=e.appDescriptors,c=useAppRegistrationLink($e).link,a=useServicesContext().services,o=useDesktopContext().activeWindowController,s=useAppRegistrationsContext().appRegistrations,l=useAppRuntimesContext(),u=l.bringToFrontOrStartAppRuntime,d=l.appRuntimes;return Object(O.jsx)(Le.a,{children:Object(O.jsxs)(NotificationsProvider,{children:[Object(O.jsx)(D,{children:n}),Object(O.jsx)(D,{children:Object(O.jsxs)(ee,{children:[Object(O.jsx)(Header,{style:{whiteSpace:"nowrap",backgroundColor:"rgba(0,0,0,.5)"},children:Object(O.jsxs)(Row,{children:[Object(O.jsx)(Column,{style:{width:"100%"},children:Object(O.jsxs)("div",{children:[Object(O.jsxs)(Ye,{menuButton:Object(O.jsx)(Fe.b,{children:"Desktop"}),children:[Object(O.jsx)(Ke,{label:"Applications",children:s.sort((function(e,t){var n=e.getTitle(),i=t.getTitle();return n<i?-1:i>n?1:0})).map((function(e){return Object(O.jsx)(Fe.e,{onClick:function onClick(){return u(e)},children:e.getTitle()},e.getUUID())}))}),s.filter((function(e){return e.getIsPinned()})).map((function(e){return Object(O.jsx)(Fe.e,{onClick:function onClick(){return u(e)},children:e.getTitle()},e.getUUID())})),Object(O.jsx)(Fe.c,{}),Object(O.jsx)(Fe.d,{children:"Global Window Management"}),Object(O.jsx)(Fe.e,{onClick:function onClick(){return d.forEach((function(e){var t=e.getWindowController();t&&t.scatter()}))},children:"Scatter Windows"}),Object(O.jsx)(Fe.e,{onClick:function onClick(){return d.forEach((function(e){var t=e.getWindowController();t&&t.center()}))},children:"Center Windows"}),Object(O.jsx)(Fe.c,{}),Object(O.jsx)(Fe.d,{children:"Desktop Operations"}),Object(O.jsx)(Fe.e,{onClick:function onClick(){return window.confirm("Are you sure you wish to close the desktop?")&&Be.a.destroy()},children:"Close"}),Object(O.jsx)(Fe.e,{onClick:function onClick(){return window.confirm("Are you sure you wish to reload?")&&Be.a.reload()},children:"Reload"})]}),o&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Ye,{portal:!0,menuButton:Object(O.jsx)(Fe.b,{children:Object(O.jsx)("span",{style:{fontWeight:"bold"},children:o.getTitle()})}),children:Object(O.jsx)(Fe.e,{onClick:function onClick(){return o.destroy()},children:"Close"})}),Object(O.jsxs)(Ye,{portal:!0,menuButton:Object(O.jsx)(Fe.b,{children:"Window"}),children:[Object(O.jsx)(Fe.e,{onClick:function onClick(){return o.setIsMinimized(!0)},children:"Minimize"}),Object(O.jsx)(Fe.e,{onClick:function onClick(){return o.setIsMaximized(!0)},children:"Maximize"}),Object(O.jsx)(Fe.e,{onClick:function onClick(){return o.restore()},children:"Restore"}),Object(O.jsx)(Fe.c,{}),Object(O.jsx)(Fe.e,{onClick:function onClick(){return o.center()},children:"Center"}),Object(O.jsx)(Fe.e,{onClick:function onClick(){return o.scatter()},children:"Scatter"})]})]})]})}),Object(O.jsx)(Column,{style:{maxWidth:110},children:Object(O.jsx)("div",{style:{textAlign:"right"},children:Object(O.jsx)(Ye,{portal:!0,menuButton:Object(O.jsxs)(Fe.b,{children:["Service Core"," ",Object(O.jsx)(Ee,{color:a.length>0?"green":"gray"})]}),children:0===a.length?Object(O.jsx)(Fe.e,{children:Object(O.jsx)("span",{style:{fontStyle:"italic"},children:"No running services"})}):a.map((function(e){return Object(O.jsx)(Fe.e,{onClick:c,children:e.getTitle()},e.getUUID())}))})})})]})}),Object(O.jsxs)(Content_Content,{children:[Object(O.jsx)("div",{style:{maxWidth:"50%",position:"absolute",bottom:28,right:10,color:"rgba(255,255,255,.2)",fontSize:"2rem"},children:Object(O.jsx)(Ve,{style:{whiteSpace:"nowrap"},children:Object(O.jsxs)("div",{style:{textAlign:"left",fontSize:".7em"},children:[Object(O.jsx)("div",{children:"ReShell 0.0.1-alpha"}),Object(O.jsxs)("div",{children:["PhantomCore ",r.a.getPhantomCoreVersion()]}),Object(O.jsxs)("div",{children:["Portal: ",Be.a.getPortalName()]}),Object(O.jsxs)("div",{children:["Env: ","production"]})]})})}),Object(O.jsx)(_e,{appDescriptors:i,children:Object(O.jsx)(Re,{})})]})]})})]})})},xt=n(212),gt=n.n(xt),wt=["children","className","onClick"];var Ct=function VirtualLink(e){var t=e.children,n=e.className,i=e.onClick,r=Object(o.a)(e,wt);return Object(O.jsx)(dt,Object(c.a)(Object(c.a)({},r),{},{className:g()("link",gt.a["virtual-link"],n),onClick:i,children:t}))},yt=n(213),kt=n.n(yt),St=n(71);window.ResizeObserver||Object(We.install)();var At=["children","className","canOverflow"];var _t=function Center(e){var t=e.children,n=e.className,i=e.canOverflow,r=void 0!==i&&i,a=Object(o.a)(e,At),u=Object(l.useState)(null),d=Object(s.a)(u,2),j=d[0],b=d[1],h=function useOverflowDetection(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(l.useRef)(null),i=Object(l.useCallback)((function(){return Object(St.a)(e)}),[e]),r=Object(l.useState)((function(){return i()})),c=Object(s.a)(r,2),a=c[0],o=c[1];return n.current=a,Object(l.useEffect)((function(){if(t&&e){var r=!1,c=function checkIsOverflown(){if(!r){var e=n.current,t=i();e!==t&&o(t)}},a=new ResizeObserver((function(){window.requestAnimationFrame(c)}));return a.observe(e),a.observe(e.parentNode),function unmount(){r=!0,a.observe(e),a.unobserve(e.parentNode)}}}),[t,e,i]),a}(j,r);return Object(O.jsx)("div",{className:g()(kt.a.center,r&&h&&kt.a.overflown,n),children:Object(O.jsx)("div",Object(c.a)(Object(c.a)({ref:b},a),{},{className:kt.a["inner-wrap"],children:t}))})};function consume(e){return Boolean(e),null}function ApplicationSelector(e){var t=e.searchQuery,n=void 0===t?"":t,i=e.onResetSearchQuery,r=useAppRegistrationsContext().appRegistrations,c=useAppRuntimesContext(),a=c.appRuntimes,o=c.bringToFrontOrStartAppRuntime,s=Object(l.useMemo)((function(){return a.map((function(e){return e.getRegistration()}))}),[a]),u=Object(l.useMemo)((function(){return r.filter((function(e){return!Boolean(n)||e.getTitle().toUpperCase().includes(n.toUpperCase())}))}),[r,n]);return(null===n||void 0===n?void 0:n.length)&&!u.length?Object(O.jsxs)(_t,{children:[Object(O.jsx)(qe,{style:{fontWeight:"bold"},children:"No applications found for search."}),Object(O.jsx)(qe,{children:Object(O.jsx)("button",{onClick:i,children:"Reset Search Query"})})]}):Object(O.jsx)(_t,{canOverflow:!0,children:Object(O.jsx)(qe,{children:u.map((function(e){var t=s.filter((function(t){return t===e})).length;return Object(O.jsxs)("button",{style:{width:100,height:100,overflow:"hidden",backgroundColor:"transparent",borderColor:t>0?"green":""},onClick:function onClick(){return o(e)},children:[e.getTitle(),Object(O.jsx)("div",{style:{position:"absolute",bottom:0,right:0},children:Object(De.a)(new Array(t)).map((function(e,n){return consume(e),Object(O.jsx)(Ee,{color:t>0?"green":"gray",style:{margin:"0px 2px"}},n)}))})]},e.getUUID())}))})})}function PortalSwitcher(){return Object(O.jsx)(_t,{canOverflow:!0,children:Object.entries(Be.a.getPortals()).map((function(e){var t=Object(s.a)(e,1)[0];return Object(O.jsx)("button",{onClick:function onClick(){return Be.a.switchToPortal(t)},children:t},t)}))})}var Nt=Object.keys(Be.a.getPortals()).length,Mt={id:"applications",title:"Applications",style:{width:640,height:400},isAutoStart:!0,isPinnedToDock:!0,initialSharedState:{searchQuery:""},titleBarView:function TitleBarView(e){var t=e.sharedState,n=e.setSharedState,i=Object(l.useCallback)((function(e){return n({searchQuery:e.target.value})}),[n]),r=Object(l.useCallback)((function(e){Boolean(t.searchQuery)&&e.stopPropagation()}),[t]);return Object(O.jsx)(qe,{children:Object(O.jsx)("input",{placeholder:"Search Applications",onChange:i,value:t.searchQuery,style:{width:"100%"},onDoubleClick:r})})},view:function View(e){var t=e.windowController,n=e.sharedState,i=e.setSharedState,r=Object(l.useState)(!1),c=Object(s.a)(r,2),a=c[0],o=c[1];Object(l.useEffect)((function(){t.setTitle(a?"Portals":"Applications")}),[t,a]);var u=null===n||void 0===n?void 0:n.searchQuery,d=Object(l.useCallback)((function(){return i({searchQuery:""})}),[i]);return Object(O.jsxs)(ee,{children:[Object(O.jsx)(Content_Content,{children:a?Object(O.jsx)(PortalSwitcher,{}):Object(O.jsx)(ApplicationSelector,{searchQuery:u,onResetSearchQuery:d})}),Boolean(Nt>1)&&Object(O.jsx)(Footer,{children:Object(O.jsxs)(qe,{children:[Object(O.jsx)("button",{onClick:function onClick(){return o((function(e){return!e}))},children:a?"Applications":"Portals"})," ",Object(O.jsx)("span",{className:"note",children:a?Object(O.jsxs)(O.Fragment,{children:["Return to"," ",Object(O.jsx)(Ct,{onClick:function onClick(){return o(!1)},children:"application list"}),"."]}):Object(O.jsxs)(O.Fragment,{children:["Other applications may be available in"," ",Object(O.jsx)(Ct,{onClick:function onClick(){return o(!0)},children:"another portal"}),"."]})})]})})]})}},Tt=Object(c.a)(Object(c.a)({},Mt),{},{isAutoStart:!1});function AppRuntimeTableRow(e){var t=e.appRuntime,n=useDesktopContext().activeWindowController,i=t.getWindowController(),r=!i||i===n,c=Object(l.useState)(null),a=Object(s.a)(c,2),o=a[0],u=a[1],d=Object(l.useState)(null),j=Object(s.a)(d,2),b=j[0],h=j[1],f=Object(l.useState)(null),v=Object(s.a)(f,2),p=v[0],m=v[1],x=Object(l.useState)(null),g=Object(s.a)(x,2),w=g[0],C=g[1],y=Object(l.useState)(null),k=Object(s.a)(y,2),S=k[0],A=k[1],_=Object(l.useState)(null),N=Object(s.a)(_,2),M=N[0],T=N[1];return Object(l.useEffect)((function(){if(i&&o){var e=function handleRenderProfile(e){var t=Object(s.a)(e,7),n=t[0],i=t[1],r=t[2],c=t[3],a=t[4],l=t[5],u=t[6];consume(n),o.innerHTML=i,b.innerHTML=parseFloat(r).toFixed(2),p.innerHTML=parseFloat(c).toFixed(2),w.innerHTML=parseFloat(a/1e3).toFixed(2),S.innerHTML=parseFloat(l/1e3).toFixed(2),M.innerHTML=Object.values(u).length};return i.on(B,e),function unmount(){i.off(B,e)}}}),[i,o,b,p,w,S,M]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("tr",{style:{textAlign:"center"},children:[Object(O.jsx)("td",{children:t.getTitle()||"[Untitled]"}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:Object(O.jsx)("span",{ref:u,children:"N/A"})}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:Object(O.jsx)("span",{ref:h,children:"N/A"})}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:Object(O.jsx)("span",{ref:m,children:"N/A"})}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:Object(O.jsx)("span",{ref:C,children:"N/A"})}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:Object(O.jsx)("span",{ref:A,children:"N/A"})}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:Object(O.jsx)("span",{ref:T,children:"N/A"})})]},t.getUUID()),Object(O.jsxs)("tr",{style:{textAlign:"center"},children:[Object(O.jsxs)("td",{style:{fontStyle:"italic"},children:["Uptime: ",Object(O.jsx)(Xe,{onTick:function onTick(){return t.getInstanceUptime()}})]}),Object(O.jsxs)("td",{colSpan:"3",children:[Object(O.jsx)("button",{onClick:function onClick(){return console.log({appRuntime:t})},disabled:!0,children:"Process"}),Object(O.jsx)("span",{children:" | "}),Object(O.jsx)("button",{onClick:function onClick(){return console.log({environment:t.getEnvironment()})},disabled:!0,children:"Environment"})]}),Object(O.jsx)("td",{children:Object(O.jsx)(Ee,{color:r?"green":"gray"})}),Object(O.jsxs)("td",{colSpan:"2",children:[Object(O.jsx)("button",{onClick:function onClick(){return i.bringToTop()},style:{backgroundColor:"blue"},disabled:r,children:"Bring to Top"}),Object(O.jsx)("span",{children:" | "}),Object(O.jsx)("button",{onClick:function onClick(){return t.destroy()},style:{backgroundColor:"red"},children:"Close"})]})]}),Object(O.jsx)("tr",{children:Object(O.jsx)("td",{colSpan:"7",style:{backgroundColor:"gray",height:4}})})]})}function AppRuntimeTable(e){var t=e.appRuntimes;return Object(O.jsxs)("table",{style:{width:"100%"},children:[Object(O.jsxs)("thead",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{rowSpan:"2",children:"Name"}),Object(O.jsx)("td",{colSpan:"6",style:{backgroundColor:"purple"},children:"Profiler"}),Object(O.jsx)("td",{colSpan:"2"})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:"Phase"}),Object(O.jsxs)("td",{style:{backgroundColor:"purple"},children:["Actual",Object(O.jsx)("br",{}),"Duration"]}),Object(O.jsxs)("td",{style:{backgroundColor:"purple"},children:["Base",Object(O.jsx)("br",{}),"Duration"]}),Object(O.jsxs)("td",{style:{backgroundColor:"purple"},children:["Start",Object(O.jsx)("br",{}),"Time"]}),Object(O.jsxs)("td",{style:{backgroundColor:"purple"},children:["Commit",Object(O.jsx)("br",{}),"Time"]}),Object(O.jsx)("td",{style:{backgroundColor:"purple"},children:"Interactions"})]})]}),Object(O.jsx)("tbody",{children:t.map((function(e){return Object(O.jsx)(AppRuntimeTableRow,{appRuntime:e},e.getUUID())}))})]})}var Et={id:"application-monitor",title:"Application Monitor",style:{width:640,height:480},isPinned:!0,view:function View(){var e=useAppRuntimesContext().appRuntimes;return Object(O.jsxs)(ee,{children:[Object(O.jsx)(Content_Content,{children:Object(O.jsx)(qe,{style:{overflowY:"auto"},children:Object(O.jsx)(AppRuntimeTable,{appRuntimes:e})})}),Object(O.jsx)(Footer,{style:{fontSize:".8rem"},children:Object(O.jsxs)(qe,{children:["Phantom Core uptime:"," ",Object(O.jsx)(Xe,{onTick:function onTick(){return r.a.getUptime()}})]})})]})}},Dt=["buttons","className"],Rt=["content","onClick","disabled","isSelected","style","className"];var zt=function ButtonPanel(e){var t=e.buttons,n=e.className,i=Object(o.a)(e,Dt),r=Object(l.useState)((function(){var e=0;return t.forEach((function(t,n){t.isSelected&&(e=n)})),e})),a=Object(s.a)(r,2),u=a[0],d=a[1],j=Object(l.useRef)(-1);return++j.current,Object(O.jsx)("div",Object(c.a)(Object(c.a)({className:g()("button-group",n)},i),{},{children:t.map((function(e,t){var n=e.content,i=e.onClick,r=e.disabled,a=(e.isSelected,e.style),s=e.className,b=Object(o.a)(e,Rt);return 0===j.current&&u===t&&setTimeout((function(){i()})),Object(l.createElement)("button",Object(c.a)(Object(c.a)({},b),{},{key:t,onClick:function onClick(){d(t),i()},disabled:r,style:a,className:g()([u===t&&"active",s])}),"string"===typeof n?n:"function"===typeof n?Object(O.jsx)(n,{}):{Content:n})}))}))},It=["children","target"];var Wt=function ExternalLink(e){var t=e.children,n=e.target,i=void 0===n?"_blank":n,r=Object(o.a)(e,It);return Object(O.jsx)("a",Object(c.a)(Object(c.a)({},r),{},{target:i,children:t}))},Pt=["children","className","onClick"];var Vt=function VirtualLinkButton(e){var t=e.children,n=(e.className,e.onClick),i=Object(o.a)(e,Pt);return Object(O.jsx)("button",Object(c.a)(Object(c.a)({},i),{},{onClick:n,children:t}))},Lt=["href","target"];var Bt=function ExternalLinkButton(e){var t=e.href,n=e.target,i=void 0===n?"_blank":n,r=Object(o.a)(e,Lt);return Object(O.jsx)(Vt,Object(c.a)(Object(c.a)({},r),{},{onClick:function onClick(){return window.open(t,i)}}))},Ft={"Phantom Core":"https://github.com/zenOSmosis/phantom-core","Phantom Collection":"https://github.com/zenOSmosis/phantom-core/tree/main/src/PhantomCollection","ReShell Core":"https://github.com/zenOSmosis/reshell.org-static","Sync Object":"https://github.com/zenOSmosis/sync-object","MediaStream Controller":"https://github.com/zenOSmosis/media-stream-track-controller","webrtc-peer":"https://github.com/zenOSmosis/webrtc-peer"},Ut={minHeight:"4em",whiteSpace:"wrap",width:"100%",height:"100%"};var Ht=function Details(){return Object(O.jsxs)(N,{style:{overflowY:"auto"},children:[Object(O.jsxs)("p",{children:["ReShell is a browser-based layout framework and UI services engine composed of various"," ",Object(O.jsx)("a",{href:"https://github.com/zenosmosis",target:"_blank",rel:"noreferrer",children:"open-source components"}),"."]}),Object(O.jsx)("p",{children:"It is currently in an alpha phase, and other builds may have other built-in applications."}),Object(O.jsxs)("p",{children:["Leveraged off of the core code for"," ",Object(O.jsx)(Wt,{href:"https://speaker.app",children:"Speaker.app"})," and other"," ",Object(O.jsx)(Wt,{href:"https://zenosmosis.com",children:"zenOSmosis"})," ","projects based on"," ",Object(O.jsx)(Wt,{href:"https://github.com/zenOSmosis/phantom-core",children:"PhantomCore"}),", a library for managing the JavaScript application lifecycle."]}),Object(O.jsx)("p",{style:{fontWeight:"bold"},children:"Some included technologies:"}),Object(O.jsx)("div",{style:{textAlign:"center"},children:Object(O.jsx)("div",{style:{display:"inline-grid",gridTemplateColumns:"1fr 1fr 1fr"},children:Object.entries(Ft).map((function(e,t){var n=Object(s.a)(e,2),i=n[0],r=n[1];return Object(O.jsx)(qe,{children:"string"===typeof r?Object(O.jsx)(Bt,{href:r,style:Ut,children:i}):Object(O.jsx)(Vt,{onClick:r,style:Ut,children:i})},t)}))})})]})},Kt={zenOSmosis:"https://zenOSmosis.com",GitHub:"https://github.com/zenosmosis","Speaker.app":"https://speaker.app"};var Yt=function Resources(){return Object(O.jsxs)(_t,{canOverflow:!0,children:[Object(O.jsx)("p",{style:{fontWeight:"bold"},children:"Additional resources:"}),Object(O.jsx)("div",{style:{display:"inline-block",textAlign:"left"},children:Object.entries(Kt).map((function(e,t){var n=Object(s.a)(e,2),i=n[0],r=n[1];return Object(O.jsxs)(qe,{children:[i,":"," ",Object(O.jsx)(Wt,{href:r,children:r})]},t)}))}),Object(O.jsx)("hr",{}),Object(O.jsxs)("p",{children:["To contact us directly, email:"," ",Object(O.jsx)(Wt,{href:"mailto:info@zenosmosis.com",children:"info@zenosmosis.com"}),"."]})]})},Qt=(new Date).getFullYear();var Gt={id:"about-reshell",title:"About ReShell",style:{width:640,height:480},initialSharedState:{screen:"overview"},titleBarView:function TitleBarView(e){var t=e.sharedState,n=e.setSharedState;return Object(O.jsx)(qe,{children:Object(O.jsx)(zt,{buttons:[{content:"Overview",onClick:function onClick(){return n({screen:"overview"})},isSelected:"overview"===t.screen},{content:"Details",onClick:function onClick(){return n({screen:"details"})},isSelected:"details"===t.screen},{content:"Resources",onClick:function onClick(){return n({screen:"resources"})},isSelected:"resources"===t.screen}]},t.screen)})},view:function View(e){var t=e.sharedState,n=e.setSharedState;return Object(O.jsx)(qe,{children:Object(O.jsxs)(ee,{children:[Object(O.jsxs)(Content_Content,{children:["overview"===t.screen&&Object(O.jsx)(Ve,{children:Object(O.jsxs)(_t,{children:[Object(O.jsx)("div",{style:{fontSize:"8rem",fontStyle:"italic"},children:"ReShell"}),Object(O.jsx)(le,{style:{fontSize:"1.5rem"},children:"App layout framework and UI services engine"})]})}),"details"===t.screen&&Object(O.jsx)(Ht,{}),"resources"===t.screen&&Object(O.jsx)(Yt,{})]}),Object(O.jsxs)(Footer,{style:{textAlign:"center"},children:["overview"===t.screen&&Object(O.jsxs)("p",{children:[Object(O.jsx)(Ct,{onClick:function onClick(){return n({screen:"details"})},children:"Details"})," ","|"," ",Object(O.jsx)(Ct,{onClick:function onClick(){return n({screen:"resources"})},children:"Resources"})]}),Object(O.jsx)("div",{style:{opacity:.5},children:"Copyright \xa9 2010 - ".concat(Qt," zenOSmosis. All rights reserved.")})]})]})})}},Zt=Object(c.a)(Object(c.a)({},Gt),{},{isAutoStart:!0}),qt=n(72),Jt=n(56),Xt=n.n(Jt),$t="check-for-updates",en={id:$t,title:"Check for Updates",style:{width:320,height:240},isPinned:!0,view:function View(){var e=Object(l.useState)(!0),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(l.useState)(!1),c=Object(s.a)(r,2),a=c[0],o=c[1],u=Object(l.useState)(!1),d=Object(s.a)(u,2),j=d[0],b=d[1],h=Object(l.useState)(null),f=Object(s.a)(h,2),v=f[0],p=f[1],m=Object(l.useRef)(null);m.current=a;var x=Object(l.useCallback)(Object(I.a)(z.a.mark((function _callee(){var e;return z.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!m.current){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,b(!1),o(!0),t.next=8,Object(qt.a)();case 8:e=t.sent,i(e),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0),b(!0),i(!1);case 17:return t.prev=17,o(!1),p((new Date).getTime()),t.finish(17);case 21:case"end":return t.stop()}}),_callee,null,[[3,12,17,21]])}))),[]);return Object(l.useEffect)((function(){x()}),[x]),Object(O.jsxs)(ee,{children:[Object(O.jsx)(Header,{children:Object(O.jsx)(qe,{style:{textAlign:"center"},children:Object(O.jsx)("button",{onClick:x,disabled:a,children:"Check for Updates"})})}),Object(O.jsx)(Content_Content,{children:Object(O.jsx)(_t,{canOverflow:!0,children:j?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("p",{children:["There was an error checking for updates."," ",Object(O.jsx)("button",{onClick:x,children:"Try again?"})]})}):n?Object(O.jsx)("p",{children:"You appear to be running the latest version of ReShell."}):Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("p",{children:["Your version of ReShell appears out of date."," ",Object(O.jsx)("button",{onClick:function onClick(){return Be.a.forceUpdate()},children:"Refresh?"})]})})})}),Object(O.jsx)(Footer,{children:Object(O.jsx)(qe,{children:Object(O.jsxs)("div",{className:"note",children:["Last checked:"," ",v?Xt()(v).format("LLL"):"N/A"]})})})]})}},tn=n(214),nn=n.n(tn),rn={id:"color-adjuster",title:"Color Adjuster",style:{width:640,height:400},view:function View(e){e.windowController,e.appServices;var t=Object(l.useState)(!1),n=Object(s.a)(t,2),i=n[0],r=n[1];return Object(l.useEffect)((function(){i?document.body.classList.add("grayscale"):document.body.classList.remove("grayscale")}),[i]),Object(O.jsxs)(ee,{className:nn.a["color-adjuster"],children:[Object(O.jsx)(Content_Content,{children:Object(O.jsx)(_t,{children:Object(O.jsxs)("button",{onClick:function onClick(){return r((function(e){return!e}))},children:[i?"Disable":"Enable"," Grayscale"]})})}),Object(O.jsx)(Footer,{children:["#B04628","#B9FC6D","#FC7853","#3A65FC","#314EB0"].map((function(e,t){return Object(O.jsx)("div",{style:{backgroundColor:e,height:100,width:"20%",display:"inline-block"},children:Object(O.jsx)(_t,{children:Object(O.jsx)("span",{style:{padding:4,backgroundColor:"rgba(0,0,0,.4)",borderRadius:4},children:e})})},t)}))})]})}},cn=n(215),an=n.n(cn),on=n(216),sn=n.n(on),ln=["className","src"];var un=function ObjectViewer(e){var t=e.className,n=e.src,i=Object(o.a)(e,ln);return Object(O.jsx)(N,Object(c.a)(Object(c.a)({},i),{},{className:g()(sn.a["object-viewer"],t),children:Object(O.jsx)(an.a,{src:n,theme:"monokai",style:{width:"100%",height:"100%"}})}))},dn="environment",jn={id:dn,title:"Environment",style:{width:512,height:384},view:function View(){return Object(O.jsx)(ee,{children:Object(O.jsx)(Content_Content,{children:Object(O.jsx)(un,{src:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})})})})}},bn=["id","title"];var On=function AppLinkButton(e){var t=e.id,n=e.title,i=void 0===n?null:n,r=Object(o.a)(e,bn),a=useAppRegistrationLink(t),s=a.title,l=a.link;return l?Object(O.jsx)(Vt,Object(c.a)(Object(c.a)({},r),{},{onClick:l,children:i||s})):null},hn=n(217),fn={id:"software-info",title:"Software Info",style:{width:640,height:480},view:function View(){return Object(O.jsxs)(ee,{children:[Object(O.jsx)(Header,{children:Object(O.jsx)(qe,{children:"Package.json content"})}),Object(O.jsx)(Content_Content,{children:Object(O.jsx)(un,{src:hn})}),Object(O.jsx)(Footer,{children:Object(O.jsx)(qe,{children:Object(O.jsxs)(Row,{children:[Object(O.jsx)(Column,{children:Object(O.jsx)(_t,{children:Object(O.jsxs)("div",{style:{float:"left",textAlign:"left"},className:"note",children:["ReShell version: ",hn.version,Object(O.jsx)("br",{}),"Phantom Core version: ",r.a.getPhantomCoreVersion(),Object(O.jsx)("br",{}),"Portal: ",Be.a.getPortalName()]})})}),Object(O.jsx)(Column,{children:Object(O.jsxs)(_t,{style:{textAlign:"right"},children:[Object(O.jsx)(On,{id:$t})," ",Object(O.jsx)(On,{id:dn})]})})]})})})]})}},vn=n(27),pn=n(164),mn=function(e){Object(p.a)(MediaDeviceFactoryCollection,e);var t=Object(m.a)(MediaDeviceFactoryCollection);function MediaDeviceFactoryCollection(){return Object(f.a)(this,MediaDeviceFactoryCollection),t.apply(this,arguments)}return MediaDeviceFactoryCollection}(i.PhantomCollection),xn=function(e){Object(p.a)(MediaDevicesService,e);var t=Object(m.a)(MediaDevicesService);function MediaDevicesService(){var e;Object(f.a)(this,MediaDevicesService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("Media Devices Service"),e.fetchAudioInputDevices(),e.bindCollectionClass(mn),e}return Object(v.a)(MediaDevicesService,[{key:"fetchAudioInputDevices",value:function fetchAudioInputDevices(e){var t=this;pn.utils.fetchMediaDevices(e).then(pn.utils.fetchMediaDevices.filterAudioInputDevices).then((function(e){return t.setState({devices:e})})).catch((function(e){return console.error(e)}))}},{key:"getMediaDevices",value:function getMediaDevices(){return this.getState().devices||[]}},{key:"getCaptureFactories",value:function getCaptureFactories(){return this.getCollectionInstance(mn).getChildren()}},{key:"getIsAudioMediaDeviceBeingCaptured",value:function getIsAudioMediaDeviceBeingCaptured(e){return Boolean(pn.MediaStreamTrackControllerFactory.getFactoriesWithInputMediaDevice(e,"audio").length)}},{key:"captureDefaultAudioInputDevice",value:function(){var e=Object(I.a)(z.a.mark((function _callee(){var e,t,n,i=arguments;return z.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t=i.length>1&&void 0!==i[1]?i[1]:{},r.next=4,pn.utils.captureMediaDevice(e,t);case 4:return n=r.sent,this.getCollectionInstance(mn).addChild(n),r.abrupt("return",n);case 7:case"end":return r.stop()}}),_callee,this)})));return function captureDefaultAudioInputDevice(){return e.apply(this,arguments)}}()},{key:"captureSpecificAudioInputDevice",value:function(){var e=Object(I.a)(z.a.mark((function _callee2(e){var t,n,i,r=arguments;return z.a.wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:{},n=r.length>2&&void 0!==r[2]?r[2]:{},c.next=4,pn.utils.captureMediaDevice.captureSpecificMediaDevice(e,t,n);case 4:return i=c.sent,this.getCollectionInstance(mn).addChild(i),c.abrupt("return",i);case 7:case"end":return c.stop()}}),_callee2,this)})));return function captureSpecificAudioInputDevice(t){return e.apply(this,arguments)}}()},{key:"uncaptureSpecificAudioInputDevice",value:function(){var e=Object(I.a)(z.a.mark((function _callee3(e){return z.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pn.utils.captureMediaDevice.uncaptureSpecificMediaDevice(e));case 1:case"end":return t.stop()}}),_callee3)})));return function uncaptureSpecificAudioInputDevice(t){return e.apply(this,arguments)}}()}]),MediaDevicesService}(vn.b),gn=n(231),wn=n.n(gn),Cn=["className","percent","percents"];function AudioLevelMeter(e){var t=e.className,n=e.percent,i=e.percents,r=void 0===i?[]:i,a=Object(o.a)(e,Cn),s=Object(l.useMemo)((function(){var e=Object(De.a)(r);return void 0!==n&&e.push(n),e=e.map((function(e){return 100-e}))}),[n,r]);return Object(O.jsx)("div",Object(c.a)(Object(c.a)({className:g()(wn.a.levels,t)},a),{},{children:s.map((function(e,t){return Object(O.jsx)("div",{className:wn.a["level-container"],children:Object(O.jsx)("div",{className:wn.a.level,style:{clipPath:"inset(".concat(e,"% 0 0 0)"),WebkitClipPath:"inset(".concat(e,"% 0 0 0)")}})},t)}))}))}function useArrayDiff(e){var t=function usePrevious(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(l.useRef)(t);return Object(l.useEffect)((function(){n.current=e}),[e]),n.current}(e,[]),n=Object(l.useState)({added:[],removed:[]}),r=Object(s.a)(n,2),c=r[0],a=r[1];return Object(l.useEffect)((function(){if(!Array.isArray(e))throw new Error("next should be an array");var n=i.PhantomCollection.getChildrenDiff(t,e),r=n.added,c=n.removed;(r.length||c.length)&&a({added:r,removed:c})}),[t,e]),{added:c.added,removed:c.removed}}var yn=pn.MultiAudioMediaStreamTrackLevelMonitorEvents.EVT_DEBOUNCED_PEAK_AUDIO_LEVEL_TICK;function useAudioMediaStreamTrackLevelMonitor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(l.useMemo)((function(){return(e?Array.isArray(e)?e:[e]:[]).filter((function(e){return e instanceof MediaStreamTrack&&"audio"===e.kind}))}),[e]),n=Object(l.useState)(null),i=Object(s.a)(n,2),r=i[0],c=i[1],o=Object(l.useState)(null),u=Object(s.a)(o,2),d=u[0],j=u[1];Object(l.useEffect)((function(){var e=new pn.MultiAudioMediaStreamTrackLevelMonitor;return e.on(yn,(function(e){var t=e.rms;j(.8*t)})),c(e),function unmount(){e.destroy()}}),[]);var b=useArrayDiff(t),O=b.added,h=b.removed;return Object(l.useEffect)((function(){if(r){var e,t=Object(a.a)(O);try{for(t.s();!(e=t.n()).done;){var n=e.value;r.addMediaStreamTrack(n)}}catch(s){t.e(s)}finally{t.f()}var i,c=Object(a.a)(h);try{for(c.s();!(i=c.n()).done;){var o=i.value;r.removeMediaStreamTrack(o)}}catch(s){c.e(s)}finally{c.f()}}}),[r,O,h]),d}var kn=["mediaStreamTracks","mediaStreamTrack"];function AudioMediaStreamTrackLevelMeter(e){var t=e.mediaStreamTracks,n=e.mediaStreamTrack,i=Object(o.a)(e,kn),r=useAudioMediaStreamTrackLevelMonitor(n||t);return Object(O.jsx)(AudioLevelMeter,Object(c.a)({percent:r},i))}var Sn=n(232),An=n.n(Sn);var _n=function StaggeredWaveLoading(e){var t=Object.assign({},e);return Object(O.jsx)("div",Object(c.a)(Object(c.a)({className:An.a["loading-wrapper"]},t),{},{children:Object(O.jsxs)("div",{className:An.a.loading,children:[Object(O.jsx)("div",{className:An.a.dot}),Object(O.jsx)("div",{className:An.a.dot}),Object(O.jsx)("div",{className:An.a.dot}),Object(O.jsx)("div",{className:An.a.dot}),Object(O.jsx)("div",{className:An.a.dot})]})}))},Nn=["children","preloadResources","onError"];var Mn=function Preload(e){var t=e.children,n=e.preloadResources,i=(e.onError,Object(o.a)(e,Nn));return usePreload(n).isPreloaded?Object(O.jsx)(u.a.Fragment,{children:t}):Object(O.jsx)("div",Object(c.a)(Object(c.a)({},i),{},{children:Object(O.jsx)(_n,{})}))},Tn=n(233),En=n.n(Tn),Dn=n.p+"static/media/vu.8cb21748.png",Rn="data:image/png;base64,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",zn=["label","percent","className"];function VUMeter(e){var t=e.label,n=void 0===t?"Mono":t,i=e.percent,r=void 0===i?0:i,a=e.className,u=Object(o.a)(e,zn);r<0&&(r=0),r>100&&(r=100);var d=Object(l.useState)(null),j=Object(s.a)(d,2),b=j[0],h=j[1],f=Object(l.useState)(null),v=Object(s.a)(f,2),p=v[0],m=v[1];return Object(l.useEffect)((function(){b&&p&&(b.style.backgroundImage="url(".concat(Dn,")"),b.style.backgroundPosition="top left",b.style.backgroundRepeat="no-repeat",p.style.backgroundImage="url(".concat(Rn,")"),p.style.backgroundPosition="top left",p.style.backgroundRepeat="no-repeat")}),[b,p]),Object(l.useEffect)((function(){p&&(p.style.transform="rotateZ(".concat(Math.min(r/100*87),"deg)"))}),[p,r]),Object(O.jsx)(Mn,{preloadResources:[Dn,Rn],children:Object(O.jsxs)("div",Object(c.a)(Object(c.a)({ref:h,className:g()(En.a.vu,a)},u),{},{children:[Object(O.jsx)("div",{className:En.a.mask,children:Object(O.jsx)("div",{ref:m,className:En.a.needle,style:{transform:"rotateZ(0deg)"}})}),Object(O.jsx)("p",{className:En.a["vu-label"],children:n})]}))})}var In=["mediaStreamTracks","mediaStreamTrack"];function AudioMediaStreamTrackLevelVUMeter(e){var t=e.mediaStreamTracks,n=e.mediaStreamTrack,i=Object(o.a)(e,In),r=useAudioMediaStreamTrackLevelMonitor(n||t);return Object(O.jsx)(VUMeter,Object(c.a)({percent:r},i))}var Wn="vu-meter",Pn={id:Wn,title:"VU Meter",style:{width:360,height:360,backgroundColor:"rgba(0,0,0,.4)"},serviceClasses:[xn],view:function view(e){var t=e.appServices[xn],n=t.getCaptureFactories(),i=Boolean(n.length),r=n.map((function(e){return e.getAudioTrackControllers().map((function(e){return e.getOutputMediaStreamTrack()}))})).flat();return Object(O.jsxs)(ee,{children:[Object(O.jsx)(Content_Content,{children:Object(O.jsxs)(_t,{canOverflow:!0,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(AudioMediaStreamTrackLevelVUMeter,{mediaStreamTracks:r}),Object(O.jsx)(AudioMediaStreamTrackLevelMeter,{style:{marginLeft:20,height:160,width:40},mediaStreamTracks:r})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:function onClick(){i?n.forEach((function(e){return e.destroy()})):t.captureDefaultAudioInputDevice()},style:{backgroundColor:i?"red":null},children:i?"Stop Capturing":"Start Microphone"})})]})}),Object(O.jsx)(Footer,{children:Object(O.jsx)(qe,{children:Object(O.jsx)(On,{id:Qn})})})]})}},Vn=["mediaStreamTrack","mediaType","onEl"];function AVBase(e){var t=e.mediaStreamTrack,n=e.mediaType,i=void 0===n?"video":n,r=e.onEl,a=void 0===r?function(e){return null}:r,d=Object(o.a)(e,Vn),j=Object(l.useState)(null),b=Object(s.a)(j,2),O=b[0],h=b[1],f=Object(l.useMemo)((function(){return t&&new MediaStream([t])}),[t]);Object(l.useEffect)((function(){O&&(f?(O.srcObject=f,O.play().then((function(){return O.muted=!1})).catch((function(e){return console.warn("Caught",e)}))):O.srcObject=null)}),[O,f]);var v=Object(l.useRef)(a);return Object(l.useEffect)((function(){var e=v.current;O&&"function"===typeof e&&e(O)}),[O]),u.a.createElement(i,Object(c.a)({ref:h,autoPlay:!1,muted:!0,playsInline:!0,controls:!1},d))}var Ln=n(234),Bn=n.n(Ln),Fn=["className"];function Video(e){var t=e.className,n=Object(o.a)(e,Fn);return Object(O.jsx)(AVBase,Object(c.a)({className:g()(Bn.a.video,t)},n))}var Un=function(e){Object(p.a)(ScreenCaptureFactoryCollection,e);var t=Object(m.a)(ScreenCaptureFactoryCollection);function ScreenCaptureFactoryCollection(){return Object(f.a)(this,ScreenCaptureFactoryCollection),t.apply(this,arguments)}return ScreenCaptureFactoryCollection}(i.PhantomCollection),Hn=function(e){Object(p.a)(ScreenCapturerService,e);var t=Object(m.a)(ScreenCapturerService);function ScreenCapturerService(){var e;Object(f.a)(this,ScreenCapturerService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("Screen Capturer Service"),e.bindCollectionClass(Un),e}return Object(v.a)(ScreenCapturerService,[{key:"startScreenCapture",value:function(){var e=Object(I.a)(z.a.mark((function _callee(){var e,t,n,i=arguments;return z.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t=i.length>1&&void 0!==i[1]?i[1]:{},r.next=4,pn.utils.captureScreen(e,t);case 4:return n=r.sent,this.getCollectionInstance(Un).addChild(n),r.abrupt("return",n);case 7:case"end":return r.stop()}}),_callee,this)})));return function startScreenCapture(){return e.apply(this,arguments)}}()},{key:"getMediaStreamTracks",value:function getMediaStreamTracks(){return this.getCollectionInstance(Un).getChildren().map((function(e){return e.getTrackControllers().map((function(e){return e.getOutputMediaStreamTrack()}))})).flat()}}]),ScreenCapturerService}(vn.b),Kn="screen-capture-window",Yn={id:Kn,title:"Screen Capture",style:{width:512,height:384},serviceClasses:[Hn],view:function View(e){var t,n=e.appServices[Hn],r=Object(l.useState)(null),c=Object(s.a)(r,2),a=c[0],o=c[1],u=function useGetIsUnmounting(){var e=Object(l.useRef)(!1);return Object(l.useEffect)((function(){return function unmount(){e.current=!0}}),[]),Object(l.useCallback)((function(){return e.current}),[])}(),d=Object(l.useCallback)(Object(I.a)(z.a.mark((function _callee(){var e,t,r,c=arguments;return z.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{},t=c.length>1&&void 0!==c[1]?c[1]:{},a.next=4,n.startScreenCapture(e,t);case 4:return r=a.sent,o(r),r.once(i.EVT_DESTROYED,(function(){u()||o(null)})),a.abrupt("return",r);case 8:case"end":return a.stop()}}),_callee)}))),[n,u]);Object(l.useEffect)((function(){if(a)return function(){a.destroy()}}),[a]);var j=null===a||void 0===a||null===(t=a.getVideoTrackControllers()[0])||void 0===t?void 0:t.getOutputTrack();return Object(O.jsxs)(ee,{style:{backgroundColor:"#424242",color:"#999"},children:[Object(O.jsxs)(Content_Content,{children:[Object(O.jsx)(Video,{mediaStreamTrack:j}),!a&&Object(O.jsx)(D,{children:Object(O.jsx)(_t,{children:Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:function onClick(){return d()},style:{backgroundColor:"green",width:200,height:200,borderRadius:200,fontWeight:"bold",fontSize:"1.4rem",border:"8px #ccc solid"},children:"Start Screen Capture"})})})})]}),Object(O.jsx)(Footer,{children:Object(O.jsx)(qe,{children:Object(O.jsxs)(Row,{children:[Object(O.jsx)(Column,{children:Object(O.jsx)(_t,{children:Object(O.jsx)(On,{id:Qn})})}),Object(O.jsx)(Column,{children:Object(O.jsx)(_t,{children:Object(O.jsx)("button",{style:{backgroundColor:a?"red":"green",whiteSpace:"nowrap"},onClick:function onClick(){a?a.destroy():d()},children:a?"Stop":"Capture"})})}),Object(O.jsx)(Column,{children:Object(O.jsxs)(Row,{children:[Object(O.jsx)(Column,{children:Object(O.jsx)(_t,{children:Object(O.jsx)(Ee,{color:a?"green":"gray",style:{float:"left",marginLeft:8}})})}),Object(O.jsx)(Column,{children:Object(O.jsx)(_t,{children:Object(O.jsx)("button",{disabled:!0,style:{whiteSpace:"nowrap"},children:"Video Stats"})})})]})})]})})})]})}},Qn="input-media-devices",Gn={id:Qn,title:"Input Media Devices",style:{width:640,height:300},serviceClasses:[xn],view:function View(e){var t=e.appServices[xn],n=t.getMediaDevices();return Object(O.jsx)(qe,{children:Object(O.jsxs)(ee,{children:[Object(O.jsx)(Content_Content,{children:Object(O.jsx)("div",{style:{width:"100%",height:"100%",overflowY:"auto"},children:Object(O.jsxs)("table",{style:{width:"100%"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Label"}),Object(O.jsx)("td",{children:"Kind"}),Object(O.jsx)("td",{children:"f(x)"}),Object(O.jsx)("td",{children:"State"})]})}),Object(O.jsx)("tbody",{children:n.map((function(e,n){var i=t.getIsAudioMediaDeviceBeingCaptured(e);return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.label||"[Unknown Label]"}),Object(O.jsx)("td",{className:"center",children:e.kind}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)("button",{onClick:function onClick(){return i?t.uncaptureSpecificAudioInputDevice(e):t.captureSpecificAudioInputDevice(e)},style:{backgroundColor:i?"red":"green",width:"100%"},children:i?"Stop":"Start"})}),Object(O.jsxs)("td",{className:"center",children:[Object(O.jsx)(Ee,{color:i?"green":"gray"})," ",i?"on":"off"]})]},n)}))})]})})}),Object(O.jsxs)(Footer,{children:[Object(O.jsx)("button",{onClick:function onClick(){return t.fetchAudioInputDevices(!0)},style:{float:"right"},children:"Refetch"}),Object(O.jsxs)("span",{className:"button-group",children:[Object(O.jsx)(On,{id:Wn}),Object(O.jsx)(On,{id:Kn})]})]})]})})}},Zn=function bytesToSize(e){var t=["bytes","kB","MB","GB","TB"];if(0===e)return"0 ".concat(t[0]);var n=parseInt(Math.floor(Math.log(Math.abs(e))/Math.log(1024)),10);return 0===n?"".concat(e," ").concat(t[n]):"".concat((e/Math.pow(1024,n)).toFixed(1)," ").concat(t[n])},qn={id:"memory-info",title:"Memory Info",style:{width:280,height:150},view:function View(){var e=Object(l.useState)({jsHeapSizeLimit:"N/A",totalJSHeapSize:"N/A",usedJSHeapSize:"N/A"}),t=Object(s.a)(e,2),n=t[0],i=n.jsHeapSizeLimit,r=n.totalJSHeapSize,c=n.usedJSHeapSize,a=t[1],o=Object(l.useCallback)((function(){if(window.performance.memory){var e=window.performance.memory,t=e.jsHeapSizeLimit,n=e.totalJSHeapSize,i=e.usedJSHeapSize,r={jsHeapSizeLimit:Zn(t),totalJSHeapSize:Zn(n),usedJSHeapSize:Zn(i)};return a(r),r}}),[]);return Object(l.useEffect)((function(){if(o()){var e=setInterval((function(){o()}),1e3);return function unmount(){clearInterval(e)}}}),[o]),Object(O.jsxs)(ee,{style:{backgroundColor:"#424242",color:"#999"},children:[Object(O.jsx)(Content_Content,{children:Object(O.jsx)(_t,{children:Object(O.jsxs)("table",{style:{display:"inline-block"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Heap Size Limit"}),Object(O.jsx)("td",{children:"Total Heap Size"}),Object(O.jsx)("td",{children:"Used Heap Size"})]})}),Object(O.jsx)("tbody",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:i}),Object(O.jsx)("td",{children:r}),Object(O.jsx)("td",{children:c})]})})]})})}),Object(O.jsxs)(Footer,{style:{fontSize:".8rem"},children:[Object(O.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Performance/memory",target:"_blank",rel:"noreferrer",style:{float:"left"},children:"MDN Documentation"}),Object(O.jsx)("span",{style:{float:"right"},children:"Only supported in Chromium-based browsers."})]})]})}};var Jn=function LocalStorageItems(e){var t=e.keyStorageEngineMaps,n=void 0===t?[]:t,i=e.onGetValue,r=e.onEmpty,c=e.onNewItem;return n.length?Object(O.jsx)(qe,{children:Object(O.jsxs)(ee,{children:[Object(O.jsx)(Content_Content,{children:Object(O.jsx)(qe,{style:{overflowY:"auto"},children:Object(O.jsxs)("table",{style:{width:"100%"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{}),Object(O.jsx)("td",{children:"Key"}),Object(O.jsx)("td",{children:"Value"}),Object(O.jsx)("td",{children:"Encryption"}),Object(O.jsx)("td",{children:"Storage Engine"})]})}),Object(O.jsx)("tbody",{children:n.map((function(e,t){var n=e.key,r=e.storageEngine;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"center",children:Object(O.jsx)("input",{type:"checkbox"})}),Object(O.jsx)("td",{children:n}),Object(O.jsx)("td",{className:"center",children:Object(O.jsx)("button",{onClick:function onClick(){return i(n,r)},children:"Get"})}),Object(O.jsx)("td",{className:"center",children:r.getEncryptionType()||"Not Encrypted"}),Object(O.jsx)("td",{className:"center",children:r.getTitle()})]},t)}))})]})})}),Object(O.jsx)(Footer,{children:Object(O.jsx)(qe,{children:Object(O.jsx)("button",{onClick:r,children:"Empty"})})})]})}):Object(O.jsx)(_t,{children:Object(O.jsxs)(qe,{children:[Object(O.jsx)(qe,{style:{fontWeight:"bold"},children:"No Key Vault items."}),Object(O.jsx)(qe,{className:"note",children:"These may be automatically managed by other applications as needed, in order to perform key / value pair storage operations."}),Object(O.jsx)(qe,{className:"note",children:"You have the ability to clear all local / session storage via this utility."}),Object(O.jsx)(qe,{children:Object(O.jsx)("button",{onClick:c,children:"Add new item..."})})]})})};function getFormValues(e){for(var t=e.elements,n={},i=0,r=Object(De.a)(t);i<r.length;i++){var c=r[i],a=c.name||c.id;a&&(n[a]=c.value)}return n}var Xn=["children","onSubmit","onChange","autoComplete"];var $n=function Form(e){var t=e.children,n=e.onSubmit,i=e.onChange,r=void 0===i?function(){return null}:i,a=e.autoComplete,u=void 0===a?"off":a,d=Object(o.a)(e,Xn),j=function useFormController(e){var t=e.onSubmit,n=e.onChange,i=void 0===n?function(){return null}:n,r=e.validator,c=void 0===r?function(){return null}:r,a=Object(l.useState)(null),o=Object(s.a)(a,2),u=o[0],d=o[1],j=Object(l.useState)(!1),b=Object(s.a)(j,2),O=b[0],h=b[1],f=Object(l.useState)({}),v=Object(s.a)(f,2),p=v[0],m=v[1],x=Object(l.useCallback)((function(e){var t=!1,n=Object.fromEntries(Object.entries(c(e)||{}).filter((function(e){var n=Boolean(e[1]);return n&&(t=!0),n}))),i=!t;return h(i),m(n),i}),[c]),g=Object(l.useCallback)((function(e){var t=getFormValues(u);x(t),i()}),[x,u,i]),w=Object(l.useCallback)((function(e){e.preventDefault();var n=getFormValues(u);x(n)&&t(n)}),[x,u,t]);return{isValid:O,validate:x,handleFormChange:g,handleFormSubmit:w,errors:p,setFormRef:d}}({onSubmit:n,onChange:r,validator:function validator(e){return{key:e.key.length<1&&"Key must contain at least one character"}}}),b=j.setFormRef,h=j.handleFormChange,f=j.handleFormSubmit,v=j.errors,p=j.isValid;return Object(O.jsx)("form",Object(c.a)(Object(c.a)({},d),{},{ref:b,autoComplete:u,onChange:h,onSubmit:f,children:t({errors:v,isValid:p})}))};function KeyEditorForm(e){var t=e.initialKey,n=e.initialValue,i=e.initialStorageEngine,r=e.storageEngines,c=e.onSubmit;return Object(O.jsx)(_t,{canOverflow:!0,children:Object(O.jsx)($n,{onSubmit:c,children:function children(e){var c=e.errors,a=e.isValid;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(qe,{children:Object(O.jsx)("input",{name:"key",type:"text",placeholder:"Key",defaultValue:t,required:!0})}),(null===c||void 0===c?void 0:c.key)&&Object(O.jsx)("div",{className:"note",style:{color:"red"},children:c.key}),Object(O.jsx)(qe,{children:Object(O.jsx)("textarea",{name:"value",placeholder:"Value",defaultValue:n})}),Object(O.jsxs)(qe,{style:{marginTop:20,textAlign:"left"},children:[Object(O.jsx)("label",{children:"Storage Engine"}),Object(O.jsx)("select",{name:"storageEngineShortUUID",defaultValue:null===i||void 0===i?void 0:i.getShortUUID(),required:!0,children:r.map((function(e){var t=e.getTitle(),n=e.getShortUUID();return Object(O.jsx)("option",{value:n,children:t},t)}))})]}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"submit",value:"Submit",disabled:!a})})]})}})})}n(235);var ei=["className"],ti=function DynamicIcon(e){var t=e.className,n=Object(o.a)(e,ei);return Object(O.jsx)("i",Object(c.a)(Object(c.a)({},n),{},{className:"id0d6dd5d02e64b979154a770ab790dba-icon".concat(t?" ".concat(t):"")}))},ni=n(44),ii={id:"key-vault",title:"Key Vault",style:{width:640,height:480},serviceClasses:[ni.a],view:function View(e){var t=e.appServices[ni.a],n=Object(l.useState)([]),i=Object(s.a)(n,2),r=i[0],c=i[1],o=Object(l.useCallback)(Object(I.a)(z.a.mark((function _callee(){var e,n,i,r,o,s,l,u;return z.a.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.fetchKeyStorageEngineMaps();case 2:e=d.sent,n=[],i=Object(a.a)(e),d.prev=5,i.s();case 7:if((r=i.n()).done){d.next=17;break}return o=r.value,s=o[0],l=o[1],d.next=13,l.fetchItem(s);case 13:u=d.sent,n.push({key:s,storageEngine:l,value:u});case 15:d.next=7;break;case 17:d.next=22;break;case 19:d.prev=19,d.t0=d.catch(5),i.e(d.t0);case 22:return d.prev=22,i.f(),d.finish(22);case 25:c(n);case 26:case"end":return d.stop()}}),_callee,null,[[5,19,22,25]])}))),[t]),u=Object(l.useState)(!1),d=Object(s.a)(u,2),j=d[0],b=d[1];Object(l.useEffect)((function(){o()}),[o]);var h=Object(l.useCallback)(function(){var e=Object(I.a)(z.a.mark((function _callee2(e,t){var n;return z.a.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.fetchItem(e);case 2:n=i.sent,console.log({key:e,value:n}),alert("TODO: Implement get value");case 5:case"end":return i.stop()}}),_callee2)})));return function(t,n){return e.apply(this,arguments)}}(),[]),f=Object(l.useCallback)((function(e){t.getStorageEngineWithShortUUID(e.storageEngineShortUUID).setItem(e.key,e.value).then((function(){o(),b(!1)}))}),[t,o]),v=Object(l.useCallback)((function(){window.confirm("Are you sure you wish to empty the Key Vault?")&&t.clearAllStorageEngines().then(o)}),[t,o]);return Object(O.jsxs)(ee,{children:[Object(O.jsx)(Header,{children:Object(O.jsx)(qe,{children:Object(O.jsx)("button",{onClick:function onClick(){return b((function(e){return!e}))},children:j?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ti,{})," Back"]}):Object(O.jsx)(O.Fragment,{children:"(+) New Item"})})})}),Object(O.jsx)(Content_Content,{children:j?Object(O.jsx)(KeyEditorForm,{storageEngines:t.getStorageEngines(),onSubmit:f}):Object(O.jsx)(Jn,{keyStorageEngineMaps:r,onGetValue:h,onEmpty:v,onNewItem:function onNewItem(){return b(!0)}})})]})}};t.default=function ReShellOrgPortal(){return Object(O.jsx)(mt,{appDescriptors:[Tt,Et,Zt,en,rn,jn,Gn,qn,Yn,et,fn,Pn,ii]})}}}]);
//# sourceMappingURL=4.2e3da40f.chunk.js.map