(this.webpackJsonpreshell=this.webpackJsonpreshell||[]).push([[5],Array(524).concat([function(C,k,O){"use strict";O.d(k,"OutputFormatPropertyName",(function(){return P})),O.d(k,"CancellationErrorCodePropertyName",(function(){return M})),O.d(k,"ServicePropertiesPropertyName",(function(){return F})),O.d(k,"ForceDictationPropertyName",(function(){return ne})),O.d(k,"AutoDetectSourceLanguagesOpenRangeOptionName",(function(){return re}));var P="OutputFormat",M="CancellationErrorCode",F="ServiceProperties",ne="ForceDictation",re="OpenRange"},,function(C,k,O){"use strict";O.d(k,"a",(function(){return ne}));var P=O(75),M=O(3),F=O(4),ne=function(){function Contracts(){Object(M.a)(this,Contracts)}return Object(F.a)(Contracts,null,[{key:"throwIfNullOrUndefined",value:function throwIfNullOrUndefined(C,k){if(void 0===C||null===C)throw new Error("throwIfNullOrUndefined:"+k)}},{key:"throwIfNull",value:function throwIfNull(C,k){if(null===C)throw new Error("throwIfNull:"+k)}},{key:"throwIfNullOrWhitespace",value:function throwIfNullOrWhitespace(C,k){if(Contracts.throwIfNullOrUndefined(C,k),(""+C).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+k)}},{key:"throwIfDisposed",value:function throwIfDisposed(C){if(C)throw new Error("the object is already disposed")}},{key:"throwIfArrayEmptyOrWhitespace",value:function throwIfArrayEmptyOrWhitespace(C,k){if(Contracts.throwIfNullOrUndefined(C,k),0===C.length)throw new Error("throwIfArrayEmptyOrWhitespace:"+k);var O,M=Object(P.a)(C);try{for(M.s();!(O=M.n()).done;){var F=O.value;Contracts.throwIfNullOrWhitespace(F,k)}}catch(ne){M.e(ne)}finally{M.f()}}},{key:"throwIfFileDoesNotExist",value:function throwIfFileDoesNotExist(C,k){Contracts.throwIfNullOrWhitespace(C,k)}},{key:"throwIfNotUndefined",value:function throwIfNotUndefined(C,k){if(void 0!==C)throw new Error("throwIfNotUndefined:"+k)}}]),Contracts}()},function(C,k,O){"use strict";O.d(k,"b",(function(){return Fe})),O.d(k,"f",(function(){return be.b})),O.d(k,"c",(function(){return be.a})),O.d(k,"d",(function(){return Pe.a})),O.d(k,"Y",(function(){return Pe.b})),O.d(k,"bb",(function(){return Pe.d})),O.d(k,"e",(function(){return De.a})),O.d(k,"ab",(function(){return De.b})),O.d(k,"cb",(function(){return De.d})),O.d(k,"n",(function(){return Ve.a})),O.d(k,"Z",(function(){return Ae})),O.d(k,"db",(function(){return Le})),O.d(k,"J",(function(){return Ke})),O.d(k,"kb",(function(){return He.a})),O.d(k,"eb",(function(){return We.a})),O.d(k,"N",(function(){return Je.a})),O.d(k,"G",(function(){return Ge.a})),O.d(k,"fb",(function(){return $e.a})),O.d(k,"xb",(function(){return Ye.a})),O.d(k,"H",(function(){return Qe.a})),O.d(k,"K",(function(){return Xe})),O.d(k,"wb",(function(){return et.b})),O.d(k,"x",(function(){return et.a})),O.d(k,"vb",(function(){return tt.a})),O.d(k,"Lb",(function(){return nt.a})),O.d(k,"Ob",(function(){return rt.a})),O.d(k,"Mb",(function(){return it.a})),O.d(k,"Pb",(function(){return ot.a})),O.d(k,"hb",(function(){return at.a})),O.d(k,"tb",(function(){return st.a})),O.d(k,"ub",(function(){return st.b})),O.d(k,"Gb",(function(){return dt})),O.d(k,"Hb",(function(){return ht})),O.d(k,"W",(function(){return pt.a})),O.d(k,"X",(function(){return ut.a})),O.d(k,"gb",(function(){return yt})),O.d(k,"yb",(function(){return Ot})),O.d(k,"I",(function(){return It})),O.d(k,"bc",(function(){return At.a})),O.d(k,"Nb",(function(){return Bt})),O.d(k,"Qb",(function(){return Ft.a})),O.d(k,"M",(function(){return Ee})),O.d(k,"L",(function(){return Kt})),O.d(k,"Kb",(function(){return Ht.a})),O.d(k,"F",(function(){return Wt.a})),O.d(k,"l",(function(){return Jt})),O.d(k,"k",(function(){return Yt})),O.d(k,"m",(function(){return $t.a})),O.d(k,"p",(function(){return Mt})),O.d(k,"ib",(function(){return Lt})),O.d(k,"o",(function(){return zt})),O.d(k,"Q",(function(){return Qt})),O.d(k,"D",(function(){return Xt.a})),O.d(k,"j",(function(){return Zt})),O.d(k,"C",(function(){return en})),O.d(k,"E",(function(){return pn})),O.d(k,"a",(function(){return ln.a})),O.d(k,"Rb",(function(){return vn.a})),O.d(k,"jb",(function(){return cn})),O.d(k,"R",(function(){return lt.a})),O.d(k,"i",(function(){return gn})),O.d(k,"r",(function(){return Nt})),O.d(k,"q",(function(){return xt})),O.d(k,"Ub",(function(){return mn})),O.d(k,"Yb",(function(){return yn})),O.d(k,"Xb",(function(){return bn})),O.d(k,"ac",(function(){return Sn})),O.d(k,"Vb",(function(){return Cn})),O.d(k,"Zb",(function(){return kn})),O.d(k,"Wb",(function(){return wn})),O.d(k,"rb",(function(){return Tn})),O.d(k,"nb",(function(){return Rn})),O.d(k,"sb",(function(){return Pn})),O.d(k,"g",(function(){return jn})),O.d(k,"h",(function(){return _n})),O.d(k,"lb",(function(){return xn})),O.d(k,"pb",(function(){return In})),O.d(k,"qb",(function(){return dn})),O.d(k,"ob",(function(){return An})),O.d(k,"s",(function(){return Pr})),O.d(k,"t",(function(){return sr})),O.d(k,"u",(function(){return Er})),O.d(k,"y",(function(){return ar})),O.d(k,"z",(function(){return Rr})),O.d(k,"A",(function(){return cr})),O.d(k,"B",(function(){return Mr})),O.d(k,"v",(function(){return Br})),O.d(k,"O",(function(){return Ar})),O.d(k,"P",(function(){return Ln})),O.d(k,"Sb",(function(){return Ir})),O.d(k,"Bb",(function(){return vt.a})),O.d(k,"Fb",(function(){return Qr})),O.d(k,"Ib",(function(){return $r.a})),O.d(k,"Cb",(function(){return Zr.a})),O.d(k,"Ab",(function(){return ei.a})),O.d(k,"Eb",(function(){return ti.a})),O.d(k,"zb",(function(){return ni.a})),O.d(k,"Db",(function(){return ri.a})),O.d(k,"Jb",(function(){return Yr})),O.d(k,"Tb",(function(){return Gr})),O.d(k,"mb",(function(){return Ne})),O.d(k,"w",(function(){return ii.a})),O.d(k,"T",(function(){return Wr})),O.d(k,"U",(function(){return Jr})),O.d(k,"S",(function(){return oi})),O.d(k,"V",(function(){return ai}));var P=O(5),M=O(6),F=O(3),ne=O(4),re=function RiffPcmEncoder(C,k){var O=this;Object(F.a)(this,RiffPcmEncoder),this.encode=function(C){var k=O.downSampleAudioFrame(C,O.privActualSampleRate,O.privDesiredSampleRate);if(!k)return null;var P=2*k.length,M=new ArrayBuffer(P),F=new DataView(M);return O.floatTo16BitPCM(F,0,k),M},this.setString=function(C,k,O){for(var P=0;P<O.length;P++)C.setUint8(k+P,O.charCodeAt(P))},this.floatTo16BitPCM=function(C,k,O){for(var P=0;P<O.length;P++,k+=2){var M=Math.max(-1,Math.min(1,O[P]));C.setInt16(k,M<0?32768*M:32767*M,!0)}},this.downSampleAudioFrame=function(C,k,O){if(!C)return null;if(O===k||O>k)return C;for(var P=k/O,M=Math.round(C.length/P),F=new Float32Array(M),ne=0,re=0;re<M;){for(var oe=Math.round((re+1)*P),se=0,ue=0;ne<oe&&ne<C.length;)se+=C[ne++],ue++;F[re++]=se/ue}return F},this.privActualSampleRate=C,this.privDesiredSampleRate=k},oe=function(){function PcmRecorder(C){var k=this;Object(F.a)(this,PcmRecorder),this.record=function(C,O,P){var M=new re(C.sampleRate,16e3),F=C.createMediaStreamSource(O);if(!k.privSpeechProcessorScript){var ne=new Blob(["class SP extends AudioWorkletProcessor {\n                constructor(options) {\n                  super(options);\n                }\n                process(inputs, outputs) {\n                  const input = inputs[0];\n                  const output = [];\n                  for (let channel = 0; channel < input.length; channel += 1) {\n                    output[channel] = input[channel];\n                  }\n                  this.port.postMessage(output[0]);\n                  return true;\n                }\n              }\n              registerProcessor('speech-processor', SP);"],{type:"application/javascript; charset=utf-8"});k.privSpeechProcessorScript=URL.createObjectURL(ne)}var oe=function attachScriptProcessor(){var ne=function(){var k=0;try{return C.createScriptProcessor(k,1,1)}catch(P){k=2048;for(var O=C.sampleRate;k<16384&&O>=32e3;)k<<=1,O>>=1;return C.createScriptProcessor(k,1,1)}}();ne.onaudioprocess=function(C){var k=C.inputBuffer.getChannelData(0);if(P&&!P.isClosed){var O=M.encode(k);O&&(P.writeStreamChunk({buffer:O,isEnd:!1,timeReceived:Date.now()}),!1)}},F.connect(ne),ne.connect(C.destination),k.privMediaResources={scriptProcessorNode:ne,source:F,stream:O}};if(k.privSpeechProcessorScript&&C.audioWorklet)C.audioWorklet.addModule(k.privSpeechProcessorScript).then((function(){var ne=new AudioWorkletNode(C,"speech-processor");ne.port.onmessage=function(C){var k=C.data;if(P&&!P.isClosed){var O=M.encode(k);O&&(P.writeStreamChunk({buffer:O,isEnd:!1,timeReceived:Date.now()}),!1)}},F.connect(ne),ne.connect(C.destination),k.privMediaResources={scriptProcessorNode:ne,source:F,stream:O}})).catch((function(){oe()}));else try{oe()}catch(se){throw new Error("Unable to start audio worklet node for PCMRecorder: ".concat(se))}},this.releaseMediaResources=function(C){k.privMediaResources&&(k.privMediaResources.scriptProcessorNode&&(k.privMediaResources.scriptProcessorNode.disconnect(C.destination),k.privMediaResources.scriptProcessorNode=null),k.privMediaResources.source&&(k.privMediaResources.source.disconnect(),k.privStopInputOnRelease&&k.privMediaResources.stream.getTracks().forEach((function(C){return C.stop()})),k.privMediaResources.source=null))},this.privStopInputOnRelease=C}return Object(ne.a)(PcmRecorder,[{key:"setWorkletUrl",value:function setWorkletUrl(C){this.privSpeechProcessorScript=C}}]),PcmRecorder}(),se=O(75),ue=O(1),pe=O.n(ue),ve=O(632),de=O(631),he=O(820),fe=O(821),ge=O(819),me=O(551),ye=O(789),be=O(539),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},ke=function(){function MicAudioSource(C,k,O,P){var M=this;Object(F.a)(this,MicAudioSource),this.privRecorder=C,this.deviceId=k,this.privStreams={},this.turnOn=function(){if(M.privInitializeDeferral)return M.privInitializeDeferral.promise;M.privInitializeDeferral=new de.a;try{M.createAudioContext()}catch(ne){if(ne instanceof Error){var C=ne;M.privInitializeDeferral.reject(C.name+": "+C.message)}else M.privInitializeDeferral.reject(ne);return M.privInitializeDeferral.promise}var k=window.navigator,O=k.getUserMedia||k.webkitGetUserMedia||k.mozGetUserMedia||k.msGetUserMedia;if(k.mediaDevices&&(O=function getUserMedia(C,O,P){k.mediaDevices.getUserMedia(C).then(O).catch(P)}),O){var P=function next(){M.onEvent(new he.b(M.privId)),M.privMediaStream&&M.privMediaStream.active?(M.onEvent(new he.d(M.privId)),M.privInitializeDeferral.resolve()):O({audio:!M.deviceId||{deviceId:M.deviceId},video:!1},(function(C){M.privMediaStream=C,M.onEvent(new he.d(M.privId)),M.privInitializeDeferral.resolve()}),(function(C){var k="Error occurred during microphone initialization: ".concat(C);M.privInitializeDeferral.reject(k),M.onEvent(new he.a(M.privId,k))}))};"suspended"===M.privContext.state?M.privContext.resume().then(P).catch((function(C){M.privInitializeDeferral.reject("Failed to initialize audio context: ".concat(C))})):P()}else{var F="Browser does not support getUserMedia.";M.privInitializeDeferral.reject(F),M.onEvent(new he.a(F,""))}return M.privInitializeDeferral.promise},this.id=function(){return M.privId},this.attach=function(C){return M.onEvent(new he.f(M.privId,C)),M.listen(C).then((function(k){return M.onEvent(new he.e(M.privId,C)),{detach:function detach(){return __awaiter(M,void 0,void 0,pe.a.mark((function _callee(){return pe.a.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:return k.readEnded(),delete this.privStreams[C],this.onEvent(new he.g(this.privId,C)),O.abrupt("return",this.turnOff());case 4:case"end":return O.stop()}}),_callee,this)})))},id:function id(){return C},read:function read(){return k.read()}}}))},this.detach=function(C){C&&M.privStreams[C]&&(M.privStreams[C].close(),delete M.privStreams[C],M.onEvent(new he.g(M.privId,C)))},this.listen=function(C){return __awaiter(M,void 0,void 0,pe.a.mark((function _callee2(){var k,O;return pe.a.wrap((function _callee2$(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.turnOn();case 2:k=new fe.a(this.privOutputChunkSize,C),this.privStreams[C]=k,P.prev=4,this.privRecorder.record(this.privContext,this.privMediaStream,k),P.next=12;break;case 8:throw P.prev=8,P.t0=P.catch(4),this.onEvent(new he.h(this.privId,C,P.t0)),P.t0;case 12:return O=k,P.abrupt("return",O);case 14:case"end":return P.stop()}}),_callee2,this,[[4,8]])})))},this.onEvent=function(C){M.privEvents.onEvent(C),ge.a.instance.onEvent(C)},this.createAudioContext=function(){M.privContext||(M.privContext=be.c.getAudioContext(MicAudioSource.AUDIOFORMAT.samplesPerSec))},this.privOutputChunkSize=MicAudioSource.AUDIOFORMAT.avgBytesPerSec/10,this.privId=O||Object(me.b)(),this.privEvents=new ye.a,this.privMediaStream=P||null,this.privIsClosing=!1}return Object(ne.a)(MicAudioSource,[{key:"format",get:function get(){return Promise.resolve(MicAudioSource.AUDIOFORMAT)}},{key:"blob",get:function get(){return Promise.reject("Not implemented for Mic input")}},{key:"turnOff",value:function turnOff(){return __awaiter(this,void 0,void 0,pe.a.mark((function _callee3(){var C,k;return pe.a.wrap((function _callee3$(O){for(;;)switch(O.prev=O.next){case 0:for(C in this.privStreams)C&&(k=this.privStreams[C])&&k.close();if(this.onEvent(new he.c(this.privId)),!this.privInitializeDeferral){O.next=6;break}return O.next=5,this.privInitializeDeferral;case 5:this.privInitializeDeferral=null;case 6:return O.next=8,this.destroyAudioContext();case 8:return O.abrupt("return");case 9:case"end":return O.stop()}}),_callee3,this)})))}},{key:"events",get:function get(){return this.privEvents}},{key:"deviceInfo",get:function get(){return this.getMicrophoneLabel().then((function(C){return{bitspersample:MicAudioSource.AUDIOFORMAT.bitsPerSample,channelcount:MicAudioSource.AUDIOFORMAT.channels,connectivity:ve.f.Unknown,manufacturer:"Speech SDK",model:C,samplerate:MicAudioSource.AUDIOFORMAT.samplesPerSec,type:ve.g.Microphones}}))}},{key:"setProperty",value:function setProperty(C,k){if("MICROPHONE-WorkletSourceUrl"!==C)throw new Error("Property '"+C+"' is not supported on Microphone.");this.privRecorder.setWorkletUrl(k)}},{key:"getMicrophoneLabel",value:function getMicrophoneLabel(){var C=this,k="microphone";if(void 0!==this.privMicrophoneLabel)return Promise.resolve(this.privMicrophoneLabel);if(void 0===this.privMediaStream||!this.privMediaStream.active)return Promise.resolve(k);this.privMicrophoneLabel=k;var O=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(void 0===O)return Promise.resolve(this.privMicrophoneLabel);var P=new de.a;return navigator.mediaDevices.enumerateDevices().then((function(k){var M,F=Object(se.a)(k);try{for(F.s();!(M=F.n()).done;){var ne=M.value;if(ne.deviceId===O){C.privMicrophoneLabel=ne.label;break}}}catch(re){F.e(re)}finally{F.f()}P.resolve(C.privMicrophoneLabel)}),(function(){return P.resolve(C.privMicrophoneLabel)})),P.promise}},{key:"destroyAudioContext",value:function destroyAudioContext(){return __awaiter(this,void 0,void 0,pe.a.mark((function _callee4(){var C;return pe.a.wrap((function _callee4$(k){for(;;)switch(k.prev=k.next){case 0:if(this.privContext){k.next=2;break}return k.abrupt("return");case 2:if(this.privRecorder.releaseMediaResources(this.privContext),C=!1,"close"in this.privContext&&(C=!0),!C){k.next=14;break}if(this.privIsClosing){k.next=12;break}return this.privIsClosing=!0,k.next=10,this.privContext.close();case 10:this.privContext=null,this.privIsClosing=!1;case 12:k.next=17;break;case 14:if(null===this.privContext||"running"!==this.privContext.state){k.next=17;break}return k.next=17,this.privContext.suspend();case 17:case"end":return k.stop()}}),_callee4,this)})))}}]),MicAudioSource}();ke.AUDIOFORMAT=be.b.getDefaultInputFormat();var Oe,Ee,FileAudioSource_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Re=function(){function FileAudioSource(C,k,O){var P=this;Object(F.a)(this,FileAudioSource),this.privStreams={},this.privHeaderEnd=44,this.turnOn=function(){if(P.privFilename.lastIndexOf(".wav")!==P.privFilename.length-4){var C=P.privFilename+" is not supported. Only WAVE files are allowed at the moment.";return P.onEvent(new he.a(C,"")),Promise.reject(C)}P.onEvent(new he.b(P.privId)),P.onEvent(new he.d(P.privId))},this.id=function(){return P.privId},this.attach=function(C){return FileAudioSource_awaiter(P,void 0,void 0,pe.a.mark((function _callee2(){var k,O=this;return pe.a.wrap((function _callee2$(P){for(;;)switch(P.prev=P.next){case 0:return this.onEvent(new he.f(this.privId,C)),P.next=3,this.upload(C);case 3:return k=P.sent,this.onEvent(new he.e(this.privId,C)),P.abrupt("return",Promise.resolve({detach:function detach(){return FileAudioSource_awaiter(O,void 0,void 0,pe.a.mark((function _callee(){return pe.a.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:return k.readEnded(),delete this.privStreams[C],this.onEvent(new he.g(this.privId,C)),O.next=5,this.turnOff();case 5:case"end":return O.stop()}}),_callee,this)})))},id:function id(){return C},read:function read(){return k.read()}}));case 6:case"end":return P.stop()}}),_callee2,this)})))},this.detach=function(C){C&&P.privStreams[C]&&(P.privStreams[C].close(),delete P.privStreams[C],P.onEvent(new he.g(P.privId,C)))},this.turnOff=function(){for(var C in P.privStreams)if(C){var k=P.privStreams[C];k&&!k.isClosed&&k.close()}return P.onEvent(new he.c(P.privId)),Promise.resolve()},this.onEvent=function(C){P.privEvents.onEvent(C),ge.a.instance.onEvent(C)},this.privId=O||Object(me.b)(),this.privEvents=new ye.a,this.privSource=C,"undefined"!==typeof window&&"undefined"!==typeof Blob&&this.privSource instanceof Blob?this.privFilename=C.name:this.privFilename=k||"unknown.wav",this.privAudioFormatPromise=this.readHeader()}return Object(ne.a)(FileAudioSource,[{key:"format",get:function get(){return this.privAudioFormatPromise}},{key:"blob",get:function get(){return Promise.resolve(this.privSource)}},{key:"events",get:function get(){return this.privEvents}},{key:"deviceInfo",get:function get(){return this.privAudioFormatPromise.then((function(C){return Promise.resolve({bitspersample:C.bitsPerSample,channelcount:C.channels,connectivity:ve.f.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:C.samplesPerSec,type:ve.g.File})}))}},{key:"readHeader",value:function readHeader(){var C=this,k=this.privSource.slice(0,512),O=new de.a,P=function processHeader(k){var P=new DataView(k),M=function getWord(C){return String.fromCharCode(P.getUint8(C),P.getUint8(C+1),P.getUint8(C+2),P.getUint8(C+3))};if("RIFF"===M(0))if("WAVE"===M(8)&&"fmt "===M(12)){for(var F=P.getInt32(16,!0),ne=P.getUint16(22,!0),re=P.getUint32(24,!0),oe=P.getUint16(34,!0),se=36+Math.max(F-16,0);"data"!==M(se);se+=2)if(se>504)return void O.reject("Invalid WAV header in file, data block was not found");C.privHeaderEnd=se+8,O.resolve(be.b.getWaveFormatPCM(re,oe,ne))}else O.reject("Invalid WAV header in file, WAVEfmt was not found");else O.reject("Invalid WAV header in file, RIFF was not found")};if("undefined"!==typeof window&&"undefined"!==typeof Blob&&k instanceof Blob){var M=new FileReader;M.onload=function(C){var k=C.target.result;P(k)},M.readAsArrayBuffer(k)}else{var F=k;P(F.buffer.slice(F.byteOffset,F.byteOffset+F.byteLength))}return O.promise}},{key:"upload",value:function upload(C){return FileAudioSource_awaiter(this,void 0,void 0,pe.a.mark((function _callee3(){var k,O,P,M,F,ne,re,oe=this;return pe.a.wrap((function _callee3$(se){for(;;)switch(se.prev=se.next){case 0:return k=function onerror(k){var O="Error occurred while processing '".concat(oe.privFilename,"'. ").concat(k);throw oe.onEvent(new he.h(oe.privId,C,O)),new Error(O)},se.prev=1,se.next=4,this.turnOn();case 4:return se.next=6,this.privAudioFormatPromise;case 6:return O=se.sent,P=new fe.a(O.avgBytesPerSec/10,C),this.privStreams[C]=P,M=this.privSource.slice(this.privHeaderEnd),F=function processFile(C){P.isClosed||(P.writeStreamChunk({buffer:C,isEnd:!1,timeReceived:Date.now()}),P.close())},"undefined"!==typeof window&&"undefined"!==typeof Blob&&M instanceof Blob?((ne=new FileReader).onerror=function(C){k(C.toString())},ne.onload=function(C){var k=C.target.result;F(k)},ne.readAsArrayBuffer(M)):F((re=M).buffer.slice(re.byteOffset,re.byteOffset+re.byteLength)),se.abrupt("return",P);case 15:se.prev=15,se.t0=se.catch(1),k(se.t0);case 18:case"end":return se.stop()}}),_callee3,this,[[1,15]])})))}}]),FileAudioSource}(),Ie=O(526),Ae=function PullAudioInputStreamCallback(){Object(F.a)(this,PullAudioInputStreamCallback)},Pe=O(561),Te=O(155),je=O(588),_e=O(825),De=O(540),SpeakerAudioDestination_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Me=(Oe={},Object(Te.a)(Oe,be.a.PCM,"audio/wav"),Object(Te.a)(Oe,be.a.MuLaw,"audio/x-wav"),Object(Te.a)(Oe,be.a.MP3,"audio/mpeg"),Object(Te.a)(Oe,be.a.OGG_OPUS,"audio/ogg"),Object(Te.a)(Oe,be.a.WEBM_OPUS,"audio/webm; codecs=opus"),Object(Te.a)(Oe,be.a.ALaw,"audio/x-wav"),Object(Te.a)(Oe,be.a.FLAC,"audio/flac"),Oe),Ne=function(){function SpeakerAudioDestination(C){Object(F.a)(this,SpeakerAudioDestination),this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=C||Object(me.b)(),this.privIsPaused=!1,this.privIsClosed=!1}return Object(ne.a)(SpeakerAudioDestination,[{key:"id",value:function id(){return this.privId}},{key:"write",value:function write(C,k,O){void 0!==this.privAudioBuffer?(this.privAudioBuffer.push(C),this.updateSourceBuffer().then((function(){k&&k()}),(function(C){O&&O(C)}))):void 0!==this.privAudioOutputStream&&(this.privAudioOutputStream.write(C),this.privBytesReceived+=C.byteLength)}},{key:"close",value:function close(C,k){var O=this;if(this.privIsClosed=!0,void 0!==this.privSourceBuffer)this.handleSourceBufferUpdateEnd().then((function(){C&&C()}),(function(C){k&&k(C)}));else if(void 0!==this.privAudioOutputStream)if(this.privFormat.formatTag!==be.a.PCM&&this.privFormat.formatTag!==be.a.MuLaw&&this.privFormat.formatTag!==be.a.ALaw||!1!==this.privFormat.hasHeader){var P=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(P).then((function(M){P=je.a.addHeader(P,O.privFormat);var F=new Blob([P],{type:Me[O.privFormat.formatTag]});O.privAudio.src=window.URL.createObjectURL(F),O.notifyPlayback().then((function(){C&&C()}),(function(C){k&&k(C)}))}),(function(C){k&&k(C)}))}else console.warn("Play back is not supported for raw PCM, mulaw or alaw format without header."),this.onAudioEnd&&this.onAudioEnd(this);else this.onAudioEnd&&this.onAudioEnd(this)}},{key:"format",set:function set(C){var k=this;if("undefined"!==typeof AudioContext||"undefined"!==typeof window.webkitAudioContext){this.privFormat=C;var O=Me[this.privFormat.formatTag];void 0===O?console.warn("Unknown mimeType for format ".concat(be.a[this.privFormat.formatTag],"; playback is not supported.")):"undefined"!==typeof MediaSource&&MediaSource.isTypeSupported(O)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=function(C){k.privMediaSourceOpened=!0,k.privMediaSource.duration=1800,k.privSourceBuffer=k.privMediaSource.addSourceBuffer(O),k.privSourceBuffer.onupdate=function(C){k.updateSourceBuffer().catch((function(C){ge.a.instance.onEvent(new _e.a(C))}))},k.privSourceBuffer.onupdateend=function(C){k.handleSourceBufferUpdateEnd().catch((function(C){ge.a.instance.onEvent(new _e.a(C))}))},k.privSourceBuffer.onupdatestart=function(C){k.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch((function(C){ge.a.instance.onEvent(new _e.a(C))}))):(console.warn("Format ".concat(be.a[this.privFormat.formatTag]," could not be played by MSE, streaming playback is not enabled.")),this.privAudioOutputStream=new De.c,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}},{key:"volume",get:function get(){return this.privAudio.volume},set:function set(C){this.privAudio.volume=C}},{key:"mute",value:function mute(){this.privAudio.muted=!0}},{key:"unmute",value:function unmute(){this.privAudio.muted=!1}},{key:"isClosed",get:function get(){return this.privIsClosed}},{key:"currentTime",get:function get(){return void 0!==this.privAudio?this.privAudio.currentTime:-1}},{key:"pause",value:function pause(){this.privIsPaused||void 0===this.privAudio||(this.privAudio.pause(),this.privIsPaused=!0)}},{key:"resume",value:function resume(C,k){this.privIsPaused&&void 0!==this.privAudio&&(this.privAudio.play().then((function(){C&&C()}),(function(C){k&&k(C)})),this.privIsPaused=!1)}},{key:"internalAudio",get:function get(){return this.privAudio}},{key:"updateSourceBuffer",value:function updateSourceBuffer(){return SpeakerAudioDestination_awaiter(this,void 0,void 0,pe.a.mark((function _callee(){var C;return pe.a.wrap((function _callee$(k){for(;;)switch(k.prev=k.next){case 0:if(!(void 0!==this.privAudioBuffer&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable())){k.next=16;break}this.privAppendingToBuffer=!0,C=this.privAudioBuffer.shift(),k.prev=3,this.privSourceBuffer.appendBuffer(C),k.next=12;break;case 7:return k.prev=7,k.t0=k.catch(3),this.privAudioBuffer.unshift(C),console.log("buffer filled, pausing addition of binaries until space is made"),k.abrupt("return");case 12:return k.next=14,this.notifyPlayback();case 14:k.next=19;break;case 16:if(!this.canEndStream()){k.next=19;break}return k.next=19,this.handleSourceBufferUpdateEnd();case 19:case"end":return k.stop()}}),_callee,this,[[3,7]])})))}},{key:"handleSourceBufferUpdateEnd",value:function handleSourceBufferUpdateEnd(){return SpeakerAudioDestination_awaiter(this,void 0,void 0,pe.a.mark((function _callee2(){return pe.a.wrap((function _callee2$(C){for(;;)switch(C.prev=C.next){case 0:if(!this.canEndStream()||!this.sourceBufferAvailable()){C.next=4;break}return this.privMediaSource.endOfStream(),C.next=4,this.notifyPlayback();case 4:case"end":return C.stop()}}),_callee2,this)})))}},{key:"notifyPlayback",value:function notifyPlayback(){return SpeakerAudioDestination_awaiter(this,void 0,void 0,pe.a.mark((function _callee3(){var C=this;return pe.a.wrap((function _callee3$(k){for(;;)switch(k.prev=k.next){case 0:if(this.privPlaybackStarted||void 0===this.privAudio){k.next=7;break}if(this.privPlaybackStarted=!0,this.onAudioStart&&this.onAudioStart(this),this.privAudio.onended=function(){C.onAudioEnd&&C.onAudioEnd(C)},this.privIsPaused){k.next=7;break}return k.next=7,this.privAudio.play();case 7:case"end":return k.stop()}}),_callee3,this)})))}},{key:"canEndStream",value:function canEndStream(){return this.isClosed&&void 0!==this.privSourceBuffer&&0===this.privAudioBuffer.length&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&"open"===this.privMediaSource.readyState}},{key:"sourceBufferAvailable",value:function sourceBufferAvailable(){return void 0!==this.privSourceBuffer&&!this.privSourceBuffer.updating}}]),SpeakerAudioDestination}(),Le=function PushAudioOutputStreamCallback(){Object(F.a)(this,PushAudioOutputStreamCallback)},ze=O(791),Be=function(){function AudioFileWriter(C){var k=this;Object(F.a)(this,AudioFileWriter),this.id=function(){return k.privId},Ie.a.throwIfNullOrUndefined(ze.openSync,"\nFile System access not available, please use Push or PullAudioOutputStream"),this.privFd=ze.openSync(C,"w")}return Object(ne.a)(AudioFileWriter,[{key:"format",set:function set(C){Ie.a.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=C;var k=0;this.privAudioFormat.hasHeader&&(k=this.privAudioFormat.header.byteLength),void 0!==this.privFd&&(this.privWriteStream=ze.createWriteStream("",{fd:this.privFd,start:k,autoClose:!1}))}},{key:"write",value:function write(C){Ie.a.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),void 0!==this.privWriteStream&&this.privWriteStream.write(new Uint8Array(C.slice(0)))}},{key:"close",value:function close(){var C=this;void 0!==this.privFd&&(this.privWriteStream.on("finish",(function(){C.privAudioFormat.hasHeader&&(C.privAudioFormat.updateHeader(C.privWriteStream.bytesWritten),ze.writeSync(C.privFd,new Int8Array(C.privAudioFormat.header),0,C.privAudioFormat.header.byteLength,0)),ze.closeSync(C.privFd),C.privFd=void 0})),this.privWriteStream.end())}}]),AudioFileWriter}(),Fe=function(){function AudioConfig(){Object(F.a)(this,AudioConfig)}return Object(ne.a)(AudioConfig,null,[{key:"fromDefaultMicrophoneInput",value:function fromDefaultMicrophoneInput(){var C=new oe(!0);return new Ue(new ke(C))}},{key:"fromMicrophoneInput",value:function fromMicrophoneInput(C){var k=new oe(!0);return new Ue(new ke(k,C))}},{key:"fromWavFileInput",value:function fromWavFileInput(C){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamedBuffer.wav";return new Ue(new Re(C,k))}},{key:"fromStreamInput",value:function fromStreamInput(C){if(C instanceof Ae)return new Ue(new Pe.c(C));if(C instanceof Pe.a)return new Ue(C);if("undefined"!==typeof MediaStream&&C instanceof MediaStream){var k=new oe(!1);return new Ue(new ke(k,null,null,C))}throw new Error("Not Supported Type")}},{key:"fromDefaultSpeakerOutput",value:function fromDefaultSpeakerOutput(){return new qe(new Ne)}},{key:"fromSpeakerOutput",value:function fromSpeakerOutput(C){if(void 0===C)return AudioConfig.fromDefaultSpeakerOutput();if(C instanceof Ne)return new qe(C);throw new Error("Not Supported Type")}},{key:"fromAudioFileOutput",value:function fromAudioFileOutput(C){return new qe(new Be(C))}},{key:"fromStreamOutput",value:function fromStreamOutput(C){if(C instanceof Le)return new qe(new De.e(C));if(C instanceof De.d)return new qe(C);if(C instanceof De.b)return new qe(C);throw new Error("Not Supported Type")}}]),AudioConfig}(),Ue=function(C){Object(P.a)(AudioConfigImpl,C);var k=Object(M.a)(AudioConfigImpl);function AudioConfigImpl(C){var O;return Object(F.a)(this,AudioConfigImpl),(O=k.call(this)).privSource=C,O}return Object(ne.a)(AudioConfigImpl,[{key:"format",get:function get(){return this.privSource.format}},{key:"close",value:function close(C,k){this.privSource.turnOff().then((function(){C&&C()}),(function(C){k&&k(C)}))}},{key:"id",value:function id(){return this.privSource.id()}},{key:"blob",get:function get(){return this.privSource.blob}},{key:"turnOn",value:function turnOn(){return this.privSource.turnOn()}},{key:"attach",value:function attach(C){return this.privSource.attach(C)}},{key:"detach",value:function detach(C){return this.privSource.detach(C)}},{key:"turnOff",value:function turnOff(){return this.privSource.turnOff()}},{key:"events",get:function get(){return this.privSource.events}},{key:"setProperty",value:function setProperty(C,k){if(Ie.a.throwIfNull(k,"value"),void 0===this.privSource.setProperty)throw new Error("This AudioConfig instance does not support setting properties.");this.privSource.setProperty(C,k)}},{key:"getProperty",value:function getProperty(C,k){if(void 0!==this.privSource.getProperty)return this.privSource.getProperty(C,k);throw new Error("This AudioConfig instance does not support getting properties.")}},{key:"deviceInfo",get:function get(){return this.privSource.deviceInfo}}]),AudioConfigImpl}(Fe),qe=function(C){Object(P.a)(AudioOutputConfigImpl,C);var k=Object(M.a)(AudioOutputConfigImpl);function AudioOutputConfigImpl(C){var O;return Object(F.a)(this,AudioOutputConfigImpl),(O=k.call(this)).privDestination=C,O}return Object(ne.a)(AudioOutputConfigImpl,[{key:"format",set:function set(C){this.privDestination.format=C}},{key:"write",value:function write(C){this.privDestination.write(C)}},{key:"close",value:function close(){this.privDestination.close()}},{key:"id",value:function id(){return this.privDestination.id()}},{key:"setProperty",value:function setProperty(C,k){throw new Error("This AudioConfig instance does not support setting properties.")}},{key:"getProperty",value:function getProperty(C,k){throw new Error("This AudioConfig instance does not support getting properties.")}}]),AudioOutputConfigImpl}(Fe),Ve=O(635),Ke=function(){function KeywordRecognitionModel(){Object(F.a)(this,KeywordRecognitionModel),this.privDisposed=!1}return Object(ne.a)(KeywordRecognitionModel,[{key:"close",value:function close(){this.privDisposed||(this.privDisposed=!0)}}],[{key:"fromFile",value:function fromFile(C){throw Ie.a.throwIfFileDoesNotExist(C,"fileName"),new Error("Not yet implemented.")}},{key:"fromStream",value:function fromStream(C){throw Ie.a.throwIfNull(C,"file"),new Error("Not yet implemented.")}}]),KeywordRecognitionModel}(),He=O(645),We=O(646),Je=O(647),Ge=O(648),$e=O(649),Ye=O(650),Qe=O(651),Xe=function(){function LanguageUnderstandingModel(){Object(F.a)(this,LanguageUnderstandingModel)}return Object(ne.a)(LanguageUnderstandingModel,null,[{key:"fromEndpoint",value:function fromEndpoint(C){Ie.a.throwIfNull(C,"uri"),Ie.a.throwIfNullOrWhitespace(C.hostname,"uri");var k=new Ze,O=C.host.indexOf(".");if(-1===O)throw new Error("Could not determine region from endpoint");k.region=C.host.substr(0,O);var P=C.pathname.lastIndexOf("/")+1;if(-1===P)throw new Error("Could not determine appId from endpoint");if(k.appId=C.pathname.substr(P),k.subscriptionKey=C.searchParams.get("subscription-key"),void 0===k.subscriptionKey)throw new Error("Could not determine subscription key from endpoint");return k}},{key:"fromAppId",value:function fromAppId(C){Ie.a.throwIfNullOrWhitespace(C,"appId");var k=new Ze;return k.appId=C,k}},{key:"fromSubscription",value:function fromSubscription(C,k,O){Ie.a.throwIfNullOrWhitespace(C,"subscriptionKey"),Ie.a.throwIfNullOrWhitespace(k,"appId"),Ie.a.throwIfNullOrWhitespace(O,"region");var P=new Ze;return P.appId=k,P.region=O,P.subscriptionKey=C,P}}]),LanguageUnderstandingModel}(),Ze=function(C){Object(P.a)(LanguageUnderstandingModelImpl,C);var k=Object(M.a)(LanguageUnderstandingModelImpl);function LanguageUnderstandingModelImpl(){return Object(F.a)(this,LanguageUnderstandingModelImpl),k.apply(this,arguments)}return LanguageUnderstandingModelImpl}(Xe),et=O(591),tt=O(652),nt=O(653),rt=O(654),it=O(593),ot=O(655),at=O(640),st=O(594),ct=O(524),ut=O(569),pt=O(590),lt=O(656),vt=O(589),dt=function(C){Object(P.a)(SpeechTranslationConfig,C);var k=Object(M.a)(SpeechTranslationConfig);function SpeechTranslationConfig(){return Object(F.a)(this,SpeechTranslationConfig),k.call(this)}return Object(ne.a)(SpeechTranslationConfig,null,[{key:"fromSubscription",value:function fromSubscription(C,k){Ie.a.throwIfNullOrWhitespace(C,"subscriptionKey"),Ie.a.throwIfNullOrWhitespace(k,"region");var O=new ht;return O.properties.setProperty(ut.a.SpeechServiceConnection_Key,C),O.properties.setProperty(ut.a.SpeechServiceConnection_Region,k),O}},{key:"fromAuthorizationToken",value:function fromAuthorizationToken(C,k){Ie.a.throwIfNullOrWhitespace(C,"authorizationToken"),Ie.a.throwIfNullOrWhitespace(k,"region");var O=new ht;return O.properties.setProperty(ut.a.SpeechServiceAuthorization_Token,C),O.properties.setProperty(ut.a.SpeechServiceConnection_Region,k),O}},{key:"fromHost",value:function fromHost(C,k){Ie.a.throwIfNull(C,"hostName");var O=new ht;return O.setProperty(ut.a.SpeechServiceConnection_Host,C.protocol+"//"+C.hostname+(""===C.port?"":":"+C.port)),void 0!==k&&O.setProperty(ut.a.SpeechServiceConnection_Key,k),O}},{key:"fromEndpoint",value:function fromEndpoint(C,k){Ie.a.throwIfNull(C,"endpoint"),Ie.a.throwIfNull(k,"subscriptionKey");var O=new ht;return O.properties.setProperty(ut.a.SpeechServiceConnection_Endpoint,C.href),O.properties.setProperty(ut.a.SpeechServiceConnection_Key,k),O}}]),SpeechTranslationConfig}(st.a),ht=function(C){Object(P.a)(SpeechTranslationConfigImpl,C);var k=Object(M.a)(SpeechTranslationConfigImpl);function SpeechTranslationConfigImpl(){var C;return Object(F.a)(this,SpeechTranslationConfigImpl),(C=k.call(this)).privSpeechProperties=new pt.a,C.outputFormat=Je.a.Simple,C}return Object(ne.a)(SpeechTranslationConfigImpl,[{key:"authorizationToken",set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"value"),this.privSpeechProperties.setProperty(ut.a.SpeechServiceAuthorization_Token,C)}},{key:"speechRecognitionLanguage",get:function get(){return this.privSpeechProperties.getProperty(ut.a[ut.a.SpeechServiceConnection_RecoLanguage])},set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"value"),this.privSpeechProperties.setProperty(ut.a.SpeechServiceConnection_RecoLanguage,C)}},{key:"subscriptionKey",get:function get(){return this.privSpeechProperties.getProperty(ut.a[ut.a.SpeechServiceConnection_Key])}},{key:"outputFormat",get:function get(){return Je.a[this.privSpeechProperties.getProperty(ct.OutputFormatPropertyName,void 0)]},set:function set(C){this.privSpeechProperties.setProperty(ct.OutputFormatPropertyName,Je.a[C])}},{key:"endpointId",get:function get(){return this.privSpeechProperties.getProperty(ut.a.SpeechServiceConnection_EndpointId)},set:function set(C){this.privSpeechProperties.setProperty(ut.a.SpeechServiceConnection_EndpointId,C)}},{key:"addTargetLanguage",value:function addTargetLanguage(C){Ie.a.throwIfNullOrWhitespace(C,"value");var k=this.targetLanguages;k.push(C),this.privSpeechProperties.setProperty(ut.a.SpeechServiceConnection_TranslationToLanguages,k.join(","))}},{key:"targetLanguages",get:function get(){return void 0!==this.privSpeechProperties.getProperty(ut.a.SpeechServiceConnection_TranslationToLanguages,void 0)?this.privSpeechProperties.getProperty(ut.a.SpeechServiceConnection_TranslationToLanguages).split(","):[]}},{key:"voiceName",get:function get(){return this.getProperty(ut.a[ut.a.SpeechServiceConnection_TranslationVoice])},set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"value"),this.privSpeechProperties.setProperty(ut.a.SpeechServiceConnection_TranslationVoice,C)}},{key:"region",get:function get(){return this.privSpeechProperties.getProperty(ut.a.SpeechServiceConnection_Region)}},{key:"setProxy",value:function setProxy(C,k,O,P){this.setProperty(ut.a[ut.a.SpeechServiceConnection_ProxyHostName],C),this.setProperty(ut.a[ut.a.SpeechServiceConnection_ProxyPort],k),this.setProperty(ut.a[ut.a.SpeechServiceConnection_ProxyUserName],O),this.setProperty(ut.a[ut.a.SpeechServiceConnection_ProxyPassword],P)}},{key:"getProperty",value:function getProperty(C,k){return this.privSpeechProperties.getProperty(C,k)}},{key:"setProperty",value:function setProperty(C,k){this.privSpeechProperties.setProperty(C,k)}},{key:"properties",get:function get(){return this.privSpeechProperties}},{key:"close",value:function close(){}},{key:"setServiceProperty",value:function setServiceProperty(C,k,O){var P=JSON.parse(this.privSpeechProperties.getProperty(ct.ServicePropertiesPropertyName,"{}"));P[C]=k,this.privSpeechProperties.setProperty(ct.ServicePropertiesPropertyName,JSON.stringify(P))}},{key:"setProfanity",value:function setProfanity(C){this.privSpeechProperties.setProperty(ut.a.SpeechServiceResponse_ProfanityOption,lt.a[C])}},{key:"enableAudioLogging",value:function enableAudioLogging(){this.privSpeechProperties.setProperty(ut.a.SpeechServiceConnection_EnableAudioLogging,"true")}},{key:"requestWordLevelTimestamps",value:function requestWordLevelTimestamps(){this.privSpeechProperties.setProperty(ut.a.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}},{key:"enableDictation",value:function enableDictation(){this.privSpeechProperties.setProperty(ct.ForceDictationPropertyName,"true")}},{key:"speechSynthesisLanguage",get:function get(){return this.privSpeechProperties.getProperty(ut.a.SpeechServiceConnection_SynthLanguage)},set:function set(C){this.privSpeechProperties.setProperty(ut.a.SpeechServiceConnection_SynthLanguage,C)}},{key:"speechSynthesisVoiceName",get:function get(){return this.privSpeechProperties.getProperty(ut.a.SpeechServiceConnection_SynthVoice)},set:function set(C){this.privSpeechProperties.setProperty(ut.a.SpeechServiceConnection_SynthVoice,C)}},{key:"speechSynthesisOutputFormat",get:function get(){return vt.a[this.privSpeechProperties.getProperty(ut.a.SpeechServiceConnection_SynthOutputFormat,void 0)]},set:function set(C){this.privSpeechProperties.setProperty(ut.a.SpeechServiceConnection_SynthOutputFormat,vt.a[C])}}]),SpeechTranslationConfigImpl}(dt),ft=O(657),gt=O(661),mt=O(662),Recognizer_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},yt=function(){function Recognizer(C,k,O){Object(F.a)(this,Recognizer),this.audioConfig=void 0!==C?C:Fe.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=k.clone(),this.privConnectionFactory=O,this.implCommonRecognizerSetup()}return Object(ne.a)(Recognizer,[{key:"close",value:function close(C,k){Ie.a.throwIfDisposed(this.privDisposed),Object(de.b)(this.dispose(!0),C,k)}},{key:"internalData",get:function get(){return this.privReco}},{key:"dispose",value:function dispose(C){return Recognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee(){return pe.a.wrap((function _callee$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privDisposed){k.next=2;break}return k.abrupt("return");case 2:if(this.privDisposed=!0,!C){k.next=9;break}if(!this.privReco){k.next=9;break}return k.next=7,this.privReco.audioSource.turnOff();case 7:return k.next=9,this.privReco.dispose();case 9:case"end":return k.stop()}}),_callee,this)})))}},{key:"implCommonRecognizerSetup",value:function implCommonRecognizerSetup(){var C="undefined"!==typeof window?"Browser":"Node",k="unknown",O="unknown";"undefined"!==typeof navigator&&(C=C+"/"+navigator.platform,k=navigator.userAgent,O=navigator.appVersion);var P=this.createRecognizerConfig(new ve.e(new ve.a(new ve.b(C,k,O))));this.privReco=this.createServiceRecognizer(Recognizer.getAuthFromProperties(this.privProperties),this.privConnectionFactory,this.audioConfig,P)}},{key:"recognizeOnceAsyncImpl",value:function recognizeOnceAsyncImpl(C){return Recognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee2(){var k,O;return pe.a.wrap((function _callee2$(P){for(;;)switch(P.prev=P.next){case 0:return Ie.a.throwIfDisposed(this.privDisposed),k=new de.a,P.next=4,this.implRecognizerStop();case 4:return P.next=6,this.privReco.recognize(C,k.resolve,k.reject);case 6:return P.next=8,k.promise;case 8:return O=P.sent,P.next=11,this.implRecognizerStop();case 11:return P.abrupt("return",O);case 12:case"end":return P.stop()}}),_callee2,this)})))}},{key:"startContinuousRecognitionAsyncImpl",value:function startContinuousRecognitionAsyncImpl(C){return Recognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee3(){return pe.a.wrap((function _callee3$(k){for(;;)switch(k.prev=k.next){case 0:return Ie.a.throwIfDisposed(this.privDisposed),k.next=3,this.implRecognizerStop();case 3:return k.next=5,this.privReco.recognize(C,void 0,void 0);case 5:case"end":return k.stop()}}),_callee3,this)})))}},{key:"stopContinuousRecognitionAsyncImpl",value:function stopContinuousRecognitionAsyncImpl(){return Recognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee4(){return pe.a.wrap((function _callee4$(C){for(;;)switch(C.prev=C.next){case 0:return Ie.a.throwIfDisposed(this.privDisposed),C.next=3,this.implRecognizerStop();case 3:case"end":return C.stop()}}),_callee4,this)})))}},{key:"implRecognizerStop",value:function implRecognizerStop(){return Recognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee5(){return pe.a.wrap((function _callee5$(C){for(;;)switch(C.prev=C.next){case 0:if(!this.privReco){C.next=3;break}return C.next=3,this.privReco.stopRecognizing();case 3:return C.abrupt("return");case 4:case"end":return C.stop()}}),_callee5,this)})))}}],[{key:"telemetryEnabled",get:function get(){return ft.a.telemetryDataEnabled}},{key:"enableTelemetry",value:function enableTelemetry(C){ft.a.telemetryDataEnabled=C}},{key:"getAuthFromProperties",value:function getAuthFromProperties(C){var k=C.getProperty(ut.a.SpeechServiceConnection_Key,void 0);return k&&""!==k?new gt.a(k):new mt.a((function(k){var O=C.getProperty(ut.a.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(O)}),(function(k){var O=C.getProperty(ut.a.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(O)}))}}]),Recognizer}(),bt=O(24),St=O(17),Ct=O(663),kt=O(665),SpeechRecognizer_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Ot=function(C){Object(P.a)(SpeechRecognizer,C);var k=Object(M.a)(SpeechRecognizer);function SpeechRecognizer(C,O){var P;Object(F.a)(this,SpeechRecognizer);var M=C;return Ie.a.throwIfNull(M,"speechConfig"),Ie.a.throwIfNullOrWhitespace(M.properties.getProperty(ut.a.SpeechServiceConnection_RecoLanguage),ut.a[ut.a.SpeechServiceConnection_RecoLanguage]),(P=k.call(this,O,M.properties,new Ct.a)).privDisposedRecognizer=!1,P}return Object(ne.a)(SpeechRecognizer,[{key:"endpointId",get:function get(){return Ie.a.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(ut.a.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}},{key:"authorizationToken",get:function get(){return this.properties.getProperty(ut.a.SpeechServiceAuthorization_Token)},set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"token"),this.properties.setProperty(ut.a.SpeechServiceAuthorization_Token,C)}},{key:"speechRecognitionLanguage",get:function get(){return Ie.a.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(ut.a.SpeechServiceConnection_RecoLanguage)}},{key:"outputFormat",get:function get(){return Ie.a.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(ct.OutputFormatPropertyName,Je.a[Je.a.Simple])===Je.a[Je.a.Simple]?Je.a.Simple:Je.a.Detailed}},{key:"properties",get:function get(){return this.privProperties}},{key:"recognizeOnceAsync",value:function recognizeOnceAsync(C,k){Object(de.b)(this.recognizeOnceAsyncImpl(ve.c.Interactive),C,k)}},{key:"startContinuousRecognitionAsync",value:function startContinuousRecognitionAsync(C,k){Object(de.b)(this.startContinuousRecognitionAsyncImpl(ve.c.Conversation),C,k)}},{key:"stopContinuousRecognitionAsync",value:function stopContinuousRecognitionAsync(C,k){Object(de.b)(this.stopContinuousRecognitionAsyncImpl(),C,k)}},{key:"startKeywordRecognitionAsync",value:function startKeywordRecognitionAsync(C,k,O){Ie.a.throwIfNull(C,"model"),O&&O("Not yet implemented.")}},{key:"stopKeywordRecognitionAsync",value:function stopKeywordRecognitionAsync(C,k){C&&C()}},{key:"close",value:function close(C,k){Ie.a.throwIfDisposed(this.privDisposedRecognizer),Object(de.b)(this.dispose(!0),C,k)}},{key:"dispose",value:function dispose(C){var k=this,O=Object.create(null,{dispose:{get:function get(){return Object(bt.a)(Object(St.a)(SpeechRecognizer.prototype),"dispose",k)}}});return SpeechRecognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee(){return pe.a.wrap((function _callee$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privDisposedRecognizer){k.next=2;break}return k.abrupt("return");case 2:if(!C){k.next=6;break}return this.privDisposedRecognizer=!0,k.next=6,this.implRecognizerStop();case 6:return k.next=8,O.dispose.call(this,C);case 8:case"end":return k.stop()}}),_callee,this)})))}},{key:"createRecognizerConfig",value:function createRecognizerConfig(C){return new ve.d(C,this.properties)}},{key:"createServiceRecognizer",value:function createServiceRecognizer(C,k,O,P){var M=O;return new kt.a(C,k,M,P,this)}}],[{key:"FromConfig",value:function FromConfig(C,k,O){var P=C;return k.properties.mergeTo(P.properties),new SpeechRecognizer(C,O)}}]),SpeechRecognizer}(yt),Et=O(671),wt=O(672),Rt=O(673),IntentRecognizer_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},It=function(C){Object(P.a)(IntentRecognizer,C);var k=Object(M.a)(IntentRecognizer);function IntentRecognizer(C,O){var P;Object(F.a)(this,IntentRecognizer),Ie.a.throwIfNullOrUndefined(C,"speechConfig");var M=C;return Ie.a.throwIfNullOrUndefined(M,"speechConfig"),(P=k.call(this,O,M.properties,new Et.a)).privAddedIntents=[],P.privAddedLmIntents={},P.privDisposedIntentRecognizer=!1,P.privProperties=M.properties,Ie.a.throwIfNullOrWhitespace(P.properties.getProperty(ut.a.SpeechServiceConnection_RecoLanguage),ut.a[ut.a.SpeechServiceConnection_RecoLanguage]),P}return Object(ne.a)(IntentRecognizer,[{key:"speechRecognitionLanguage",get:function get(){return Ie.a.throwIfDisposed(this.privDisposedIntentRecognizer),this.properties.getProperty(ut.a.SpeechServiceConnection_RecoLanguage)}},{key:"authorizationToken",get:function get(){return this.properties.getProperty(ut.a.SpeechServiceAuthorization_Token)},set:function set(C){this.properties.setProperty(ut.a.SpeechServiceAuthorization_Token,C)}},{key:"properties",get:function get(){return this.privProperties}},{key:"recognizeOnceAsync",value:function recognizeOnceAsync(C,k){if(Ie.a.throwIfDisposed(this.privDisposedIntentRecognizer),0!==Object.keys(this.privAddedLmIntents).length||void 0!==this.privUmbrellaIntent){var O=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",O.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(O.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}Object(de.b)(this.recognizeOnceAsyncImpl(ve.c.Interactive),C,k)}},{key:"startContinuousRecognitionAsync",value:function startContinuousRecognitionAsync(C,k){if(0!==Object.keys(this.privAddedLmIntents).length||void 0!==this.privUmbrellaIntent){var O=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",O.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(O.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}Object(de.b)(this.startContinuousRecognitionAsyncImpl(ve.c.Conversation),C,k)}},{key:"stopContinuousRecognitionAsync",value:function stopContinuousRecognitionAsync(C,k){Object(de.b)(this.stopContinuousRecognitionAsyncImpl(),C,k)}},{key:"startKeywordRecognitionAsync",value:function startKeywordRecognitionAsync(C,k,O){Ie.a.throwIfNull(C,"model"),O&&O("Not yet implemented.")}},{key:"stopKeywordRecognitionAsync",value:function stopKeywordRecognitionAsync(C,k){C&&C()}},{key:"addIntent",value:function addIntent(C,k){Ie.a.throwIfDisposed(this.privDisposedIntentRecognizer),Ie.a.throwIfNullOrWhitespace(k,"intentId"),Ie.a.throwIfNullOrWhitespace(C,"simplePhrase"),this.privAddedIntents.push([k,C])}},{key:"addIntentWithLanguageModel",value:function addIntentWithLanguageModel(C,k,O){Ie.a.throwIfDisposed(this.privDisposedIntentRecognizer),Ie.a.throwIfNullOrWhitespace(C,"intentId"),Ie.a.throwIfNull(k,"model");var P=k;Ie.a.throwIfNullOrWhitespace(P.appId,"model.appId"),this.privAddedLmIntents[C]=new wt.a(P,O)}},{key:"addAllIntents",value:function addAllIntents(C,k){Ie.a.throwIfNull(C,"model");var O=C;Ie.a.throwIfNullOrWhitespace(O.appId,"model.appId"),this.privUmbrellaIntent=new wt.a(O,k)}},{key:"close",value:function close(C,k){Ie.a.throwIfDisposed(this.privDisposedIntentRecognizer),Object(de.b)(this.dispose(!0),C,k)}},{key:"createRecognizerConfig",value:function createRecognizerConfig(C){return new ve.d(C,this.properties)}},{key:"createServiceRecognizer",value:function createServiceRecognizer(C,k,O,P){var M=O;return new Rt.a(C,k,M,P,this)}},{key:"dispose",value:function dispose(C){var k=this,O=Object.create(null,{dispose:{get:function get(){return Object(bt.a)(Object(St.a)(IntentRecognizer.prototype),"dispose",k)}}});return IntentRecognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee(){return pe.a.wrap((function _callee$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privDisposedIntentRecognizer){k.next=2;break}return k.abrupt("return");case 2:if(!C){k.next=6;break}return this.privDisposedIntentRecognizer=!0,k.next=6,O.dispose.call(this,C);case 6:case"end":return k.stop()}}),_callee,this)})))}},{key:"buildSpeechContext",value:function buildSpeechContext(){var C,k,O,P=[];void 0!==this.privUmbrellaIntent&&(C=this.privUmbrellaIntent.modelImpl.appId,k=this.privUmbrellaIntent.modelImpl.region,O=this.privUmbrellaIntent.modelImpl.subscriptionKey);for(var M=0,F=Object.keys(this.privAddedLmIntents);M<F.length;M++){var ne=F[M],re=this.privAddedLmIntents[ne];if(void 0===C)C=re.modelImpl.appId;else if(C!==re.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(void 0===k)k=re.modelImpl.region;else if(k!==re.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(void 0===O)O=re.modelImpl.subscriptionKey;else if(O!==re.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");var oe="luis/"+C+"-PRODUCTION#"+ne;P.push(oe)}return{Intent:{id:C,key:void 0===O?this.privProperties.getProperty(ut.a[ut.a.SpeechServiceConnection_Key]):O,provider:"LUIS"},ReferenceGrammars:void 0===this.privUmbrellaIntent?P:["luis/"+C+"-PRODUCTION"]}}}]),IntentRecognizer}(yt),At=O(676),Pt=O(677),Tt=O(678),jt=O(536),_t=O(790),xt=function ConnectionMessage(){Object(F.a)(this,ConnectionMessage)},Dt=function(){function ConnectionMessageImpl(C){var k=this;Object(F.a)(this,ConnectionMessageImpl),this.privConnectionMessage=C,this.privProperties=new pt.a,this.privConnectionMessage.headers[jt.a.ConnectionId]&&this.privProperties.setProperty(ut.a.Speech_SessionId,this.privConnectionMessage.headers[jt.a.ConnectionId]),Object.keys(this.privConnectionMessage.headers).forEach((function(C,O,P){k.privProperties.setProperty(C,k.privConnectionMessage.headers[C])}))}return Object(ne.a)(ConnectionMessageImpl,[{key:"path",get:function get(){return this.privConnectionMessage.headers[Object.keys(this.privConnectionMessage.headers).find((function(C){return C.toLowerCase()==="path".toLowerCase()}))]}},{key:"isTextMessage",get:function get(){return this.privConnectionMessage.messageType===_t.b.Text}},{key:"isBinaryMessage",get:function get(){return this.privConnectionMessage.messageType===_t.b.Binary}},{key:"TextMessage",get:function get(){return this.privConnectionMessage.textBody}},{key:"binaryMessage",get:function get(){return this.privConnectionMessage.binaryBody}},{key:"properties",get:function get(){return this.privProperties}},{key:"toString",value:function toString(){return""}}]),ConnectionMessageImpl}(),Mt=function(C){Object(P.a)(ConnectionEventArgs,C);var k=Object(M.a)(ConnectionEventArgs);function ConnectionEventArgs(){return Object(F.a)(this,ConnectionEventArgs),k.apply(this,arguments)}return ConnectionEventArgs}(He.a),Nt=function(){function ConnectionMessageEventArgs(C){Object(F.a)(this,ConnectionMessageEventArgs),this.privConnectionMessage=C}return Object(ne.a)(ConnectionMessageEventArgs,[{key:"message",get:function get(){return this.privConnectionMessage}},{key:"toString",value:function toString(){return"Message: "+this.privConnectionMessage.toString()}}]),ConnectionMessageEventArgs}(),Lt=function(C){Object(P.a)(ServiceEventArgs,C);var k=Object(M.a)(ServiceEventArgs);function ServiceEventArgs(C,O,P){var M;return Object(F.a)(this,ServiceEventArgs),(M=k.call(this,P)).privJsonResult=C,M.privEventName=O,M}return Object(ne.a)(ServiceEventArgs,[{key:"jsonString",get:function get(){return this.privJsonResult}},{key:"eventName",get:function get(){return this.privEventName}}]),ServiceEventArgs}(He.a),zt=function(){function Connection(){Object(F.a)(this,Connection)}return Object(ne.a)(Connection,[{key:"openConnection",value:function openConnection(C,k){Object(de.b)(this.privInternalData.connect(),C,k)}},{key:"closeConnection",value:function closeConnection(C,k){if(this.privInternalData instanceof je.a)throw new Error("Disconnecting a synthesizer's connection is currently not supported");Object(de.b)(this.privInternalData.disconnect(),C,k)}},{key:"setMessageProperty",value:function setMessageProperty(C,k,O){if(Ie.a.throwIfNullOrWhitespace(k,"propertyName"),this.privInternalData instanceof ft.a){if("speech.context"!==C.toLowerCase())throw new Error("Only speech.context message property sets are currently supported for recognizer");this.privInternalData.speechContext.setSection(k,O)}else if(this.privInternalData instanceof je.a){if("synthesis.context"!==C.toLowerCase())throw new Error("Only synthesis.context message property sets are currently supported for synthesizer");this.privInternalData.synthesisContext.setSection(k,O)}}},{key:"sendMessageAsync",value:function sendMessageAsync(C,k,O,P){Object(de.b)(this.privInternalData.sendNetworkMessage(C,k),O,P)}},{key:"close",value:function close(){}},{key:"setupEvents",value:function setupEvents(){var C=this;this.privEventListener=this.privInternalData.connectionEvents.attach((function(k){"ConnectionEstablishedEvent"===k.name?C.connected&&C.connected(new Mt(k.connectionId)):"ConnectionClosedEvent"===k.name?C.disconnected&&C.disconnected(new Mt(k.connectionId)):"ConnectionMessageSentEvent"===k.name?C.messageSent&&C.messageSent(new Nt(new Dt(k.message))):"ConnectionMessageReceivedEvent"===k.name&&C.messageReceived&&C.messageReceived(new Nt(new Dt(k.message)))})),this.privServiceEventListener=this.privInternalData.serviceEvents.attach((function(k){C.receivedServiceMessage&&C.receivedServiceMessage(new Lt(k.jsonString,k.name))}))}}],[{key:"fromRecognizer",value:function fromRecognizer(C){var k=C.internalData,O=new Connection;return O.privInternalData=k,O.setupEvents(),O}},{key:"fromSynthesizer",value:function fromSynthesizer(C){var k=C.internalData,O=new Connection;return O.privInternalData=k,O.setupEvents(),O}}]),Connection}(),TranslationRecognizer_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Bt=function(C){Object(P.a)(TranslationRecognizer,C);var k=Object(M.a)(TranslationRecognizer);function TranslationRecognizer(C,O){var P;Object(F.a)(this,TranslationRecognizer);var M=C;return Ie.a.throwIfNull(M,"speechConfig"),(P=k.call(this,O,M.properties,new Pt.a)).privDisposedTranslationRecognizer=!1,void 0!==P.properties.getProperty(ut.a.SpeechServiceConnection_TranslationVoice,void 0)&&Ie.a.throwIfNullOrWhitespace(P.properties.getProperty(ut.a.SpeechServiceConnection_TranslationVoice),ut.a[ut.a.SpeechServiceConnection_TranslationVoice]),Ie.a.throwIfNullOrWhitespace(P.properties.getProperty(ut.a.SpeechServiceConnection_TranslationToLanguages),ut.a[ut.a.SpeechServiceConnection_TranslationToLanguages]),Ie.a.throwIfNullOrWhitespace(P.properties.getProperty(ut.a.SpeechServiceConnection_RecoLanguage),ut.a[ut.a.SpeechServiceConnection_RecoLanguage]),P}return Object(ne.a)(TranslationRecognizer,[{key:"speechRecognitionLanguage",get:function get(){return Ie.a.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(ut.a.SpeechServiceConnection_RecoLanguage)}},{key:"targetLanguages",get:function get(){return Ie.a.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(ut.a.SpeechServiceConnection_TranslationToLanguages).split(",")}},{key:"voiceName",get:function get(){return Ie.a.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(ut.a.SpeechServiceConnection_TranslationVoice,void 0)}},{key:"authorizationToken",get:function get(){return this.properties.getProperty(ut.a.SpeechServiceAuthorization_Token)},set:function set(C){this.properties.setProperty(ut.a.SpeechServiceAuthorization_Token,C)}},{key:"properties",get:function get(){return this.privProperties}},{key:"recognizeOnceAsync",value:function recognizeOnceAsync(C,k){Ie.a.throwIfDisposed(this.privDisposedTranslationRecognizer),Object(de.b)(this.recognizeOnceAsyncImpl(ve.c.Conversation),C,k)}},{key:"startContinuousRecognitionAsync",value:function startContinuousRecognitionAsync(C,k){Object(de.b)(this.startContinuousRecognitionAsyncImpl(ve.c.Conversation),C,k)}},{key:"stopContinuousRecognitionAsync",value:function stopContinuousRecognitionAsync(C,k){Object(de.b)(this.stopContinuousRecognitionAsyncImpl(),C,k)}},{key:"removeTargetLanguage",value:function removeTargetLanguage(C){if(Ie.a.throwIfNullOrUndefined(C,"language to be removed"),void 0!==this.properties.getProperty(ut.a.SpeechServiceConnection_TranslationToLanguages,void 0)){var k=this.properties.getProperty(ut.a.SpeechServiceConnection_TranslationToLanguages).split(","),O=k.indexOf(C);O>-1&&(k.splice(O,1),this.properties.setProperty(ut.a.SpeechServiceConnection_TranslationToLanguages,k.join(",")),this.updateLanguages(k))}}},{key:"addTargetLanguage",value:function addTargetLanguage(C){Ie.a.throwIfNullOrUndefined(C,"language to be added");var k=[];void 0!==this.properties.getProperty(ut.a.SpeechServiceConnection_TranslationToLanguages,void 0)?(k=this.properties.getProperty(ut.a.SpeechServiceConnection_TranslationToLanguages).split(",")).includes(C)||(k.push(C),this.properties.setProperty(ut.a.SpeechServiceConnection_TranslationToLanguages,k.join(","))):(this.properties.setProperty(ut.a.SpeechServiceConnection_TranslationToLanguages,C),k=[C]),this.updateLanguages(k)}},{key:"close",value:function close(C,k){Ie.a.throwIfDisposed(this.privDisposedTranslationRecognizer),Object(de.b)(this.dispose(!0),C,k)}},{key:"onConnection",value:function onConnection(){}},{key:"onDisconnection",value:function onDisconnection(){return TranslationRecognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee(){return pe.a.wrap((function _callee$(C){for(;;)switch(C.prev=C.next){case 0:case"end":return C.stop()}}),_callee)})))}},{key:"dispose",value:function dispose(C){var k=this,O=Object.create(null,{dispose:{get:function get(){return Object(bt.a)(Object(St.a)(TranslationRecognizer.prototype),"dispose",k)}}});return TranslationRecognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee2(){return pe.a.wrap((function _callee2$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privDisposedTranslationRecognizer){k.next=2;break}return k.abrupt("return");case 2:if(this.privDisposedTranslationRecognizer=!0,!C){k.next=8;break}return k.next=6,this.implRecognizerStop();case 6:return k.next=8,O.dispose.call(this,C);case 8:case"end":return k.stop()}}),_callee2,this)})))}},{key:"createRecognizerConfig",value:function createRecognizerConfig(C){return new ve.d(C,this.properties)}},{key:"createServiceRecognizer",value:function createServiceRecognizer(C,k,O,P){var M=O;return new Tt.a(C,k,M,P,this)}},{key:"updateLanguages",value:function updateLanguages(C){var k=zt.fromRecognizer(this);k&&(k.setMessageProperty("speech.context","translationcontext",{to:C}),k.sendMessageAsync("event",JSON.stringify({id:"translation",name:"updateLanguage",to:C})))}}]),TranslationRecognizer}(yt),Ft=O(684);!function(C){C[C.NotRecognized=0]="NotRecognized",C[C.InitialSilenceTimeout=1]="InitialSilenceTimeout",C[C.InitialBabbleTimeout=2]="InitialBabbleTimeout"}(Ee||(Ee={}));var Ut,qt=O(667),Vt=O(668),Kt=function(){function NoMatchDetails(C){Object(F.a)(this,NoMatchDetails),this.privReason=C}return Object(ne.a)(NoMatchDetails,[{key:"reason",get:function get(){return this.privReason}}],[{key:"fromResult",value:function fromResult(C){var k=qt.a.fromJSON(C.json),O=Ee.NotRecognized;switch(k.RecognitionStatus){case Vt.a.BabbleTimeout:O=Ee.InitialBabbleTimeout;break;case Vt.a.InitialSilenceTimeout:O=Ee.InitialSilenceTimeout;break;default:O=Ee.NotRecognized}return new NoMatchDetails(O)}}]),NoMatchDetails}(),Ht=O(683),Wt=O(675),Jt=function(){function CancellationDetailsBase(C,k,O){Object(F.a)(this,CancellationDetailsBase),this.privReason=C,this.privErrorDetails=k,this.privErrorCode=O}return Object(ne.a)(CancellationDetailsBase,[{key:"reason",get:function get(){return this.privReason}},{key:"errorDetails",get:function get(){return this.privErrorDetails}},{key:"ErrorCode",get:function get(){return this.privErrorCode}}]),CancellationDetailsBase}(),Gt=O(669),$t=O(636),Yt=function(C){Object(P.a)(CancellationDetails,C);var k=Object(M.a)(CancellationDetails);function CancellationDetails(C,O,P){return Object(F.a)(this,CancellationDetails),k.call(this,C,O,P)}return Object(ne.a)(CancellationDetails,null,[{key:"fromResult",value:function fromResult(C){var k=Ve.a.Error,O=$t.a.NoError;if(C instanceof $e.a&&C.json){var P=qt.a.fromJSON(C.json);k=Gt.a.implTranslateCancelResult(P.RecognitionStatus)}return C.properties&&(O=$t.a[C.properties.getProperty(ct.CancellationErrorCodePropertyName,$t.a[$t.a.NoError])]),new CancellationDetails(k,C.errorDetails||Gt.a.implTranslateErrorDetails(O),O)}}]),CancellationDetails}(Jt),Qt=function(){function PhraseListGrammar(C){Object(F.a)(this,PhraseListGrammar),this.privGrammerBuilder=C.dynamicGrammar}return Object(ne.a)(PhraseListGrammar,[{key:"addPhrase",value:function addPhrase(C){this.privGrammerBuilder.addPhrase(C)}},{key:"addPhrases",value:function addPhrases(C){this.privGrammerBuilder.addPhrase(C)}},{key:"clear",value:function clear(){this.privGrammerBuilder.clearPhrases()}}],[{key:"fromRecognizer",value:function fromRecognizer(C){return new PhraseListGrammar(C.internalData)}}]),PhraseListGrammar}(),Xt=O(574),Zt=function(C){Object(P.a)(BotFrameworkConfig,C);var k=Object(M.a)(BotFrameworkConfig);function BotFrameworkConfig(){return Object(F.a)(this,BotFrameworkConfig),k.call(this)}return Object(ne.a)(BotFrameworkConfig,null,[{key:"fromSubscription",value:function fromSubscription(C,k,O){Ie.a.throwIfNullOrWhitespace(C,"subscription"),Ie.a.throwIfNullOrWhitespace(k,"region");var P=new Xt.b;return P.setProperty(ut.a.Conversation_DialogType,Xt.a.DialogTypes.BotFramework),P.setProperty(ut.a.SpeechServiceConnection_Key,C),P.setProperty(ut.a.SpeechServiceConnection_Region,k),O&&P.setProperty(ut.a.Conversation_ApplicationId,O),P}},{key:"fromAuthorizationToken",value:function fromAuthorizationToken(C,k,O){Ie.a.throwIfNullOrWhitespace(C,"authorizationToken"),Ie.a.throwIfNullOrWhitespace(k,"region");var P=new Xt.b;return P.setProperty(ut.a.Conversation_DialogType,Xt.a.DialogTypes.BotFramework),P.setProperty(ut.a.SpeechServiceAuthorization_Token,C),P.setProperty(ut.a.SpeechServiceConnection_Region,k),O&&P.setProperty(ut.a.Conversation_ApplicationId,O),P}},{key:"fromHost",value:function fromHost(C,k,O){Ie.a.throwIfNullOrUndefined(C,"host");var P=C instanceof URL?C:new URL("wss://".concat(C,".convai.speech.azure.us"));Ie.a.throwIfNullOrUndefined(P,"resolvedHost");var M=new Xt.b;return M.setProperty(ut.a.Conversation_DialogType,Xt.a.DialogTypes.BotFramework),M.setProperty(ut.a.SpeechServiceConnection_Host,P.toString()),void 0!==k&&M.setProperty(ut.a.SpeechServiceConnection_Key,k),M}},{key:"fromEndpoint",value:function fromEndpoint(C,k){Ie.a.throwIfNull(C,"endpoint");var O=new Xt.b;return O.setProperty(ut.a.Conversation_DialogType,Xt.a.DialogTypes.BotFramework),O.setProperty(ut.a.SpeechServiceConnection_Endpoint,C.toString()),void 0!==k&&O.setProperty(ut.a.SpeechServiceConnection_Key,k),O}}]),BotFrameworkConfig}(Xt.b),en=function(C){Object(P.a)(CustomCommandsConfig,C);var k=Object(M.a)(CustomCommandsConfig);function CustomCommandsConfig(){return Object(F.a)(this,CustomCommandsConfig),k.call(this)}return Object(ne.a)(CustomCommandsConfig,[{key:"applicationId",get:function get(){return this.getProperty(ut.a.Conversation_ApplicationId)},set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"value"),this.setProperty(ut.a.Conversation_ApplicationId,C)}}],[{key:"fromSubscription",value:function fromSubscription(C,k,O){Ie.a.throwIfNullOrWhitespace(C,"applicationId"),Ie.a.throwIfNullOrWhitespace(k,"subscription"),Ie.a.throwIfNullOrWhitespace(O,"region");var P=new Xt.b;return P.setProperty(ut.a.Conversation_DialogType,Xt.a.DialogTypes.CustomCommands),P.setProperty(ut.a.Conversation_ApplicationId,C),P.setProperty(ut.a.SpeechServiceConnection_Key,k),P.setProperty(ut.a.SpeechServiceConnection_Region,O),P}},{key:"fromAuthorizationToken",value:function fromAuthorizationToken(C,k,O){Ie.a.throwIfNullOrWhitespace(C,"applicationId"),Ie.a.throwIfNullOrWhitespace(k,"authorizationToken"),Ie.a.throwIfNullOrWhitespace(O,"region");var P=new Xt.b;return P.setProperty(ut.a.Conversation_DialogType,Xt.a.DialogTypes.CustomCommands),P.setProperty(ut.a.Conversation_ApplicationId,C),P.setProperty(ut.a.SpeechServiceAuthorization_Token,k),P.setProperty(ut.a.SpeechServiceConnection_Region,O),P}}]),CustomCommandsConfig}(Xt.b),tn=O(835),nn=O(829),rn=O(541),on=O(664),an=O(552),sn=function(C){Object(P.a)(DialogConnectionFactory,C);var k=Object(M.a)(DialogConnectionFactory);function DialogConnectionFactory(){var C;return Object(F.a)(this,DialogConnectionFactory),(C=k.apply(this,arguments)).create=function(k,O,P){var M=k.parameters.getProperty(ut.a.Conversation_ApplicationId,""),F=k.parameters.getProperty(ut.a.Conversation_DialogType),ne=k.parameters.getProperty(ut.a.SpeechServiceConnection_Region),re=k.parameters.getProperty(ut.a.SpeechServiceConnection_RecoLanguage,"en-US"),oe=k.parameters.getProperty(ut.a.Conversation_Request_Bot_Status_Messages,"true"),se={};se[jt.a.ConnectionId]=P,se[an.a.Format]=k.parameters.getProperty(ct.OutputFormatPropertyName,Je.a[Je.a.Simple]).toLowerCase(),se[an.a.Language]=re,se[an.a.RequestBotStatusMessages]=oe,M&&(se[an.a.BotId]=M,F===Xt.a.DialogTypes.CustomCommands&&(se[jt.a.CustomCommandsAppId]=M));var ue=F===Xt.a.DialogTypes.CustomCommands?"commands/":"",pe=F===Xt.a.DialogTypes.CustomCommands?"v1":F===Xt.a.DialogTypes.BotFramework?"v3":"v0",ve={};null!=O.token&&""!==O.token&&(ve[O.headerName]=O.token);var de=k.parameters.getProperty(ut.a.SpeechServiceConnection_Endpoint,"");if(!de){var he=rn.a.getHostSuffix(ne),fe=k.parameters.getProperty(ut.a.SpeechServiceConnection_Host,"wss://".concat(ne,".").concat(DialogConnectionFactory.Constants.BaseUrl).concat(he)),ge=fe.endsWith("/")?fe:fe+"/";de="".concat(ge).concat(ue).concat(DialogConnectionFactory.Constants.ApiKey,"/").concat(pe)}C.setCommonUrlParams(k,se,de);var me="true"===k.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new tn.a(de,se,ve,new on.a,nn.a.fromRecognizerConfig(k),me,P)},C}return DialogConnectionFactory}(rn.a);sn.Constants=((Ut=function _a(){Object(F.a)(this,_a)}).ApiKey="api",Ut.BaseUrl="convai.speech",Ut);var cn,un=O(696),DialogServiceConnector_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},pn=function(C){Object(P.a)(DialogServiceConnector,C);var k=Object(M.a)(DialogServiceConnector);function DialogServiceConnector(C,O){var P;Object(F.a)(this,DialogServiceConnector);var M=C;Ie.a.throwIfNull(C,"dialogConfig"),(P=k.call(this,O,M.properties,new sn)).isTurnComplete=!0,P.privIsDisposed=!1,P.privProperties=M.properties.clone();var ne=P.buildAgentConfig();return P.privReco.agentConfig.set(ne),P}return Object(ne.a)(DialogServiceConnector,[{key:"connect",value:function connect(C,k){Object(de.b)(this.privReco.connect(),C,k)}},{key:"disconnect",value:function disconnect(C,k){Object(de.b)(this.privReco.disconnect(),C,k)}},{key:"authorizationToken",get:function get(){return this.properties.getProperty(ut.a.SpeechServiceAuthorization_Token)},set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"token"),this.properties.setProperty(ut.a.SpeechServiceAuthorization_Token,C)}},{key:"properties",get:function get(){return this.privProperties}},{key:"speechActivityTemplate",get:function get(){return this.properties.getProperty(ut.a.Conversation_Speech_Activity_Template)},set:function set(C){this.properties.setProperty(ut.a.Conversation_Speech_Activity_Template,C)}},{key:"listenOnceAsync",value:function listenOnceAsync(C,k){var O=this;if(this.isTurnComplete){Ie.a.throwIfDisposed(this.privIsDisposed);var P=function callbackHolder(){return DialogServiceConnector_awaiter(O,void 0,void 0,pe.a.mark((function _callee(){var C,k;return pe.a.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this.privReco.connect();case 2:return O.next=4,this.implRecognizerStop();case 4:return this.isTurnComplete=!1,C=new de.a,O.next=8,this.privReco.recognize(ve.c.Conversation,C.resolve,C.reject);case 8:return O.next=10,C.promise;case 10:return k=O.sent,O.next=13,this.implRecognizerStop();case 13:return O.abrupt("return",k);case 14:case"end":return O.stop()}}),_callee,this)})))}();P.catch((function(){O.dispose(!0).catch((function(){}))})),Object(de.b)(P.finally((function(){O.isTurnComplete=!0})),C,k)}}},{key:"sendActivityAsync",value:function sendActivityAsync(C,k,O){Object(de.b)(this.privReco.sendMessage(C),k,O)}},{key:"close",value:function close(C,k){Ie.a.throwIfDisposed(this.privIsDisposed),Object(de.b)(this.dispose(!0),C,k)}},{key:"dispose",value:function dispose(C){var k=this,O=Object.create(null,{dispose:{get:function get(){return Object(bt.a)(Object(St.a)(DialogServiceConnector.prototype),"dispose",k)}}});return DialogServiceConnector_awaiter(this,void 0,void 0,pe.a.mark((function _callee2(){return pe.a.wrap((function _callee2$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privIsDisposed){k.next=2;break}return k.abrupt("return");case 2:if(!C){k.next=8;break}return this.privIsDisposed=!0,k.next=6,this.implRecognizerStop();case 6:return k.next=8,O.dispose.call(this,C);case 8:case"end":return k.stop()}}),_callee2,this)})))}},{key:"createRecognizerConfig",value:function createRecognizerConfig(C){return new ve.d(C,this.privProperties)}},{key:"createServiceRecognizer",value:function createServiceRecognizer(C,k,O,P){var M=O;return new un.a(C,k,M,P,this)}},{key:"buildAgentConfig",value:function buildAgentConfig(){return{botInfo:{commType:this.properties.getProperty("Conversation_Communication_Type","Default"),commandsCulture:void 0,connectionId:this.properties.getProperty(ut.a.Conversation_Agent_Connection_Id),conversationId:this.properties.getProperty(ut.a.Conversation_Conversation_Id,void 0),fromId:this.properties.getProperty(ut.a.Conversation_From_Id,void 0),ttsAudioFormat:this.properties.getProperty(ut.a.SpeechServiceConnection_SynthOutputFormat,void 0)},version:.2}}}]),DialogServiceConnector}(yt),ln=O(685),vn=O(703);!function(C){C[C.UriQueryParameter=0]="UriQueryParameter"}(cn||(cn={}));var dn,hn=O(542),BaseAudioPlayer_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},gn=function(){function BaseAudioPlayer(C){Object(F.a)(this,BaseAudioPlayer),this.audioContext=null,this.gainNode=null,this.autoUpdateBufferTimer=0,void 0===C&&(C=be.b.getDefaultInputFormat()),this.init(C)}return Object(ne.a)(BaseAudioPlayer,[{key:"playAudioSample",value:function playAudioSample(C,k,O){var P=this;Object(de.b)(BaseAudioPlayer_awaiter(P,void 0,void 0,pe.a.mark((function _callee(){var k,O;return pe.a.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:this.ensureInitializedContext(),k=this.formatAudioData(C),(O=new Float32Array(this.samples.length+k.length)).set(this.samples,0),O.set(k,this.samples.length),this.samples=O;case 6:case"end":return P.stop()}}),_callee,this)}))),k,O)}},{key:"stopAudio",value:function stopAudio(C,k){null!==this.audioContext&&(this.samples=new Float32Array,clearInterval(this.autoUpdateBufferTimer),this.audioContext.close().then((function(){C&&C()}),(function(C){k&&k(C)})),this.audioContext=null)}},{key:"init",value:function init(C){this.audioFormat=C,this.samples=new Float32Array}},{key:"ensureInitializedContext",value:function ensureInitializedContext(){var C=this;if(null===this.audioContext){this.createAudioContext();this.autoUpdateBufferTimer=setInterval((function(){C.updateAudioBuffer()}),200)}}},{key:"createAudioContext",value:function createAudioContext(){this.audioContext=be.c.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.startTime=this.audioContext.currentTime}},{key:"formatAudioData",value:function formatAudioData(C){switch(this.audioFormat.bitsPerSample){case 8:return this.formatArrayBuffer(new Int8Array(C),128);case 16:return this.formatArrayBuffer(new Int16Array(C),32768);case 32:return this.formatArrayBuffer(new Int32Array(C),2147483648);default:throw new hn.b("Only WAVE_FORMAT_PCM (8/16/32 bps) format supported at this time")}}},{key:"formatArrayBuffer",value:function formatArrayBuffer(C,k){for(var O=new Float32Array(C.length),P=0;P<C.length;P++)O[P]=C[P]/k;return O}},{key:"updateAudioBuffer",value:function updateAudioBuffer(){if(0!==this.samples.length){for(var C=this.audioFormat.channels,k=this.audioContext.createBufferSource(),O=this.samples.length/C,P=this.audioContext.createBuffer(C,O,this.audioFormat.samplesPerSec),M=0;M<C;M++)for(var F=M,ne=P.getChannelData(M),re=0;re<this.samples.length;re++,F+=C)ne[re]=this.samples[F];this.startTime<this.audioContext.currentTime&&(this.startTime=this.audioContext.currentTime),k.buffer=P,k.connect(this.gainNode),k.start(this.startTime),this.startTime+=P.duration,this.samples=new Float32Array}}},{key:"playAudio",value:function playAudio(C){return BaseAudioPlayer_awaiter(this,void 0,void 0,pe.a.mark((function _callee2(){var k,O;return pe.a.wrap((function _callee2$(P){for(;;)switch(P.prev=P.next){case 0:return null===this.audioContext&&this.createAudioContext(),k=this.audioContext.createBufferSource(),O=this.audioContext.destination,P.next=5,this.audioContext.decodeAudioData(C,(function(C){k.buffer=C,k.connect(O),k.start(0)}));case 5:case"end":return P.stop()}}),_callee2,this)})))}}]),BaseAudioPlayer}(),mn=function(){function VoiceProfile(C,k){Object(F.a)(this,VoiceProfile),this.privId=C,this.privProfileType=k}return Object(ne.a)(VoiceProfile,[{key:"profileId",get:function get(){return this.privId}},{key:"profileType",get:function get(){return this.privProfileType}}]),VoiceProfile}(),yn=function(){function VoiceProfileEnrollmentResult(C,k,O){Object(F.a)(this,VoiceProfileEnrollmentResult),this.privReason=C,this.privProperties=new pt.a,this.privReason!==at.a.Canceled?k&&(this.privDetails=JSON.parse(k),"enrolling"===this.privDetails.enrollmentStatus.toLowerCase()&&(this.privReason=at.a.EnrollingVoiceProfile)):(this.privErrorDetails=O,this.privProperties.setProperty(ct.CancellationErrorCodePropertyName,$t.a[$t.a.ServiceError]))}return Object(ne.a)(VoiceProfileEnrollmentResult,[{key:"reason",get:function get(){return this.privReason}},{key:"enrollmentsCount",get:function get(){return this.privDetails.enrollmentsCount}},{key:"enrollmentsLengthInSec",get:function get(){return this.privDetails.enrollmentsLengthInSec}},{key:"properties",get:function get(){return this.privProperties}},{key:"enrollmentResultDetails",get:function get(){return this.privDetails}},{key:"errorDetails",get:function get(){return this.privErrorDetails}}],[{key:"FromIdentificationProfileList",value:function FromIdentificationProfileList(C){var k,O=[],P=Object(se.a)(C.value);try{for(P.s();!(k=P.n()).done;){var M=k.value,F=new VoiceProfileEnrollmentResult("enrolling"===M.enrollmentStatus.toLowerCase()?at.a.EnrollingVoiceProfile:"enrolled"===M.enrollmentStatus.toLowerCase()?at.a.EnrolledVoiceProfile:at.a.Canceled,null,null);F.privDetails=this.getIdentificationDetails(M),O.push(F)}}catch(ne){P.e(ne)}finally{P.f()}return O}},{key:"FromVerificationProfileList",value:function FromVerificationProfileList(C){var k,O=[],P=Object(se.a)(C.value);try{for(P.s();!(k=P.n()).done;){var M=k.value,F=new VoiceProfileEnrollmentResult("enrolling"===M.enrollmentStatus.toLowerCase()?at.a.EnrollingVoiceProfile:"enrolled"===M.enrollmentStatus.toLowerCase()?at.a.EnrolledVoiceProfile:at.a.Canceled,null,null);F.privDetails=this.getVerificationDetails(M),O.push(F)}}catch(ne){P.e(ne)}finally{P.f()}return O}},{key:"getIdentificationDetails",value:function getIdentificationDetails(C){return{audioLengthInSec:C.audioLengthInSec?parseFloat(C.audioLengthInSec):0,audioSpeechLengthInSec:C.audioSpeechLengthInSec?parseFloat(C.audioSpeechLengthInSec):0,enrollmentStatus:C.enrollmentStatus,enrollmentsCount:C.enrollmentsCount||0,enrollmentsLengthInSec:C.enrollmentsLengthInSec?parseFloat(C.enrollmentsLengthInSec):0,enrollmentsSpeechLengthInSec:C.enrollmentsSpeechLengthInSec?parseFloat(C.enrollmentsSpeechLengthInSec):0,profileId:C.profileId||C.identificationProfileId,remainingEnrollmentsSpeechLengthInSec:C.remainingEnrollmentsSpeechLengthInSec?parseFloat(C.remainingEnrollmentsSpeechLengthInSec):0}}},{key:"getVerificationDetails",value:function getVerificationDetails(C){return{audioLengthInSec:C.audioLengthInSec?parseFloat(C.audioLengthInSec):0,audioSpeechLengthInSec:C.audioSpeechLengthInSec?parseFloat(C.audioSpeechLengthInSec):0,enrollmentStatus:C.enrollmentStatus,enrollmentsCount:C.enrollmentsCount,enrollmentsLengthInSec:C.enrollmentsLengthInSec?parseFloat(C.enrollmentsLengthInSec):0,enrollmentsSpeechLengthInSec:C.enrollmentsSpeechLengthInSec?parseFloat(C.enrollmentsSpeechLengthInSec):0,profileId:C.profileId||C.verificationProfileId,remainingEnrollmentsCount:C.remainingEnrollments||C.remainingEnrollmentsCount,remainingEnrollmentsSpeechLengthInSec:C.remainingEnrollmentsSpeechLengthInSec?parseFloat(C.remainingEnrollmentsSpeechLengthInSec):0}}}]),VoiceProfileEnrollmentResult}(),bn=function(C){Object(P.a)(VoiceProfileEnrollmentCancellationDetails,C);var k=Object(M.a)(VoiceProfileEnrollmentCancellationDetails);function VoiceProfileEnrollmentCancellationDetails(C,O,P){return Object(F.a)(this,VoiceProfileEnrollmentCancellationDetails),k.call(this,C,O,P)}return Object(ne.a)(VoiceProfileEnrollmentCancellationDetails,null,[{key:"fromResult",value:function fromResult(C){var k=Ve.a.Error,O=$t.a.NoError;return C.properties&&(O=$t.a[C.properties.getProperty(ct.CancellationErrorCodePropertyName,$t.a[$t.a.NoError])]),new VoiceProfileEnrollmentCancellationDetails(k,C.errorDetails,O)}}]),VoiceProfileEnrollmentCancellationDetails}(Jt),Sn=function(){function VoiceProfileResult(C,k){Object(F.a)(this,VoiceProfileResult),this.privReason=C,this.privProperties=new pt.a,C===at.a.Canceled&&(Ie.a.throwIfNullOrUndefined(k,"statusText"),this.privErrorDetails=k,this.privProperties.setProperty(ct.CancellationErrorCodePropertyName,$t.a[$t.a.ServiceError]))}return Object(ne.a)(VoiceProfileResult,[{key:"reason",get:function get(){return this.privReason}},{key:"properties",get:function get(){return this.privProperties}},{key:"errorDetails",get:function get(){return this.privErrorDetails}}]),VoiceProfileResult}(),Cn=function(C){Object(P.a)(VoiceProfileCancellationDetails,C);var k=Object(M.a)(VoiceProfileCancellationDetails);function VoiceProfileCancellationDetails(C,O,P){return Object(F.a)(this,VoiceProfileCancellationDetails),k.call(this,C,O,P)}return Object(ne.a)(VoiceProfileCancellationDetails,null,[{key:"fromResult",value:function fromResult(C){var k=Ve.a.Error,O=$t.a.NoError;return C.properties&&(O=$t.a[C.properties.getProperty(ct.CancellationErrorCodePropertyName,$t.a[$t.a.NoError])]),new VoiceProfileCancellationDetails(k,C.errorDetails,O)}}]),VoiceProfileCancellationDetails}(Jt),kn=function(C){Object(P.a)(VoiceProfilePhraseResult,C);var k=Object(M.a)(VoiceProfilePhraseResult);function VoiceProfilePhraseResult(C,O,P){var M;if(Object(F.a)(this,VoiceProfilePhraseResult),(M=k.call(this,C,O)).privPhrases=[],Ie.a.throwIfNullOrUndefined(P,"phrase result JSON"),P.value&&P.value[0]){var ne,re=Object(se.a)(P.value);try{for(re.s();!(ne=re.n()).done;){var oe=ne.value;M.privPhrases.push(oe.passPhrase||oe.activationPhrase)}}catch(ue){re.e(ue)}finally{re.f()}}return M}return Object(ne.a)(VoiceProfilePhraseResult,[{key:"phrases",get:function get(){return this.privPhrases}}]),VoiceProfilePhraseResult}(Sn),On=O(687),En=O(688),VoiceProfileClient_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},wn=function(){function VoiceProfileClient(C){Object(F.a)(this,VoiceProfileClient);var k=C;Ie.a.throwIfNull(k,"speechConfig"),this.privProperties=k.properties.clone(),this.implClientSetup()}return Object(ne.a)(VoiceProfileClient,[{key:"authorizationToken",get:function get(){return this.properties.getProperty(ut.a.SpeechServiceAuthorization_Token)},set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"token"),this.properties.setProperty(ut.a.SpeechServiceAuthorization_Token,C)}},{key:"properties",get:function get(){return this.privProperties}},{key:"createProfileAsync",value:function createProfileAsync(C,k){return VoiceProfileClient_awaiter(this,void 0,void 0,pe.a.mark((function _callee(){var O,P,M;return pe.a.wrap((function _callee$(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,this.privAdapter.createProfile(C,k);case 2:if((O=F.sent).ok){F.next=5;break}throw new Error("createProfileAsync failed with code: ".concat(O.status,", message: ").concat(O.statusText));case 5:return P=O.json,M=new mn(P.profileId,C),F.abrupt("return",M);case 8:case"end":return F.stop()}}),_callee,this)})))}},{key:"retrieveEnrollmentResultAsync",value:function retrieveEnrollmentResultAsync(C){return VoiceProfileClient_awaiter(this,void 0,void 0,pe.a.mark((function _callee2(){var k;return pe.a.wrap((function _callee2$(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this.privAdapter.getProfileStatus(C);case 2:return k=O.sent,O.abrupt("return",new yn(k.ok?at.a.EnrolledVoiceProfile:at.a.Canceled,k.data,k.statusText));case 4:case"end":return O.stop()}}),_callee2,this)})))}},{key:"getAllProfilesAsync",value:function getAllProfilesAsync(C){return VoiceProfileClient_awaiter(this,void 0,void 0,pe.a.mark((function _callee3(){var k;return pe.a.wrap((function _callee3$(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this.privAdapter.getProfiles(C);case 2:if(k=O.sent,C!==At.a.TextIndependentIdentification){O.next=5;break}return O.abrupt("return",yn.FromIdentificationProfileList(k.json));case 5:return O.abrupt("return",yn.FromVerificationProfileList(k.json));case 6:case"end":return O.stop()}}),_callee3,this)})))}},{key:"getActivationPhrasesAsync",value:function getActivationPhrasesAsync(C,k){return VoiceProfileClient_awaiter(this,void 0,void 0,pe.a.mark((function _callee4(){var O;return pe.a.wrap((function _callee4$(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.privAdapter.getPhrases(C,k);case 2:return O=P.sent,P.abrupt("return",new kn(O.ok?at.a.EnrollingVoiceProfile:at.a.Canceled,O.statusText,O.json));case 4:case"end":return P.stop()}}),_callee4,this)})))}},{key:"enrollProfileAsync",value:function enrollProfileAsync(C,k){return VoiceProfileClient_awaiter(this,void 0,void 0,pe.a.mark((function _callee5(){var O,P;return pe.a.wrap((function _callee5$(M){for(;;)switch(M.prev=M.next){case 0:return O=k,Ie.a.throwIfNullOrUndefined(O,"audioConfig"),M.next=4,this.privAdapter.createEnrollment(C,O);case 4:return P=M.sent,M.abrupt("return",new yn(P.ok?at.a.EnrolledVoiceProfile:at.a.Canceled,P.data,P.statusText));case 6:case"end":return M.stop()}}),_callee5,this)})))}},{key:"deleteProfileAsync",value:function deleteProfileAsync(C){return VoiceProfileClient_awaiter(this,void 0,void 0,pe.a.mark((function _callee6(){var k;return pe.a.wrap((function _callee6$(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this.privAdapter.deleteProfile(C);case 2:return k=O.sent,O.abrupt("return",this.getResult(k,at.a.DeletedVoiceProfile));case 4:case"end":return O.stop()}}),_callee6,this)})))}},{key:"resetProfileAsync",value:function resetProfileAsync(C){return VoiceProfileClient_awaiter(this,void 0,void 0,pe.a.mark((function _callee7(){var k;return pe.a.wrap((function _callee7$(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this.privAdapter.resetProfile(C);case 2:return k=O.sent,O.abrupt("return",this.getResult(k,at.a.ResetVoiceProfile));case 4:case"end":return O.stop()}}),_callee7,this)})))}},{key:"close",value:function close(){}},{key:"implClientSetup",value:function implClientSetup(){var C="undefined"!==typeof window?"Browser":"Node",k="unknown",O="unknown";"undefined"!==typeof navigator&&(C=C+"/"+navigator.platform,k=navigator.userAgent,O=navigator.appVersion);var P=new On.a(new ve.a(new ve.b(C,k,O)),this.privProperties);this.privAdapter=new En.a(P)}},{key:"getResult",value:function getResult(C,k,O){return new Sn(C.ok?k:at.a.Canceled,C.statusText)}}]),VoiceProfileClient}(),Rn=function(){function SpeakerIdentificationModel(C){var k=this;if(Object(F.a)(this,SpeakerIdentificationModel),this.privVoiceProfiles=[],Ie.a.throwIfNullOrUndefined(C,"VoiceProfiles"),0===C.length)throw new Error("Empty Voice Profiles array");C.forEach((function(C){if(C.profileType!==At.a.TextIndependentIdentification)throw new Error("Identification model can only be created from Identification profile: "+C.profileId);k.privVoiceProfiles.push(C)}))}return Object(ne.a)(SpeakerIdentificationModel,[{key:"voiceProfileIds",get:function get(){return this.privVoiceProfiles.map((function(C){return C.profileId})).join(",")}}],[{key:"fromProfiles",value:function fromProfiles(C){return new SpeakerIdentificationModel(C)}}]),SpeakerIdentificationModel}();!function(C){C[C.Verify=0]="Verify",C[C.Identify=1]="Identify"}(dn||(dn={}));var In=function(){function SpeakerRecognitionResult(C,k,O){var P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:at.a.RecognizedSpeaker;if(Object(F.a)(this,SpeakerRecognitionResult),this.privProperties=new pt.a,this.privReason=P,this.privReason!==at.a.Canceled)if(C===dn.Identify){var M=JSON.parse(k);Ie.a.throwIfNullOrUndefined(M,"JSON"),this.privProfileId=M.identifiedProfile.profileId,this.privScore=M.identifiedProfile.score}else{var ne=JSON.parse(k);Ie.a.throwIfNullOrUndefined(ne,"JSON"),this.privScore=ne.score,"accept"!==ne.recognitionResult.toLowerCase()&&(this.privReason=at.a.NoMatch),void 0!==O&&""!==O&&(this.privProfileId=O)}else{var re=JSON.parse(k);Ie.a.throwIfNullOrUndefined(re,"JSON"),this.privErrorDetails=re.statusText,this.privProperties.setProperty(ct.CancellationErrorCodePropertyName,$t.a[$t.a.ServiceError])}this.privProperties.setProperty(ut.a.SpeechServiceResponse_JsonResult,k)}return Object(ne.a)(SpeakerRecognitionResult,[{key:"properties",get:function get(){return this.privProperties}},{key:"reason",get:function get(){return this.privReason}},{key:"profileId",get:function get(){return this.privProfileId}},{key:"errorDetails",get:function get(){return this.privErrorDetails}},{key:"score",get:function get(){return this.privScore}}]),SpeakerRecognitionResult}(),An=function(C){Object(P.a)(SpeakerRecognitionCancellationDetails,C);var k=Object(M.a)(SpeakerRecognitionCancellationDetails);function SpeakerRecognitionCancellationDetails(C,O,P){return Object(F.a)(this,SpeakerRecognitionCancellationDetails),k.call(this,C,O,P)}return Object(ne.a)(SpeakerRecognitionCancellationDetails,null,[{key:"fromResult",value:function fromResult(C){var k=Ve.a.Error,O=$t.a.NoError;return C.properties&&(O=$t.a[C.properties.getProperty(ct.CancellationErrorCodePropertyName,$t.a[$t.a.NoError])]),new SpeakerRecognitionCancellationDetails(k,C.errorDetails,O)}}]),SpeakerRecognitionCancellationDetails}(Jt),Pn=function(){function SpeakerVerificationModel(C){if(Object(F.a)(this,SpeakerVerificationModel),Ie.a.throwIfNullOrUndefined(C,"VoiceProfile"),C.profileType===At.a.TextIndependentIdentification)throw new Error("Verification model cannot be created from Identification profile");this.privVoiceProfile=C}return Object(ne.a)(SpeakerVerificationModel,[{key:"voiceProfile",get:function get(){return this.privVoiceProfile}}],[{key:"fromProfile",value:function fromProfile(C){return new SpeakerVerificationModel(C)}}]),SpeakerVerificationModel}(),SpeakerRecognizer_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Tn=function(){function SpeakerRecognizer(C,k){Object(F.a)(this,SpeakerRecognizer);var O=C;Ie.a.throwIfNull(O,"speechConfig"),this.privAudioConfigImpl=k,Ie.a.throwIfNull(this.privAudioConfigImpl,"audioConfig"),this.privProperties=O.properties.clone(),this.implSRSetup()}return Object(ne.a)(SpeakerRecognizer,[{key:"authorizationToken",get:function get(){return this.properties.getProperty(ut.a.SpeechServiceAuthorization_Token)},set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"token"),this.properties.setProperty(ut.a.SpeechServiceAuthorization_Token,C)}},{key:"properties",get:function get(){return this.privProperties}},{key:"recognizeOnceAsync",value:function recognizeOnceAsync(C){return SpeakerRecognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee(){var k,O;return pe.a.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:if(!(C instanceof Rn)){P.next=5;break}return k=this.privAdapter.identifySpeaker(C,this.privAudioConfigImpl),P.abrupt("return",this.getResult(k,dn.Identify,void 0));case 5:if(!(C instanceof Pn)){P.next=10;break}return O=this.privAdapter.verifySpeaker(C,this.privAudioConfigImpl),P.abrupt("return",this.getResult(O,dn.Verify,C.voiceProfile.profileId));case 10:throw new Error("SpeakerRecognizer.recognizeOnce: Unexpected model type");case 11:case"end":return P.stop()}}),_callee,this)})))}},{key:"close",value:function close(){}},{key:"implSRSetup",value:function implSRSetup(){var C="undefined"!==typeof window?"Browser":"Node",k="unknown",O="unknown";"undefined"!==typeof navigator&&(C=C+"/"+navigator.platform,k=navigator.userAgent,O=navigator.appVersion);var P=new On.a(new ve.a(new ve.b(C,k,O)),this.privProperties);this.privAdapter=new En.a(P)}},{key:"getResult",value:function getResult(C,k,O){return SpeakerRecognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee2(){var P;return pe.a.wrap((function _callee2$(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,C;case 2:return P=M.sent,M.abrupt("return",new In(k,P.data,O,P.ok?at.a.RecognizedSpeaker:at.a.Canceled));case 4:case"end":return M.stop()}}),_callee2)})))}}]),SpeakerRecognizer}(),jn=function(){function AutoDetectSourceLanguageConfig(){Object(F.a)(this,AutoDetectSourceLanguageConfig),this.privProperties=new pt.a}return Object(ne.a)(AutoDetectSourceLanguageConfig,[{key:"properties",get:function get(){return this.privProperties}}],[{key:"fromOpenRange",value:function fromOpenRange(){var C=new AutoDetectSourceLanguageConfig;return C.properties.setProperty(ut.a.SpeechServiceConnection_AutoDetectSourceLanguages,ct.AutoDetectSourceLanguagesOpenRangeOptionName),C}},{key:"fromLanguages",value:function fromLanguages(C){Ie.a.throwIfArrayEmptyOrWhitespace(C,"languages");var k=new AutoDetectSourceLanguageConfig;return k.properties.setProperty(ut.a.SpeechServiceConnection_AutoDetectSourceLanguages,C.join()),k}},{key:"fromSourceLanguageConfigs",value:function fromSourceLanguageConfigs(C){if(C.length<1)throw new Error("Expected non-empty SourceLanguageConfig array.");var k=new AutoDetectSourceLanguageConfig,O=[];return C.forEach((function(C){if(O.push(C.language),void 0!==C.endpointId&&""!==C.endpointId){var P=C.language+ut.a.SpeechServiceConnection_EndpointId.toString();k.properties.setProperty(P,C.endpointId)}})),k.properties.setProperty(ut.a.SpeechServiceConnection_AutoDetectSourceLanguages,O.join()),k}}]),AutoDetectSourceLanguageConfig}(),_n=function(){function AutoDetectSourceLanguageResult(C,k){Object(F.a)(this,AutoDetectSourceLanguageResult),Ie.a.throwIfNullOrUndefined(C,"language"),Ie.a.throwIfNullOrUndefined(k,"languageDetectionConfidence"),this.privLanguage=C,this.privLanguageDetectionConfidence=k}return Object(ne.a)(AutoDetectSourceLanguageResult,[{key:"language",get:function get(){return this.privLanguage}},{key:"languageDetectionConfidence",get:function get(){return this.privLanguageDetectionConfidence}}],[{key:"fromResult",value:function fromResult(C){return new AutoDetectSourceLanguageResult(C.language,C.languageDetectionConfidence)}}]),AutoDetectSourceLanguageResult}(),xn=function(){function SourceLanguageConfig(C,k){Object(F.a)(this,SourceLanguageConfig),Ie.a.throwIfNullOrUndefined(C,"language"),this.privLanguage=C,this.privEndpointId=k}return Object(ne.a)(SourceLanguageConfig,[{key:"language",get:function get(){return this.privLanguage}},{key:"endpointId",get:function get(){return this.privEndpointId}}],[{key:"fromLanguage",value:function fromLanguage(C,k){return new SourceLanguageConfig(C,k)}}]),SourceLanguageConfig}(),Dn=O(45),Mn=O(14),Nn=function(C){Object(P.a)(ConversationConnectionConfig,C);var k=Object(M.a)(ConversationConnectionConfig);function ConversationConnectionConfig(){return Object(F.a)(this,ConversationConnectionConfig),k.apply(this,arguments)}return Object(ne.a)(ConversationConnectionConfig,null,[{key:"host",get:function get(){return ConversationConnectionConfig.privHost}},{key:"apiVersion",get:function get(){return ConversationConnectionConfig.privApiVersion}},{key:"clientAppId",get:function get(){return ConversationConnectionConfig.privClientAppId}},{key:"defaultLanguageCode",get:function get(){return ConversationConnectionConfig.privDefaultLanguageCode}},{key:"restPath",get:function get(){return ConversationConnectionConfig.privRestPath}},{key:"webSocketPath",get:function get(){return ConversationConnectionConfig.privWebSocketPath}},{key:"speechHost",get:function get(){return ConversationConnectionConfig.privSpeechHost}},{key:"speechPath",get:function get(){return ConversationConnectionConfig.privSpeechPath}},{key:"transcriptionEventKeys",get:function get(){return ConversationConnectionConfig.privTranscriptionEventKeys}}]),ConversationConnectionConfig}(O(804).a);Nn.privHost="dev.microsofttranslator.com",Nn.privRestPath="/capito/room",Nn.privApiVersion="2.0",Nn.privDefaultLanguageCode="en-US",Nn.privClientAppId="FC539C22-1767-4F1F-84BC-B4D811114F15",Nn.privWebSocketPath="/capito/translate",Nn.privSpeechHost="{region}.s2s.speech.microsoft.com",Nn.privSpeechPath="/speech/translation/cognitiveservices/v1",Nn.privTranscriptionEventKeys=["iCalUid","callId","organizer","FLAC","MTUri","DifferentiateGuestSpeakers","audiorecording","Threadid","OrganizerMri","OrganizerTenantId","UserToken"];var Ln,zn=function(){function InternalParticipants(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],k=arguments.length>1?arguments[1]:void 0;Object(F.a)(this,InternalParticipants),this.participants=C,this.meId=k}return Object(ne.a)(InternalParticipants,[{key:"addOrUpdateParticipant",value:function addOrUpdateParticipant(C){if(void 0!==C){var k=this.getParticipantIndex(C.id);return k>-1?this.participants.splice(k,1,C):this.participants.push(C),this.getParticipant(C.id)}}},{key:"getParticipantIndex",value:function getParticipantIndex(C){return this.participants.findIndex((function(k){return k.id===C}))}},{key:"getParticipant",value:function getParticipant(C){return this.participants.find((function(k){return k.id===C}))}},{key:"deleteParticipant",value:function deleteParticipant(C){this.participants=this.participants.filter((function(k){return k.id!==C}))}},{key:"host",get:function get(){return this.participants.find((function(C){return!0===C.isHost}))}},{key:"me",get:function get(){return this.getParticipant(this.meId)}}]),InternalParticipants}(),Bn="final",Fn="instant_message",Un="keep_alive",qn="partial",Vn="participant_command",Kn="ChangeNickname",Hn="EjectParticipant",Wn="SetLockState",Jn="SetMute",Gn="SetMuteAll",$n="SetProfanityFiltering",Yn="SetTranslateToLanguages",Qn="SetUseTTS",Xn=O(830),Zn=function(){function ConversationManager(){Object(F.a)(this,ConversationManager),this.privRequestParams=Nn.configParams,this.privErrors=Nn.restErrors,this.privHost=Nn.host,this.privApiVersion=Nn.apiVersion,this.privRestPath=Nn.restPath,this.privRestAdapter=new Xn.a({})}return Object(ne.a)(ConversationManager,[{key:"createOrJoin",value:function createOrJoin(C,k,O,P){var M=this;try{Ie.a.throwIfNullOrUndefined(C,"args");var F=C.getProperty(ut.a.SpeechServiceConnection_RecoLanguage,Nn.defaultLanguageCode),ne=C.getProperty(ut.a.ConversationTranslator_Name,"conversation_host"),re=C.getProperty(ut.a.ConversationTranslator_Host,this.privHost),oe=C.getProperty(ut.a.ConversationTranslator_CorrelationId),se=C.getProperty(ut.a.SpeechServiceConnection_Key),ue=C.getProperty(ut.a.SpeechServiceConnection_Region),pe=C.getProperty(ut.a.SpeechServiceAuthorization_Token);Ie.a.throwIfNullOrWhitespace(F,"languageCode"),Ie.a.throwIfNullOrWhitespace(ne,"nickname"),Ie.a.throwIfNullOrWhitespace(re,"endpointHost");var ve={};ve[this.privRequestParams.apiVersion]=this.privApiVersion,ve[this.privRequestParams.languageCode]=F,ve[this.privRequestParams.nickname]=ne;var de={};oe&&(de[this.privRequestParams.correlationId]=oe),de[this.privRequestParams.clientAppId]=Nn.clientAppId,void 0!==k?ve[this.privRequestParams.roomId]=k:(Ie.a.throwIfNullOrUndefined(ue,this.privErrors.authInvalidSubscriptionRegion),de[this.privRequestParams.subscriptionRegion]=ue,se?de[this.privRequestParams.subscriptionKey]=se:pe?de[this.privRequestParams.authorization]="Bearer ".concat(pe):Ie.a.throwIfNullOrUndefined(se,this.privErrors.authInvalidSubscriptionKey));var he={};he.headers=de,this.privRestAdapter.options=he;var fe="https://".concat(re).concat(this.privRestPath);this.privRestAdapter.request(Xn.b.Post,fe,ve,null).then((function(C){var k=Xn.a.extractHeaderValue(M.privRequestParams.requestId,C.headers);if(C.ok){var F=JSON.parse(C.data);if(F&&(F.requestId=k),O){try{O(F)}catch(oe){P&&P(oe)}O=void 0}}else if(P){var ne,re=M.privErrors.invalidCreateJoinConversationResponse.replace("{status}",C.status.toString());try{ne=JSON.parse(C.data),re+=" [".concat(ne.error.code,": ").concat(ne.error.message,"]")}catch(oe){re+=" [".concat(C.data,"]")}k&&(re+=" ".concat(k)),P(re)}})).catch((function(C){}))}catch(me){if(P)if(me instanceof Error){var ge=me;P(ge.name+": "+ge.message)}else P(me)}}},{key:"leave",value:function leave(C,k){var O=this;return new Promise((function(P,M){try{Ie.a.throwIfNullOrUndefined(C,O.privErrors.invalidArgs.replace("{arg}","config")),Ie.a.throwIfNullOrWhitespace(k,O.privErrors.invalidArgs.replace("{arg}","token"));var F=C.getProperty(ut.a.ConversationTranslator_Host,O.privHost),ne=C.getProperty(ut.a.ConversationTranslator_CorrelationId),re={};re[O.privRequestParams.apiVersion]=O.privApiVersion,re[O.privRequestParams.sessionToken]=k;var oe={};ne&&(oe[O.privRequestParams.correlationId]=ne);var se={};se.headers=oe,O.privRestAdapter.options=se;var ue="https://".concat(F).concat(O.privRestPath);O.privRestAdapter.request(Xn.b.Delete,ue,re,null).then((function(C){C.ok,P()})).catch((function(C){}))}catch(ve){if(ve instanceof Error){var pe=ve;M(pe.name+": "+pe.message)}else M(ve)}}))}}]),ConversationManager}(),er=O(826),tr=O(828),nr=function(C){Object(P.a)(ConversationConnectionMessage,C);var k=Object(M.a)(ConversationConnectionMessage);function ConversationConnectionMessage(C,O,P,M){var ne;Object(F.a)(this,ConversationConnectionMessage),ne=k.call(this,C,O,P,M);var re=JSON.parse(ne.textBody);return void 0!==re.type&&(ne.privConversationMessageType=re.type),ne}return Object(ne.a)(ConversationConnectionMessage,[{key:"conversationMessageType",get:function get(){return this.privConversationMessageType}}]),ConversationConnectionMessage}(_t.a),rr=function ConversationWebsocketMessageFormatter(){Object(F.a)(this,ConversationWebsocketMessageFormatter),this.toConnectionMessage=function(C){var k=new de.a;try{if(C.messageType===_t.b.Text){var O=new nr(C.messageType,C.textContent,{},C.id);k.resolve(O)}else C.messageType===_t.b.Binary&&k.resolve(new nr(C.messageType,C.binaryContent,void 0,C.id))}catch(P){k.reject("Error formatting the message. Error: ".concat(P))}return k.promise},this.fromConnectionMessage=function(C){var k=new de.a;try{if(C.messageType===_t.b.Text){var O="".concat(C.textBody?C.textBody:"");k.resolve(new tr.a(_t.b.Text,O,C.id))}}catch(P){k.reject("Error formatting the message. ".concat(P))}return k.promise}},ir=function(C){Object(P.a)(ConversationConnectionFactory,C);var k=Object(M.a)(ConversationConnectionFactory);function ConversationConnectionFactory(){return Object(F.a)(this,ConversationConnectionFactory),k.apply(this,arguments)}return Object(ne.a)(ConversationConnectionFactory,[{key:"create",value:function create(C,k,O){var P=C.parameters.getProperty(ut.a.ConversationTranslator_Host,Nn.host),M=C.parameters.getProperty(ut.a.ConversationTranslator_CorrelationId,Object(me.a)()),F="wss://".concat(P).concat(Nn.webSocketPath),ne=C.parameters.getProperty(ut.a.ConversationTranslator_Token,void 0);Ie.a.throwIfNullOrUndefined(ne,"token");var re={};re[Nn.configParams.apiVersion]=Nn.apiVersion,re[Nn.configParams.token]=ne,re[Nn.configParams.correlationId]=M;var oe="true"===C.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new tn.a(F,re,{},new rr,nn.a.fromRecognizerConfig(C),oe,O)}}]),ConversationConnectionFactory}(rn.a),or=O(824),ar=function(C){Object(P.a)(ConversationTranslationCanceledEventArgs,C);var k=Object(M.a)(ConversationTranslationCanceledEventArgs);function ConversationTranslationCanceledEventArgs(){return Object(F.a)(this,ConversationTranslationCanceledEventArgs),k.apply(this,arguments)}return ConversationTranslationCanceledEventArgs}(O(592).a),sr=function(C){Object(P.a)(ConversationExpirationEventArgs,C);var k=Object(M.a)(ConversationExpirationEventArgs);function ConversationExpirationEventArgs(C,O){var P;return Object(F.a)(this,ConversationExpirationEventArgs),(P=k.call(this,O)).privExpirationTime=C,P}return Object(ne.a)(ConversationExpirationEventArgs,[{key:"expirationTime",get:function get(){return this.privExpirationTime}}]),ConversationExpirationEventArgs}(He.a),cr=function(C){Object(P.a)(ConversationTranslationResult,C);var k=Object(M.a)(ConversationTranslationResult);function ConversationTranslationResult(C,O,P,M,ne,re,oe,se,ue,pe,ve){var de;return Object(F.a)(this,ConversationTranslationResult),(de=k.call(this,O,M,ne,re,oe,se,ue,pe,ve)).privId=C,de.privOrigLang=P,de}return Object(ne.a)(ConversationTranslationResult,[{key:"participantId",get:function get(){return this.privId}},{key:"originalLang",get:function get(){return this.privOrigLang}}]),ConversationTranslationResult}(it.a),ConversationRequestSession_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},ur=function(){function ConversationRequestSession(C){var k=this;Object(F.a)(this,ConversationRequestSession),this.privIsDisposed=!1,this.privDetachables=new Array,this.onPreConnectionStart=function(C,O){k.privSessionId=O},this.onAuthCompleted=function(C,O){C&&k.onComplete()},this.onConnectionEstablishCompleted=function(C,O){200!==C&&403===C&&k.onComplete()},this.onServiceTurnEndResponse=function(C){C?k.privRequestId=Object(me.b)():k.onComplete()},this.onComplete=function(){},this.privSessionId=C,this.privRequestId=Object(me.b)(),this.privRequestCompletionDeferral=new de.a}return Object(ne.a)(ConversationRequestSession,[{key:"sessionId",get:function get(){return this.privSessionId}},{key:"requestId",get:function get(){return this.privRequestId}},{key:"completionPromise",get:function get(){return this.privRequestCompletionDeferral.promise}},{key:"dispose",value:function dispose(C){return ConversationRequestSession_awaiter(this,void 0,void 0,pe.a.mark((function _callee(){var C,k,O;return pe.a.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:if(this.privIsDisposed){P.next=19;break}this.privIsDisposed=!0,C=Object(se.a)(this.privDetachables),P.prev=3,C.s();case 5:if((k=C.n()).done){P.next=11;break}return O=k.value,P.next=9,O.detach();case 9:P.next=5;break;case 11:P.next=16;break;case 13:P.prev=13,P.t0=P.catch(3),C.e(P.t0);case 16:return P.prev=16,C.f(),P.finish(16);case 19:case"end":return P.stop()}}),_callee,this,[[3,13,16,19]])})))}}]),ConversationRequestSession}(),pr=function(C){Object(P.a)(MuteAllEventArgs,C);var k=Object(M.a)(MuteAllEventArgs);function MuteAllEventArgs(C,O){var P;return Object(F.a)(this,MuteAllEventArgs),(P=k.call(this,O)).privIsMuted=C,P}return Object(ne.a)(MuteAllEventArgs,[{key:"isMuted",get:function get(){return this.privIsMuted}}]),MuteAllEventArgs}(He.a),lr=function(C){Object(P.a)(LockRoomEventArgs,C);var k=Object(M.a)(LockRoomEventArgs);function LockRoomEventArgs(C,O){var P;return Object(F.a)(this,LockRoomEventArgs),(P=k.call(this,O)).privIsLocked=C,P}return Object(ne.a)(LockRoomEventArgs,[{key:"isMuted",get:function get(){return this.privIsLocked}}]),LockRoomEventArgs}(He.a),vr=function(C){Object(P.a)(ParticipantEventArgs,C);var k=Object(M.a)(ParticipantEventArgs);function ParticipantEventArgs(C,O){var P;return Object(F.a)(this,ParticipantEventArgs),(P=k.call(this,O)).privParticipant=C,P}return Object(ne.a)(ParticipantEventArgs,[{key:"participant",get:function get(){return this.privParticipant}}]),ParticipantEventArgs}(He.a),dr=function(C){Object(P.a)(ParticipantAttributeEventArgs,C);var k=Object(M.a)(ParticipantAttributeEventArgs);function ParticipantAttributeEventArgs(C,O,P,M){var ne;return Object(F.a)(this,ParticipantAttributeEventArgs),(ne=k.call(this,M)).privKey=O,ne.privValue=P,ne.privParticipantId=C,ne}return Object(ne.a)(ParticipantAttributeEventArgs,[{key:"value",get:function get(){return this.privValue}},{key:"key",get:function get(){return this.privKey}},{key:"id",get:function get(){return this.privParticipantId}}]),ParticipantAttributeEventArgs}(He.a),hr=function(C){Object(P.a)(ParticipantsListEventArgs,C);var k=Object(M.a)(ParticipantsListEventArgs);function ParticipantsListEventArgs(C,O,P,M,ne,re,oe,se,ue){var pe;return Object(F.a)(this,ParticipantsListEventArgs),(pe=k.call(this,ue)).privRoomId=C,pe.privSessionToken=O,pe.privTranslateTo=P,pe.privProfanityFilter=M,pe.privRoomProfanityFilter=ne,pe.privIsRoomLocked=re,pe.privIsRoomLocked=oe,pe.privParticipants=se,pe}return Object(ne.a)(ParticipantsListEventArgs,[{key:"sessionToken",get:function get(){return this.privSessionToken}},{key:"conversationId",get:function get(){return this.privRoomId}},{key:"translateTo",get:function get(){return this.privTranslateTo}},{key:"profanityFilter",get:function get(){return this.privProfanityFilter}},{key:"roomProfanityFilter",get:function get(){return this.privRoomProfanityFilter}},{key:"isRoomLocked",get:function get(){return this.privIsRoomLocked}},{key:"isMuteAll",get:function get(){return this.privIsMuteAll}},{key:"participants",get:function get(){return this.privParticipants}}]),ParticipantsListEventArgs}(He.a),fr=function(){function ConversationReceivedTranslationEventArgs(C,k,O){Object(F.a)(this,ConversationReceivedTranslationEventArgs),this.privPayload=k,this.privCommand=C,this.privSessionId=O}return Object(ne.a)(ConversationReceivedTranslationEventArgs,[{key:"payload",get:function get(){return this.privPayload}},{key:"command",get:function get(){return this.privCommand}},{key:"sessionId",get:function get(){return this.privSessionId}}]),ConversationReceivedTranslationEventArgs}(),gr=function(){function CommandResponsePayload(C){Object(F.a)(this,CommandResponsePayload),this.privCommandResponse=JSON.parse(C)}return Object(ne.a)(CommandResponsePayload,[{key:"type",get:function get(){return this.privCommandResponse.type}},{key:"command",get:function get(){return this.privCommandResponse.command}},{key:"id",get:function get(){return this.privCommandResponse.id}},{key:"nickname",get:function get(){return this.privCommandResponse.nickname}},{key:"participantId",get:function get(){return this.privCommandResponse.participantId}},{key:"roomid",get:function get(){return this.privCommandResponse.roomid}},{key:"value",get:function get(){return this.privCommandResponse.value}},{key:"token",get:function get(){return this.privCommandResponse.token}}],[{key:"fromJSON",value:function fromJSON(C){return new CommandResponsePayload(C)}}]),CommandResponsePayload}(),mr=function(){function ParticipantsListPayloadResponse(C){Object(F.a)(this,ParticipantsListPayloadResponse),this.privParticipantsPayloadResponse=JSON.parse(C)}return Object(ne.a)(ParticipantsListPayloadResponse,[{key:"roomid",get:function get(){return this.privParticipantsPayloadResponse.roomid}},{key:"id",get:function get(){return this.privParticipantsPayloadResponse.id}},{key:"command",get:function get(){return this.privParticipantsPayloadResponse.command}},{key:"participants",get:function get(){return this.privParticipantsPayloadResponse.participants}},{key:"token",get:function get(){return this.privParticipantsPayloadResponse.token}},{key:"translateTo",get:function get(){return this.privParticipantsPayloadResponse.translateTo}},{key:"profanityFilter",get:function get(){return this.privParticipantsPayloadResponse.profanityFilter}},{key:"roomProfanityFilter",get:function get(){return this.privParticipantsPayloadResponse.roomProfanityFilter}},{key:"roomLocked",get:function get(){return this.privParticipantsPayloadResponse.roomLocked}},{key:"muteAll",get:function get(){return this.privParticipantsPayloadResponse.muteAll}},{key:"type",get:function get(){return this.privParticipantsPayloadResponse.type}}],[{key:"fromJSON",value:function fromJSON(C){return new ParticipantsListPayloadResponse(C)}}]),ParticipantsListPayloadResponse}(),yr=function(){function ParticipantPayloadResponse(C){Object(F.a)(this,ParticipantPayloadResponse),this.privParticipantPayloadResponse=JSON.parse(C)}return Object(ne.a)(ParticipantPayloadResponse,[{key:"nickname",get:function get(){return this.privParticipantPayloadResponse.nickname}},{key:"locale",get:function get(){return this.privParticipantPayloadResponse.locale}},{key:"usetts",get:function get(){return this.privParticipantPayloadResponse.usetts}},{key:"ismuted",get:function get(){return this.privParticipantPayloadResponse.ismuted}},{key:"ishost",get:function get(){return this.privParticipantPayloadResponse.ishost}},{key:"participantId",get:function get(){return this.privParticipantPayloadResponse.participantId}},{key:"avatar",get:function get(){return this.privParticipantPayloadResponse.avatar}}],[{key:"fromJSON",value:function fromJSON(C){return new ParticipantPayloadResponse(C)}}]),ParticipantPayloadResponse}(),br=function(){function SpeechResponsePayload(C){Object(F.a)(this,SpeechResponsePayload),this.privSpeechResponse=JSON.parse(C)}return Object(ne.a)(SpeechResponsePayload,[{key:"recognition",get:function get(){return this.privSpeechResponse.recognition}},{key:"translations",get:function get(){return this.privSpeechResponse.translations}},{key:"id",get:function get(){return this.privSpeechResponse.id}},{key:"language",get:function get(){return this.privSpeechResponse.language}},{key:"nickname",get:function get(){return this.privSpeechResponse.nickname}},{key:"participantId",get:function get(){return this.privSpeechResponse.participantId}},{key:"roomid",get:function get(){return this.privSpeechResponse.roomid}},{key:"timestamp",get:function get(){return this.privSpeechResponse.timestamp}},{key:"type",get:function get(){return this.privSpeechResponse.type}},{key:"isFinal",get:function get(){return"final"===this.privSpeechResponse.type}}],[{key:"fromJSON",value:function fromJSON(C){return new SpeechResponsePayload(C)}}]),SpeechResponsePayload}(),Sr=function(){function TextResponsePayload(C){Object(F.a)(this,TextResponsePayload),this.privTextResponse=JSON.parse(C)}return Object(ne.a)(TextResponsePayload,[{key:"originalText",get:function get(){return this.privTextResponse.originalText}},{key:"translations",get:function get(){return this.privTextResponse.translations}},{key:"id",get:function get(){return this.privTextResponse.id}},{key:"language",get:function get(){return this.privTextResponse.language}},{key:"nickname",get:function get(){return this.privTextResponse.nickname}},{key:"participantId",get:function get(){return this.privTextResponse.participantId}},{key:"roomid",get:function get(){return this.privTextResponse.roomid}},{key:"timestamp",get:function get(){return this.privTextResponse.timestamp}},{key:"type",get:function get(){return this.privTextResponse.type}}],[{key:"fromJSON",value:function fromJSON(C){return new TextResponsePayload(C)}}]),TextResponsePayload}(),ConversationServiceAdapter_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Cr=function(C){Object(P.a)(ConversationServiceAdapter,C);var k=Object(M.a)(ConversationServiceAdapter);function ConversationServiceAdapter(C,O,P,M,ne){var re;return Object(F.a)(this,ConversationServiceAdapter),(re=k.call(this,C,O,P,M,ne)).privLastPartialUtteranceId="",re.noOp=function(){},re.privConversationServiceConnector=ne,re.privConversationAuthentication=C,re.receiveMessageOverride=re.receiveConversationMessageOverride,re.recognizeOverride=re.noOp,re.postConnectImplOverride=re.conversationConnectImpl,re.configConnectionOverride=re.configConnection,re.disconnectOverride=re.privDisconnect,re.privConversationRequestSession=new ur(Object(me.b)()),re.privConversationConnectionFactory=O,re.privConversationIsDisposed=!1,re}return Object(ne.a)(ConversationServiceAdapter,[{key:"isDisposed",value:function isDisposed(){return Object(bt.a)(Object(St.a)(ConversationServiceAdapter.prototype),"isDisposed",this).call(this)||this.privConversationIsDisposed}},{key:"dispose",value:function dispose(C){var k=this,O=Object.create(null,{dispose:{get:function get(){return Object(bt.a)(Object(St.a)(ConversationServiceAdapter.prototype),"dispose",k)}}});return ConversationServiceAdapter_awaiter(this,void 0,void 0,pe.a.mark((function _callee(){var k;return pe.a.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:if(this.privConversationIsDisposed=!0,!this.privConnectionConfigPromise){P.next=7;break}return P.next=4,this.privConnectionConfigPromise;case 4:return k=P.sent,P.next=7,k.dispose(C);case 7:return P.next=9,O.dispose.call(this,C);case 9:case"end":return P.stop()}}),_callee,this)})))}},{key:"sendMessage",value:function sendMessage(C){return ConversationServiceAdapter_awaiter(this,void 0,void 0,pe.a.mark((function _callee2(){var k;return pe.a.wrap((function _callee2$(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this.fetchConnection();case 2:return k=O.sent,O.abrupt("return",k.send(new nr(_t.b.Text,C)));case 4:case"end":return O.stop()}}),_callee2,this)})))}},{key:"sendMessageAsync",value:function sendMessageAsync(C){return ConversationServiceAdapter_awaiter(this,void 0,void 0,pe.a.mark((function _callee3(){var k;return pe.a.wrap((function _callee3$(O){for(;;)switch(O.prev=O.next){case 0:return new de.a,O.next=3,this.fetchConnection();case 3:return k=O.sent,O.next=6,k.send(new nr(_t.b.Text,C));case 6:case"end":return O.stop()}}),_callee3,this)})))}},{key:"privDisconnect",value:function privDisconnect(){if(!this.terminateMessageLoop)return this.cancelRecognition(this.privConversationRequestSession.sessionId,this.privConversationRequestSession.requestId,Ve.a.Error,$t.a.NoError,"Disconnecting"),this.terminateMessageLoop=!0,Promise.resolve()}},{key:"processTypeSpecificMessages",value:function processTypeSpecificMessages(C,k,O){return ConversationServiceAdapter_awaiter(this,void 0,void 0,pe.a.mark((function _callee4(){return pe.a.wrap((function _callee4$(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",!0);case 1:case"end":return C.stop()}}),_callee4)})))}},{key:"cancelRecognition",value:function cancelRecognition(C,k,O,P,M){this.terminateMessageLoop=!0;var F=new ar(O,M,P,void 0,C);try{this.privConversationServiceConnector.canceled&&this.privConversationServiceConnector.canceled(this.privConversationServiceConnector,F)}catch(ne){}}},{key:"conversationConnectImpl",value:function conversationConnectImpl(C){return ConversationServiceAdapter_awaiter(this,void 0,void 0,pe.a.mark((function _callee5(){return pe.a.wrap((function _callee5$(k){for(;;)switch(k.prev=k.next){case 0:return this.privConnectionLoop=this.startMessageLoop(),k.abrupt("return",C);case 2:case"end":return k.stop()}}),_callee5,this)})))}},{key:"receiveConversationMessageOverride",value:function receiveConversationMessageOverride(){return ConversationServiceAdapter_awaiter(this,void 0,void 0,pe.a.mark((function _callee6(){var C,k,O,P,M,F,ne,re,oe,se,ue,ve,he,fe,ge,me;return pe.a.wrap((function _callee6$(pe){for(;;)switch(pe.prev=pe.next){case 0:if(!this.isDisposed()&&!this.terminateMessageLoop){pe.next=2;break}return pe.abrupt("return",Promise.resolve());case 2:return C=new de.a,pe.prev=3,pe.next=6,this.fetchConnection();case 6:return k=pe.sent,pe.next=9,k.read();case 9:if(O=pe.sent,!this.isDisposed()&&!this.terminateMessageLoop){pe.next=13;break}return C.resolve(),pe.abrupt("return",Promise.resolve());case 13:if(O){pe.next=15;break}return pe.abrupt("return",this.receiveConversationMessageOverride());case 15:P=this.privConversationRequestSession.sessionId,M=!1,pe.prev=17,pe.t0=O.conversationMessageType.toLowerCase(),pe.next="info"===pe.t0||"participant_command"===pe.t0||"command"===pe.t0?21:"partial"===pe.t0||"final"===pe.t0?59:"translated_message"===pe.t0?63:67;break;case 21:F=gr.fromJSON(O.textBody),pe.t1=F.command.toLowerCase(),pe.next="participantlist"===pe.t1?25:"settranslatetolanguages"===pe.t1?29:"setprofanityfiltering"===pe.t1?31:"setmute"===pe.t1?33:"setmuteall"===pe.t1?35:"roomexpirationwarning"===pe.t1?37:"setusetts"===pe.t1?39:"setlockstate"===pe.t1?41:"changenickname"===pe.t1?43:"joinsession"===pe.t1?45:"leavesession"===pe.t1?49:"disconnectsession"===pe.t1?52:"token"===pe.t1?54:57;break;case 25:return ne=mr.fromJSON(O.textBody),re=ne.participants.map((function(C){return{avatar:C.avatar,displayName:C.nickname,id:C.participantId,isHost:C.ishost,isMuted:C.ismuted,isUsingTts:C.usetts,preferredLanguage:C.locale}})),this.privConversationServiceConnector.participantsListReceived&&this.privConversationServiceConnector.participantsListReceived(this.privConversationServiceConnector,new hr(ne.roomid,ne.token,ne.translateTo,ne.profanityFilter,ne.roomProfanityFilter,ne.roomLocked,ne.muteAll,re,P)),pe.abrupt("break",58);case 29:return this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new dr(F.participantId,Yn,F.value,P)),pe.abrupt("break",58);case 31:return this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new dr(F.participantId,$n,F.value,P)),pe.abrupt("break",58);case 33:return this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new dr(F.participantId,Jn,F.value,P)),pe.abrupt("break",58);case 35:return this.privConversationServiceConnector.muteAllCommandReceived&&this.privConversationServiceConnector.muteAllCommandReceived(this.privConversationServiceConnector,new pr(F.value,P)),pe.abrupt("break",58);case 37:return this.privConversationServiceConnector.conversationExpiration&&this.privConversationServiceConnector.conversationExpiration(this.privConversationServiceConnector,new sr(F.value,this.privConversationRequestSession.sessionId)),pe.abrupt("break",58);case 39:return this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new dr(F.participantId,Qn,F.value,P)),pe.abrupt("break",58);case 41:return this.privConversationServiceConnector.lockRoomCommandReceived&&this.privConversationServiceConnector.lockRoomCommandReceived(this.privConversationServiceConnector,new lr(F.value,P)),pe.abrupt("break",58);case 43:return this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new dr(F.participantId,Kn,F.nickname,P)),pe.abrupt("break",58);case 45:return oe=yr.fromJSON(O.textBody),se={avatar:oe.avatar,displayName:oe.nickname,id:oe.participantId,isHost:oe.ishost,isMuted:oe.ismuted,isUsingTts:oe.usetts,preferredLanguage:oe.locale},this.privConversationServiceConnector.participantJoinCommandReceived&&this.privConversationServiceConnector.participantJoinCommandReceived(this.privConversationServiceConnector,new vr(se,P)),pe.abrupt("break",58);case 49:return ue={id:F.participantId},this.privConversationServiceConnector.participantLeaveCommandReceived&&this.privConversationServiceConnector.participantLeaveCommandReceived(this.privConversationServiceConnector,new vr(ue,P)),pe.abrupt("break",58);case 52:return{id:F.participantId},pe.abrupt("break",58);case 54:return ve=new mt.a((function(C){var k=F.token;return Promise.resolve(k)}),(function(C){var k=F.token;return Promise.resolve(k)})),this.authentication=ve,pe.abrupt("break",58);case 57:return pe.abrupt("break",58);case 58:return pe.abrupt("break",68);case 59:return he=br.fromJSON(O.textBody),fe=new cr(he.participantId,this.getTranslations(he.translations),he.language,void 0,void 0,he.recognition,void 0,void 0,O.textBody,void 0),he.isFinal?((void 0!==fe.text&&fe.text.length>0||he.id===this.privLastPartialUtteranceId)&&(M=!0),M&&this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new fr(Bn,fe,P))):void 0!==fe.text&&(this.privLastPartialUtteranceId=he.id,this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new fr(qn,fe,P))),pe.abrupt("break",68);case 63:return ge=Sr.fromJSON(O.textBody),me=new cr(ge.participantId,this.getTranslations(ge.translations),ge.language,void 0,void 0,ge.originalText,void 0,void 0,void 0,O.textBody,void 0),this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new fr(Fn,me,P)),pe.abrupt("break",68);case 67:return pe.abrupt("break",68);case 68:pe.next=72;break;case 70:pe.prev=70,pe.t2=pe.catch(17);case 72:return pe.abrupt("return",this.receiveConversationMessageOverride());case 75:pe.prev=75,pe.t3=pe.catch(3),this.terminateMessageLoop=!0;case 78:return pe.abrupt("return",C.promise);case 79:case"end":return pe.stop()}}),_callee6,this,[[3,75],[17,70]])})))}},{key:"startMessageLoop",value:function startMessageLoop(){return ConversationServiceAdapter_awaiter(this,void 0,void 0,pe.a.mark((function _callee7(){var C,k;return pe.a.wrap((function _callee7$(O){for(;;)switch(O.prev=O.next){case 0:if(!this.isDisposed()){O.next=2;break}return O.abrupt("return",Promise.resolve());case 2:return this.terminateMessageLoop=!1,C=this.receiveConversationMessageOverride(),O.prev=4,O.next=7,C;case 7:return k=O.sent,O.abrupt("return",k);case 11:return O.prev=11,O.t0=O.catch(4),this.cancelRecognition(this.privRequestSession?this.privRequestSession.sessionId:"",this.privRequestSession?this.privRequestSession.requestId:"",Ve.a.Error,$t.a.RuntimeError,O.t0),O.abrupt("return",null);case 15:case"end":return O.stop()}}),_callee7,this,[[4,11]])})))}},{key:"configConnection",value:function configConnection(){var C=this;return this.isDisposed()?Promise.resolve(void 0):this.privConnectionConfigPromise?this.privConnectionConfigPromise.then((function(k){return k.state()===or.a.Disconnected?(C.privConnectionId=null,C.privConnectionConfigPromise=null,C.configConnection()):C.privConnectionConfigPromise}),(function(k){return C.privConnectionId=null,C.privConnectionConfigPromise=null,C.configConnection()})):this.terminateMessageLoop?Promise.resolve(void 0):(this.privConnectionConfigPromise=this.connectImpl().then((function(C){return C})),this.privConnectionConfigPromise)}},{key:"getTranslations",value:function getTranslations(C){var k;if(void 0!==C){k=new Ft.a;var O,P=Object(se.a)(C);try{for(P.s();!(O=P.n()).done;){var M=O.value;k.set(M.lang,M.translation)}}catch(F){P.e(F)}finally{P.f()}}return k}}]),ConversationServiceAdapter}(ft.a),ConversationTranslatorRecognizer_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},kr=function(){function ConversationRecognizerFactory(){Object(F.a)(this,ConversationRecognizerFactory)}return Object(ne.a)(ConversationRecognizerFactory,null,[{key:"fromConfig",value:function fromConfig(C,k,O){return new Or(C,k,O)}}]),ConversationRecognizerFactory}(),Or=function(C){Object(P.a)(ConversationTranslatorRecognizer,C);var k=Object(M.a)(ConversationTranslatorRecognizer);function ConversationTranslatorRecognizer(C,O,P){var M;Object(F.a)(this,ConversationTranslatorRecognizer);var ne=O;Ie.a.throwIfNull(ne,"speechConfig");var re=C;return Ie.a.throwIfNull(re,"conversationImpl"),(M=k.call(this,P,ne.properties,new ir)).privConversation=re,M.privIsDisposed=!1,M.privProperties=ne.properties.clone(),M.privConnection=zt.fromRecognizer(Object(Mn.a)(M)),M.privSetTimeout="undefined"!==typeof Blob&&"undefined"!==typeof Worker?er.a.setTimeout:setTimeout,M.privClearTimeout="undefined"!==typeof Blob&&"undefined"!==typeof Worker?er.a.clearTimeout:clearTimeout,M}return Object(ne.a)(ConversationTranslatorRecognizer,[{key:"connected",set:function set(C){this.privConnection.connected=C}},{key:"disconnected",set:function set(C){this.privConnection.disconnected=C}},{key:"speechRecognitionLanguage",get:function get(){return this.privSpeechRecognitionLanguage}},{key:"properties",get:function get(){return this.privProperties}},{key:"isDisposed",value:function isDisposed(){return this.privIsDisposed}},{key:"connect",value:function connect(C,k,O){try{Ie.a.throwIfDisposed(this.privIsDisposed),Ie.a.throwIfNullOrWhitespace(C,"token"),this.privReco.conversationTranslatorToken=C,this.resetConversationTimeout(),this.privReco.connectAsync(k,O)}catch(M){if(O)if(M instanceof Error){var P=M;O(P.name+": "+P.message)}else O(M)}}},{key:"disconnect",value:function disconnect(C,k){try{Ie.a.throwIfDisposed(this.privIsDisposed),void 0!==this.privTimeoutToken&&this.privClearTimeout(this.privTimeoutToken),this.privReco.disconnect().then((function(){C&&C()}),(function(C){k&&k(C)}))}catch(P){if(k)if(P instanceof Error){var O=P;k(O.name+": "+O.message)}else k(P);this.dispose(!0).catch((function(C){ge.a.instance.onEvent(new _e.a(C))}))}}},{key:"sendRequest",value:function sendRequest(C,k,O){try{Ie.a.throwIfDisposed(this.privIsDisposed),this.sendMessage(C,k,O)}catch(M){if(O)if(M instanceof Error){var P=M;O(P.name+": "+P.message)}else O(M);this.dispose(!0).catch((function(C){ge.a.instance.onEvent(new _e.a(C))}))}}},{key:"close",value:function close(){var C,k;return ConversationTranslatorRecognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee(){return pe.a.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:if(this.privIsDisposed){O.next=6;break}return null===(C=this.privConnection)||void 0===C||C.closeConnection(),null===(k=this.privConnection)||void 0===k||k.close(),this.privConnection=void 0,O.next=6,this.dispose(!0);case 6:case"end":return O.stop()}}),_callee,this)})))}},{key:"dispose",value:function dispose(C){var k=this,O=Object.create(null,{dispose:{get:function get(){return Object(bt.a)(Object(St.a)(ConversationTranslatorRecognizer.prototype),"dispose",k)}}});return ConversationTranslatorRecognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee2(){return pe.a.wrap((function _callee2$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privIsDisposed){k.next=2;break}return k.abrupt("return");case 2:if(!C){k.next=8;break}return void 0!==this.privTimeoutToken&&this.privClearTimeout(this.privTimeoutToken),this.privIsDisposed=!0,this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close(),this.privConnection=void 0),k.next=8,O.dispose.call(this,C);case 8:case"end":return k.stop()}}),_callee2,this)})))}},{key:"createRecognizerConfig",value:function createRecognizerConfig(C){return new ve.d(C,this.privProperties)}},{key:"createServiceRecognizer",value:function createServiceRecognizer(C,k,O,P){return new Cr(C,k,O,P,this)}},{key:"sendMessage",value:function sendMessage(C,k,O){!function PromiseToEmptyCallback(C,k,O){C?C.then((function(C){try{k&&k()}catch(P){O&&O("'Unhandled error on promise callback: ".concat(P,"'"))}}),(function(C){try{O&&O(C)}catch(k){}})):O&&O("Null promise")}(this.privReco.sendMessageAsync(C),k,O),this.resetConversationTimeout()}},{key:"resetConversationTimeout",value:function resetConversationTimeout(){var C=this;void 0!==this.privTimeoutToken&&this.privClearTimeout(this.privTimeoutToken),this.privTimeoutToken=this.privSetTimeout((function(){C.sendRequest(C.privConversation.getKeepAlive())}),6e4)}}]),ConversationTranslatorRecognizer}(yt),Er=function(C){Object(P.a)(ConversationParticipantsChangedEventArgs,C);var k=Object(M.a)(ConversationParticipantsChangedEventArgs);function ConversationParticipantsChangedEventArgs(C,O,P){var M;return Object(F.a)(this,ConversationParticipantsChangedEventArgs),(M=k.call(this,P)).privReason=C,M.privParticipant=O,M}return Object(ne.a)(ConversationParticipantsChangedEventArgs,[{key:"reason",get:function get(){return this.privReason}},{key:"participants",get:function get(){return this.privParticipant}}]),ConversationParticipantsChangedEventArgs}(He.a);!function(C){C[C.JoinedConversation=0]="JoinedConversation",C[C.LeftConversation=1]="LeftConversation",C[C.Updated=2]="Updated"}(Ln||(Ln={}));var wr,Rr=function(C){Object(P.a)(ConversationTranslationEventArgs,C);var k=Object(M.a)(ConversationTranslationEventArgs);function ConversationTranslationEventArgs(C,O,P){var M;return Object(F.a)(this,ConversationTranslationEventArgs),(M=k.call(this,O,P)).privResult=C,M}return Object(ne.a)(ConversationTranslationEventArgs,[{key:"result",get:function get(){return this.privResult}}]),ConversationTranslationEventArgs}(We.a),Ir=function(){function User(C){Object(F.a)(this,User),this.privUserId=C}return Object(ne.a)(User,[{key:"userId",get:function get(){return this.privUserId}}]),User}(),Ar=function(){function Participant(C,k,O,P,M,ne,re,oe){Object(F.a)(this,Participant),this.privId=C,this.privAvatar=k,this.privDisplayName=O,this.privIsHost=P,this.privIsMuted=M,this.privIsUsingTts=ne,this.privPreferredLanguage=re,this.privVoice=oe,this.privProperties=new pt.a}return Object(ne.a)(Participant,[{key:"avatar",get:function get(){return this.privAvatar}},{key:"displayName",get:function get(){return this.privDisplayName}},{key:"id",get:function get(){return this.privId}},{key:"preferredLanguage",get:function get(){return this.privPreferredLanguage}},{key:"isHost",get:function get(){return this.privIsHost}},{key:"isMuted",get:function get(){return this.privIsMuted}},{key:"isUsingTts",get:function get(){return this.privIsUsingTts}},{key:"voice",get:function get(){return this.privVoice}},{key:"properties",get:function get(){return this.privProperties}}],[{key:"From",value:function From(C,k,O){return new Participant(C,"",C,!1,!1,!1,k,O)}}]),Participant}(),Conversation_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Pr=function(){function Conversation(){Object(F.a)(this,Conversation)}return Object(ne.a)(Conversation,null,[{key:"createConversationAsync",value:function createConversationAsync(C,k,O,P){var M,F,ne;return Ie.a.throwIfNullOrUndefined(C,Nn.restErrors.invalidArgs.replace("{arg}","config")),Ie.a.throwIfNullOrUndefined(C.region,Nn.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),C.subscriptionKey||C.getProperty(ut.a[ut.a.SpeechServiceAuthorization_Token])||Ie.a.throwIfNullOrUndefined(C.subscriptionKey,Nn.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key")),"string"===typeof k?(M=new Tr(C,k),F=O,ne=P):(M=new Tr(C),F=k,ne=O),M.createConversationAsync((function(){F&&F()}),(function(C){ne&&ne(C)})),M}}]),Conversation}(),Tr=function(C){Object(P.a)(ConversationImpl,C);var k=Object(M.a)(ConversationImpl);function ConversationImpl(C,O){var P;if(Object(F.a)(this,ConversationImpl),(P=k.call(this)).privIsDisposed=!1,P.privIsConnected=!1,P.privErrors=Nn.restErrors,P.privConversationId="",P.onConnected=function(C){var k,O;P.privIsConnected=!0;try{(null===(k=P.privConversationTranslator)||void 0===k?void 0:k.sessionStarted)&&P.privConversationTranslator.sessionStarted(P.privConversationTranslator,C),(null===(O=P.privTranscriberRecognizer)||void 0===O?void 0:O.conversationStarted)&&P.privTranscriberRecognizer.conversationStarted(P.privTranscriberRecognizer,C)}catch(C){}},P.onDisconnected=function(C){return Conversation_awaiter(Object(Mn.a)(P),void 0,void 0,pe.a.mark((function _callee(){var k,O;return pe.a.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:P.prev=0,(null===(k=this.privConversationTranslator)||void 0===k?void 0:k.sessionStopped)&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,C),(null===(O=this.privTranscriberRecognizer)||void 0===O?void 0:O.conversationStopped)&&this.privTranscriberRecognizer.conversationStopped(this.privTranscriberRecognizer,C),P.next=7;break;case 5:P.prev=5,P.t0=P.catch(0);case 7:return P.prev=7,P.next=10,this.close(!1);case 10:return P.finish(7);case 11:case"end":return P.stop()}}),_callee,this,[[0,5,7,11]])})))},P.onCanceled=function(C,k){return Conversation_awaiter(Object(Mn.a)(P),void 0,void 0,pe.a.mark((function _callee2(){var C,O;return pe.a.wrap((function _callee2$(P){for(;;)switch(P.prev=P.next){case 0:try{(null===(C=this.privConversationTranslator)||void 0===C?void 0:C.canceled)&&this.privConversationTranslator.canceled(this.privConversationTranslator,k),(null===(O=this.privTranscriberRecognizer)||void 0===O?void 0:O.conversationCanceled)&&this.privTranscriberRecognizer.conversationCanceled(this.privTranscriberRecognizer,k)}catch(k){}case 1:case"end":return P.stop()}}),_callee2,this)})))},P.onParticipantUpdateCommandReceived=function(C,k){var O,M;try{var F=P.privParticipants.getParticipant(k.id);if(void 0!==F){switch(k.key){case Kn:F.displayName=k.value;break;case Qn:F.useTts=k.value;break;case $n:F.profanity=k.value;break;case Jn:F.isMuted=k.value;break;case Yn:F.translateToLanguages=k.value}P.privParticipants.addOrUpdateParticipant(F),(null===(O=P.privConversationTranslator)||void 0===O?void 0:O.participantsChanged)&&(null===(M=P.privConversationTranslator)||void 0===M||M.participantsChanged(P.privConversationTranslator,new Er(Ln.Updated,[P.toParticipant(F)],k.sessionId)))}}catch(k){}},P.onLockRoomCommandReceived=function(C,k){},P.onMuteAllCommandReceived=function(C,k){var O,M;try{P.privParticipants.participants.forEach((function(C){return C.isMuted=!C.isHost&&k.isMuted})),(null===(O=P.privConversationTranslator)||void 0===O?void 0:O.participantsChanged)&&(null===(M=P.privConversationTranslator)||void 0===M||M.participantsChanged(P.privConversationTranslator,new Er(Ln.Updated,P.toParticipants(!1),k.sessionId)))}catch(k){}},P.onParticipantJoinCommandReceived=function(C,k){var O,M;try{var F=P.privParticipants.addOrUpdateParticipant(k.participant);void 0!==F&&(null===(O=P.privConversationTranslator)||void 0===O?void 0:O.participantsChanged)&&(null===(M=P.privConversationTranslator)||void 0===M||M.participantsChanged(P.privConversationTranslator,new Er(Ln.JoinedConversation,[P.toParticipant(F)],k.sessionId)))}catch(k){}},P.onParticipantLeaveCommandReceived=function(C,k){var O,M;try{var F=P.privParticipants.getParticipant(k.participant.id);void 0!==F&&(P.privParticipants.deleteParticipant(k.participant.id),(null===(O=P.privConversationTranslator)||void 0===O?void 0:O.participantsChanged)&&(null===(M=P.privConversationTranslator)||void 0===M||M.participantsChanged(P.privConversationTranslator,new Er(Ln.LeftConversation,[P.toParticipant(F)],k.sessionId))))}catch(k){}},P.onTranslationReceived=function(C,k){var O,M,F,ne,re,oe;try{switch(k.command){case Bn:(null===(O=P.privConversationTranslator)||void 0===O?void 0:O.transcribed)&&(null===(M=P.privConversationTranslator)||void 0===M||M.transcribed(P.privConversationTranslator,new Rr(k.payload,void 0,k.sessionId)));break;case qn:(null===(F=P.privConversationTranslator)||void 0===F?void 0:F.transcribing)&&(null===(ne=P.privConversationTranslator)||void 0===ne||ne.transcribing(P.privConversationTranslator,new Rr(k.payload,void 0,k.sessionId)));break;case Fn:(null===(re=P.privConversationTranslator)||void 0===re?void 0:re.textMessageReceived)&&(null===(oe=P.privConversationTranslator)||void 0===oe||oe.textMessageReceived(P.privConversationTranslator,new Rr(k.payload,void 0,k.sessionId)))}}catch(k){}},P.onParticipantsListReceived=function(C,k){var O,M,F;try{if(void 0!==k.sessionToken&&null!==k.sessionToken&&(P.privRoom.token=k.sessionToken),P.privParticipants.participants=Object(Dn.a)(k.participants),void 0!==P.privParticipants.me&&(P.privIsReady=!0),(null===(O=P.privConversationTranslator)||void 0===O?void 0:O.participantsChanged)&&(null===(M=P.privConversationTranslator)||void 0===M||M.participantsChanged(P.privConversationTranslator,new Er(Ln.JoinedConversation,P.toParticipants(!0),k.sessionId))),P.me.isHost){var ne=null===(F=P.privConversationTranslator)||void 0===F?void 0:F.properties.getProperty(ut.a.ConversationTranslator_Name);void 0!==ne&&ne.length>0&&ne!==P.me.displayName&&P.changeNicknameAsync(ne)}}catch(k){}},P.onConversationExpiration=function(C,k){var O,M;try{(null===(O=P.privConversationTranslator)||void 0===O?void 0:O.conversationExpiration)&&(null===(M=P.privConversationTranslator)||void 0===M||M.conversationExpiration(P.privConversationTranslator,k))}catch(k){}},P.privProperties=new pt.a,P.privManager=new Zn,C.getProperty(ut.a[ut.a.SpeechServiceConnection_RecoLanguage])||C.setProperty(ut.a[ut.a.SpeechServiceConnection_RecoLanguage],Nn.defaultLanguageCode),P.privLanguage=C.getProperty(ut.a[ut.a.SpeechServiceConnection_RecoLanguage]),O)P.privConversationId=O;else{0===C.targetLanguages.length&&C.addTargetLanguage(P.privLanguage),C.getProperty(ut.a[ut.a.SpeechServiceResponse_ProfanityOption])||C.setProfanity(lt.a.Masked);var M=C.getProperty(ut.a[ut.a.ConversationTranslator_Name]);(void 0===M||null===M||M.length<=1||M.length>50)&&(M="Host"),C.setProperty(ut.a[ut.a.ConversationTranslator_Name],M)}P.privConfig=C;var ne=C;return Ie.a.throwIfNull(ne,"speechConfig"),P.privProperties=ne.properties.clone(),P.privIsConnected=!1,P.privParticipants=new zn,P.privIsReady=!1,P.privTextMessageMaxLength=1e3,P}return Object(ne.a)(ConversationImpl,[{key:"conversationTranslator",set:function set(C){this.privConversationTranslator=C}},{key:"room",get:function get(){return this.privRoom}},{key:"connection",get:function get(){return this.privConversationRecognizer}},{key:"authorizationToken",get:function get(){return this.privToken},set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"authorizationToken"),this.privToken=C}},{key:"config",get:function get(){return this.privConfig}},{key:"conversationId",get:function get(){return this.privRoom?this.privRoom.roomId:this.privConversationId}},{key:"properties",get:function get(){return this.privProperties}},{key:"speechRecognitionLanguage",get:function get(){return this.privLanguage}},{key:"isMutedByHost",get:function get(){var C,k;return!(null===(C=this.privParticipants.me)||void 0===C?void 0:C.isHost)&&(null===(k=this.privParticipants.me)||void 0===k?void 0:k.isMuted)}},{key:"isConnected",get:function get(){return this.privIsConnected&&this.privIsReady}},{key:"participants",get:function get(){return this.toParticipants(!0)}},{key:"me",get:function get(){return this.toParticipant(this.privParticipants.me)}},{key:"host",get:function get(){return this.toParticipant(this.privParticipants.host)}},{key:"createConversationAsync",value:function createConversationAsync(C,k){var O=this;try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),k),this.privManager.createOrJoin(this.privProperties,void 0,(function(P){P||O.handleError(new Error(O.privErrors.permissionDeniedConnect),k),O.privRoom=P,O.handleCallback(C,k)}),(function(C){O.handleError(C,k)}))}catch(P){this.handleError(P,k)}}},{key:"startConversationAsync",value:function startConversationAsync(C,k){var O=this;try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),k),Ie.a.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer=kr.fromConfig(this,this.privConfig),this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,(function(){O.handleCallback(C,k)}),(function(C){O.handleError(C,k)}))}catch(P){this.handleError(P,k)}}},{key:"addParticipantAsync",value:function addParticipantAsync(C,k,O){Ie.a.throwIfNullOrUndefined(C,"Participant"),Object(de.b)(this.addParticipantImplAsync(C),k,O)}},{key:"joinConversationAsync",value:function joinConversationAsync(C,k,O,P,M){var F=this;try{Ie.a.throwIfNullOrWhitespace(C,this.privErrors.invalidArgs.replace("{arg}","conversationId")),Ie.a.throwIfNullOrWhitespace(k,this.privErrors.invalidArgs.replace("{arg}","nickname")),Ie.a.throwIfNullOrWhitespace(O,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,C,(function(C){Ie.a.throwIfNullOrUndefined(C,F.privErrors.permissionDeniedConnect),F.privRoom=C,F.privConfig.authorizationToken=C.cognitiveSpeechAuthToken,P&&P(C.cognitiveSpeechAuthToken)}),(function(C){F.handleError(C,M)}))}catch(ne){this.handleError(ne,M)}}},{key:"deleteConversationAsync",value:function deleteConversationAsync(C,k){Object(de.b)(this.deleteConversationImplAsync(),C,k)}},{key:"deleteConversationImplAsync",value:function deleteConversationImplAsync(){return Conversation_awaiter(this,void 0,void 0,pe.a.mark((function _callee3(){return pe.a.wrap((function _callee3$(C){for(;;)switch(C.prev=C.next){case 0:return Ie.a.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),Ie.a.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),C.next=4,this.privManager.leave(this.privProperties,this.privRoom.token);case 4:this.dispose();case 5:case"end":return C.stop()}}),_callee3,this)})))}},{key:"endConversationAsync",value:function endConversationAsync(C,k){Object(de.b)(this.endConversationImplAsync(),C,k)}},{key:"endConversationImplAsync",value:function endConversationImplAsync(){return this.close(!0)}},{key:"lockConversationAsync",value:function lockConversationAsync(C,k){var O,P=this;try{Ie.a.throwIfDisposed(this.privIsDisposed),Ie.a.throwIfDisposed(this.privConversationRecognizer.isDisposed()),Ie.a.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),k),null===(O=this.privConversationRecognizer)||void 0===O||O.sendRequest(this.getLockCommand(!0),(function(){P.handleCallback(C,k)}),(function(C){P.handleError(C,k)}))}catch(M){this.handleError(M,k)}}},{key:"muteAllParticipantsAsync",value:function muteAllParticipantsAsync(C,k){var O,P=this;try{Ie.a.throwIfDisposed(this.privIsDisposed),Ie.a.throwIfDisposed(this.privConversationRecognizer.isDisposed()),Ie.a.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),Ie.a.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),k),null===(O=this.privConversationRecognizer)||void 0===O||O.sendRequest(this.getMuteAllCommand(!0),(function(){P.handleCallback(C,k)}),(function(C){P.handleError(C,k)}))}catch(M){this.handleError(M,k)}}},{key:"muteParticipantAsync",value:function muteParticipantAsync(C,k,O){var P,M=this;try{Ie.a.throwIfDisposed(this.privIsDisposed),Ie.a.throwIfDisposed(this.privConversationRecognizer.isDisposed()),Ie.a.throwIfNullOrWhitespace(C,this.privErrors.invalidArgs.replace("{arg}","userId")),Ie.a.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),O),this.me.isHost||this.me.id===C||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),O),-1===this.privParticipants.getParticipantIndex(C)&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),O),null===(P=this.privConversationRecognizer)||void 0===P||P.sendRequest(this.getMuteCommand(C,!0),(function(){M.handleCallback(k,O)}),(function(C){M.handleError(C,O)}))}catch(F){this.handleError(F,O)}}},{key:"removeParticipantAsync",value:function removeParticipantAsync(C,k,O){var P,M=this;try{if(Ie.a.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&C.hasOwnProperty("id"))Object(de.b)(this.removeParticipantImplAsync(C),k,O);else{Ie.a.throwIfDisposed(this.privConversationRecognizer.isDisposed()),Ie.a.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),O);var F="";if("string"===typeof C)F=C;else if(C.hasOwnProperty("id")){F=C.id}else if(C.hasOwnProperty("userId")){F=C.userId}Ie.a.throwIfNullOrWhitespace(F,this.privErrors.invalidArgs.replace("{arg}","userId")),-1===this.participants.findIndex((function(C){return C.id===F}))&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),O),null===(P=this.privConversationRecognizer)||void 0===P||P.sendRequest(this.getEjectCommand(F),(function(){M.handleCallback(k,O)}),(function(C){M.handleError(C,O)}))}}catch(ne){this.handleError(ne,O)}}},{key:"unlockConversationAsync",value:function unlockConversationAsync(C,k){var O,P=this;try{Ie.a.throwIfDisposed(this.privIsDisposed),Ie.a.throwIfDisposed(this.privConversationRecognizer.isDisposed()),Ie.a.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),k),null===(O=this.privConversationRecognizer)||void 0===O||O.sendRequest(this.getLockCommand(!1),(function(){P.handleCallback(C,k)}),(function(C){P.handleError(C,k)}))}catch(M){this.handleError(M,k)}}},{key:"unmuteAllParticipantsAsync",value:function unmuteAllParticipantsAsync(C,k){var O,P=this;try{Ie.a.throwIfDisposed(this.privIsDisposed),Ie.a.throwIfDisposed(this.privConversationRecognizer.isDisposed()),Ie.a.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),k),null===(O=this.privConversationRecognizer)||void 0===O||O.sendRequest(this.getMuteAllCommand(!1),(function(){P.handleCallback(C,k)}),(function(C){P.handleError(C,k)}))}catch(M){this.handleError(M,k)}}},{key:"unmuteParticipantAsync",value:function unmuteParticipantAsync(C,k,O){var P,M=this;try{Ie.a.throwIfDisposed(this.privIsDisposed),Ie.a.throwIfDisposed(this.privConversationRecognizer.isDisposed()),Ie.a.throwIfNullOrWhitespace(C,this.privErrors.invalidArgs.replace("{arg}","userId")),Ie.a.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),O),this.me.isHost||this.me.id===C||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),O),-1===this.privParticipants.getParticipantIndex(C)&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),O),null===(P=this.privConversationRecognizer)||void 0===P||P.sendRequest(this.getMuteCommand(C,!1),(function(){M.handleCallback(k,O)}),(function(C){M.handleError(C,O)}))}catch(F){this.handleError(F,O)}}},{key:"sendTextMessageAsync",value:function sendTextMessageAsync(C,k,O){var P,M=this;try{Ie.a.throwIfDisposed(this.privIsDisposed),Ie.a.throwIfDisposed(this.privConversationRecognizer.isDisposed()),Ie.a.throwIfNullOrWhitespace(C,this.privErrors.invalidArgs.replace("{arg}","message")),Ie.a.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),O),C.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),O),null===(P=this.privConversationRecognizer)||void 0===P||P.sendRequest(this.getMessageCommand(C),(function(){M.handleCallback(k,O)}),(function(C){M.handleError(C,O)}))}catch(F){this.handleError(F,O)}}},{key:"changeNicknameAsync",value:function changeNicknameAsync(C,k,O){var P,M=this;try{Ie.a.throwIfDisposed(this.privIsDisposed),Ie.a.throwIfDisposed(this.privConversationRecognizer.isDisposed()),Ie.a.throwIfNullOrWhitespace(C,this.privErrors.invalidArgs.replace("{arg}","nickname")),Ie.a.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),O),null===(P=this.privConversationRecognizer)||void 0===P||P.sendRequest(this.getChangeNicknameCommand(C),(function(){M.handleCallback(k,O)}),(function(C){M.handleError(C,O)}))}catch(F){this.handleError(F,O)}}},{key:"isDisposed",value:function isDisposed(){return this.privIsDisposed}},{key:"dispose",value:function dispose(C){var k;this.isDisposed||(this.privIsDisposed=!0,null===(k=this.config)||void 0===k||k.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}},{key:"transcriberRecognizer",get:function get(){return this.privTranscriberRecognizer}},{key:"connectTranscriberRecognizer",value:function connectTranscriberRecognizer(C){return Conversation_awaiter(this,void 0,void 0,pe.a.mark((function _callee4(){return pe.a.wrap((function _callee4$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privTranscriberRecognizer){k.next=3;break}return k.next=3,this.privTranscriberRecognizer.close();case 3:this.privTranscriberRecognizer=C,this.privTranscriberRecognizer.conversation=this;case 5:case"end":return k.stop()}}),_callee4,this)})))}},{key:"conversationInfo",get:function get(){var C,k=this.conversationId,O=this.participants.map((function(C){return{id:C.id,preferredLanguage:C.preferredLanguage,voice:C.voice}})),P={},M=Object(se.a)(Nn.transcriptionEventKeys);try{for(M.s();!(C=M.n()).done;){var F=C.value,ne=this.properties.getProperty(F,"");""!==ne&&(P[F]=ne)}}catch(re){M.e(re)}finally{M.f()}return{id:k,participants:O,conversationProperties:P}}},{key:"getKeepAlive",value:function getKeepAlive(){var C=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:C,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:Un})}},{key:"addParticipantImplAsync",value:function addParticipantImplAsync(C){if(void 0!==this.privParticipants.addOrUpdateParticipant(C)&&this.privTranscriberRecognizer){var k=this.conversationInfo;return k.participants=[C],this.privTranscriberRecognizer.pushConversationEvent(k,"join")}}},{key:"removeParticipantImplAsync",value:function removeParticipantImplAsync(C){this.privParticipants.deleteParticipant(C.id);var k=this.conversationInfo;return k.participants=[C],this.privTranscriberRecognizer.pushConversationEvent(k,"leave")}},{key:"close",value:function close(C){var k,O;return Conversation_awaiter(this,void 0,void 0,pe.a.mark((function _callee5(){return pe.a.wrap((function _callee5$(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,this.privIsConnected=!1,P.next=4,null===(k=this.privConversationRecognizer)||void 0===k?void 0:k.close();case 4:this.privConversationRecognizer=void 0,null===(O=this.privConversationTranslator)||void 0===O||O.dispose(),P.next=11;break;case 8:throw P.prev=8,P.t0=P.catch(0),P.t0;case 11:C&&this.dispose();case 12:case"end":return P.stop()}}),_callee5,this,[[0,8]])})))}},{key:"canSend",get:function get(){var C;return this.privIsConnected&&!(null===(C=this.privParticipants.me)||void 0===C?void 0:C.isMuted)}},{key:"canSendAsHost",get:function get(){var C;return this.privIsConnected&&(null===(C=this.privParticipants.me)||void 0===C?void 0:C.isHost)}},{key:"handleCallback",value:function handleCallback(C,k){if(C){try{C()}catch(O){k&&k(O)}C=void 0}}},{key:"handleError",value:function handleError(C,k){if(k)if(C instanceof Error){var O=C;k(O.name+": "+O.message)}else k(C)}},{key:"toParticipants",value:function toParticipants(C){var k=this,O=this.privParticipants.participants.map((function(C){return k.toParticipant(C)}));return C?O:O.filter((function(C){return!1===C.isHost}))}},{key:"toParticipant",value:function toParticipant(C){return new Ar(C.id,C.avatar,C.displayName,C.isHost,C.isMuted,C.isUsingTts,C.preferredLanguage,C.voice)}},{key:"getMuteAllCommand",value:function getMuteAllCommand(C){return Ie.a.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),Ie.a.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:Gn,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:Vn,value:C})}},{key:"getMuteCommand",value:function getMuteCommand(C,k){return Ie.a.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),Ie.a.throwIfNullOrWhitespace(C,"participantId"),JSON.stringify({command:Jn,participantId:C,roomid:this.privRoom.roomId,type:Vn,value:k})}},{key:"getLockCommand",value:function getLockCommand(C){return Ie.a.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),Ie.a.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:Wn,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:Vn,value:C})}},{key:"getEjectCommand",value:function getEjectCommand(C){return Ie.a.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),Ie.a.throwIfNullOrWhitespace(C,"participantId"),JSON.stringify({command:Hn,participantId:C,roomid:this.privRoom.roomId,type:Vn})}},{key:"getChangeNicknameCommand",value:function getChangeNicknameCommand(C){return Ie.a.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),Ie.a.throwIfNullOrWhitespace(C,"nickname"),Ie.a.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:Kn,nickname:C,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:Vn,value:C})}},{key:"getMessageCommand",value:function getMessageCommand(C){return Ie.a.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),Ie.a.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),Ie.a.throwIfNullOrWhitespace(C,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:C,type:Fn})}}]),ConversationImpl}(Pr),jr=function(){function ConversationCommon(C){Object(F.a)(this,ConversationCommon),this.privAudioConfig=C}return Object(ne.a)(ConversationCommon,[{key:"handleCallback",value:function handleCallback(C,k){if(C){try{C()}catch(O){k&&k(O)}C=void 0}}},{key:"handleError",value:function handleError(C,k){if(k)if(C instanceof Error){var O=C;k(O.name+": "+O.message)}else k(C)}}]),ConversationCommon}(),ConversationTranslator_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))};!function(C){C[C.Inactive=0]="Inactive",C[C.Connecting=1]="Connecting",C[C.Connected=2]="Connected"}(wr||(wr={}));var _r,xr,Dr=function(C){Object(P.a)(ConversationTranslationRecognizer,C);var k=Object(M.a)(ConversationTranslationRecognizer);function ConversationTranslationRecognizer(C,O,P){var M;return Object(F.a)(this,ConversationTranslationRecognizer),(M=k.call(this,C,O)).privSpeechState=wr.Inactive,P&&(M.privTranslator=P,M.sessionStarted=function(){M.privSpeechState=wr.Connected},M.sessionStopped=function(){M.privSpeechState=wr.Inactive},M.recognized=function(C,k){return ConversationTranslator_awaiter(Object(Mn.a)(M),void 0,void 0,pe.a.mark((function _callee(){var C;return pe.a.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:if(!(null===(C=k.result)||void 0===C?void 0:C.errorDetails)){O.next=4;break}return O.next=3,this.cancelSpeech();case 3:this.fireCancelEvent(k.result.errorDetails);case 4:case"end":return O.stop()}}),_callee,this)})))},M.canceled=function(C,k){return ConversationTranslator_awaiter(Object(Mn.a)(M),void 0,void 0,pe.a.mark((function _callee2(){return pe.a.wrap((function _callee2$(C){for(;;)switch(C.prev=C.next){case 0:if(this.privSpeechState===wr.Inactive){C.next=9;break}return C.prev=1,C.next=4,this.cancelSpeech();case 4:C.next=9;break;case 6:C.prev=6,C.t0=C.catch(1),this.privSpeechState=wr.Inactive;case 9:case"end":return C.stop()}}),_callee2,this,[[1,6]])})))}),M}return Object(ne.a)(ConversationTranslationRecognizer,[{key:"state",get:function get(){return this.privSpeechState},set:function set(C){this.privSpeechState=C}},{key:"onConnection",value:function onConnection(){this.privSpeechState=wr.Connected}},{key:"onDisconnection",value:function onDisconnection(){return ConversationTranslator_awaiter(this,void 0,void 0,pe.a.mark((function _callee3(){return pe.a.wrap((function _callee3$(C){for(;;)switch(C.prev=C.next){case 0:return this.privSpeechState=wr.Inactive,C.next=3,this.cancelSpeech();case 3:case"end":return C.stop()}}),_callee3,this)})))}},{key:"fireCancelEvent",value:function fireCancelEvent(C){var k,O,P;try{if(this.privTranslator.canceled){var M=new ar(null!==(k=null===C||void 0===C?void 0:C.reason)&&void 0!==k?k:Ve.a.Error,null!==(O=null===C||void 0===C?void 0:C.errorDetails)&&void 0!==O?O:C,null!==(P=null===C||void 0===C?void 0:C.errorCode)&&void 0!==P?P:$t.a.RuntimeError,void 0,null===C||void 0===C?void 0:C.sessionId);this.privTranslator.canceled(this.privTranslator,M)}}catch(F){}}},{key:"cancelSpeech",value:function cancelSpeech(){var C;return ConversationTranslator_awaiter(this,void 0,void 0,pe.a.mark((function _callee4(){return pe.a.wrap((function _callee4$(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,this.stopContinuousRecognitionAsync(),k.next=4,null===(C=this.privReco)||void 0===C?void 0:C.disconnect();case 4:this.privSpeechState=wr.Inactive,k.next=9;break;case 7:k.prev=7,k.t0=k.catch(0);case 9:case"end":return k.stop()}}),_callee4,this,[[0,7]])})))}}]),ConversationTranslationRecognizer}(Bt),Mr=function(C){Object(P.a)(ConversationTranslator,C);var k=Object(M.a)(ConversationTranslator);function ConversationTranslator(C){var O;return Object(F.a)(this,ConversationTranslator),(O=k.call(this,C)).privIsDisposed=!1,O.privIsSpeaking=!1,O.privErrors=Nn.restErrors,O.privPlaceholderKey="abcdefghijklmnopqrstuvwxyz012345",O.privPlaceholderRegion="westus",O.privProperties=new pt.a,O}return Object(ne.a)(ConversationTranslator,[{key:"properties",get:function get(){return this.privProperties}},{key:"speechRecognitionLanguage",get:function get(){return this.privSpeechRecognitionLanguage}},{key:"participants",get:function get(){var C;return null===(C=this.privConversation)||void 0===C?void 0:C.participants}},{key:"joinConversationAsync",value:function joinConversationAsync(C,k,O,P,M){var F=this;try{if("string"===typeof C){Ie.a.throwIfNullOrUndefined(C,this.privErrors.invalidArgs.replace("{arg}","conversation id")),Ie.a.throwIfNullOrWhitespace(k,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privConversation&&this.handleError(new Error(this.privErrors.permissionDeniedStart),M);var ne=O;void 0!==ne&&null!==ne&&""!==ne||(ne=Nn.defaultLanguageCode),this.privSpeechTranslationConfig=dt.fromSubscription(this.privPlaceholderKey,this.privPlaceholderRegion),this.privSpeechTranslationConfig.setProfanity(lt.a.Masked),this.privSpeechTranslationConfig.addTargetLanguage(ne),this.privSpeechTranslationConfig.setProperty(ut.a[ut.a.SpeechServiceConnection_RecoLanguage],ne),this.privSpeechTranslationConfig.setProperty(ut.a[ut.a.ConversationTranslator_Name],k);var re=this.privProperties.getProperty(ut.a.ConversationTranslator_Host);re&&this.privSpeechTranslationConfig.setProperty(ut.a[ut.a.ConversationTranslator_Host],re);var oe=this.privProperties.getProperty(ut.a.SpeechServiceConnection_Host);oe&&this.privSpeechTranslationConfig.setProperty(ut.a[ut.a.SpeechServiceConnection_Host],oe),this.privConversation=new Tr(this.privSpeechTranslationConfig),this.privConversation.conversationTranslator=this,this.privConversation.joinConversationAsync(C,k,ne,(function(C){C||F.handleError(new Error(F.privErrors.permissionDeniedConnect),M),F.privSpeechTranslationConfig.authorizationToken=C,F.privConversation.startConversationAsync((function(){F.handleCallback(P,M)}),(function(C){F.handleError(C,M)}))}),(function(C){F.handleError(C,M)}))}else"object"===typeof C?(Ie.a.throwIfNullOrUndefined(C,this.privErrors.invalidArgs.replace("{arg}","conversation id")),Ie.a.throwIfNullOrWhitespace(k,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privProperties.setProperty(ut.a.ConversationTranslator_Name,k),this.privConversation=C,this.privConversation.conversationTranslator=this,Ie.a.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedConnect),Ie.a.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privSpeechTranslationConfig=C.config,this.handleCallback(O,P)):this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","invalid conversation type")),P)}catch(se){this.handleError(se,"string"===typeof O?M:P)}}},{key:"leaveConversationAsync",value:function leaveConversationAsync(C,k){var O=this;Object(de.b)(ConversationTranslator_awaiter(O,void 0,void 0,pe.a.mark((function _callee5(){return pe.a.wrap((function _callee5$(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.cancelSpeech();case 2:return C.next=4,this.privConversation.endConversationImplAsync();case 4:return C.next=6,this.privConversation.deleteConversationImplAsync();case 6:this.dispose();case 7:case"end":return C.stop()}}),_callee5,this)}))),C,k)}},{key:"sendTextMessageAsync",value:function sendTextMessageAsync(C,k,O){var P;try{Ie.a.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),Ie.a.throwIfNullOrWhitespace(C,this.privErrors.invalidArgs.replace("{arg}",C)),null===(P=this.privConversation)||void 0===P||P.sendTextMessageAsync(C,k,O)}catch(M){this.handleError(M,O)}}},{key:"startTranscribingAsync",value:function startTranscribingAsync(C,k){var O=this;Object(de.b)(ConversationTranslator_awaiter(O,void 0,void 0,pe.a.mark((function _callee6(){return pe.a.wrap((function _callee6$(C){for(;;)switch(C.prev=C.next){case 0:if(C.prev=0,Ie.a.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),Ie.a.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),void 0!==this.privCTRecognizer){C.next=6;break}return C.next=6,this.connectTranslatorRecognizer();case 6:return Ie.a.throwIfNullOrUndefined(this.privCTRecognizer,this.privErrors.permissionDeniedSend),this.canSpeak||this.handleError(new Error(this.privErrors.permissionDeniedSend),k),C.next=10,this.startContinuousRecognition();case 10:this.privIsSpeaking=!0,C.next=19;break;case 13:return C.prev=13,C.t0=C.catch(0),this.privIsSpeaking=!1,C.next=18,this.cancelSpeech();case 18:throw C.t0;case 19:case"end":return C.stop()}}),_callee6,this,[[0,13]])}))),C,k)}},{key:"stopTranscribingAsync",value:function stopTranscribingAsync(C,k){var O=this;Object(de.b)(ConversationTranslator_awaiter(O,void 0,void 0,pe.a.mark((function _callee7(){var C=this;return pe.a.wrap((function _callee7$(k){for(;;)switch(k.prev=k.next){case 0:if(k.prev=0,this.privIsSpeaking){k.next=5;break}return k.next=4,this.cancelSpeech();case 4:return k.abrupt("return");case 5:return this.privIsSpeaking=!1,k.next=8,new Promise((function(k,O){var P;null===(P=C.privCTRecognizer)||void 0===P||P.stopContinuousRecognitionAsync(k,O)}));case 8:k.next=14;break;case 10:return k.prev=10,k.t0=k.catch(0),k.next=14,this.cancelSpeech();case 14:case"end":return k.stop()}}),_callee7,this,[[0,10]])}))),C,k)}},{key:"isDisposed",value:function isDisposed(){return this.privIsDisposed}},{key:"dispose",value:function dispose(C,k,O){var P=this;Object(de.b)(ConversationTranslator_awaiter(P,void 0,void 0,pe.a.mark((function _callee8(){var C,k;return pe.a.wrap((function _callee8$(O){for(;;)switch(O.prev=O.next){case 0:if(!this.isDisposed||this.privIsSpeaking){O.next=2;break}return O.abrupt("return");case 2:return O.next=4,this.cancelSpeech();case 4:this.privIsDisposed=!0,null===(C=this.privSpeechTranslationConfig)||void 0===C||C.close(),this.privSpeechRecognitionLanguage=void 0,this.privProperties=void 0,this.privAudioConfig=void 0,this.privSpeechTranslationConfig=void 0,null===(k=this.privConversation)||void 0===k||k.dispose(),this.privConversation=void 0;case 12:case"end":return O.stop()}}),_callee8,this)}))),k,O)}},{key:"cancelSpeech",value:function cancelSpeech(){var C;return ConversationTranslator_awaiter(this,void 0,void 0,pe.a.mark((function _callee9(){return pe.a.wrap((function _callee9$(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,this.privIsSpeaking=!1,k.next=4,null===(C=this.privCTRecognizer)||void 0===C?void 0:C.onDisconnection();case 4:this.privCTRecognizer=void 0,k.next=9;break;case 7:k.prev=7,k.t0=k.catch(0);case 9:case"end":return k.stop()}}),_callee9,this,[[0,7]])})))}},{key:"connectTranslatorRecognizer",value:function connectTranslatorRecognizer(){return ConversationTranslator_awaiter(this,void 0,void 0,pe.a.mark((function _callee10(){var C,k,O;return pe.a.wrap((function _callee10$(P){for(;;)switch(P.prev=P.next){case 0:P.prev=0,void 0===this.privAudioConfig&&(this.privAudioConfig=Fe.fromDefaultMicrophoneInput()),this.privSpeechTranslationConfig.getProperty(ut.a[ut.a.SpeechServiceConnection_Key])===this.privPlaceholderKey&&this.privSpeechTranslationConfig.setProperty(ut.a[ut.a.SpeechServiceConnection_Key],""),C=encodeURIComponent(this.privConversation.room.token),k=(k=this.privSpeechTranslationConfig.getProperty(ut.a[ut.a.SpeechServiceConnection_Host],Nn.speechHost)).replace("{region}",this.privConversation.room.cognitiveSpeechRegion),O="wss://".concat(k).concat(Nn.speechPath,"?").concat(Nn.configParams.token,"=").concat(C),this.privSpeechTranslationConfig.setProperty(ut.a[ut.a.SpeechServiceConnection_Endpoint],O),this.privCTRecognizer=new Dr(this.privSpeechTranslationConfig,this.privAudioConfig,this),P.next=16;break;case 11:return P.prev=11,P.t0=P.catch(0),P.next=15,this.cancelSpeech();case 15:throw P.t0;case 16:case"end":return P.stop()}}),_callee10,this,[[0,11]])})))}},{key:"startContinuousRecognition",value:function startContinuousRecognition(){var C=this;return new Promise((function(k,O){C.privCTRecognizer.startContinuousRecognitionAsync(k,O)}))}},{key:"canSpeak",get:function get(){return!(!this.privConversation.isConnected||!this.privCTRecognizer)&&(!this.privIsSpeaking&&this.privCTRecognizer.state!==wr.Connected&&this.privCTRecognizer.state!==wr.Connecting&&!this.privConversation.isMutedByHost)}}]),ConversationTranslator}(jr),Nr=O(689),Lr=O(690),TranscriberRecognizer_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},zr=function(C){Object(P.a)(TranscriberRecognizer,C);var k=Object(M.a)(TranscriberRecognizer);function TranscriberRecognizer(C,O){var P;Object(F.a)(this,TranscriberRecognizer);var M=C;return Ie.a.throwIfNull(M,"speechTranslationConfig"),Ie.a.throwIfNullOrWhitespace(M.speechRecognitionLanguage,ut.a[ut.a.SpeechServiceConnection_RecoLanguage]),(P=k.call(this,O,M.properties,new Nr.a)).privDisposedRecognizer=!1,P}return Object(ne.a)(TranscriberRecognizer,[{key:"getConversationInfo",value:function getConversationInfo(){return Ie.a.throwIfNullOrUndefined(this.privConversation,"Conversation"),this.privConversation.conversationInfo}},{key:"authorizationToken",get:function get(){return this.properties.getProperty(ut.a.SpeechServiceAuthorization_Token)},set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"token"),this.properties.setProperty(ut.a.SpeechServiceAuthorization_Token,C)}},{key:"conversation",set:function set(C){Ie.a.throwIfNullOrUndefined(C,"Conversation"),this.privConversation=C}},{key:"speechRecognitionLanguage",get:function get(){return Ie.a.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(ut.a.SpeechServiceConnection_RecoLanguage)}},{key:"properties",get:function get(){return this.privProperties}},{key:"startContinuousRecognitionAsync",value:function startContinuousRecognitionAsync(C,k){Object(de.b)(this.startContinuousRecognitionAsyncImpl(ve.c.Conversation),C,k)}},{key:"stopContinuousRecognitionAsync",value:function stopContinuousRecognitionAsync(C,k){Object(de.b)(this.stopContinuousRecognitionAsyncImpl(),C,k)}},{key:"close",value:function close(){return TranscriberRecognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee(){return pe.a.wrap((function _callee$(C){for(;;)switch(C.prev=C.next){case 0:if(this.privDisposedRecognizer){C.next=3;break}return C.next=3,this.dispose(!0);case 3:case"end":return C.stop()}}),_callee,this)})))}},{key:"pushConversationEvent",value:function pushConversationEvent(C,k){return TranscriberRecognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee2(){var O;return pe.a.wrap((function _callee2$(P){for(;;)switch(P.prev=P.next){case 0:return O=this.privReco,Ie.a.throwIfNullOrUndefined(O,"serviceRecognizer"),P.next=4,O.sendSpeechEventAsync(C,k);case 4:case"end":return P.stop()}}),_callee2,this)})))}},{key:"connectCallbacks",value:function connectCallbacks(C){this.canceled=function(k,O){C.canceled&&C.canceled(C,O)},this.conversationCanceled=function(k,O){C.conversationCanceled&&C.conversationCanceled(C,O)},this.recognizing=function(k,O){C.transcribing&&C.transcribing(C,O)},this.recognized=function(k,O){C.transcribed&&C.transcribed(C,O)},this.conversationStarted=function(k,O){C.conversationStarted&&C.conversationStarted(C,O)},this.conversationStopped=function(k,O){C.conversationStopped&&C.conversationStopped(C,O)},this.sessionStarted=function(k,O){C.sessionStarted&&C.sessionStarted(C,O)},this.sessionStopped=function(k,O){C.sessionStopped&&C.sessionStopped(C,O)}}},{key:"disconnectCallbacks",value:function disconnectCallbacks(){this.canceled=void 0,this.recognizing=void 0,this.recognized=void 0,this.sessionStarted=void 0,this.sessionStopped=void 0,this.conversationCanceled=void 0,this.conversationStarted=void 0,this.conversationStopped=void 0}},{key:"dispose",value:function dispose(C){var k=this,O=Object.create(null,{dispose:{get:function get(){return Object(bt.a)(Object(St.a)(TranscriberRecognizer.prototype),"dispose",k)}}});return TranscriberRecognizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee3(){return pe.a.wrap((function _callee3$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privDisposedRecognizer){k.next=2;break}return k.abrupt("return");case 2:if(!C){k.next=6;break}return this.privDisposedRecognizer=!0,k.next=6,this.implRecognizerStop();case 6:return k.next=8,O.dispose.call(this,C);case 8:case"end":return k.stop()}}),_callee3,this)})))}},{key:"createRecognizerConfig",value:function createRecognizerConfig(C){return new ve.d(C,this.properties)}},{key:"createServiceRecognizer",value:function createServiceRecognizer(C,k,O,P){var M=O;return new Lr.a(C,k,M,P,this)}}]),TranscriberRecognizer}(yt),ConversationTranscriber_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Br=function(){function ConversationTranscriber(C){Object(F.a)(this,ConversationTranscriber),this.privAudioConfig=C,this.privProperties=new pt.a,this.privRecognizer=void 0,this.privDisposedRecognizer=!1}return Object(ne.a)(ConversationTranscriber,[{key:"joinConversationAsync",value:function joinConversationAsync(C,k,O){var P=C;Ie.a.throwIfNullOrUndefined(P,"Conversation"),this.privRecognizer=new zr(C.config,this.privAudioConfig),Ie.a.throwIfNullOrUndefined(this.privRecognizer,"Recognizer"),this.privRecognizer.connectCallbacks(this),Object(de.b)(P.connectTranscriberRecognizer(this.privRecognizer),k,O)}},{key:"authorizationToken",get:function get(){return this.properties.getProperty(ut.a.SpeechServiceAuthorization_Token)},set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"token"),this.properties.setProperty(ut.a.SpeechServiceAuthorization_Token,C)}},{key:"speechRecognitionLanguage",get:function get(){return Ie.a.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(ut.a.SpeechServiceConnection_RecoLanguage)}},{key:"properties",get:function get(){return this.privProperties}},{key:"startTranscribingAsync",value:function startTranscribingAsync(C,k){this.privRecognizer.startContinuousRecognitionAsync(C,k)}},{key:"stopTranscribingAsync",value:function stopTranscribingAsync(C,k){this.privRecognizer.stopContinuousRecognitionAsync(C,k)}},{key:"leaveConversationAsync",value:function leaveConversationAsync(C,k){var O=this;this.privRecognizer.disconnectCallbacks(),Object(de.b)(ConversationTranscriber_awaiter(O,void 0,void 0,pe.a.mark((function _callee(){return pe.a.wrap((function _callee$(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return");case 1:case"end":return C.stop()}}),_callee)}))),C,k)}},{key:"close",value:function close(C,k){Ie.a.throwIfDisposed(this.privDisposedRecognizer),Object(de.b)(this.dispose(!0),C,k)}},{key:"dispose",value:function dispose(C){return ConversationTranscriber_awaiter(this,void 0,void 0,pe.a.mark((function _callee2(){return pe.a.wrap((function _callee2$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privDisposedRecognizer){k.next=2;break}return k.abrupt("return");case 2:if(!this.privRecognizer){k.next=6;break}return k.next=5,this.privRecognizer.close();case 5:this.privRecognizer=void 0;case 6:C&&(this.privDisposedRecognizer=!0);case 7:case"end":return k.stop()}}),_callee2,this)})))}}]),ConversationTranscriber}(),Fr=O(692),Ur=O(693),qr=O(694),Vr=O(812),Kr=O(571),Hr=O(159);!function(C){C[C.Unknown=0]="Unknown",C[C.Female=1]="Female",C[C.Male=2]="Male"}(_r||(_r={})),function(C){C[C.OnlineNeural=1]="OnlineNeural",C[C.OnlineStandard=2]="OnlineStandard",C[C.OfflineNeural=3]="OfflineNeural",C[C.OfflineStandard=4]="OfflineStandard"}(xr||(xr={}));var Wr,Jr,Gr=function(){function VoiceInfo(C){if(Object(F.a)(this,VoiceInfo),this.privStyleList=[],this.privVoicePath="",C&&(this.privName=C.Name,this.privLocale=C.Locale,this.privShortName=C.ShortName,this.privLocalName=C.LocalName,this.privVoiceType=C.VoiceType.endsWith("Standard")?xr.OnlineStandard:xr.OnlineNeural,this.privGender="Male"===C.Gender?_r.Male:"Female"===C.Gender?_r.Female:_r.Unknown,C.StyleList&&Array.isArray(C.StyleList))){var k,O=Object(se.a)(C.StyleList);try{for(O.s();!(k=O.n()).done;){var P=k.value;this.privStyleList.push(P)}}catch(M){O.e(M)}finally{O.f()}}}return Object(ne.a)(VoiceInfo,[{key:"name",get:function get(){return this.privName}},{key:"locale",get:function get(){return this.privLocale}},{key:"shortName",get:function get(){return this.privShortName}},{key:"localName",get:function get(){return this.privLocalName}},{key:"gender",get:function get(){return this.privGender}},{key:"voiceType",get:function get(){return this.privVoiceType}},{key:"styleList",get:function get(){return this.privStyleList}},{key:"voicePath",get:function get(){return this.privVoicePath}}]),VoiceInfo}(),$r=O(639),Yr=function(C){Object(P.a)(SynthesisVoicesResult,C);var k=Object(M.a)(SynthesisVoicesResult);function SynthesisVoicesResult(C,O){var P;if(Object(F.a)(this,SynthesisVoicesResult),Array.isArray(O)){(P=k.call(this,C,at.a.VoicesListRetrieved,void 0,new pt.a)).privVoices=[];var M,ne=Object(se.a)(O);try{for(ne.s();!(M=ne.n()).done;){var re=M.value;P.privVoices.push(new Gr(re))}}catch(oe){ne.e(oe)}finally{ne.f()}}else P=k.call(this,C,at.a.Canceled,O.errorDetails?O.errorDetails:"Error information unavailable",new pt.a);return Object(Hr.a)(P)}return Object(ne.a)(SynthesisVoicesResult,[{key:"voices",get:function get(){return this.privVoices}}]),SynthesisVoicesResult}($r.a),SpeechSynthesizer_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Qr=function(){function SpeechSynthesizer(C,k){Object(F.a)(this,SpeechSynthesizer);var O=C;Ie.a.throwIfNull(O,"speechConfig"),null!==k&&(this.audioConfig=void 0===k?"undefined"===typeof window?void 0:Fe.fromDefaultSpeakerOutput():k),this.privProperties=O.properties.clone(),this.privDisposed=!1,this.privSynthesizing=!1,this.privConnectionFactory=new Fr.a,this.synthesisRequestQueue=new Vr.a,this.implCommonSynthesizeSetup()}return Object(ne.a)(SpeechSynthesizer,[{key:"authorizationToken",get:function get(){return this.properties.getProperty(ut.a.SpeechServiceAuthorization_Token)},set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"token"),this.properties.setProperty(ut.a.SpeechServiceAuthorization_Token,C)}},{key:"properties",get:function get(){return this.privProperties}},{key:"autoDetectSourceLanguage",get:function get(){return this.properties.getProperty(ut.a.SpeechServiceConnection_AutoDetectSourceLanguages)===ct.AutoDetectSourceLanguagesOpenRangeOptionName}},{key:"buildSsml",value:function buildSsml(C){var k,O=(k={},Object(Te.a)(k,"af-ZA","af-ZA-AdriNeural"),Object(Te.a)(k,"am-ET","am-ET-AmehaNeural"),Object(Te.a)(k,"ar-AE","ar-AE-FatimaNeural"),Object(Te.a)(k,"ar-BH","ar-BH-AliNeural"),Object(Te.a)(k,"ar-DZ","ar-DZ-AminaNeural"),Object(Te.a)(k,"ar-EG","ar-EG-SalmaNeural"),Object(Te.a)(k,"ar-IQ","ar-IQ-BasselNeural"),Object(Te.a)(k,"ar-JO","ar-JO-SanaNeural"),Object(Te.a)(k,"ar-KW","ar-KW-FahedNeural"),Object(Te.a)(k,"ar-LY","ar-LY-ImanNeural"),Object(Te.a)(k,"ar-MA","ar-MA-JamalNeural"),Object(Te.a)(k,"ar-QA","ar-QA-AmalNeural"),Object(Te.a)(k,"ar-SA","ar-SA-HamedNeural"),Object(Te.a)(k,"ar-SY","ar-SY-AmanyNeural"),Object(Te.a)(k,"ar-TN","ar-TN-HediNeural"),Object(Te.a)(k,"ar-YE","ar-YE-MaryamNeural"),Object(Te.a)(k,"bg-BG","bg-BG-BorislavNeural"),Object(Te.a)(k,"bn-BD","bn-BD-NabanitaNeural"),Object(Te.a)(k,"ca-ES","ca-ES-JoanaNeural"),Object(Te.a)(k,"cs-CZ","cs-CZ-AntoninNeural"),Object(Te.a)(k,"cy-GB","cy-GB-AledNeural"),Object(Te.a)(k,"da-DK","da-DK-ChristelNeural"),Object(Te.a)(k,"de-AT","de-AT-IngridNeural"),Object(Te.a)(k,"de-CH","de-CH-JanNeural"),Object(Te.a)(k,"de-DE","de-DE-KatjaNeural"),Object(Te.a)(k,"el-GR","el-GR-AthinaNeural"),Object(Te.a)(k,"en-AU","en-AU-NatashaNeural"),Object(Te.a)(k,"en-CA","en-CA-ClaraNeural"),Object(Te.a)(k,"en-GB","en-GB-LibbyNeural"),Object(Te.a)(k,"en-HK","en-HK-SamNeural"),Object(Te.a)(k,"en-IE","en-IE-ConnorNeural"),Object(Te.a)(k,"en-IN","en-IN-NeerjaNeural"),Object(Te.a)(k,"en-KE","en-KE-AsiliaNeural"),Object(Te.a)(k,"en-NG","en-NG-AbeoNeural"),Object(Te.a)(k,"en-NZ","en-NZ-MitchellNeural"),Object(Te.a)(k,"en-PH","en-PH-JamesNeural"),Object(Te.a)(k,"en-SG","en-SG-LunaNeural"),Object(Te.a)(k,"en-TZ","en-TZ-ElimuNeural"),Object(Te.a)(k,"en-US","en-US-JennyNeural"),Object(Te.a)(k,"en-ZA","en-ZA-LeahNeural"),Object(Te.a)(k,"es-AR","es-AR-ElenaNeural"),Object(Te.a)(k,"es-BO","es-BO-MarceloNeural"),Object(Te.a)(k,"es-CL","es-CL-CatalinaNeural"),Object(Te.a)(k,"es-CO","es-CO-GonzaloNeural"),Object(Te.a)(k,"es-CR","es-CR-JuanNeural"),Object(Te.a)(k,"es-CU","es-CU-BelkysNeural"),Object(Te.a)(k,"es-DO","es-DO-EmilioNeural"),Object(Te.a)(k,"es-EC","es-EC-AndreaNeural"),Object(Te.a)(k,"es-ES","es-ES-AlvaroNeural"),Object(Te.a)(k,"es-GQ","es-GQ-JavierNeural"),Object(Te.a)(k,"es-GT","es-GT-AndresNeural"),Object(Te.a)(k,"es-HN","es-HN-CarlosNeural"),Object(Te.a)(k,"es-MX","es-MX-DaliaNeural"),Object(Te.a)(k,"es-NI","es-NI-FedericoNeural"),Object(Te.a)(k,"es-PA","es-PA-MargaritaNeural"),Object(Te.a)(k,"es-PE","es-PE-AlexNeural"),Object(Te.a)(k,"es-PR","es-PR-KarinaNeural"),Object(Te.a)(k,"es-PY","es-PY-MarioNeural"),Object(Te.a)(k,"es-SV","es-SV-LorenaNeural"),Object(Te.a)(k,"es-US","es-US-AlonsoNeural"),Object(Te.a)(k,"es-UY","es-UY-MateoNeural"),Object(Te.a)(k,"es-VE","es-VE-PaolaNeural"),Object(Te.a)(k,"et-EE","et-EE-AnuNeural"),Object(Te.a)(k,"fa-IR","fa-IR-DilaraNeural"),Object(Te.a)(k,"fi-FI","fi-FI-SelmaNeural"),Object(Te.a)(k,"fil-PH","fil-PH-AngeloNeural"),Object(Te.a)(k,"fr-BE","fr-BE-CharlineNeural"),Object(Te.a)(k,"fr-CA","fr-CA-SylvieNeural"),Object(Te.a)(k,"fr-CH","fr-CH-ArianeNeural"),Object(Te.a)(k,"fr-FR","fr-FR-DeniseNeural"),Object(Te.a)(k,"ga-IE","ga-IE-ColmNeural"),Object(Te.a)(k,"gl-ES","gl-ES-RoiNeural"),Object(Te.a)(k,"gu-IN","gu-IN-DhwaniNeural"),Object(Te.a)(k,"he-IL","he-IL-AvriNeural"),Object(Te.a)(k,"hi-IN","hi-IN-MadhurNeural"),Object(Te.a)(k,"hr-HR","hr-HR-GabrijelaNeural"),Object(Te.a)(k,"hu-HU","hu-HU-NoemiNeural"),Object(Te.a)(k,"id-ID","id-ID-ArdiNeural"),Object(Te.a)(k,"it-IT","it-IT-IsabellaNeural"),Object(Te.a)(k,"ja-JP","ja-JP-NanamiNeural"),Object(Te.a)(k,"jv-ID","jv-ID-DimasNeural"),Object(Te.a)(k,"km-KH","km-KH-PisethNeural"),Object(Te.a)(k,"ko-KR","ko-KR-SunHiNeural"),Object(Te.a)(k,"lt-LT","lt-LT-LeonasNeural"),Object(Te.a)(k,"lv-LV","lv-LV-EveritaNeural"),Object(Te.a)(k,"mr-IN","mr-IN-AarohiNeural"),Object(Te.a)(k,"ms-MY","ms-MY-OsmanNeural"),Object(Te.a)(k,"mt-MT","mt-MT-GraceNeural"),Object(Te.a)(k,"my-MM","my-MM-NilarNeural"),Object(Te.a)(k,"nb-NO","nb-NO-PernilleNeural"),Object(Te.a)(k,"nl-BE","nl-BE-ArnaudNeural"),Object(Te.a)(k,"nl-NL","nl-NL-ColetteNeural"),Object(Te.a)(k,"pl-PL","pl-PL-AgnieszkaNeural"),Object(Te.a)(k,"pt-BR","pt-BR-FranciscaNeural"),Object(Te.a)(k,"pt-PT","pt-PT-DuarteNeural"),Object(Te.a)(k,"ro-RO","ro-RO-AlinaNeural"),Object(Te.a)(k,"ru-RU","ru-RU-SvetlanaNeural"),Object(Te.a)(k,"sk-SK","sk-SK-LukasNeural"),Object(Te.a)(k,"sl-SI","sl-SI-PetraNeural"),Object(Te.a)(k,"so-SO","so-SO-MuuseNeural"),Object(Te.a)(k,"su-ID","su-ID-JajangNeural"),Object(Te.a)(k,"sv-SE","sv-SE-SofieNeural"),Object(Te.a)(k,"sw-KE","sw-KE-RafikiNeural"),Object(Te.a)(k,"sw-TZ","sw-TZ-DaudiNeural"),Object(Te.a)(k,"ta-IN","ta-IN-PallaviNeural"),Object(Te.a)(k,"ta-LK","ta-LK-KumarNeural"),Object(Te.a)(k,"ta-SG","ta-SG-AnbuNeural"),Object(Te.a)(k,"te-IN","te-IN-MohanNeural"),Object(Te.a)(k,"th-TH","th-TH-PremwadeeNeural"),Object(Te.a)(k,"tr-TR","tr-TR-AhmetNeural"),Object(Te.a)(k,"uk-UA","uk-UA-OstapNeural"),Object(Te.a)(k,"ur-IN","ur-IN-GulNeural"),Object(Te.a)(k,"ur-PK","ur-PK-AsadNeural"),Object(Te.a)(k,"uz-UZ","uz-UZ-MadinaNeural"),Object(Te.a)(k,"vi-VN","vi-VN-HoaiMyNeural"),Object(Te.a)(k,"zh-CN","zh-CN-XiaoxiaoNeural"),Object(Te.a)(k,"zh-HK","zh-HK-HiuMaanNeural"),Object(Te.a)(k,"zh-TW","zh-TW-HsiaoChenNeural"),Object(Te.a)(k,"zu-ZA","zu-ZA-ThandoNeural"),k),P=this.properties.getProperty(ut.a.SpeechServiceConnection_SynthLanguage,"en-US"),M=this.properties.getProperty(ut.a.SpeechServiceConnection_SynthVoice,""),F=SpeechSynthesizer.XMLEncode(C);return this.autoDetectSourceLanguage?P="en-US":M=M||O[P],M&&(F="<voice name='".concat(M,"'>").concat(F,"</voice>")),F="<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='".concat(P,"'>").concat(F,"</speak>")}},{key:"speakTextAsync",value:function speakTextAsync(C,k,O,P){this.speakImpl(C,!1,k,O,P)}},{key:"speakSsmlAsync",value:function speakSsmlAsync(C,k,O,P){this.speakImpl(C,!0,k,O,P)}},{key:"getVoicesAsync",value:function getVoicesAsync(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return SpeechSynthesizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee(){return pe.a.wrap((function _callee$(k){for(;;)switch(k.prev=k.next){case 0:return k.abrupt("return",this.getVoices(C));case 1:case"end":return k.stop()}}),_callee,this)})))}},{key:"close",value:function close(C,k){Ie.a.throwIfDisposed(this.privDisposed),Object(de.b)(this.dispose(!0),C,k)}},{key:"internalData",get:function get(){return this.privAdapter}},{key:"dispose",value:function dispose(C){return SpeechSynthesizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee2(){return pe.a.wrap((function _callee2$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privDisposed){k.next=2;break}return k.abrupt("return");case 2:if(!C){k.next=6;break}if(!this.privAdapter){k.next=6;break}return k.next=6,this.privAdapter.dispose();case 6:this.privDisposed=!0;case 7:case"end":return k.stop()}}),_callee2,this)})))}},{key:"createSynthesizerConfig",value:function createSynthesizerConfig(C){return new Ur.a(C,this.privProperties)}},{key:"createSynthesisAdapter",value:function createSynthesisAdapter(C,k,O,P){return new je.a(C,k,P,this,this.audioConfig)}},{key:"implCommonSynthesizeSetup",value:function implCommonSynthesizeSetup(){var C=this,k="undefined"!==typeof window?"Browser":"Node",O="unknown",P="unknown";"undefined"!==typeof navigator&&(k=k+"/"+navigator.platform,O=navigator.userAgent,P=navigator.appVersion);var M=this.createSynthesizerConfig(new ve.e(new ve.a(new ve.b(k,O,P)))),F=this.privProperties.getProperty(ut.a.SpeechServiceConnection_Key,void 0),ne=F&&""!==F?new gt.a(F):new mt.a((function(k){var O=C.privProperties.getProperty(ut.a.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(O)}),(function(k){var O=C.privProperties.getProperty(ut.a.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(O)}));this.privAdapter=this.createSynthesisAdapter(ne,this.privConnectionFactory,this.audioConfig,M),this.privAdapter.audioOutputFormat=Kr.a.fromSpeechSynthesisOutputFormat(vt.a[this.properties.getProperty(ut.a.SpeechServiceConnection_SynthOutputFormat,void 0)]),this.privRestAdapter=new qr.a(M)}},{key:"speakImpl",value:function speakImpl(C,k,O,P,M){var F=this;try{Ie.a.throwIfDisposed(this.privDisposed);var ne,re=Object(me.b)();ne=M instanceof Le?new De.e(M):M instanceof De.b?M:void 0!==M?new Be(M):void 0,this.synthesisRequestQueue.enqueue(new Xr(re,C,k,(function(C){if(F.privSynthesizing=!1,O)try{O(C)}catch(C){P&&P(C)}O=void 0,F.adapterSpeak().catch((function(){}))}),(function(C){P&&P(C)}),ne)),this.adapterSpeak().catch((function(){}))}catch(se){if(P)if(se instanceof Error){var oe=se;P(oe.name+": "+oe.message)}else P(se);this.dispose(!0).catch((function(){}))}}},{key:"getVoices",value:function getVoices(C){return SpeechSynthesizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee3(){var k,O,P;return pe.a.wrap((function _callee3$(M){for(;;)switch(M.prev=M.next){case 0:return k=Object(me.b)(),M.next=3,this.privRestAdapter.getVoicesList(k);case 3:if(!(O=M.sent).ok||!Array.isArray(O.json)){M.next=10;break}return P=O.json,C&&C.length>0&&(P=P.filter((function(k){return!!k.Locale&&k.Locale.toLowerCase()===C.toLowerCase()}))),M.abrupt("return",new Yr(k,P));case 10:return M.abrupt("return",new Yr(k,{errorDetails:"Error: ".concat(O.status,": ").concat(O.statusText)}));case 11:case"end":return M.stop()}}),_callee3,this)})))}},{key:"adapterSpeak",value:function adapterSpeak(){return SpeechSynthesizer_awaiter(this,void 0,void 0,pe.a.mark((function _callee4(){var C;return pe.a.wrap((function _callee4$(k){for(;;)switch(k.prev=k.next){case 0:if(this.privDisposed||this.privSynthesizing){k.next=6;break}return this.privSynthesizing=!0,k.next=4,this.synthesisRequestQueue.dequeue();case 4:return C=k.sent,k.abrupt("return",this.privAdapter.Speak(C.text,C.isSSML,C.requestId,C.cb,C.err,C.dataStream));case 6:case"end":return k.stop()}}),_callee4,this)})))}}],[{key:"FromConfig",value:function FromConfig(C,k,O){var P=C;return k.properties.mergeTo(P.properties),new SpeechSynthesizer(C,O)}},{key:"XMLEncode",value:function XMLEncode(C){return C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}}]),SpeechSynthesizer}(),Xr=function SynthesisRequest(C,k,O,P,M,ne){Object(F.a)(this,SynthesisRequest),this.requestId=C,this.text=k,this.isSSML=O,this.cb=P,this.err=M,this.dataStream=ne},Zr=O(638),ei=O(637),ti=O(642),ni=O(643),ri=O(644),ii=O(691);!function(C){C[C.FivePoint=1]="FivePoint",C[C.HundredMark=2]="HundredMark"}(Wr||(Wr={})),function(C){C[C.Phoneme=1]="Phoneme",C[C.Word=2]="Word",C[C.FullText=3]="FullText"}(Jr||(Jr={}));var oi=function(){function PronunciationAssessmentConfig(C){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wr.FivePoint,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jr.Phoneme,P=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(F.a)(this,PronunciationAssessmentConfig),Ie.a.throwIfNullOrUndefined(C,"referenceText"),this.privProperties=new pt.a,this.privProperties.setProperty(ut.a.PronunciationAssessment_ReferenceText,C),this.privProperties.setProperty(ut.a.PronunciationAssessment_GradingSystem,Wr[k]),this.privProperties.setProperty(ut.a.PronunciationAssessment_Granularity,Jr[O]),this.privProperties.setProperty(ut.a.PronunciationAssessment_EnableMiscue,String(P))}return Object(ne.a)(PronunciationAssessmentConfig,[{key:"toJSON",value:function toJSON(){return this.updateJson(),this.privProperties.getProperty(ut.a.PronunciationAssessment_Params)}},{key:"applyTo",value:function applyTo(C){this.updateJson(),C.internalData.speechContext.setPronunciationAssessmentParams(this.properties.getProperty(ut.a.PronunciationAssessment_Params))}},{key:"referenceText",get:function get(){return this.properties.getProperty(ut.a.PronunciationAssessment_ReferenceText)},set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"referenceText"),this.properties.setProperty(ut.a.PronunciationAssessment_ReferenceText,C)}},{key:"phonemeAlphabet",set:function set(C){Ie.a.throwIfNullOrWhitespace(C,"phonemeAlphabet"),this.privPhonemeAlphabet=C}},{key:"nbestPhonemeCount",set:function set(C){this.privNBestPhonemeCount=C}},{key:"properties",get:function get(){return this.privProperties}},{key:"updateJson",value:function updateJson(){var C=this.privProperties.getProperty(ut.a.PronunciationAssessment_Json,"{}"),k=JSON.parse(C),O=this.privProperties.getProperty(ut.a.PronunciationAssessment_ReferenceText);O&&(k.referenceText=O);var P=this.privProperties.getProperty(ut.a.PronunciationAssessment_GradingSystem);P&&(k.gradingSystem=P);var M=this.privProperties.getProperty(ut.a.PronunciationAssessment_Granularity);M&&(k.granularity=M),this.privPhonemeAlphabet&&(k.phonemeAlphabet=this.privPhonemeAlphabet),this.privNBestPhonemeCount&&(k.nbestPhonemeCount=this.privNBestPhonemeCount),k.dimension="Comprehensive";var F=this.privProperties.getProperty(ut.a.PronunciationAssessment_EnableMiscue);"true"===F?k.enableMiscue=!0:"false"===F&&(k.enableMiscue=!1),this.privProperties.setProperty(ut.a.PronunciationAssessment_Params,JSON.stringify(k))}}],[{key:"fromJSON",value:function fromJSON(C){Ie.a.throwIfNullOrUndefined(C,"json");var k=new PronunciationAssessmentConfig("");return k.privProperties=new pt.a,k.properties.setProperty(ut.a.PronunciationAssessment_Json,C),k}}]),PronunciationAssessmentConfig}(),ai=function(){function PronunciationAssessmentResult(C){Object(F.a)(this,PronunciationAssessmentResult);var k=JSON.parse(C);Ie.a.throwIfNullOrUndefined(k.NBest[0],"NBest"),this.privPronJson=k.NBest[0]}return Object(ne.a)(PronunciationAssessmentResult,[{key:"detailResult",get:function get(){return this.privPronJson}},{key:"accuracyScore",get:function get(){return this.detailResult.PronunciationAssessment.AccuracyScore}},{key:"pronunciationScore",get:function get(){return this.detailResult.PronunciationAssessment.PronScore}},{key:"completenessScore",get:function get(){return this.detailResult.PronunciationAssessment.CompletenessScore}},{key:"fluencyScore",get:function get(){return this.detailResult.PronunciationAssessment.FluencyScore}}],[{key:"fromResult",value:function fromResult(C){Ie.a.throwIfNullOrUndefined(C,"result");var k=C.properties.getProperty(ut.a.SpeechServiceResponse_JsonResult);return Ie.a.throwIfNullOrUndefined(k,"json"),new PronunciationAssessmentResult(k)}}]),PronunciationAssessmentResult}()},,,,function(C,k){C.exports.MEDIA_DEVICE_KINDS=["audioinput","videoinput","audiooutput","videooutput"],C.exports.AUDIO_TRACK_KIND="audio",C.exports.VIDEO_TRACK_KIND="video",C.exports.GENERIC_AUDIO_DEVICE_KIND="audio",C.exports.GENERIC_VIDEO_DEVICE_KIND="video",C.exports.GENERIC_INPUT_DEVICE_KIND="input",C.exports.GENERIC_OUTPUT_DEVICE_KIND="output"},,,function(C,k,O){"use strict";O.d(k,"a",(function(){return qe})),O.d(k,"b",(function(){return Ue})),O.d(k,"c",(function(){return Ae})),O.d(k,"d",(function(){return _objectSpread2})),O.d(k,"e",(function(){return _defineProperty})),O.d(k,"f",(function(){return touchIds})),O.d(k,"g",(function(){return chain})),O.d(k,"h",(function(){return toHandlerProp})),O.d(k,"i",(function(){return Ve})),O.d(k,"j",(function(){return Ke})),O.d(k,"k",(function(){return isTouch})),O.d(k,"l",(function(){return He})),O.d(k,"m",(function(){return We})),O.d(k,"n",(function(){return registerAction})),O.d(k,"o",(function(){return Je})),O.d(k,"p",(function(){return toDomEventType})),O.d(k,"q",(function(){return Ge}));var P=O(45),M=O(14),F=O(24),ne=O(17),re=O(5),oe=O(6),se=O(155),ue=O(3),pe=O(4),ve=O(75),de=O(153),he=O(555);function _defineProperty(C,k,O){return k in C?Object.defineProperty(C,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):C[k]=O,C}function ownKeys(C,k){var O=Object.keys(C);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(C);k&&(P=P.filter((function(k){return Object.getOwnPropertyDescriptor(C,k).enumerable}))),O.push.apply(O,P)}return O}function _objectSpread2(C){for(var k=1;k<arguments.length;k++){var O=null!=arguments[k]?arguments[k]:{};k%2?ownKeys(Object(O),!0).forEach((function(k){_defineProperty(C,k,O[k])})):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(O)):ownKeys(Object(O)).forEach((function(k){Object.defineProperty(C,k,Object.getOwnPropertyDescriptor(O,k))}))}return C}var fe={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function capitalize(C){return C?C[0].toUpperCase()+C.slice(1):""}function toHandlerProp(C){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",O=arguments.length>2&&void 0!==arguments[2]&&arguments[2],P=fe[C],M=P&&P[k]||k;return"on"+capitalize(C)+capitalize(M)+(O?"Capture":"")}function toDomEventType(C){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",O=fe[C],P=O&&O[k]||k;return C+P}function isTouch(C){return"touches"in C}function getValueEvent(C){return isTouch(C)?function getTouchList(C){return"touchend"===C.type?C.changedTouches:C.targetTouches}(C)[0]:C}function distanceAngle(C,k){var O=k.clientX-C.clientX,P=k.clientY-C.clientY,M=(k.clientX+C.clientX)/2,F=(k.clientY+C.clientY)/2,ne=Math.hypot(O,P);return{angle:-180*Math.atan2(O,P)/Math.PI,distance:ne,origin:[M,F]}}function touchIds(C){return function getCurrentTargetTouchList(C){return Array.from(C.touches).filter((function(k){var O,P;return k.target===C.currentTarget||(null===(O=C.currentTarget)||void 0===O||null===(P=O.contains)||void 0===P?void 0:P.call(O,k.target))}))}(C).map((function(C){return C.identifier}))}function touchDistanceAngle(C,k){var O=Array.from(C.touches).filter((function(C){return k.includes(C.identifier)})),P=Object(de.a)(O,2);return distanceAngle(P[0],P[1])}function pointerId(C){var k=getValueEvent(C);return isTouch(C)?k.identifier:k.pointerId}function pointerValues(C){var k=getValueEvent(C);return[k.clientX,k.clientY]}function wheelValues(C){var k=C.deltaX,O=C.deltaY,P=C.deltaMode;return 1===P?(k*=40,O*=40):2===P&&(k*=800,O*=800),[k,O]}function call(C){if("function"===typeof C){for(var k=arguments.length,O=new Array(k>1?k-1:0),P=1;P<k;P++)O[P-1]=arguments[P];return C.apply(void 0,O)}return C}function noop(){}function chain(){for(var C=arguments.length,k=new Array(C),O=0;O<C;O++)k[O]=arguments[O];return 0===k.length?noop:1===k.length?k[0]:function(){var C,O,P=Object(ve.a)(k);try{for(P.s();!(O=P.n()).done;){var M=O.value;C=M.apply(this,arguments)||C}}catch(F){P.e(F)}finally{P.f()}return C}}function assignDefault(C,k){return Object.assign({},k,C||{})}var ge=function(){function Engine(C,k,O){Object(ue.a)(this,Engine),this.ctrl=C,this.args=k,this.key=O,this.state||(this.state={values:[0,0],initial:[0,0]},this.init&&this.init(),this.reset())}return Object(pe.a)(Engine,[{key:"state",get:function get(){return this.ctrl.state[this.key]},set:function set(C){this.ctrl.state[this.key]=C}},{key:"shared",get:function get(){return this.ctrl.state.shared}},{key:"eventStore",get:function get(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function get(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function get(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function get(){return this.ctrl.config.shared}},{key:"handler",get:function get(){return this.ctrl.handlers[this.key]}},{key:"reset",value:function reset(){var C=this.state,k=this.shared,O=this.config,P=this.ingKey,M=this.args,F=O.transform,ne=O.threshold;k[P]=C._active=C.active=C._blocked=C._force=!1,C._step=[!1,!1],C.intentional=!1,C._movement=[0,0],C._distance=[0,0],C._delta=[0,0],C._threshold=he.a.sub(F(ne),F([0,0])).map(Math.abs),C._bounds=[[-1/0,1/0],[-1/0,1/0]],C.args=M,C.axis=void 0,C.memo=void 0,C.elapsedTime=0,C.direction=[0,0],C.distance=[0,0],C.velocity=[0,0],C.movement=[0,0],C.delta=[0,0],C.timeStamp=0}},{key:"start",value:function start(C){var k=this.state,O=this.config;k._active||(this.reset(),k._active=!0,k.target=C.target,k.currentTarget=C.currentTarget,k.initial=k.values,k.lastOffset=O.from?call(O.from,k):k.offset,k.offset=k.lastOffset),k.startTime=k.timeStamp=C.timeStamp}},{key:"compute",value:function compute(C){var k=this.state,O=this.config,P=this.shared;k.args=this.args;var M=0;if(C&&(k.event=C,O.preventDefault&&C.cancelable&&k.event.preventDefault(),k.type=C.type,P.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,P.locked=!!document.pointerLockElement,Object.assign(P,function getEventDetails(C){var k={};if("buttons"in C&&(k.buttons=C.buttons),"shiftKey"in C){var O=C.shiftKey,P=C.altKey,M=C.metaKey,F=C.ctrlKey;Object.assign(k,{shiftKey:O,altKey:P,metaKey:M,ctrlKey:F})}return k}(C)),P.down=P.pressed=P.buttons%2===1||P.touches>0,M=C.timeStamp-k.timeStamp,k.timeStamp=C.timeStamp,k.elapsedTime=k.timeStamp-k.startTime),k._active){var F=k._delta.map(Math.abs);he.a.addTo(k._distance,F)}var ne=O.transform(k._movement),re=Object(de.a)(ne,2),oe=re[0],se=re[1],ue=Object(de.a)(k._threshold,2),pe=ue[0],ve=ue[1],fe=Object(de.a)(k._step,2),ge=fe[0],me=fe[1];if(!1===ge&&(ge=Math.abs(oe)>=pe&&Math.sign(oe)*pe),!1===me&&(me=Math.abs(se)>=ve&&Math.sign(se)*ve),k.intentional=!1!==ge||!1!==me,k.intentional){k._step=[ge,me];var ye=[0,0];if(ye[0]=!1!==ge?oe-ge:0,ye[1]=!1!==me?se-me:0,this.intent&&this.intent(ye),(k._active&&!k._blocked||k.active)&&(k.first=k._active&&!k.active,k.last=!k._active&&k.active,k.active=P[this.ingKey]=k._active,C)){k.first&&("bounds"in O&&(k._bounds=call(O.bounds,k)),this.setup&&this.setup()),k.movement=ye;var be=k.offset;if(this.computeOffset(),!k.last||M>32){k.delta=he.a.sub(k.offset,be);var ke=k.delta.map(Math.abs);he.a.addTo(k.distance,ke),k.direction=k.delta.map(Math.sign),!k.first&&M>0&&(k.velocity=[ke[0]/M,ke[1]/M])}}var Oe=k._active&&O.rubberband||[0,0];k.offset=Object(he.b)(k._bounds,k.offset,Oe),this.computeMovement()}}},{key:"emit",value:function emit(){var C=this.state,k=this.shared,O=this.config;if(C._active||this.clean(),!C._blocked&&C.intentional||C._force||O.triggerAllEvents){var P=this.handler(_objectSpread2(_objectSpread2(_objectSpread2({},k),C),{},Object(se.a)({},this.aliasKey,C.values)));void 0!==P&&(C.memo=P)}}},{key:"clean",value:function clean(){this.eventStore.clean(),this.timeoutStore.clean()}}]),Engine}();var me=function(C){Object(re.a)(CoordinatesEngine,C);var k=Object(oe.a)(CoordinatesEngine);function CoordinatesEngine(){var C;Object(ue.a)(this,CoordinatesEngine);for(var O=arguments.length,P=new Array(O),F=0;F<O;F++)P[F]=arguments[F];return C=k.call.apply(k,[this].concat(P)),_defineProperty(Object(M.a)(C),"aliasKey","xy"),C}return Object(pe.a)(CoordinatesEngine,[{key:"reset",value:function reset(){Object(F.a)(Object(ne.a)(CoordinatesEngine.prototype),"reset",this).call(this),this.state.axis=void 0}},{key:"init",value:function init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}},{key:"computeOffset",value:function computeOffset(){this.state.offset=he.a.add(this.state.lastOffset,this.state.movement)}},{key:"computeMovement",value:function computeMovement(){this.state.movement=he.a.sub(this.state.offset,this.state.lastOffset)}},{key:"intent",value:function intent(C){this.state.axis=this.state.axis||function selectAxis(C){var k=Object(de.a)(C,2),O=k[0],P=k[1],M=Math.abs(O)-Math.abs(P);return M>0?"x":M<0?"y":void 0}(C),this.state._blocked=(this.config.lockDirection||!!this.config.axis)&&!this.state.axis||!!this.config.axis&&this.config.axis!==this.state.axis,this.state._blocked||(this.config.axis||this.config.lockDirection)&&function restrictVectorToAxis(C,k){switch(k){case"x":C[1]=0;break;case"y":C[0]=0}}(C,this.state.axis)}}]),CoordinatesEngine}(ge),ye=.15,be={enabled:function enabled(){var C=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return C},preventDefault:function preventDefault(){var C=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return C},triggerAllEvents:function triggerAllEvents(){var C=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return C},rubberband:function rubberband(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(C){case!0:return[ye,ye];case!1:return[0,0];default:return he.a.toVector(C)}},from:function from(C){return"function"===typeof C?C:null!=C?he.a.toVector(C):void 0},transform:function transform(C,k,O){return C||O.shared.transform},threshold:function threshold(C){return he.a.toVector(C,0)}};var ke=_objectSpread2(_objectSpread2({},be),{},{axis:function axis(C,k,O){var axis=O.axis;if(this.lockDirection="lock"===axis,!this.lockDirection)return axis},bounds:function bounds(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof C)return function(k){return ke.bounds(C(k))};if("current"in C)return function(){return C.current};if("function"===typeof HTMLElement&&C instanceof HTMLElement)return C;var k=C.left,O=void 0===k?-1/0:k,P=C.right,M=void 0===P?1/0:P,F=C.top,ne=void 0===F?-1/0:F,re=C.bottom,oe=void 0===re?1/0:re;return[[O,M],[ne,oe]]}}),Oe=10,Ee={ArrowRight:function ArrowRight(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[Oe*C,0]},ArrowLeft:function ArrowLeft(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[-10*C,0]},ArrowUp:function ArrowUp(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,-10*C]},ArrowDown:function ArrowDown(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,Oe*C]}},Re=function(C){Object(re.a)(DragEngine,C);var k=Object(oe.a)(DragEngine);function DragEngine(){var C;Object(ue.a)(this,DragEngine);for(var O=arguments.length,P=new Array(O),F=0;F<O;F++)P[F]=arguments[F];return C=k.call.apply(k,[this].concat(P)),_defineProperty(Object(M.a)(C),"ingKey","dragging"),C}return Object(pe.a)(DragEngine,[{key:"reset",value:function reset(){Object(F.a)(Object(ne.a)(DragEngine.prototype),"reset",this).call(this);var C=this.state;C._pointerId=void 0,C._pointerActive=!1,C._keyboardActive=!1,C._preventScroll=!1,C._delayed=!1,C.swipe=[0,0],C.tap=!1,C.canceled=!1,C.cancel=this.cancel.bind(this)}},{key:"setup",value:function setup(){var C=this.state;if(C._bounds instanceof HTMLElement){var k=C._bounds.getBoundingClientRect(),O=C.currentTarget.getBoundingClientRect(),P={left:k.left-O.left+C.offset[0],right:k.right-O.right+C.offset[0],top:k.top-O.top+C.offset[1],bottom:k.bottom-O.bottom+C.offset[1]};C._bounds=ke.bounds(P)}}},{key:"cancel",value:function cancel(){var C=this,k=this.state;k.canceled||(k.canceled=!0,k._active=!1,setTimeout((function(){C.compute(),C.emit()}),0))}},{key:"setActive",value:function setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}},{key:"clean",value:function clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,Object(F.a)(Object(ne.a)(DragEngine.prototype),"clean",this).call(this)}},{key:"pointerDown",value:function pointerDown(C){var k=this.config,O=this.state;(null!=C.buttons&&Array.isArray(k.pointerButtons)?k.pointerButtons.includes(C.buttons):-1===k.pointerButtons||k.pointerButtons===C.buttons)&&(this.ctrl.setEventIds(C),k.pointerCapture&&C.target.setPointerCapture(C.pointerId),O._pointerActive||(this.start(C),this.setupPointer(C),O._pointerId=pointerId(C),O._pointerActive=!0,O.values=pointerValues(C),O.initial=O.values,k.preventScroll?this.setupScrollPrevention(C):k.delay>0?this.setupDelayTrigger(C):this.startPointerDrag(C)))}},{key:"startPointerDrag",value:function startPointerDrag(C){var k=this.state;k._active=!0,k._preventScroll=!0,k._delayed=!1,this.compute(C),this.emit()}},{key:"pointerMove",value:function pointerMove(C){var k=this.state,O=this.config;if(k._pointerActive&&(k.type!==C.type||C.timeStamp!==k.timeStamp)){var P=pointerId(C);if(!k._pointerId||P===k._pointerId){var M=pointerValues(C);return document.pointerLockElement===C.target?k._delta=[C.movementX,C.movementY]:(k._delta=he.a.sub(M,k.values),k.values=M),he.a.addTo(k._movement,k._delta),this.compute(C),k._delayed?(this.timeoutStore.remove("dragDelay"),k.active=!1,void this.startPointerDrag(C)):O.preventScroll&&!k._preventScroll?k.axis?k.axis===O.preventScrollAxis||"xy"===O.preventScrollAxis?(k._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(C)):void 0:void this.emit()}}}},{key:"pointerUp",value:function pointerUp(C){this.ctrl.setEventIds(C);try{this.config.pointerCapture&&C.target.hasPointerCapture(C.pointerId)&&C.target.releasePointerCapture(C.pointerId)}catch(Ie){0}var k=this.state,O=this.config;if(k._pointerActive){var P=pointerId(C);if(!k._pointerId||P===k._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(C);var M=Object(de.a)(k._distance,2),F=M[0],ne=M[1];if(k.tap=F<=3&&ne<=3,k.tap&&O.filterTaps)k._force=!0;else{var re=Object(de.a)(k.direction,2),oe=re[0],se=re[1],ue=Object(de.a)(k.velocity,2),pe=ue[0],ve=ue[1],he=Object(de.a)(k.movement,2),fe=he[0],ge=he[1],me=Object(de.a)(O.swipe.velocity,2),ye=me[0],be=me[1],ke=Object(de.a)(O.swipe.distance,2),Oe=ke[0],Ee=ke[1],Re=O.swipe.duration;k.elapsedTime<Re&&(Math.abs(pe)>ye&&Math.abs(fe)>Oe&&(k.swipe[0]=oe),Math.abs(ve)>be&&Math.abs(ge)>Ee&&(k.swipe[1]=se))}this.emit()}}}},{key:"pointerClick",value:function pointerClick(C){this.state.tap||(C.preventDefault(),C.stopPropagation())}},{key:"setupPointer",value:function setupPointer(C){var k=this.config,O=k.device;k.pointerLock&&C.currentTarget.requestPointerLock(),k.pointerCapture||(this.eventStore.add(this.sharedConfig.window,O,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,O,"end",this.pointerUp.bind(this)))}},{key:"pointerClean",value:function pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}},{key:"preventScroll",value:function preventScroll(C){this.state._preventScroll&&C.cancelable&&C.preventDefault()}},{key:"setupScrollPrevention",value:function setupScrollPrevention(C){!function persistEvent(C){"persist"in C&&"function"===typeof C.persist&&C.persist()}(C),this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","end",this.clean.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","cancel",this.clean.bind(this),{passive:!1}),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScroll,C)}},{key:"setupDelayTrigger",value:function setupDelayTrigger(C){this.state._delayed=!0,this.timeoutStore.add("dragDelay",this.startPointerDrag.bind(this),this.config.delay,C)}},{key:"keyDown",value:function keyDown(C){var k=Ee[C.key],O=this.state;if(k){var P=C.shiftKey?10:C.altKey?.1:1;O._delta=k(P),this.start(C),O._keyboardActive=!0,he.a.addTo(O._movement,O._delta),this.compute(C),this.emit()}}},{key:"keyUp",value:function keyUp(C){C.key in Ee&&(this.state._keyboardActive=!1,this.setActive(),this.compute(C),this.emit())}},{key:"bind",value:function bind(C){var k=this.config.device;C(k,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(C(k,"change",this.pointerMove.bind(this)),C(k,"end",this.pointerUp.bind(this)),C(k,"cancel",this.pointerUp.bind(this))),C("key","down",this.keyDown.bind(this)),C("key","up",this.keyUp.bind(this)),this.config.filterTaps&&C("click","",this.pointerClick.bind(this),{capture:!0})}}]),DragEngine}(me);var Ie="undefined"!==typeof window&&window.document&&window.document.createElement;function supportsTouchEvents(){return Ie&&"ontouchstart"in window}var Ae={isBrowser:Ie,gesture:function supportsGestureEvents(){try{return"constructor"in GestureEvent}catch(C){return!1}}(),touch:supportsTouchEvents(),touchscreen:function isTouchScreen(){return supportsTouchEvents()||Ie&&window.navigator.maxTouchPoints>1}(),pointer:function supportsPointerEvents(){return Ie&&"onpointerdown"in window}(),pointerLock:function supportsPointerLock(){return Ie&&"exitPointerLock"in window.document}()},Pe=_objectSpread2(_objectSpread2({},ke),{},{pointerLock:function pointerLock(C,k,O){var P=O.pointer,M=(P=void 0===P?{}:P).lock,F=void 0!==M&&M,ne=P.touch,re=void 0!==ne&&ne;return this.useTouch=Ae.touch&&re,Ae.pointerLock&&F},device:function device(C,k){return this.useTouch?"touch":this.pointerLock?"mouse":Ae.pointer?"pointer":Ae.touch?"touch":"mouse"},preventScroll:function preventScroll(){var C=arguments.length>0&&void 0!==arguments[0]&&arguments[0],k=arguments.length>2?arguments[2]:void 0,O=k.preventScrollAxis,P=void 0===O?"y":O;return P&&(this.preventScrollAxis=P),!!Ae.touchscreen&&("number"===typeof C?C:!!C&&250)},pointerCapture:function pointerCapture(C,k,O){var P=O.pointer,M=(P=void 0===P?{}:P).capture,F=void 0===M||M,ne=P.buttons,re=void 0===ne?1:ne;return this.pointerButtons=re,!this.pointerLock&&"pointer"===this.device&&F},threshold:function threshold(C,k,O){var P=O.filterTaps,M=void 0!==P&&P,F=O.axis,ne=void 0===F?void 0:F,threshold=he.a.toVector(C,M?3:ne?1:0);return this.filterTaps=M,threshold},swipe:function swipe(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=C.velocity,O=void 0===k?.5:k,P=C.distance,M=void 0===P?50:P,F=C.duration,ne=void 0===F?250:F;return{velocity:this.transform(he.a.toVector(O)),distance:this.transform(he.a.toVector(M)),duration:ne}},delay:function delay(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(C){case!0:return 180;case!1:return 0;default:return C}}});var Te=function(C){Object(re.a)(PinchEngine,C);var k=Object(oe.a)(PinchEngine);function PinchEngine(){var C;Object(ue.a)(this,PinchEngine);for(var O=arguments.length,P=new Array(O),F=0;F<O;F++)P[F]=arguments[F];return C=k.call.apply(k,[this].concat(P)),_defineProperty(Object(M.a)(C),"ingKey","pinching"),_defineProperty(Object(M.a)(C),"aliasKey","da"),C}return Object(pe.a)(PinchEngine,[{key:"init",value:function init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}},{key:"reset",value:function reset(){Object(F.a)(Object(ne.a)(PinchEngine.prototype),"reset",this).call(this);var C=this.state;C._touchIds=[],C.canceled=!1,C.cancel=this.cancel.bind(this),C.turns=0}},{key:"computeOffset",value:function computeOffset(){var C=this.state,k=C.type,O=C.movement,P=C.lastOffset;this.state.offset="wheel"===k?he.a.add(O,P):[(1+O[0])*P[0],O[1]+P[1]]}},{key:"computeMovement",value:function computeMovement(){var C=this.state,k=C.offset,O=C.lastOffset;this.state.movement=[k[0]/O[0],k[1]-O[1]]}},{key:"intent",value:function intent(C){var k=this.state;if(!k.axis){var O=30*Math.abs(C[0])-Math.abs(C[1]);O<0?k.axis="angle":O>0&&(k.axis="scale")}this.config.lockDirection&&("scale"===k.axis?C[1]=0:"angle"===k.axis&&(C[0]=0))}},{key:"cancel",value:function cancel(){var C=this,k=this.state;k.canceled||setTimeout((function(){k.canceled=!0,k._active=!1,C.compute(),C.emit()}),0)}},{key:"touchStart",value:function touchStart(C){this.ctrl.setEventIds(C);var k=this.state,O=this.ctrl.touchIds;if((!k._active||!k._touchIds.every((function(C){return O.has(C)})))&&!(O.size<2)){this.start(C),k._touchIds=Array.from(O).slice(0,2);var P=touchDistanceAngle(C,k._touchIds);this.pinchStart(C,P)}}},{key:"pointerStart",value:function pointerStart(C){if(null==C.buttons||C.buttons%2===1){this.ctrl.setEventIds(C),C.target.setPointerCapture(C.pointerId);var k=this.state,O=k._pointerEvents,M=this.ctrl.pointerIds;if((!k._active||!Array.from(O.keys()).every((function(C){return M.has(C)})))&&(O.size<2&&O.set(C.pointerId,C),!(k._pointerEvents.size<2))){this.start(C);var F=distanceAngle.apply(void 0,Object(P.a)(Array.from(O.values())));this.pinchStart(C,F)}}}},{key:"pinchStart",value:function pinchStart(C,k){var O=this.state;O.origin=k.origin,O.values=[k.distance,k.angle],O.initial=O.values,this.compute(C),this.emit()}},{key:"touchMove",value:function touchMove(C){if(this.state._active){var k=touchDistanceAngle(C,this.state._touchIds);this.pinchMove(C,k)}}},{key:"pointerMove",value:function pointerMove(C){var k=this.state._pointerEvents;if(k.has(C.pointerId)&&k.set(C.pointerId,C),this.state._active){var O=distanceAngle.apply(void 0,Object(P.a)(Array.from(k.values())));this.pinchMove(C,O)}}},{key:"pinchMove",value:function pinchMove(C,k){var O=this.state,P=O.values[1],M=k.angle-P,F=0;Math.abs(M)>270&&(F+=Math.sign(M)),O.values=[k.distance,k.angle-360*F],O.origin=k.origin,O.turns=F,O._movement=[O.values[0]/O.initial[0]-1,O.values[1]-O.initial[1]],this.compute(C),this.emit()}},{key:"touchEnd",value:function touchEnd(C){var k=this;this.ctrl.setEventIds(C),this.state._active&&this.state._touchIds.some((function(C){return!k.ctrl.touchIds.has(C)}))&&(this.state._active=!1,this.compute(C),this.emit())}},{key:"pointerEnd",value:function pointerEnd(C){var k=this.state;this.ctrl.setEventIds(C);try{C.target.releasePointerCapture(C.pointerId)}catch(O){}k._pointerEvents.has(C.pointerId)&&k._pointerEvents.delete(C.pointerId),k._active&&k._pointerEvents.size<2&&(k._active=!1,this.compute(C),this.emit())}},{key:"gestureStart",value:function gestureStart(C){C.cancelable&&C.preventDefault();var k=this.state;k._active||(this.start(C),k.values=[C.scale,C.rotation],k.origin=[C.clientX,C.clientY],this.compute(C),this.emit())}},{key:"gestureMove",value:function gestureMove(C){if(C.cancelable&&C.preventDefault(),this.state._active){var k=this.state;k.values=[C.scale,C.rotation],k.origin=[C.clientX,C.clientY];var O=k._movement;k._movement=[C.scale-1,C.rotation],k._delta=he.a.sub(k._movement,O),this.compute(C),this.emit()}}},{key:"gestureEnd",value:function gestureEnd(C){this.state._active&&(this.state._active=!1,this.compute(C),this.emit())}},{key:"wheel",value:function wheel(C){C.ctrlKey&&(this.state._active?this.wheelChange(C):this.wheelStart(C),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}},{key:"wheelStart",value:function wheelStart(C){this.start(C),this.wheelChange(C)}},{key:"wheelChange",value:function wheelChange(C){"uv"in C||C.cancelable&&C.preventDefault();var k=this.state;k._delta=[-wheelValues(C)[1]/36*k.offset[0],0],he.a.addTo(k._movement,k._delta),this.state.origin=[C.clientX,C.clientY],this.compute(C),this.emit()}},{key:"wheelEnd",value:function wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function bind(C){var k=this.config.device;k?(C(k,"start",this[k+"Start"].bind(this)),C(k,"change",this[k+"Move"].bind(this)),C(k,"end",this[k+"End"].bind(this)),C(k,"cancel",this[k+"End"].bind(this))):C("wheel","",this.wheel.bind(this),{passive:!1})}}]),PinchEngine}(ge),je=_objectSpread2(_objectSpread2({},be),{},{useTouch:function useTouch(C,k,O){var P=O.pointer,M=(P=void 0===P?{}:P).touch,F=void 0!==M&&M;return Ae.touch&&F},device:function device(C,k,O){if(O.shared.target&&!Ae.touch&&Ae.gesture)return"gesture";if(this.useTouch)return"touch";if(Ae.touchscreen){if(Ae.pointer)return"pointer";if(Ae.touch)return"touch"}},bounds:function bounds(C,k,O){var P=O.scaleBounds,M=void 0===P?{}:P,F=O.angleBounds,ne=void 0===F?{}:F,re=function _scaleBounds(C){var k=assignDefault(call(M,C),{min:-1/0,max:1/0});return[k.min,k.max]},oe=function _angleBounds(C){var k=assignDefault(call(ne,C),{min:-1/0,max:1/0});return[k.min,k.max]};return"function"!==typeof M&&"function"!==typeof ne?[re(),oe()]:function(C){return[re(C),oe(C)]}},threshold:function threshold(C,k,O){this.lockDirection="lock"===O.axis;var threshold=he.a.toVector(C,this.lockDirection?[.1,3]:0);return threshold}}),_e=function(C){Object(re.a)(MoveEngine,C);var k=Object(oe.a)(MoveEngine);function MoveEngine(){var C;Object(ue.a)(this,MoveEngine);for(var O=arguments.length,P=new Array(O),F=0;F<O;F++)P[F]=arguments[F];return C=k.call.apply(k,[this].concat(P)),_defineProperty(Object(M.a)(C),"ingKey","moving"),C}return Object(pe.a)(MoveEngine,[{key:"move",value:function move(C){this.config.mouseOnly&&"mouse"!==C.pointerType||(this.state._active?this.moveChange(C):this.moveStart(C),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}},{key:"moveStart",value:function moveStart(C){this.start(C);var k=this.state;k.values=pointerValues(C),this.compute(C),k.initial=k.values,this.emit()}},{key:"moveChange",value:function moveChange(C){if(this.state._active){var k=pointerValues(C),O=this.state;O._delta=he.a.sub(k,O.values),he.a.addTo(O._movement,O._delta),O.values=k,this.compute(C),this.emit()}}},{key:"moveEnd",value:function moveEnd(C){this.state._active&&(this.state._active=!1,this.compute(C),this.emit())}},{key:"bind",value:function bind(C){C("pointer","change",this.move.bind(this)),C("pointer","leave",this.moveEnd.bind(this))}}]),MoveEngine}(me),De=_objectSpread2(_objectSpread2({},ke),{},{mouseOnly:function mouseOnly(){var C=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return C}}),Me=function(C){Object(re.a)(ScrollEngine,C);var k=Object(oe.a)(ScrollEngine);function ScrollEngine(){var C;Object(ue.a)(this,ScrollEngine);for(var O=arguments.length,P=new Array(O),F=0;F<O;F++)P[F]=arguments[F];return C=k.call.apply(k,[this].concat(P)),_defineProperty(Object(M.a)(C),"ingKey","scrolling"),C}return Object(pe.a)(ScrollEngine,[{key:"scroll",value:function scroll(C){this.state._active||this.start(C),this.scrollChange(C),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}},{key:"scrollChange",value:function scrollChange(C){C.cancelable&&C.preventDefault();var k=this.state,O=function scrollValues(C){var k,O,P=C.currentTarget,M=P.scrollX,F=P.scrollY,ne=P.scrollLeft,re=P.scrollTop;return[null!==(k=null!==M&&void 0!==M?M:ne)&&void 0!==k?k:0,null!==(O=null!==F&&void 0!==F?F:re)&&void 0!==O?O:0]}(C);k._delta=he.a.sub(O,k.values),he.a.addTo(k._movement,k._delta),k.values=O,this.compute(C),this.emit()}},{key:"scrollEnd",value:function scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function bind(C){C("scroll","",this.scroll.bind(this))}}]),ScrollEngine}(me),Ne=ke,Le=function(C){Object(re.a)(WheelEngine,C);var k=Object(oe.a)(WheelEngine);function WheelEngine(){var C;Object(ue.a)(this,WheelEngine);for(var O=arguments.length,P=new Array(O),F=0;F<O;F++)P[F]=arguments[F];return C=k.call.apply(k,[this].concat(P)),_defineProperty(Object(M.a)(C),"ingKey","wheeling"),C}return Object(pe.a)(WheelEngine,[{key:"wheel",value:function wheel(C){this.state._active||this.start(C),this.wheelChange(C),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}},{key:"wheelChange",value:function wheelChange(C){var k=this.state;k._delta=wheelValues(C),he.a.addTo(this.state._movement,k._delta),this.compute(C),this.emit()}},{key:"wheelEnd",value:function wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function bind(C){C("wheel","",this.wheel.bind(this))}}]),WheelEngine}(me),ze=ke,Be=function(C){Object(re.a)(HoverEngine,C);var k=Object(oe.a)(HoverEngine);function HoverEngine(){var C;Object(ue.a)(this,HoverEngine);for(var O=arguments.length,P=new Array(O),F=0;F<O;F++)P[F]=arguments[F];return C=k.call.apply(k,[this].concat(P)),_defineProperty(Object(M.a)(C),"ingKey","hovering"),C}return Object(pe.a)(HoverEngine,[{key:"enter",value:function enter(C){this.config.mouseOnly&&"mouse"!==C.pointerType||(this.start(C),this.state.values=pointerValues(C),this.compute(C),this.emit())}},{key:"leave",value:function leave(C){if(!this.config.mouseOnly||"mouse"===C.pointerType){var k=this.state;if(k._active){k._active=!1;var O=pointerValues(C);k._movement=k._delta=he.a.sub(O,k.values),k.values=O,this.compute(C),k.delta=k.movement,this.emit()}}}},{key:"bind",value:function bind(C){C("pointer","enter",this.enter.bind(this)),C("pointer","leave",this.leave.bind(this))}}]),HoverEngine}(me),Fe=_objectSpread2(_objectSpread2({},ke),{},{mouseOnly:function mouseOnly(){var C=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return C}}),Ue=new Map,qe=new Map;function registerAction(C){Ue.set(C.key,C.engine),qe.set(C.key,C.resolver)}var Ve={key:"drag",engine:Re,resolver:Pe},Ke={key:"hover",engine:Be,resolver:Fe},He={key:"move",engine:_e,resolver:De},We={key:"pinch",engine:Te,resolver:je},Je={key:"scroll",engine:Me,resolver:Ne},Ge={key:"wheel",engine:Le,resolver:ze}},function(C,k,O){"use strict";function _extends(){return _extends=Object.assign||function(C){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(C[P]=O[P])}return C},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(C,k){if(null==C)return{};var O,P,M={},F=Object.keys(C);for(P=0;P<F.length;P++)O=F[P],k.indexOf(O)>=0||(M[O]=C[O]);return M}O.d(k,"a",(function(){return _extends})),O.d(k,"b",(function(){return _objectWithoutPropertiesLoose}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return M}));var P=O(3),M=function HeaderNames(){Object(P.a)(this,HeaderNames)};M.AuthKey="Ocp-Apim-Subscription-Key",M.ConnectionId="X-ConnectionId",M.ContentType="Content-Type",M.CustomCommandsAppId="X-CommandsAppId",M.Path="Path",M.RequestId="X-RequestId",M.RequestStreamId="X-StreamId",M.RequestTimestamp="X-Timestamp"},function(C,k,O){"use strict";O.d(k,"a",(function(){return Ee})),O.d(k,"b",(function(){return fe})),O.d(k,"c",(function(){return Re})),O.d(k,"d",(function(){return ke})),O.d(k,"e",(function(){return ve})),O.d(k,"f",(function(){return ye})),O.d(k,"g",(function(){return be})),O.d(k,"h",(function(){return he})),O.d(k,"i",(function(){return de})),O.d(k,"j",(function(){return Ie})),O.d(k,"k",(function(){return ge})),O.d(k,"l",(function(){return me})),O.d(k,"m",(function(){return Oe})),O.d(k,"n",(function(){return pe})),O.d(k,"o",(function(){return ne})),O.d(k,"p",(function(){return F})),O.d(k,"q",(function(){return M})),O.d(k,"r",(function(){return oe})),O.d(k,"s",(function(){return se})),O.d(k,"t",(function(){return re})),O.d(k,"u",(function(){return ue}));var P=O(27),M="szh-menu-container",F="szh-menu",ne="arrow",re="item",oe="divider",se="header",ue="submenu",pe=-1,ve=Object(P.createContext)(pe),de=Object(P.createContext)({}),he=Object(P.createContext)({}),fe=Object(P.createContext)({}),ge=Object(P.createContext)({}),me=Object(P.createContext)({}),ye=Object(P.createContext)({}),be=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),ke=Object.freeze({RESET:"HOVER_RESET",SET:"HOVER_SET",UNSET:"HOVER_UNSET",INCREASE:"HOVER_INCREASE",DECREASE:"HOVER_DECREASE",FIRST:"HOVER_FIRST",LAST:"HOVER_LAST"}),Oe=Object.freeze({OPEN:"SUBMENU_OPEN",CLOSE:"SUBMENU_CLOSE"}),Ee=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),Re=Object.freeze({INITIAL:"initial",FIRST:"first",LAST:"last"}),Ie=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"})},function(C,k,O){"use strict";O.d(k,"a",(function(){return pe})),O.d(k,"b",(function(){return ve})),O.d(k,"c",(function(){return de})),O.d(k,"d",(function(){return F})),O.d(k,"e",(function(){return commonProps})),O.d(k,"f",(function(){return ue})),O.d(k,"g",(function(){return ne})),O.d(k,"h",(function(){return se})),O.d(k,"i",(function(){return fe})),O.d(k,"j",(function(){return re})),O.d(k,"k",(function(){return M})),O.d(k,"l",(function(){return he})),O.d(k,"m",(function(){return oe})),O.d(k,"n",(function(){return ge}));var P=O(110),M=function isMenuOpen(C){return!!C&&"o"===C[0]},F=P.unstable_batchedUpdates||function(C){return C()},ne=(Object.values,function floatEqual(C,k,O){return void 0===O&&(O=1e-4),Math.abs(C-k)<O}),re=function getTransition(C,k){return!(!C||!C[k])||!0===C},oe=function safeCall(C,k){return"function"===typeof C?C(k):C},se=function getName(C){return C&&C._szhsinMenu},ue=function defineName(C,k){return k?Object.defineProperty(C,"_szhsinMenu",{value:k}):C},pe=function applyHOC(C){return function(){return ue(C.apply(void 0,arguments),se(arguments.length<=0?void 0:arguments[0]))}},ve=function applyStatics(C){return function(k){return ue(k,se(C))}},de=function attachHandlerProps(C,k){if(!k)return C;for(var O={},P=function _loop(P,M){var F=M[P],ne=C[F],re=k[F],oe=void 0;oe="function"===typeof re?function attachedHandler(C){re(C),ne(C)}:ne,O[F]=oe},M=0,F=Object.keys(C);M<F.length;M++)P(M,F);return O},he=function parsePadding(C){if("string"!==typeof C)return{top:0,right:0,bottom:0,left:0};var k=C.trim().split(/\s+/,4).map(parseFloat),O=isNaN(k[0])?0:k[0],P=isNaN(k[1])?O:k[1];return{top:O,right:P,bottom:isNaN(k[2])?O:k[2],left:isNaN(k[3])?P:k[3]}},fe=function getScrollAncestor(C){for(;C&&C!==document.body;){var k=getComputedStyle(C),O=k.overflow,P=k.overflowX,M=k.overflowY;if(/auto|scroll|overlay|hidden/.test(O+M+P))return C;C=C.parentNode}return window},ge=function validateIndex(C,k,O){};function commonProps(C,k){return{"aria-disabled":C||void 0,tabIndex:C?void 0:k?0:-1}}},function(C,k,O){"use strict";O.d(k,"a",(function(){return P})),O.d(k,"b",(function(){return oe})),O.d(k,"c",(function(){return se}));var P,M=O(5),F=O(6),ne=O(3),re=O(4);!function(C){C[C.PCM=1]="PCM",C[C.MuLaw=2]="MuLaw",C[C.Siren=3]="Siren",C[C.MP3=4]="MP3",C[C.SILKSkype=5]="SILKSkype",C[C.OGG_OPUS=6]="OGG_OPUS",C[C.WEBM_OPUS=7]="WEBM_OPUS",C[C.ALaw=8]="ALaw",C[C.FLAC=9]="FLAC",C[C.OPUS=10]="OPUS"}(P||(P={}));var oe=function(){function AudioStreamFormat(){Object(ne.a)(this,AudioStreamFormat)}return Object(re.a)(AudioStreamFormat,null,[{key:"getDefaultInputFormat",value:function getDefaultInputFormat(){return se.getDefaultInputFormat()}},{key:"getWaveFormat",value:function getWaveFormat(C,k,O,P){return new se(C,k,O,P)}},{key:"getWaveFormatPCM",value:function getWaveFormatPCM(C,k,O){return new se(C,k,O)}}]),AudioStreamFormat}(),se=function(C){Object(M.a)(AudioStreamFormatImpl,C);var k=Object(F.a)(AudioStreamFormatImpl);function AudioStreamFormatImpl(){var C,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16e3,M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,re=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P.PCM;Object(ne.a)(this,AudioStreamFormatImpl),(C=k.call(this)).setString=function(C,k,O){for(var P=0;P<O.length;P++)C.setUint8(k+P,O.charCodeAt(P))};var oe=!0;switch(re){case P.PCM:C.formatTag=1;break;case P.ALaw:C.formatTag=6;break;case P.MuLaw:C.formatTag=7;break;default:oe=!1}if(C.bitsPerSample=M,C.samplesPerSec=O,C.channels=F,C.avgBytesPerSec=C.samplesPerSec*C.channels*(C.bitsPerSample/8),C.blockAlign=C.channels*Math.max(C.bitsPerSample,8),oe){C.privHeader=new ArrayBuffer(44);var se=new DataView(C.privHeader);C.setString(se,0,"RIFF"),se.setUint32(4,0,!0),C.setString(se,8,"WAVEfmt "),se.setUint32(16,16,!0),se.setUint16(20,C.formatTag,!0),se.setUint16(22,C.channels,!0),se.setUint32(24,C.samplesPerSec,!0),se.setUint32(28,C.avgBytesPerSec,!0),se.setUint16(32,C.channels*(C.bitsPerSample/8),!0),se.setUint16(34,C.bitsPerSample,!0),C.setString(se,36,"data"),se.setUint32(40,0,!0)}return C}return Object(re.a)(AudioStreamFormatImpl,[{key:"close",value:function close(){}},{key:"header",get:function get(){return this.privHeader}}],[{key:"getDefaultInputFormat",value:function getDefaultInputFormat(){return new AudioStreamFormatImpl}},{key:"getAudioContext",value:function getAudioContext(C){var k=window.AudioContext||window.webkitAudioContext||!1;if(k)return void 0!==C&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new k({sampleRate:C}):new k;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}}]),AudioStreamFormatImpl}(oe)},function(C,k,O){"use strict";O.d(k,"a",(function(){return de})),O.d(k,"b",(function(){return he})),O.d(k,"c",(function(){return fe})),O.d(k,"d",(function(){return ge})),O.d(k,"e",(function(){return me}));var P=O(1),M=O.n(P),F=O(5),ne=O(6),re=O(3),oe=O(4),se=O(551),ue=O(822),pe=O(526),ve=O(571),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},de=function(){function AudioOutputStream(){Object(re.a)(this,AudioOutputStream)}return Object(oe.a)(AudioOutputStream,null,[{key:"createPullStream",value:function createPullStream(){return he.create()}}]),AudioOutputStream}(),he=function(C){Object(F.a)(PullAudioOutputStream,C);var k=Object(ne.a)(PullAudioOutputStream);function PullAudioOutputStream(){return Object(re.a)(this,PullAudioOutputStream),k.apply(this,arguments)}return Object(oe.a)(PullAudioOutputStream,null,[{key:"create",value:function create(){return new fe}}]),PullAudioOutputStream}(de),fe=function(C){Object(F.a)(PullAudioOutputStreamImpl,C);var k=Object(ne.a)(PullAudioOutputStreamImpl);function PullAudioOutputStreamImpl(){var C;return Object(re.a)(this,PullAudioOutputStreamImpl),(C=k.call(this)).privId=Object(se.b)(),C.privStream=new ue.a,C}return Object(oe.a)(PullAudioOutputStreamImpl,[{key:"format",get:function get(){return this.privFormat},set:function set(C){void 0!==C&&null!==C||(this.privFormat=ve.a.getDefaultOutputFormat()),this.privFormat=C}},{key:"isClosed",get:function get(){return this.privStream.isClosed}},{key:"id",value:function id(){return this.privId}},{key:"read",value:function read(C){return __awaiter(this,void 0,void 0,M.a.mark((function _callee(){var k,O,P,F;return M.a.wrap((function _callee$(M){for(;;)switch(M.prev=M.next){case 0:if(k=new Int8Array(C),O=0,void 0===this.privLastChunkView){M.next=10;break}if(!(this.privLastChunkView.length>C.byteLength)){M.next=7;break}return k.set(this.privLastChunkView.slice(0,C.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(C.byteLength),M.abrupt("return",Promise.resolve(C.byteLength));case 7:k.set(this.privLastChunkView),O=this.privLastChunkView.length,this.privLastChunkView=void 0;case 10:if(!(O<C.byteLength)||this.privStream.isReadEnded){M.next=25;break}return M.next=13,this.privStream.read();case 13:if(void 0===(P=M.sent)||P.isEnd){M.next=21;break}F=void 0,P.buffer.byteLength>C.byteLength-O?(F=P.buffer.slice(0,C.byteLength-O),this.privLastChunkView=new Int8Array(P.buffer.slice(C.byteLength-O))):F=P.buffer,k.set(new Int8Array(F),O),O+=F.byteLength,M.next=23;break;case 21:return M.next=23,this.privStream.readEnded();case 23:M.next=10;break;case 25:return M.abrupt("return",O);case 26:case"end":return M.stop()}}),_callee,this)})))}},{key:"write",value:function write(C){pe.a.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:C,isEnd:!1,timeReceived:Date.now()})}},{key:"close",value:function close(){this.privStream.close()}}]),PullAudioOutputStreamImpl}(he),ge=function(C){Object(F.a)(PushAudioOutputStream,C);var k=Object(ne.a)(PushAudioOutputStream);function PushAudioOutputStream(){return Object(re.a)(this,PushAudioOutputStream),k.call(this)}return Object(oe.a)(PushAudioOutputStream,null,[{key:"create",value:function create(C){return new me(C)}}]),PushAudioOutputStream}(de),me=function(C){Object(F.a)(PushAudioOutputStreamImpl,C);var k=Object(ne.a)(PushAudioOutputStreamImpl);function PushAudioOutputStreamImpl(C){var O;return Object(re.a)(this,PushAudioOutputStreamImpl),(O=k.call(this)).privId=Object(se.b)(),O.privCallback=C,O}return Object(oe.a)(PushAudioOutputStreamImpl,[{key:"format",set:function set(C){}},{key:"write",value:function write(C){this.privCallback.write&&this.privCallback.write(C)}},{key:"close",value:function close(){this.privCallback.close&&this.privCallback.close()}},{key:"id",value:function id(){return this.privId}}]),PushAudioOutputStreamImpl}(ge)},function(C,k,O){"use strict";O.d(k,"a",(function(){return oe}));var P=O(3),M=O(4),F=O(524),ne=O(569),re=O(552),oe=function(){function ConnectionFactoryBase(){Object(P.a)(this,ConnectionFactoryBase)}return Object(M.a)(ConnectionFactoryBase,[{key:"setCommonUrlParams",value:function setCommonUrlParams(C,k,O){this.setUrlParameter(ne.a.SpeechServiceConnection_EnableAudioLogging,re.a.EnableAudioLogging,C,k,O),this.setUrlParameter(ne.a.SpeechServiceResponse_RequestWordLevelTimestamps,re.a.EnableWordLevelTimestamps,C,k,O),this.setUrlParameter(ne.a.SpeechServiceResponse_ProfanityOption,re.a.Profanity,C,k,O),this.setUrlParameter(ne.a.SpeechServiceConnection_InitialSilenceTimeoutMs,re.a.InitialSilenceTimeoutMs,C,k,O),this.setUrlParameter(ne.a.SpeechServiceConnection_EndSilenceTimeoutMs,re.a.EndSilenceTimeoutMs,C,k,O),this.setUrlParameter(ne.a.SpeechServiceResponse_StablePartialResultThreshold,re.a.StableIntermediateThreshold,C,k,O);var P=JSON.parse(C.parameters.getProperty(F.ServicePropertiesPropertyName,"{}"));Object.keys(P).forEach((function(C,O,M){k[C]=P[C]}))}},{key:"setUrlParameter",value:function setUrlParameter(C,k,O,P,M){var F=O.parameters.getProperty(C,void 0);!F||M&&-1!==M.search(k)||(P[k]=F.toLocaleLowerCase())}}],[{key:"getHostSuffix",value:function getHostSuffix(C){if(C){if(C.toLowerCase().startsWith("china"))return".azure.cn";if(C.toLowerCase().startsWith("usgov"))return".azure.us"}return".microsoft.com"}}]),ConnectionFactoryBase}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return se})),O.d(k,"b",(function(){return ue})),O.d(k,"c",(function(){return pe}));var P=O(3),M=O(5),F=O(6),ne=O(17),re=O(157);var oe=O(162);function construct_construct(C,k,O){return construct_construct=Object(oe.a)()?Reflect.construct:function _construct(C,k,O){var P=[null];P.push.apply(P,k);var M=new(Function.bind.apply(C,P));return O&&Object(re.a)(M,O.prototype),M},construct_construct.apply(null,arguments)}function wrapNativeSuper_wrapNativeSuper(C){var k="function"===typeof Map?new Map:void 0;return wrapNativeSuper_wrapNativeSuper=function _wrapNativeSuper(C){if(null===C||!function _isNativeFunction(C){return-1!==Function.toString.call(C).indexOf("[native code]")}(C))return C;if("function"!==typeof C)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof k){if(k.has(C))return k.get(C);k.set(C,Wrapper)}function Wrapper(){return construct_construct(C,arguments,Object(ne.a)(this).constructor)}return Wrapper.prototype=Object.create(C.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),Object(re.a)(Wrapper,C)},wrapNativeSuper_wrapNativeSuper(C)}var se=function(C){Object(M.a)(ArgumentNullError,C);var k=Object(F.a)(ArgumentNullError);function ArgumentNullError(C){var O;return Object(P.a)(this,ArgumentNullError),(O=k.call(this,C)).name="ArgumentNull",O.message=C,O}return ArgumentNullError}(wrapNativeSuper_wrapNativeSuper(Error)),ue=function(C){Object(M.a)(InvalidOperationError,C);var k=Object(F.a)(InvalidOperationError);function InvalidOperationError(C){var O;return Object(P.a)(this,InvalidOperationError),(O=k.call(this,C)).name="InvalidOperation",O.message=C,O}return InvalidOperationError}(wrapNativeSuper_wrapNativeSuper(Error)),pe=function(C){Object(M.a)(ObjectDisposedError,C);var k=Object(F.a)(ObjectDisposedError);function ObjectDisposedError(C,O){var M;return Object(P.a)(this,ObjectDisposedError),(M=k.call(this,O)).name=C+"ObjectDisposed",M.message=O,M}return ObjectDisposedError}(wrapNativeSuper_wrapNativeSuper(Error))},,,function(C,k,O){(function(k){var P=O(1),M=O(35),F=O(22),ne=O(23),re=O(85),oe=O(46),se=O(36),ue=O(28),pe=O(29),ve=O(15),de=ve.EVT_UPDATED,he=ve.EVT_DESTROYED,fe=O(584),ge={},me=function(C){"use strict";ue(MediaStreamTrackControllerBase,C);var ve=pe(MediaStreamTrackControllerBase);function MediaStreamTrackControllerBase(C){var O,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(F(this,MediaStreamTrackControllerBase),!(C instanceof MediaStreamTrack))throw new TypeError("inputMediaStreamTrack is not of MediaStreamTrack type");return O=ve.call(this,P),ge[O._uuid]=re(O),O._inputMediaStreamTrack=Object.seal(C),O._outputMediaStreamTrack=Object.seal(C),O._isTrackEnded=!1,O._isMuted=!1,k((function(){var C=function _handleTrackEnded(){O._isTrackEnded||(O._isTrackEnded=!0,O.getIsDestroying()||O.destroy())};O._inputMediaStreamTrack.addEventListener("ended",C),O._outputMediaStreamTrack.addEventListener("ended",C),O.once(he,(function(){O._inputMediaStreamTrack.removeEventListener("ended",C),O._outputMediaStreamTrack.removeEventListener("ended",C)}))})),O}return ne(MediaStreamTrackControllerBase,[{key:"getKind",value:function getKind(){return this._inputMediaStreamTrack.kind}},{key:"getOutputMediaStreamTrack",value:function getOutputMediaStreamTrack(){return this._outputMediaStreamTrack}},{key:"getOutputTrack",value:function getOutputTrack(){return this._outputMediaStreamTrack}},{key:"getTrackKind",value:function getTrackKind(){return this._outputMediaStreamTrack.kind}},{key:"getSettings",value:function getSettings(){return this._inputMediaStreamTrack.getSettings()}},{key:"getInputDeviceId",value:function getInputDeviceId(){var C=this.getSettings();if(C)return C.deviceId}},{key:"getPartialMediaDeviceInfo",value:function getPartialMediaDeviceInfo(){return{deviceId:this.getInputDeviceId()}}},{key:"getInputMediaDeviceInfoFromList",value:function getInputMediaDeviceInfoFromList(C){var k=O(614),P=this.getPartialMediaDeviceInfo();return k("".concat(this.getKind(),"input"),P,C)}},{key:"setIsMuted",value:function(){var C=M(P.mark((function _callee(C){return P.wrap((function _callee$(k){for(;;)switch(k.prev=k.next){case 0:this._isMuted=C,this.emit(de);case 2:case"end":return k.stop()}}),_callee,this)})));return function setIsMuted(k){return C.apply(this,arguments)}}()},{key:"getIsMuted",value:function getIsMuted(){return this._isMuted}},{key:"mute",value:function(){var C=M(P.mark((function _callee2(){return P.wrap((function _callee2$(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",this.setIsMuted(!0));case 1:case"end":return C.stop()}}),_callee2,this)})));return function mute(){return C.apply(this,arguments)}}()},{key:"unmute",value:function(){var C=M(P.mark((function _callee3(){return P.wrap((function _callee3$(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",this.setIsMuted(!1));case 1:case"end":return C.stop()}}),_callee3,this)})));return function unmute(){return C.apply(this,arguments)}}()},{key:"toggleMute",value:function(){var C=M(P.mark((function _callee4(){return P.wrap((function _callee4$(C){for(;;)switch(C.prev=C.next){case 0:this.setIsMuted(!this._isMuted);case 1:case"end":return C.stop()}}),_callee4,this)})));return function toggleMute(){return C.apply(this,arguments)}}()},{key:"stop",value:function(){var C=M(P.mark((function _callee5(){return P.wrap((function _callee5$(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",this.destroy());case 1:case"end":return C.stop()}}),_callee5,this)})));return function stop(){return C.apply(this,arguments)}}()},{key:"destroy",value:function(){var C=M(P.mark((function _callee6(){var C=this;return P.wrap((function _callee6$(k){for(;;)switch(k.prev=k.next){case 0:return k.abrupt("return",oe(se(MediaStreamTrackControllerBase.prototype),"destroy",this).call(this,(function(){fe(C._inputMediaStreamTrack),fe(C._outputMediaStreamTrack),delete ge[C._uuid]})));case 1:case"end":return k.stop()}}),_callee6,this)})));return function destroy(){return C.apply(this,arguments)}}()}],[{key:"getTrackControllerInstances",value:function getTrackControllerInstances(){return Object.values(ge)}},{key:"getTrackControllersWithTrack",value:function getTrackControllersWithTrack(C){return MediaStreamTrackControllerBase.getTrackControllerInstances().filter((function(k){return Object.is(k._inputMediaStreamTrack,C)}))}}]),MediaStreamTrackControllerBase}(ve);C.exports=me,C.exports.EVT_UPDATED=de,C.exports.EVT_DESTROYED=he}).call(this,O(108).setImmediate)},,,function(C,k,O){"use strict";O.d(k,"a",(function(){return M}));var P=O(27),M=function useBEM(C){var k=C.block,O=C.element,M=C.modifiers,F=C.className;return Object(P.useMemo)((function(){for(var C=O?k+"__"+O:k,P=C,ne=0,re=Object.keys(M||{});ne<re.length;ne++){var oe=re[ne],se=M[oe];se&&(P+=" "+C+"--",P+=!0===se?oe:oe+"-"+se)}var ue="function"===typeof F?F(M):F;return"string"===typeof ue&&(ue=ue.trim())&&(P+=" "+ue),P}),[k,O,M,F])}},function(C,k,O){var P=O(86),M=O(109),F=O(15).deepMerge,ne=O(531),re=ne.AUDIO_TRACK_KIND,oe=ne.VIDEO_TRACK_KIND;function normalizeConstraints(C){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(C!==re&&C!==oe)throw new TypeError("kind must be either audio or video");if("object"!==typeof k&&"boolean"!==typeof k)throw new TypeError('userConstraints must be either an object or a boolean; received "'.concat(typeof k,'" type'));if("boolean"===typeof k)return M({},C,Boolean(k));if(null!==k&&void 0!==k||(k={}),void 0===k[C]){var O=P({},k);k=M({},C,O)}else void 0!==k[C][C]&&(k[C]=P({},k[C][C]));return Object.keys(k[C]).length?k:{}}C.exports=function mergeConstraints(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=normalizeConstraints(re,C&&C.audio),P=normalizeConstraints(oe,C&&C.video),M=normalizeConstraints(re,k&&k.audio),ne=normalizeConstraints(oe,k&&k.video),se=F(O,P),ue=F(M,ne),pe=F(se,ue);return pe}},,function(C,k,O){"use strict";O.d(k,"a",(function(){return M})),O.d(k,"b",(function(){return F}));var P=O(169),M=function createGuid(){return Object(P.a)()},F=function createNoDashGuid(){return M().replace(new RegExp("-","g"),"").toUpperCase()}},function(C,k,O){"use strict";O.d(k,"a",(function(){return M}));var P=O(3),M=function QueryParameterNames(){Object(P.a)(this,QueryParameterNames)};M.BotId="botid",M.CustomSpeechDeploymentId="cid",M.CustomVoiceDeploymentId="deploymentId",M.EnableAudioLogging="storeAudio",M.EnableLanguageId="lidEnabled",M.EnableWordLevelTimestamps="wordLevelTimestamps",M.EndSilenceTimeoutMs="endSilenceTimeoutMs",M.Format="format",M.InitialSilenceTimeoutMs="initialSilenceTimeoutMs",M.Language="language",M.Profanity="profanity",M.RequestBotStatusMessages="enableBotMessageStatus",M.StableIntermediateThreshold="stableIntermediateThreshold",M.StableTranslation="stableTranslation",M.TestHooks="testhooks"},,,function(C,k,O){"use strict";O.d(k,"a",(function(){return M})),O.d(k,"b",(function(){return computeRubberband}));var P=O(153);function clamp(C,k,O){return Math.max(k,Math.min(C,O))}var M={toVector:function toVector(C,k){return void 0===C&&(C=k),Array.isArray(C)?C:[C,C]},add:function add(C,k){return[C[0]+k[0],C[1]+k[1]]},sub:function sub(C,k){return[C[0]-k[0],C[1]-k[1]]},addTo:function addTo(C,k){C[0]+=k[0],C[1]+=k[1]},subTo:function subTo(C,k){C[0]-=k[0],C[1]-=k[1]}};function rubberband(C,k,O){return 0===k||Math.abs(k)===1/0?Math.pow(C,5*O):C*k*O/(k+O*C)}function rubberbandIfOutOfBounds(C,k,O){var P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===P?clamp(C,k,O):C<k?-rubberband(k-C,O-k,P)+k:C>O?+rubberband(C-O,O-k,P)+O:C}function computeRubberband(C,k,O){var M=Object(P.a)(k,2),F=M[0],ne=M[1],re=Object(P.a)(O,2),oe=re[0],se=re[1],ue=Object(P.a)(C,2),pe=Object(P.a)(ue[0],2),ve=pe[0],de=pe[1],he=Object(P.a)(ue[1],2),fe=he[0],ge=he[1];return[rubberbandIfOutOfBounds(F,ve,de,oe),rubberbandIfOutOfBounds(ne,fe,ge,se)]}},,function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(535),M=O(27),F=function isObject(C){return C&&"object"===typeof C},ne=function sanitiseKey(C){return"$"===C[0]?C.slice(1):C},re=function useFlatStyles(C,k){return Object(M.useMemo)((function(){if("function"===typeof C)return C(k);if(F(C)){if(!k)return C;for(var O={},M=0,re=Object.keys(C);M<re.length;M++){var oe=re[M],se=C[oe];if(F(se)){var ue=k[ne(oe)];if("string"===typeof ue)for(var pe=0,ve=Object.keys(se);pe<ve.length;pe++){var de=ve[pe],he=se[de];F(he)?ne(de)===ue&&(O=Object(P.a)({},O,he)):O[de]=he}else ue&&(O=Object(P.a)({},O,se))}else O[oe]=se}return O}}),[C,k])}},function(C,k,O){"use strict";O.d(k,"a",(function(){return re})),O.d(k,"b",(function(){return oe}));var P=O(535),M=O(544),F=function stylePropTypes(C){var k;return(k={})[C?C+"ClassName":"className"]=Object(M.oneOfType)([M.string,M.func]),k[C?C+"Styles":"styles"]=Object(M.oneOfType)([M.object,M.func]),k},ne=Object(P.a)({className:M.string},F("menu"),F("arrow"),{arrow:M.bool,offsetX:M.number,offsetY:M.number,align:Object(M.oneOf)(["start","center","end"]),direction:Object(M.oneOf)(["left","right","top","bottom"]),position:Object(M.oneOf)(["auto","anchor","initial"]),overflow:Object(M.oneOf)(["auto","visible","hidden"])}),re=(M.object,M.bool,M.bool,M.bool,M.bool,M.bool,M.bool,M.number,M.object,M.string,M.string,M.number,M.number,M.number,M.bool,M.string,M.func,M.object,M.func,M.func,{offsetX:0,offsetY:0,align:"start",direction:"bottom",position:"auto",overflow:"visible"}),oe=Object(P.a)({},re,{reposition:"auto",viewScroll:"initial",transitionTimeout:500,submenuOpenDelay:300,submenuCloseDelay:150})},function(C,k,O){C.exports={AudioMediaStreamTrackController:O(583),VideoMediaStreamTrackController:O(585),MediaStreamTrackControllerFactory:O(560),MediaStreamTrackControllerFactoryCollection:O(745),MediaStreamTrackControllerCollection:O(617),utils:O(746),AudioMediaStreamTrackLevelMonitor:O(627),MultiAudioMediaStreamTrackLevelMonitor:O(765)}},function(C,k,O){var P=O(1),M=O(35),F=O(22),ne=O(23),re=O(85),oe=O(46),se=O(36),ue=O(28),pe=O(29),ve=O(15).logger,de=O(617),he=de.EVT_READY,fe=de.EVT_UPDATED,ge=de.EVT_DESTROYED,me=de.EVT_CHILD_INSTANCE_ADDED,ye=de.EVT_CHILD_INSTANCE_REMOVED,be=O(545),ke=O(618),Oe={},Ee=function(C){"use strict";ue(MediaStreamTrackControllerFactory,C);var k=pe(MediaStreamTrackControllerFactory);function MediaStreamTrackControllerFactory(C){var O,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(F(this,MediaStreamTrackControllerFactory),!(C instanceof MediaStream))throw new TypeError("inputMediaStream is not of MediaStream type");var M=ke(C,P);return O=k.call(this,M,P),Oe[O._uuid]=re(O),O.on(ye,(function(){O.getChildren().length||O.getIsDestroying()||O.destroy()})),O.getChildren().length||O.getIsDestroying()||O.destroy(),O}return ne(MediaStreamTrackControllerFactory,[{key:"destroy",value:function(){var C=M(P.mark((function _callee2(){var C,k=this,O=arguments;return P.wrap((function _callee2$(F){for(;;)switch(F.prev=F.next){case 0:return C=O.length>0&&void 0!==O[0]?O[0]:function(){return null},F.abrupt("return",oe(se(MediaStreamTrackControllerFactory.prototype),"destroy",this).call(this,M(P.mark((function _callee(){return P.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,C();case 2:return delete Oe[k._uuid],O.next=5,k.destroyAllChildren();case 5:case"end":return O.stop()}}),_callee)})))));case 2:case"end":return F.stop()}}),_callee2,this)})));return function destroy(){return C.apply(this,arguments)}}()}],[{key:"getTrackControllerInstances",value:function getTrackControllerInstances(){return be.getTrackControllerInstances()}},{key:"getFactoryInstances",value:function getFactoryInstances(){return Object.values(Oe)}},{key:"getFactoriesWithInputMediaDevice",value:function getFactoriesWithInputMediaDevice(C){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!C||!C.deviceId)return ve.warn("Unable to acquire associated factories for this media device because no mediaDeviceInfo is present"),[];var O=C.deviceId;return MediaStreamTrackControllerFactory.getFactoryInstances().filter((function(C){return C.getInputDeviceIds(k).includes(O)}))}}]),MediaStreamTrackControllerFactory}(de);C.exports=Ee,C.exports.EVT_READY=he,C.exports.EVT_UPDATED=fe,C.exports.EVT_DESTROYED=ge,C.exports.EVT_CHILD_INSTANCE_ADDED=me,C.exports.EVT_CHILD_INSTANCE_REMOVED=ye},function(C,k,O){"use strict";(function(C){O.d(k,"a",(function(){return ge})),O.d(k,"d",(function(){return me})),O.d(k,"b",(function(){return be})),O.d(k,"c",(function(){return ke}));var P=O(1),M=O.n(P),F=O(5),ne=O(6),re=O(3),oe=O(4),se=O(632),ue=O(819),pe=O(789),ve=O(821),de=O(820),he=O(551),fe=O(539),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},ge=function(){function AudioInputStream(){Object(re.a)(this,AudioInputStream)}return Object(oe.a)(AudioInputStream,null,[{key:"createPushStream",value:function createPushStream(C){return me.create(C)}},{key:"createPullStream",value:function createPullStream(C,k){return be.create(C,k)}}]),AudioInputStream}(),me=function(C){Object(F.a)(PushAudioInputStream,C);var k=Object(ne.a)(PushAudioInputStream);function PushAudioInputStream(){return Object(re.a)(this,PushAudioInputStream),k.apply(this,arguments)}return Object(oe.a)(PushAudioInputStream,null,[{key:"create",value:function create(C){return new ye(C)}}]),PushAudioInputStream}(ge),ye=function(k){Object(F.a)(PushAudioInputStreamImpl,k);var O=Object(ne.a)(PushAudioInputStreamImpl);function PushAudioInputStreamImpl(C){var k;return Object(re.a)(this,PushAudioInputStreamImpl),(k=O.call(this)).onEvent=function(C){k.privEvents.onEvent(C),ue.a.instance.onEvent(C)},k.privFormat=void 0===C?fe.c.getDefaultInputFormat():C,k.privEvents=new pe.a,k.privId=Object(he.b)(),k.privStream=new ve.a(k.privFormat.avgBytesPerSec/10),k}return Object(oe.a)(PushAudioInputStreamImpl,[{key:"format",get:function get(){return Promise.resolve(this.privFormat)}},{key:"write",value:function write(C){this.privStream.writeStreamChunk({buffer:C,isEnd:!1,timeReceived:Date.now()})}},{key:"close",value:function close(){this.privStream.close()}},{key:"id",value:function id(){return this.privId}},{key:"blob",get:function get(){var k=this;return this.attach("id").then((function(O){var P=[],M=C.from("");return function readCycle(){return O.read().then((function(O){return!O||O.isEnd?"undefined"!==typeof XMLHttpRequest&&"undefined"!==typeof Blob?Promise.resolve(new Blob(P)):Promise.resolve(C.from(M)):("undefined"!==typeof Blob?P.push(O.buffer):M=C.concat([M,k.toBuffer(O.buffer)]),readCycle())}))}()}))}},{key:"turnOn",value:function turnOn(){this.onEvent(new de.b(this.privId)),this.onEvent(new de.d(this.privId))}},{key:"attach",value:function attach(C){return __awaiter(this,void 0,void 0,M.a.mark((function _callee2(){var k,O=this;return M.a.wrap((function _callee2$(P){for(;;)switch(P.prev=P.next){case 0:return this.onEvent(new de.f(this.privId,C)),P.next=3,this.turnOn();case 3:return k=this.privStream,this.onEvent(new de.e(this.privId,C)),P.abrupt("return",{detach:function detach(){return __awaiter(O,void 0,void 0,M.a.mark((function _callee(){return M.a.wrap((function _callee$(k){for(;;)switch(k.prev=k.next){case 0:return this.onEvent(new de.g(this.privId,C)),k.abrupt("return",this.turnOff());case 2:case"end":return k.stop()}}),_callee,this)})))},id:function id(){return C},read:function read(){return k.read()}});case 6:case"end":return P.stop()}}),_callee2,this)})))}},{key:"detach",value:function detach(C){this.onEvent(new de.g(this.privId,C))}},{key:"turnOff",value:function turnOff(){}},{key:"events",get:function get(){return this.privEvents}},{key:"deviceInfo",get:function get(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:se.f.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:se.g.Stream})}},{key:"toBuffer",value:function toBuffer(k){for(var O=C.alloc(k.byteLength),P=new Uint8Array(k),M=0;M<O.length;++M)O[M]=P[M];return O}}]),PushAudioInputStreamImpl}(me),be=function(C){Object(F.a)(PullAudioInputStream,C);var k=Object(ne.a)(PullAudioInputStream);function PullAudioInputStream(){return Object(re.a)(this,PullAudioInputStream),k.call(this)}return Object(oe.a)(PullAudioInputStream,null,[{key:"create",value:function create(C,k){return new ke(C,k)}}]),PullAudioInputStream}(ge),ke=function(C){Object(F.a)(PullAudioInputStreamImpl,C);var k=Object(ne.a)(PullAudioInputStreamImpl);function PullAudioInputStreamImpl(C,O){var P;return Object(re.a)(this,PullAudioInputStreamImpl),(P=k.call(this)).onEvent=function(C){P.privEvents.onEvent(C),ue.a.instance.onEvent(C)},P.privFormat=void 0===O?fe.b.getDefaultInputFormat():O,P.privEvents=new pe.a,P.privId=Object(he.b)(),P.privCallback=C,P.privIsClosed=!1,P.privBufferSize=P.privFormat.avgBytesPerSec/10,P}return Object(oe.a)(PullAudioInputStreamImpl,[{key:"format",get:function get(){return Promise.resolve(this.privFormat)}},{key:"close",value:function close(){this.privIsClosed=!0,this.privCallback.close()}},{key:"id",value:function id(){return this.privId}},{key:"blob",get:function get(){return Promise.reject("Not implemented")}},{key:"turnOn",value:function turnOn(){this.onEvent(new de.b(this.privId)),this.onEvent(new de.d(this.privId))}},{key:"attach",value:function attach(C){return __awaiter(this,void 0,void 0,M.a.mark((function _callee3(){var k=this;return M.a.wrap((function _callee3$(O){for(;;)switch(O.prev=O.next){case 0:return this.onEvent(new de.f(this.privId,C)),O.next=3,this.turnOn();case 3:return this.onEvent(new de.e(this.privId,C)),O.abrupt("return",{detach:function detach(){return k.privCallback.close(),k.onEvent(new de.g(k.privId,C)),k.turnOff()},id:function id(){return C},read:function read(){for(var C,O=0;O<k.privBufferSize;){var P=new ArrayBuffer(k.privBufferSize-O),M=k.privCallback.read(P);if(void 0===C)C=P;else new Int8Array(C).set(new Int8Array(P),O);if(0===M)break;O+=M}return Promise.resolve({buffer:C.slice(0,O),isEnd:k.privIsClosed||0===O,timeReceived:Date.now()})}});case 5:case"end":return O.stop()}}),_callee3,this)})))}},{key:"detach",value:function detach(C){this.onEvent(new de.g(this.privId,C))}},{key:"turnOff",value:function turnOff(){}},{key:"events",get:function get(){return this.privEvents}},{key:"deviceInfo",get:function get(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:se.f.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:se.g.Stream})}}]),PullAudioInputStreamImpl}(be)}).call(this,O(7).Buffer)},,,function(C,k,O){var P=O(565),M=function(){var C=P();return function(){return C}}();C.exports=M},function(C,k){C.exports=function createNewAudioContext(){var C=window.AudioContext||window.webkitAudioContext;return C?new C:null}},function(C,k,O){var P=O(531).GENERIC_INPUT_DEVICE_KIND;C.exports=function filterInputMediaDevices(C){return C.filter((function(C){return C.kind.includes(P)}))}},function(C,k,O){var P=O(584);C.exports=function stopMediaStream(C){C.getTracks().forEach((function(k){P(k),C.removeTrack(k)}))}},function(C,k,O){"use strict";O.d(k,"a",(function(){return P})),O.d(k,"b",(function(){return re}));var P,M=O(3),F=O(4),ne=O(551);!function(C){C[C.Debug=0]="Debug",C[C.Info=1]="Info",C[C.Warning=2]="Warning",C[C.Error=3]="Error"}(P||(P={}));var re=function(){function PlatformEvent(C,k){Object(M.a)(this,PlatformEvent),this.privName=C,this.privEventId=Object(ne.b)(),this.privEventTime=(new Date).toISOString(),this.privEventType=k,this.privMetadata={}}return Object(F.a)(PlatformEvent,[{key:"name",get:function get(){return this.privName}},{key:"eventId",get:function get(){return this.privEventId}},{key:"eventTime",get:function get(){return this.privEventTime}},{key:"eventType",get:function get(){return this.privEventType}},{key:"metadata",get:function get(){return this.privMetadata}}]),PlatformEvent}()},function(C,k,O){"use strict";var P;O.d(k,"a",(function(){return P})),function(C){C[C.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",C[C.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",C[C.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",C[C.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",C[C.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",C[C.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",C[C.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",C[C.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",C[C.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",C[C.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",C[C.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",C[C.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",C[C.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",C[C.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",C[C.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",C[C.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",C[C.Speech_SessionId=16]="Speech_SessionId",C[C.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",C[C.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",C[C.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",C[C.SpeechServiceConnection_AutoDetectSourceLanguages=20]="SpeechServiceConnection_AutoDetectSourceLanguages",C[C.SpeechServiceResponse_RequestDetailedResultTrueFalse=21]="SpeechServiceResponse_RequestDetailedResultTrueFalse",C[C.SpeechServiceResponse_RequestProfanityFilterTrueFalse=22]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",C[C.SpeechServiceResponse_JsonResult=23]="SpeechServiceResponse_JsonResult",C[C.SpeechServiceResponse_JsonErrorDetails=24]="SpeechServiceResponse_JsonErrorDetails",C[C.CancellationDetails_Reason=25]="CancellationDetails_Reason",C[C.CancellationDetails_ReasonText=26]="CancellationDetails_ReasonText",C[C.CancellationDetails_ReasonDetailedText=27]="CancellationDetails_ReasonDetailedText",C[C.LanguageUnderstandingServiceResponse_JsonResult=28]="LanguageUnderstandingServiceResponse_JsonResult",C[C.SpeechServiceConnection_Url=29]="SpeechServiceConnection_Url",C[C.SpeechServiceConnection_InitialSilenceTimeoutMs=30]="SpeechServiceConnection_InitialSilenceTimeoutMs",C[C.SpeechServiceConnection_EndSilenceTimeoutMs=31]="SpeechServiceConnection_EndSilenceTimeoutMs",C[C.SpeechServiceConnection_EnableAudioLogging=32]="SpeechServiceConnection_EnableAudioLogging",C[C.SpeechServiceResponse_ProfanityOption=33]="SpeechServiceResponse_ProfanityOption",C[C.SpeechServiceResponse_PostProcessingOption=34]="SpeechServiceResponse_PostProcessingOption",C[C.SpeechServiceResponse_RequestWordLevelTimestamps=35]="SpeechServiceResponse_RequestWordLevelTimestamps",C[C.SpeechServiceResponse_StablePartialResultThreshold=36]="SpeechServiceResponse_StablePartialResultThreshold",C[C.SpeechServiceResponse_OutputFormatOption=37]="SpeechServiceResponse_OutputFormatOption",C[C.SpeechServiceResponse_TranslationRequestStablePartialResult=38]="SpeechServiceResponse_TranslationRequestStablePartialResult",C[C.Conversation_ApplicationId=39]="Conversation_ApplicationId",C[C.Conversation_DialogType=40]="Conversation_DialogType",C[C.Conversation_Initial_Silence_Timeout=41]="Conversation_Initial_Silence_Timeout",C[C.Conversation_From_Id=42]="Conversation_From_Id",C[C.Conversation_Conversation_Id=43]="Conversation_Conversation_Id",C[C.Conversation_Custom_Voice_Deployment_Ids=44]="Conversation_Custom_Voice_Deployment_Ids",C[C.Conversation_Speech_Activity_Template=45]="Conversation_Speech_Activity_Template",C[C.Conversation_Request_Bot_Status_Messages=46]="Conversation_Request_Bot_Status_Messages",C[C.Conversation_Agent_Connection_Id=47]="Conversation_Agent_Connection_Id",C[C.SpeechServiceConnection_Host=48]="SpeechServiceConnection_Host",C[C.ConversationTranslator_Host=49]="ConversationTranslator_Host",C[C.ConversationTranslator_Name=50]="ConversationTranslator_Name",C[C.ConversationTranslator_CorrelationId=51]="ConversationTranslator_CorrelationId",C[C.ConversationTranslator_Token=52]="ConversationTranslator_Token",C[C.PronunciationAssessment_ReferenceText=53]="PronunciationAssessment_ReferenceText",C[C.PronunciationAssessment_GradingSystem=54]="PronunciationAssessment_GradingSystem",C[C.PronunciationAssessment_Granularity=55]="PronunciationAssessment_Granularity",C[C.PronunciationAssessment_EnableMiscue=56]="PronunciationAssessment_EnableMiscue",C[C.PronunciationAssessment_Json=57]="PronunciationAssessment_Json",C[C.PronunciationAssessment_Params=58]="PronunciationAssessment_Params",C[C.SpeakerRecognition_Api_Version=59]="SpeakerRecognition_Api_Version"}(P||(P={}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return pe}));var P=O(3),M=O(4),F=O(159),ne=O(5),re=O(6),oe=O(542),se=O(790),ue=O(536),pe=function(C){Object(ne.a)(SpeechConnectionMessage,C);var k=Object(re.a)(SpeechConnectionMessage);function SpeechConnectionMessage(C,O,M,ne,re,se,pe,ve){var de;if(Object(P.a)(this,SpeechConnectionMessage),!O)throw new oe.a("path");if(!M)throw new oe.a("requestId");var he={};if(he[ue.a.Path]=O,he[ue.a.RequestId]=M,he[ue.a.RequestTimestamp]=(new Date).toISOString(),ne&&(he[ue.a.ContentType]=ne),se&&(he[ue.a.RequestStreamId]=se),pe)for(var fe in pe)fe&&(he[fe]=pe[fe]);return(de=ve?k.call(this,C,re,he,ve):k.call(this,C,re,he)).privPath=O,de.privRequestId=M,de.privContentType=ne,de.privStreamId=se,de.privAdditionalHeaders=pe,Object(F.a)(de)}return Object(M.a)(SpeechConnectionMessage,[{key:"path",get:function get(){return this.privPath}},{key:"requestId",get:function get(){return this.privRequestId}},{key:"contentType",get:function get(){return this.privContentType}},{key:"streamId",get:function get(){return this.privStreamId}},{key:"additionalHeaders",get:function get(){return this.privAdditionalHeaders}}]),SpeechConnectionMessage}(se.a);pe.fromConnectionMessage=function(C){var k=null,O=null,P=null,M=null,F={};if(C.headers)for(var ne in C.headers)ne&&(ne.toLowerCase()===ue.a.Path.toLowerCase()?k=C.headers[ne]:ne.toLowerCase()===ue.a.RequestId.toLowerCase()?O=C.headers[ne]:ne.toLowerCase()===ue.a.RequestTimestamp.toLowerCase()?C.headers[ne]:ne.toLowerCase()===ue.a.ContentType.toLowerCase()?P=C.headers[ne]:ne.toLowerCase()===ue.a.RequestStreamId.toLowerCase()?M=C.headers[ne]:F[ne]=C.headers[ne]);return new pe(C.messageType,k,O,P,C.body,M,F,C.id)}},function(C,k,O){"use strict";O.d(k,"a",(function(){return pe}));var P,M=O(155),F=O(3),ne=O(4),re=O(5),oe=O(6),se=O(589),ue=O(539),pe=function(C){Object(re.a)(AudioOutputFormatImpl,C);var k=Object(oe.a)(AudioOutputFormatImpl);function AudioOutputFormatImpl(C,O,P,M,ne,re,oe,se,ue){var pe;return Object(F.a)(this,AudioOutputFormatImpl),(pe=k.call(this,P,re,O,C)).formatTag=C,pe.avgBytesPerSec=M,pe.blockAlign=ne,pe.priAudioFormatString=oe,pe.priRequestAudioFormatString=se,pe.priHasHeader=ue,pe}return Object(ne.a)(AudioOutputFormatImpl,[{key:"hasHeader",get:function get(){return this.priHasHeader}},{key:"header",get:function get(){if(this.hasHeader)return this.privHeader}},{key:"updateHeader",value:function updateHeader(C){this.priHasHeader&&new DataView(this.privHeader).setUint32(40,C,!0)}},{key:"requestAudioFormatString",get:function get(){return this.priRequestAudioFormatString}}],[{key:"fromSpeechSynthesisOutputFormat",value:function fromSpeechSynthesisOutputFormat(C){return void 0===C?AudioOutputFormatImpl.getDefaultOutputFormat():AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString(AudioOutputFormatImpl.SpeechSynthesisOutputFormatToString[C])}},{key:"fromSpeechSynthesisOutputFormatString",value:function fromSpeechSynthesisOutputFormatString(C){switch(C){case"raw-8khz-8bit-mono-mulaw":return new AudioOutputFormatImpl(ue.a.MuLaw,1,8e3,8e3,1,8,C,C,!1);case"riff-16khz-16kbps-mono-siren":return new AudioOutputFormatImpl(ue.a.Siren,1,16e3,2e3,40,0,C,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new AudioOutputFormatImpl(ue.a.Siren,1,16e3,2e3,40,0,C,C,!1);case"audio-16khz-32kbitrate-mono-mp3":return new AudioOutputFormatImpl(ue.a.MP3,1,16e3,4096,2,16,C,C,!1);case"audio-16khz-128kbitrate-mono-mp3":return new AudioOutputFormatImpl(ue.a.MP3,1,16e3,16384,2,16,C,C,!1);case"audio-16khz-64kbitrate-mono-mp3":return new AudioOutputFormatImpl(ue.a.MP3,1,16e3,8192,2,16,C,C,!1);case"audio-24khz-48kbitrate-mono-mp3":return new AudioOutputFormatImpl(ue.a.MP3,1,24e3,6144,2,16,C,C,!1);case"audio-24khz-96kbitrate-mono-mp3":return new AudioOutputFormatImpl(ue.a.MP3,1,24e3,12288,2,16,C,C,!1);case"audio-24khz-160kbitrate-mono-mp3":return new AudioOutputFormatImpl(ue.a.MP3,1,24e3,20480,2,16,C,C,!1);case"raw-16khz-16bit-mono-truesilk":return new AudioOutputFormatImpl(ue.a.SILKSkype,1,16e3,32e3,2,16,C,C,!1);case"riff-8khz-16bit-mono-pcm":return new AudioOutputFormatImpl(ue.a.PCM,1,8e3,16e3,2,16,C,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new AudioOutputFormatImpl(ue.a.PCM,1,24e3,48e3,2,16,C,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new AudioOutputFormatImpl(ue.a.MuLaw,1,8e3,8e3,1,8,C,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new AudioOutputFormatImpl(ue.a.PCM,1,16e3,32e3,2,16,C,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new AudioOutputFormatImpl(ue.a.PCM,1,24e3,48e3,2,16,C,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new AudioOutputFormatImpl(ue.a.PCM,1,8e3,16e3,2,16,C,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new AudioOutputFormatImpl(ue.a.OGG_OPUS,1,16e3,8192,2,16,C,C,!1);case"ogg-24khz-16bit-mono-opus":return new AudioOutputFormatImpl(ue.a.OGG_OPUS,1,24e3,8192,2,16,C,C,!1);case"raw-48khz-16bit-mono-pcm":return new AudioOutputFormatImpl(ue.a.PCM,1,48e3,96e3,2,16,C,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new AudioOutputFormatImpl(ue.a.PCM,1,48e3,96e3,2,16,C,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new AudioOutputFormatImpl(ue.a.MP3,1,48e3,12288,2,16,C,C,!1);case"audio-48khz-192kbitrate-mono-mp3":return new AudioOutputFormatImpl(ue.a.MP3,1,48e3,24576,2,16,C,C,!1);case"ogg-48khz-16bit-mono-opus":return new AudioOutputFormatImpl(ue.a.OGG_OPUS,1,48e3,12e3,2,16,C,C,!1);case"webm-16khz-16bit-mono-opus":return new AudioOutputFormatImpl(ue.a.WEBM_OPUS,1,16e3,4e3,2,16,C,C,!1);case"webm-24khz-16bit-mono-opus":return new AudioOutputFormatImpl(ue.a.WEBM_OPUS,1,24e3,6e3,2,16,C,C,!1);case"webm-24khz-16bit-24kbps-mono-opus":return new AudioOutputFormatImpl(ue.a.WEBM_OPUS,1,24e3,3e3,2,16,C,C,!1);case"audio-16khz-16bit-32kbps-mono-opus":return new AudioOutputFormatImpl(ue.a.OPUS,1,16e3,4e3,2,16,C,C,!1);case"audio-24khz-16bit-48kbps-mono-opus":return new AudioOutputFormatImpl(ue.a.OPUS,1,24e3,6e3,2,16,C,C,!1);case"audio-24khz-16bit-24kbps-mono-opus":return new AudioOutputFormatImpl(ue.a.OPUS,1,24e3,3e3,2,16,C,C,!1);case"audio-24khz-16bit-mono-flac":return new AudioOutputFormatImpl(ue.a.FLAC,1,24e3,24e3,2,16,C,C,!1);case"audio-48khz-16bit-mono-flac":return new AudioOutputFormatImpl(ue.a.FLAC,1,48e3,3e4,2,16,C,C,!1);case"raw-24khz-16bit-mono-truesilk":return new AudioOutputFormatImpl(ue.a.SILKSkype,1,24e3,48e3,2,16,C,C,!1);case"raw-8khz-8bit-mono-alaw":return new AudioOutputFormatImpl(ue.a.ALaw,1,8e3,8e3,1,8,C,C,!1);case"riff-8khz-8bit-mono-alaw":return new AudioOutputFormatImpl(ue.a.ALaw,1,8e3,8e3,1,8,C,"raw-8khz-8bit-mono-alaw",!0);default:return new AudioOutputFormatImpl(ue.a.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}},{key:"getDefaultOutputFormat",value:function getDefaultOutputFormat(){return AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString("undefined"!==typeof window?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}}]),AudioOutputFormatImpl}(ue.c);pe.SpeechSynthesisOutputFormatToString=(P={},Object(M.a)(P,se.a.Raw8Khz8BitMonoMULaw,"raw-8khz-8bit-mono-mulaw"),Object(M.a)(P,se.a.Riff16Khz16KbpsMonoSiren,"riff-16khz-16kbps-mono-siren"),Object(M.a)(P,se.a.Audio16Khz16KbpsMonoSiren,"audio-16khz-16kbps-mono-siren"),Object(M.a)(P,se.a.Audio16Khz32KBitRateMonoMp3,"audio-16khz-32kbitrate-mono-mp3"),Object(M.a)(P,se.a.Audio16Khz128KBitRateMonoMp3,"audio-16khz-128kbitrate-mono-mp3"),Object(M.a)(P,se.a.Audio16Khz64KBitRateMonoMp3,"audio-16khz-64kbitrate-mono-mp3"),Object(M.a)(P,se.a.Audio24Khz48KBitRateMonoMp3,"audio-24khz-48kbitrate-mono-mp3"),Object(M.a)(P,se.a.Audio24Khz96KBitRateMonoMp3,"audio-24khz-96kbitrate-mono-mp3"),Object(M.a)(P,se.a.Audio24Khz160KBitRateMonoMp3,"audio-24khz-160kbitrate-mono-mp3"),Object(M.a)(P,se.a.Raw16Khz16BitMonoTrueSilk,"raw-16khz-16bit-mono-truesilk"),Object(M.a)(P,se.a.Riff16Khz16BitMonoPcm,"riff-16khz-16bit-mono-pcm"),Object(M.a)(P,se.a.Riff8Khz16BitMonoPcm,"riff-8khz-16bit-mono-pcm"),Object(M.a)(P,se.a.Riff24Khz16BitMonoPcm,"riff-24khz-16bit-mono-pcm"),Object(M.a)(P,se.a.Riff8Khz8BitMonoMULaw,"riff-8khz-8bit-mono-mulaw"),Object(M.a)(P,se.a.Raw16Khz16BitMonoPcm,"raw-16khz-16bit-mono-pcm"),Object(M.a)(P,se.a.Raw24Khz16BitMonoPcm,"raw-24khz-16bit-mono-pcm"),Object(M.a)(P,se.a.Raw8Khz16BitMonoPcm,"raw-8khz-16bit-mono-pcm"),Object(M.a)(P,se.a.Ogg16Khz16BitMonoOpus,"ogg-16khz-16bit-mono-opus"),Object(M.a)(P,se.a.Ogg24Khz16BitMonoOpus,"ogg-24khz-16bit-mono-opus"),Object(M.a)(P,se.a.Raw48Khz16BitMonoPcm,"raw-48khz-16bit-mono-pcm"),Object(M.a)(P,se.a.Riff48Khz16BitMonoPcm,"riff-48khz-16bit-mono-pcm"),Object(M.a)(P,se.a.Audio48Khz96KBitRateMonoMp3,"audio-48khz-96kbitrate-mono-mp3"),Object(M.a)(P,se.a.Audio48Khz192KBitRateMonoMp3,"audio-48khz-192kbitrate-mono-mp3"),Object(M.a)(P,se.a.Ogg48Khz16BitMonoOpus,"ogg-48khz-16bit-mono-opus"),Object(M.a)(P,se.a.Webm16Khz16BitMonoOpus,"webm-16khz-16bit-mono-opus"),Object(M.a)(P,se.a.Webm24Khz16BitMonoOpus,"webm-24khz-16bit-mono-opus"),Object(M.a)(P,se.a.Webm24Khz16Bit24KbpsMonoOpus,"webm-24khz-16bit-24kbps-mono-opus"),Object(M.a)(P,se.a.Raw24Khz16BitMonoTrueSilk,"raw-24khz-16bit-mono-truesilk"),Object(M.a)(P,se.a.Raw8Khz8BitMonoALaw,"raw-8khz-8bit-mono-alaw"),Object(M.a)(P,se.a.Riff8Khz8BitMonoALaw,"riff-8khz-8bit-mono-alaw"),Object(M.a)(P,se.a.Audio16Khz16Bit32KbpsMonoOpus,"audio-16khz-16bit-32kbps-mono-opus"),Object(M.a)(P,se.a.Audio24Khz16Bit48KbpsMonoOpus,"audio-24khz-16bit-48kbps-mono-opus"),Object(M.a)(P,se.a.Audio24Khz16Bit24KbpsMonoOpus,"audio-24khz-16bit-24kbps-mono-opus"),P)},function(C,k,O){"use strict";O.d(k,"d",(function(){return ue})),O.d(k,"b",(function(){return pe})),O.d(k,"a",(function(){return ve})),O.d(k,"c",(function(){return de}));var P,M=O(3),F=O(4),ne=O(5),re=O(6),oe=O(568),se=function(C){Object(ne.a)(SpeechRecognitionEvent,C);var k=Object(re.a)(SpeechRecognitionEvent);function SpeechRecognitionEvent(C,O,P){var F,ne=arguments.length>3&&void 0!==arguments[3]?arguments[3]:oe.a.Info;return Object(M.a)(this,SpeechRecognitionEvent),(F=k.call(this,C,ne)).privRequestId=O,F.privSessionId=P,F}return Object(F.a)(SpeechRecognitionEvent,[{key:"requestId",get:function get(){return this.privRequestId}},{key:"sessionId",get:function get(){return this.privSessionId}}]),SpeechRecognitionEvent}(oe.b),ue=function(C){Object(ne.a)(RecognitionTriggeredEvent,C);var k=Object(re.a)(RecognitionTriggeredEvent);function RecognitionTriggeredEvent(C,O,P,F){var ne;return Object(M.a)(this,RecognitionTriggeredEvent),(ne=k.call(this,"RecognitionTriggeredEvent",C,O)).privAudioSourceId=P,ne.privAudioNodeId=F,ne}return Object(F.a)(RecognitionTriggeredEvent,[{key:"audioSourceId",get:function get(){return this.privAudioSourceId}},{key:"audioNodeId",get:function get(){return this.privAudioNodeId}}]),RecognitionTriggeredEvent}(se),pe=function(C){Object(ne.a)(ListeningStartedEvent,C);var k=Object(re.a)(ListeningStartedEvent);function ListeningStartedEvent(C,O,P,F){var ne;return Object(M.a)(this,ListeningStartedEvent),(ne=k.call(this,"ListeningStartedEvent",C,O)).privAudioSourceId=P,ne.privAudioNodeId=F,ne}return Object(F.a)(ListeningStartedEvent,[{key:"audioSourceId",get:function get(){return this.privAudioSourceId}},{key:"audioNodeId",get:function get(){return this.privAudioNodeId}}]),ListeningStartedEvent}(se),ve=function(C){Object(ne.a)(ConnectingToServiceEvent,C);var k=Object(re.a)(ConnectingToServiceEvent);function ConnectingToServiceEvent(C,O,P){var F;return Object(M.a)(this,ConnectingToServiceEvent),(F=k.call(this,"ConnectingToServiceEvent",C,P)).privAuthFetchEventid=O,F}return Object(F.a)(ConnectingToServiceEvent,[{key:"authFetchEventid",get:function get(){return this.privAuthFetchEventid}}]),ConnectingToServiceEvent}(se),de=function(C){Object(ne.a)(RecognitionStartedEvent,C);var k=Object(re.a)(RecognitionStartedEvent);function RecognitionStartedEvent(C,O,P,F,ne){var re;return Object(M.a)(this,RecognitionStartedEvent),(re=k.call(this,"RecognitionStartedEvent",C,ne)).privAudioSourceId=O,re.privAudioNodeId=P,re.privAuthFetchEventId=F,re}return Object(F.a)(RecognitionStartedEvent,[{key:"audioSourceId",get:function get(){return this.privAudioSourceId}},{key:"audioNodeId",get:function get(){return this.privAudioNodeId}},{key:"authFetchEventId",get:function get(){return this.privAuthFetchEventId}}]),RecognitionStartedEvent}(se);!function(C){C[C.Success=0]="Success",C[C.AudioSourceError=1]="AudioSourceError",C[C.AudioSourceTimeout=2]="AudioSourceTimeout",C[C.AuthTokenFetchError=3]="AuthTokenFetchError",C[C.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",C[C.UnAuthorized=5]="UnAuthorized",C[C.ConnectTimeout=6]="ConnectTimeout",C[C.ConnectError=7]="ConnectError",C[C.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",C[C.UnknownError=9]="UnknownError"}(P||(P={}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function AuthInfo(C,k){Object(P.a)(this,AuthInfo),this.privHeaderName=C,this.privToken=k}return Object(M.a)(AuthInfo,[{key:"headerName",get:function get(){return this.privHeaderName}},{key:"token",get:function get(){return this.privToken}}]),AuthInfo}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return pe})),O.d(k,"b",(function(){return ve}));var P,M=O(5),F=O(6),ne=O(3),re=O(4),oe=O(526),se=O(594),ue=O(569),pe=function(){function DialogServiceConfig(){Object(ne.a)(this,DialogServiceConfig)}return Object(re.a)(DialogServiceConfig,[{key:"applicationId",set:function set(C){}}]),DialogServiceConfig}();pe.DialogTypes=((P=function _a(){Object(ne.a)(this,_a)}).BotFramework="bot_framework",P.CustomCommands="custom_commands",P);var ve=function(C){Object(M.a)(DialogServiceConfigImpl,C);var k=Object(F.a)(DialogServiceConfigImpl);function DialogServiceConfigImpl(){var C;return Object(ne.a)(this,DialogServiceConfigImpl),(C=k.call(this)).privSpeechConfig=new se.b,C}return Object(re.a)(DialogServiceConfigImpl,[{key:"properties",get:function get(){return this.privSpeechConfig.properties}},{key:"speechRecognitionLanguage",get:function get(){return this.privSpeechConfig.speechRecognitionLanguage},set:function set(C){oe.a.throwIfNullOrWhitespace(C,"value"),this.privSpeechConfig.speechRecognitionLanguage=C}},{key:"outputFormat",get:function get(){return this.privSpeechConfig.outputFormat},set:function set(C){this.privSpeechConfig.outputFormat=C}},{key:"setProperty",value:function setProperty(C,k){this.privSpeechConfig.setProperty(C,k)}},{key:"getProperty",value:function getProperty(C,k){return this.privSpeechConfig.getProperty(C)}},{key:"setProxy",value:function setProxy(C,k,O,P){this.setProperty(ue.a.SpeechServiceConnection_ProxyHostName,C),this.setProperty(ue.a.SpeechServiceConnection_ProxyPort,"".concat(k)),O&&this.setProperty(ue.a.SpeechServiceConnection_ProxyUserName,O),P&&this.setProperty(ue.a.SpeechServiceConnection_ProxyPassword,P)}},{key:"setServiceProperty",value:function setServiceProperty(C,k,O){this.privSpeechConfig.setServiceProperty(C,k,O)}},{key:"close",value:function close(){}}]),DialogServiceConfigImpl}(pe)},,,function(C,k,O){"use strict";var P=O(534);O.d(k,"a",(function(){return P.i})),O.d(k,"b",(function(){return P.j})),O.d(k,"c",(function(){return P.l})),O.d(k,"d",(function(){return P.m})),O.d(k,"e",(function(){return P.n})),O.d(k,"f",(function(){return P.o})),O.d(k,"g",(function(){return P.q}))},,,,,function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(27),M=function setRef(C,k){"function"===typeof C?C(k):C&&(C.current=k)},F=function useCombinedRef(C,k){return Object(P.useMemo)((function(){return C?k?function(O){M(C,O),M(k,O)}:C:k}),[C,k])}},function(C,k,O){var P=O(1),M=O(35),F=O(22),ne=O(23),re=O(85),oe=O(28),se=O(29),ue=O(46),pe=O(36),ve=O(15).deepMerge,de=O(545),he=de.EVT_UPDATED,fe=de.EVT_DESTROYED,ge=O(564),me=O(531).AUDIO_TRACK_KIND,ye=function(C){"use strict";oe(AudioMediaStreamTrackController,C);var k=se(AudioMediaStreamTrackController);function AudioMediaStreamTrackController(C){var O,ne,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(F(this,AudioMediaStreamTrackController),C.kind!==me)throw new TypeError("inputMediaStreamTrack is not of audio type");var se={isAsync:!0};return(ne=k.call(this,C,ve(se,oe)))._audioCtx=ge(),ne._unmutedGain=1,M(P.mark((function _callee(){return P.wrap((function _callee$(k){for(;;)switch(k.prev=k.next){case 0:return ne._src=ne._audioCtx.createMediaStreamSource(new MediaStream([C])),ne._dst=ne._audioCtx.createMediaStreamDestination(),ne._gainNode=ne._audioCtx.createGain(),ne._src.connect(ne._gainNode),ne._gainNode.connect(ne._dst),ne._outputMediaStream=ne._dst.stream,ne._outputMediaStreamTrack=ne._outputMediaStream.getTracks()[0],k.next=9,ue((O=re(ne),pe(AudioMediaStreamTrackController.prototype)),"_init",O).call(O);case 9:case"end":return k.stop()}}),_callee)})))(),ne}return ne(AudioMediaStreamTrackController,[{key:"setIsMuted",value:function(){var C=M(P.mark((function _callee2(C){return P.wrap((function _callee2$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.setGain(C?0:this._unmutedGain,!1);case 2:return k.abrupt("return",ue(pe(AudioMediaStreamTrackController.prototype),"setIsMuted",this).call(this,C));case 3:case"end":return k.stop()}}),_callee2,this)})));return function setIsMuted(k){return C.apply(this,arguments)}}()},{key:"setGain",value:function(){var C=M(P.mark((function _callee3(C){var k,O=arguments;return P.wrap((function _callee3$(P){for(;;)switch(P.prev=P.next){case 0:if((k=!(O.length>1&&void 0!==O[1])||O[1])&&(this._unmutedGain=C),this._isReady){P.next=6;break}return P.next=5,this.onceReady();case 5:return P.abrupt("return",this.setGain(C,k));case 6:this._gainNode&&(this._gainNode.gain.value=C),this.emit(he);case 8:case"end":return P.stop()}}),_callee3,this)})));return function setGain(k){return C.apply(this,arguments)}}()},{key:"getGain",value:function getGain(){if(!this._isReady)throw new Error("AudioMediaStreamTrackController is not ready");return this._gainNode&&this._gainNode.gain&&this._gainNode.gain.value}},{key:"getIsNoiseSuppressionEnabled",value:function getIsNoiseSuppressionEnabled(){return this.getSettings().noiseSuppression}},{key:"setIsNoiseSuppressionEnabled",value:function(){var C=M(P.mark((function _callee4(C){return P.wrap((function _callee4$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this._inputMediaStreamTrack.applyConstraints({noiseSuppression:C});case 2:if(C===this.getIsAutoGainControlEnabled()){k.next=4;break}throw new Error("Could not successfully apply noiseSuppression update to currently running track");case 4:this.emit(he);case 5:case"end":return k.stop()}}),_callee4,this)})));return function setIsNoiseSuppressionEnabled(k){return C.apply(this,arguments)}}()},{key:"getIsEchoCancellationEnabled",value:function getIsEchoCancellationEnabled(){return this.getSettings().echoCancellation}},{key:"setIsEchoCancellationEnabled",value:function(){var C=M(P.mark((function _callee5(C){return P.wrap((function _callee5$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this._inputMediaStreamTrack.applyConstraints({echoCancellation:C});case 2:if(C===this.getIsEchoCancellationEnabled()){k.next=4;break}throw new Error("Could not successfully apply echoCancellation update to currently running track");case 4:this.emit(he);case 5:case"end":return k.stop()}}),_callee5,this)})));return function setIsEchoCancellationEnabled(k){return C.apply(this,arguments)}}()},{key:"getIsAutoGainControlEnabled",value:function getIsAutoGainControlEnabled(){return this.getSettings().autoGainControl}},{key:"setIsAutoGainControlEnabled",value:function(){var C=M(P.mark((function _callee6(C){return P.wrap((function _callee6$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this._inputMediaStreamTrack.applyConstraints({autoGainControl:C});case 2:if(C===this.getIsAutoGainControlEnabled()){k.next=4;break}throw new Error("Could not successfully apply autoGainControl update to currently running track");case 4:this.emit(he);case 5:case"end":return k.stop()}}),_callee6,this)})));return function setIsAutoGainControlEnabled(k){return C.apply(this,arguments)}}()}]),AudioMediaStreamTrackController}(de);C.exports=ye,C.exports.EVT_UPDATED=he,C.exports.EVT_DESTROYED=fe},function(C,k){C.exports=function stopMediaStreamTrack(C){C.stop(),C.dispatchEvent(new Event("ended"))}},function(C,k,O){var P=O(22),M=O(23),F=O(46),ne=O(36),re=O(28),oe=O(29),se=O(545),ue=se.EVT_UPDATED,pe=se.EVT_DESTROYED,ve=function(C){"use strict";re(VideoMediaStreamTrackController,C);var k=oe(VideoMediaStreamTrackController);function VideoMediaStreamTrackController(C){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(P(this,VideoMediaStreamTrackController),"video"!==C.kind)throw new TypeError("inputMediaStreamTrack is not of video type");return k.call(this,C,O)}return M(VideoMediaStreamTrackController,[{key:"setIsMuted",value:function setIsMuted(C){return console.warn("video setIsMuted is not currently implemented"),F(ne(VideoMediaStreamTrackController.prototype),"setIsMuted",this).call(this,C)}}]),VideoMediaStreamTrackController}(se);C.exports=ve,C.exports.EVT_UPDATED=ue,C.exports.EVT_DESTROYED=pe},function(C,k,O){var P=O(549),M=O(619),F=M.getAudioQualityPresetConstraints,ne=M.AUDIO_QUALITY_PRESET_MUSIC_HIGH_QUALITY;C.exports=function makeAudioConstraints(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=F(ne);return P(k,C)}},function(C,k,O){var P=O(531).GENERIC_OUTPUT_DEVICE_KIND;C.exports=function filterOutputMediaDevices(C){return C.filter((function(C){return C.kind.includes(P)}))}},function(C,k,O){"use strict";O.d(k,"a",(function(){return De}));var P=O(75),M=O(1),F=O.n(M),ne=O(3),re=O(4),oe=O(790),se=O(542),ue=O(789),pe=O(823),ve=O(824),de=O(551),he=O(635),fe=O(636),ge=O(637),me=O(638),ye=O(640),be=O(590),ke=O(642),Oe=O(643),Ee=O(644),Re=O(569),Ie=O(704),Ae=O(633),Pe=O(634),Te=O(524),je=O(641),_e=O(570),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},De=function(){function SynthesisAdapterBase(C,k,O,P,M){var F=this;if(Object(ne.a)(this,SynthesisAdapterBase),this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.sendSynthesisContext=function(C){var k=F.synthesisContext.toJSON();if(k)return C.send(new _e.a(oe.b.Text,"synthesis.context",F.privSynthesisTurn.requestId,"application/json",k))},this.sendSpeechServiceConfig=function(C,k){if(k)return C.send(new _e.a(oe.b.Text,"speech.config",F.privSynthesisTurn.requestId,"application/json",k))},this.sendSsmlMessage=function(C,k,O){return C.send(new _e.a(oe.b.Text,"ssml",O,"application/ssml+xml",k))},!C)throw new se.a("authentication");if(!k)throw new se.a("connectionFactory");if(!O)throw new se.a("synthesizerConfig");this.privAuthentication=C,this.privConnectionFactory=k,this.privSynthesizerConfig=O,this.privIsDisposed=!1,this.privSpeechSynthesizer=P,this.privSessionAudioDestination=M,this.privSynthesisTurn=new Ie.a,this.privConnectionEvents=new ue.a,this.privServiceEvents=new ue.a,this.privSynthesisContext=new Ae.a(this.privSpeechSynthesizer),this.privAgentConfig=new Pe.a,this.connectionEvents.attach((function(C){if("ConnectionClosedEvent"===C.name){var k=C;1e3!==k.statusCode&&F.cancelSynthesisLocal(he.a.Error,1007===k.statusCode?fe.a.BadRequestParameters:fe.a.ConnectionFailure,k.reason+" websocket error code: "+k.statusCode)}}))}return Object(re.a)(SynthesisAdapterBase,[{key:"synthesisContext",get:function get(){return this.privSynthesisContext}},{key:"agentConfig",get:function get(){return this.privAgentConfig}},{key:"connectionEvents",get:function get(){return this.privConnectionEvents}},{key:"serviceEvents",get:function get(){return this.privServiceEvents}},{key:"activityTemplate",get:function get(){return this.privActivityTemplate},set:function set(C){this.privActivityTemplate=C}},{key:"audioOutputFormat",set:function set(C){this.privAudioOutputFormat=C,this.privSynthesisTurn.audioOutputFormat=C,void 0!==this.privSessionAudioDestination&&(this.privSessionAudioDestination.format=C),void 0!==this.synthesisContext&&(this.synthesisContext.audioOutputFormat=C)}},{key:"isDisposed",value:function isDisposed(){return this.privIsDisposed}},{key:"dispose",value:function dispose(C){return __awaiter(this,void 0,void 0,F.a.mark((function _callee(){var k;return F.a.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:if(this.privIsDisposed=!0,void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.close(),!this.privConnectionConfigurationPromise){O.next=8;break}return O.next=5,this.privConnectionConfigurationPromise;case 5:return k=O.sent,O.next=8,k.dispose(C);case 8:case"end":return O.stop()}}),_callee,this)})))}},{key:"connect",value:function connect(){return __awaiter(this,void 0,void 0,F.a.mark((function _callee2(){return F.a.wrap((function _callee2$(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.connectImpl();case 2:case"end":return C.stop()}}),_callee2,this)})))}},{key:"sendNetworkMessage",value:function sendNetworkMessage(C,k){return __awaiter(this,void 0,void 0,F.a.mark((function _callee3(){var O,P,M;return F.a.wrap((function _callee3$(F){for(;;)switch(F.prev=F.next){case 0:return O="string"===typeof k?oe.b.Text:oe.b.Binary,P="string"===typeof k?"application/json":"",F.next=4,this.fetchConnection();case 4:return M=F.sent,F.abrupt("return",M.send(new _e.a(O,C,this.privSynthesisTurn.requestId,P,k)));case 6:case"end":return F.stop()}}),_callee3,this)})))}},{key:"Speak",value:function Speak(C,k,O,P,M,ne){return __awaiter(this,void 0,void 0,F.a.mark((function _callee4(){var re,oe,se;return F.a.wrap((function _callee4$(F){for(;;)switch(F.prev=F.next){case 0:if(re=k?C:this.privSpeechSynthesizer.buildSsml(C),void 0===this.speakOverride){F.next=3;break}return F.abrupt("return",this.speakOverride(re,O,P,M));case 3:return this.privSuccessCallback=P,this.privErrorCallback=M,this.privSynthesisTurn.startNewSynthesis(O,C,k,ne),F.prev=6,F.next=9,this.connectImpl();case 9:return F.next=11,this.fetchConnection();case 11:return oe=F.sent,F.next=14,this.sendSynthesisContext(oe);case 14:return F.next=16,this.sendSsmlMessage(oe,re,O);case 16:se=new ge.a(new me.a(O,ye.a.SynthesizingAudioStarted)),this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,se),this.receiveMessage(),F.next=25;break;case 21:return F.prev=21,F.t0=F.catch(6),this.cancelSynthesisLocal(he.a.Error,fe.a.ConnectionFailure,F.t0),F.abrupt("return",Promise.reject(F.t0));case 25:case"end":return F.stop()}}),_callee4,this,[[6,21]])})))}},{key:"cancelSynthesis",value:function cancelSynthesis(C,k,O,P){var M=new be.a;M.setProperty(Te.CancellationErrorCodePropertyName,fe.a[O]);var F=new me.a(C,ye.a.Canceled,void 0,P,M);if(this.privSpeechSynthesizer.SynthesisCanceled){var ne=new ge.a(F);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,ne)}catch(re){}}if(this.privSuccessCallback)try{this.privSuccessCallback(F)}catch(oe){}}},{key:"cancelSynthesisLocal",value:function cancelSynthesisLocal(C,k,O){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,C,k,O))}},{key:"processTypeSpecificMessages",value:function processTypeSpecificMessages(C,k,O){return!0}},{key:"receiveMessage",value:function receiveMessage(){return __awaiter(this,void 0,void 0,F.a.mark((function _callee5(){var C,k,O,M,ne,re,oe,se,ue,ve,de,he,fe,be;return F.a.wrap((function _callee5$(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,F.next=3,this.fetchConnection();case 3:return C=F.sent,F.next=6,C.read();case 6:if(k=F.sent,void 0===this.receiveMessageOverride){F.next=9;break}return F.abrupt("return",this.receiveMessageOverride());case 9:if(!this.privIsDisposed){F.next=11;break}return F.abrupt("return");case 11:if(k){F.next=17;break}if(this.privSynthesisTurn.isSynthesizing){F.next=16;break}return F.abrupt("return");case 16:return F.abrupt("return",this.receiveMessage());case 17:if(this.privServiceHasSentMessage=!0,(O=_e.a.fromConnectionMessage(k)).requestId.toLowerCase()!==this.privSynthesisTurn.requestId.toLowerCase()){F.next=74;break}F.t0=O.path.toLowerCase(),F.next="turn.start"===F.t0?23:"response"===F.t0?25:"audio"===F.t0?27:"audio.metadata"===F.t0?29:"turn.end"===F.t0?59:73;break;case 23:return this.privSynthesisTurn.onServiceTurnStartResponse(),F.abrupt("break",74);case 25:return this.privSynthesisTurn.onServiceResponseMessage(O.textBody),F.abrupt("break",74);case 27:if(this.privSynthesisTurn.streamId.toLowerCase()===O.streamId.toLowerCase()&&O.binaryBody){if(this.privSynthesisTurn.onAudioChunkReceived(O.binaryBody),this.privSpeechSynthesizer.synthesizing)try{M=SynthesisAdapterBase.addHeader(O.binaryBody,this.privSynthesisTurn.audioOutputFormat),ne=new ge.a(new me.a(this.privSynthesisTurn.requestId,ye.a.SynthesizingAudio,M)),this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,ne)}catch(Re){}void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.write(O.binaryBody)}return F.abrupt("break",74);case 29:re=je.b.fromJSON(O.textBody).Metadata,oe=Object(P.a)(re),F.prev=31,oe.s();case 33:if((se=oe.n()).done){F.next=50;break}ue=se.value,F.t1=ue.Type,F.next=F.t1===je.a.WordBoundary?38:F.t1===je.a.Bookmark?42:F.t1===je.a.Viseme?45:48;break;case 38:if(this.privSynthesisTurn.onWordBoundaryEvent(ue.Data.text.Text),ve=new ke.a(ue.Data.Offset,ue.Data.text.Text,ue.Data.text.Length,this.privSynthesisTurn.currentTextOffset),this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,ve)}catch(Re){}return F.abrupt("break",48);case 42:if(de=new Oe.a(ue.Data.Offset,ue.Data.Bookmark),this.privSpeechSynthesizer.bookmarkReached)try{this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer,de)}catch(Re){}return F.abrupt("break",48);case 45:if(this.privSynthesisTurn.onVisemeMetadataReceived(ue),ue.Data.IsLastAnimation&&(he=new Ee.a(ue.Data.Offset,ue.Data.VisemeId,this.privSynthesisTurn.getAndClearVisemeAnimation()),this.privSpeechSynthesizer.visemeReceived))try{this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer,he)}catch(Re){}return F.abrupt("break",48);case 48:F.next=33;break;case 50:F.next=55;break;case 52:F.prev=52,F.t2=F.catch(31),oe.e(F.t2);case 55:return F.prev=55,oe.f(),F.finish(55);case 58:return F.abrupt("break",74);case 59:return this.privSynthesisTurn.onServiceTurnEndResponse(),F.prev=60,F.next=63,this.privSynthesisTurn.getAllReceivedAudioWithHeader();case 63:be=F.sent,fe=new me.a(this.privSynthesisTurn.requestId,ye.a.SynthesizingAudioCompleted,be),this.privSuccessCallback&&this.privSuccessCallback(fe),F.next=71;break;case 68:F.prev=68,F.t3=F.catch(60),this.privErrorCallback&&this.privErrorCallback(F.t3);case 71:if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new ge.a(fe))}catch(Ie){}return F.abrupt("break",74);case 73:this.processTypeSpecificMessages(O)||this.privServiceEvents&&this.serviceEvents.onEvent(new pe.h(O.path.toLowerCase(),O.textBody));case 74:return F.abrupt("return",this.receiveMessage());case 77:F.prev=77,F.t4=F.catch(0);case 79:case"end":return F.stop()}}),_callee5,this,[[0,77],[31,52,55,58],[60,68]])})))}},{key:"connectImpl",value:function connectImpl(){var C=this,k=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.privConnectionPromise)return this.privConnectionPromise.then((function(k){return k.state()===ve.a.Disconnected?(C.privConnectionId=null,C.privConnectionPromise=null,C.privServiceHasSentMessage=!1,C.connectImpl()):C.privConnectionPromise}),(function(k){return C.privConnectionId=null,C.privConnectionPromise=null,C.privServiceHasSentMessage=!1,C.connectImpl()}));this.privAuthFetchEventId=Object(de.b)(),this.privConnectionId=Object(de.b)(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);var O=k?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=O.then((function(O){return __awaiter(C,void 0,void 0,F.a.mark((function _callee6(){var C,P,M=this;return F.a.wrap((function _callee6$(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,this.privSynthesisTurn.onAuthCompleted(!1);case 2:return(C=this.privConnectionFactory.create(this.privSynthesizerConfig,O,this.privConnectionId)).events.attach((function(C){M.connectionEvents.onEvent(C)})),F.next=6,C.open();case 6:if(200!==(P=F.sent).statusCode){F.next=13;break}return F.next=10,this.privSynthesisTurn.onConnectionEstablishCompleted(P.statusCode);case 10:return F.abrupt("return",Promise.resolve(C));case 13:if(403!==P.statusCode||k){F.next=17;break}return F.abrupt("return",this.connectImpl(!0));case 17:return F.next=19,this.privSynthesisTurn.onConnectionEstablishCompleted(P.statusCode,P.reason);case 19:return F.abrupt("return",Promise.reject("Unable to contact server. StatusCode: ".concat(P.statusCode,", ").concat(this.privSynthesizerConfig.parameters.getProperty(Re.a.SpeechServiceConnection_Endpoint)," Reason: ").concat(P.reason)));case 20:case"end":return F.stop()}}),_callee6,this)})))}),(function(k){return __awaiter(C,void 0,void 0,F.a.mark((function _callee7(){return F.a.wrap((function _callee7$(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.privSynthesisTurn.onAuthCompleted(!0,k);case 2:throw new Error(k);case 3:case"end":return C.stop()}}),_callee7,this)})))})),this.privConnectionPromise.catch((function(){})),this.privConnectionPromise}},{key:"fetchConnection",value:function fetchConnection(){return __awaiter(this,void 0,void 0,F.a.mark((function _callee8(){var C=this;return F.a.wrap((function _callee8$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privConnectionConfigurationPromise){k.next=2;break}return k.abrupt("return",this.privConnectionConfigurationPromise.then((function(k){return k.state()===ve.a.Disconnected?(C.privConnectionId=null,C.privConnectionConfigurationPromise=null,C.privServiceHasSentMessage=!1,C.fetchConnection()):C.privConnectionConfigurationPromise}),(function(k){return C.privConnectionId=null,C.privConnectionConfigurationPromise=null,C.privServiceHasSentMessage=!1,C.fetchConnection()})));case 2:return this.privConnectionConfigurationPromise=this.configureConnection(),k.next=5,this.privConnectionConfigurationPromise;case 5:return k.abrupt("return",k.sent);case 6:case"end":return k.stop()}}),_callee8,this)})))}},{key:"configureConnection",value:function configureConnection(){return __awaiter(this,void 0,void 0,F.a.mark((function _callee9(){var C;return F.a.wrap((function _callee9$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.connectImpl();case 2:if(C=k.sent,void 0===this.configConnectionOverride){k.next=5;break}return k.abrupt("return",this.configConnectionOverride(C));case 5:return k.next=7,this.sendSpeechServiceConfig(C,this.privSynthesizerConfig.SpeechServiceConfig.serialize());case 7:return k.abrupt("return",C);case 8:case"end":return k.stop()}}),_callee9,this)})))}}],[{key:"addHeader",value:function addHeader(C,k){if(!k.hasHeader)return C;k.updateHeader(C.byteLength);var O=new Uint8Array(C.byteLength+k.header.byteLength);return O.set(new Uint8Array(k.header),0),O.set(new Uint8Array(C),k.header.byteLength),O.buffer}}]),SynthesisAdapterBase}();De.telemetryDataEnabled=!0},function(C,k,O){"use strict";var P;O.d(k,"a",(function(){return P})),function(C){C[C.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",C[C.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",C[C.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",C[C.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",C[C.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",C[C.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",C[C.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",C[C.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",C[C.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",C[C.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",C[C.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",C[C.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",C[C.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",C[C.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",C[C.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",C[C.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",C[C.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",C[C.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",C[C.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus",C[C.Raw48Khz16BitMonoPcm=19]="Raw48Khz16BitMonoPcm",C[C.Riff48Khz16BitMonoPcm=20]="Riff48Khz16BitMonoPcm",C[C.Audio48Khz96KBitRateMonoMp3=21]="Audio48Khz96KBitRateMonoMp3",C[C.Audio48Khz192KBitRateMonoMp3=22]="Audio48Khz192KBitRateMonoMp3",C[C.Ogg48Khz16BitMonoOpus=23]="Ogg48Khz16BitMonoOpus",C[C.Webm16Khz16BitMonoOpus=24]="Webm16Khz16BitMonoOpus",C[C.Webm24Khz16BitMonoOpus=25]="Webm24Khz16BitMonoOpus",C[C.Raw24Khz16BitMonoTrueSilk=26]="Raw24Khz16BitMonoTrueSilk",C[C.Raw8Khz8BitMonoALaw=27]="Raw8Khz8BitMonoALaw",C[C.Riff8Khz8BitMonoALaw=28]="Riff8Khz8BitMonoALaw",C[C.Webm24Khz16Bit24KbpsMonoOpus=29]="Webm24Khz16Bit24KbpsMonoOpus",C[C.Audio16Khz16Bit32KbpsMonoOpus=30]="Audio16Khz16Bit32KbpsMonoOpus",C[C.Audio24Khz16Bit48KbpsMonoOpus=31]="Audio24Khz16Bit48KbpsMonoOpus",C[C.Audio24Khz16Bit24KbpsMonoOpus=32]="Audio24Khz16Bit24KbpsMonoOpus"}(P||(P={}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return ne}));var P=O(3),M=O(4),F=O(569),ne=function(){function PropertyCollection(){Object(P.a)(this,PropertyCollection),this.privKeys=[],this.privValues=[]}return Object(M.a)(PropertyCollection,[{key:"getProperty",value:function getProperty(C,k){var O;O="string"===typeof C?C:F.a[C];for(var P=0;P<this.privKeys.length;P++)if(this.privKeys[P]===O)return this.privValues[P];return k}},{key:"setProperty",value:function setProperty(C,k){var O;O="string"===typeof C?C:F.a[C];for(var P=0;P<this.privKeys.length;P++)if(this.privKeys[P]===O)return void(this.privValues[P]=k);this.privKeys.push(O),this.privValues.push(k)}},{key:"clone",value:function clone(){for(var C=new PropertyCollection,k=0;k<this.privKeys.length;k++)C.privKeys.push(this.privKeys[k]),C.privValues.push(this.privValues[k]);return C}},{key:"mergeTo",value:function mergeTo(C){var k=this;this.privKeys.forEach((function(O){if(void 0===C.getProperty(O,void 0)){var P=k.getProperty(O);C.setProperty(O,P)}}))}},{key:"keys",get:function get(){return this.privKeys}}]),PropertyCollection}()},function(C,k,O){"use strict";O.d(k,"b",(function(){return re})),O.d(k,"a",(function(){return oe}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=function(C){Object(F.a)(SpeechRecognitionEventArgs,C);var k=Object(ne.a)(SpeechRecognitionEventArgs);function SpeechRecognitionEventArgs(C,O,M){var F;return Object(P.a)(this,SpeechRecognitionEventArgs),(F=k.call(this,O,M)).privResult=C,F}return Object(M.a)(SpeechRecognitionEventArgs,[{key:"result",get:function get(){return this.privResult}}]),SpeechRecognitionEventArgs}(O(646).a),oe=function(C){Object(F.a)(ConversationTranscriptionEventArgs,C);var k=Object(ne.a)(ConversationTranscriptionEventArgs);function ConversationTranscriptionEventArgs(){return Object(P.a)(this,ConversationTranscriptionEventArgs),k.apply(this,arguments)}return ConversationTranscriptionEventArgs}(re)},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=function(C){Object(F.a)(CancellationEventArgsBase,C);var k=Object(ne.a)(CancellationEventArgsBase);function CancellationEventArgsBase(C,O,M,F,ne){var re;return Object(P.a)(this,CancellationEventArgsBase),(re=k.call(this,F,ne)).privReason=C,re.privErrorDetails=O,re.privErrorCode=M,re}return Object(M.a)(CancellationEventArgsBase,[{key:"reason",get:function get(){return this.privReason}},{key:"errorCode",get:function get(){return this.privErrorCode}},{key:"errorDetails",get:function get(){return this.privErrorDetails}}]),CancellationEventArgsBase}(O(646).a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=function(C){Object(F.a)(TranslationRecognitionResult,C);var k=Object(ne.a)(TranslationRecognitionResult);function TranslationRecognitionResult(C,O,M,F,ne,re,oe,se,ue){var pe;return Object(P.a)(this,TranslationRecognitionResult),(pe=k.call(this,O,M,F,ne,re,void 0,void 0,void 0,oe,se,ue)).privTranslations=C,pe}return Object(M.a)(TranslationRecognitionResult,[{key:"translations",get:function get(){return this.privTranslations}}]),TranslationRecognitionResult}(O(650).a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return he})),O.d(k,"b",(function(){return fe}));var P=O(5),M=O(6),F=O(3),ne=O(4),re=O(524),oe=O(526),se=O(569),ue=O(590),pe=O(647),ve=O(656),de=O(589),he=function(){function SpeechConfig(){Object(F.a)(this,SpeechConfig)}return Object(ne.a)(SpeechConfig,[{key:"close",value:function close(){}}],[{key:"fromSubscription",value:function fromSubscription(C,k){oe.a.throwIfNullOrWhitespace(C,"subscriptionKey"),oe.a.throwIfNullOrWhitespace(k,"region");var O=new fe;return O.setProperty(se.a.SpeechServiceConnection_Region,k),O.setProperty(se.a.SpeechServiceConnection_IntentRegion,k),O.setProperty(se.a.SpeechServiceConnection_Key,C),O}},{key:"fromEndpoint",value:function fromEndpoint(C,k){oe.a.throwIfNull(C,"endpoint");var O=new fe;return O.setProperty(se.a.SpeechServiceConnection_Endpoint,C.href),void 0!==k&&O.setProperty(se.a.SpeechServiceConnection_Key,k),O}},{key:"fromHost",value:function fromHost(C,k){oe.a.throwIfNull(C,"hostName");var O=new fe;return O.setProperty(se.a.SpeechServiceConnection_Host,C.protocol+"//"+C.hostname+(""===C.port?"":":"+C.port)),void 0!==k&&O.setProperty(se.a.SpeechServiceConnection_Key,k),O}},{key:"fromAuthorizationToken",value:function fromAuthorizationToken(C,k){oe.a.throwIfNull(C,"authorizationToken"),oe.a.throwIfNullOrWhitespace(k,"region");var O=new fe;return O.setProperty(se.a.SpeechServiceConnection_Region,k),O.setProperty(se.a.SpeechServiceConnection_IntentRegion,k),O.authorizationToken=C,O}}]),SpeechConfig}(),fe=function(C){Object(P.a)(SpeechConfigImpl,C);var k=Object(M.a)(SpeechConfigImpl);function SpeechConfigImpl(){var C;return Object(F.a)(this,SpeechConfigImpl),(C=k.call(this)).privProperties=new ue.a,C.speechRecognitionLanguage="en-US",C.outputFormat=pe.a.Simple,C}return Object(ne.a)(SpeechConfigImpl,[{key:"properties",get:function get(){return this.privProperties}},{key:"endPoint",get:function get(){return new URL(this.privProperties.getProperty(se.a.SpeechServiceConnection_Endpoint))}},{key:"subscriptionKey",get:function get(){return this.privProperties.getProperty(se.a.SpeechServiceConnection_Key)}},{key:"region",get:function get(){return this.privProperties.getProperty(se.a.SpeechServiceConnection_Region)}},{key:"authorizationToken",get:function get(){return this.privProperties.getProperty(se.a.SpeechServiceAuthorization_Token)},set:function set(C){this.privProperties.setProperty(se.a.SpeechServiceAuthorization_Token,C)}},{key:"speechRecognitionLanguage",get:function get(){return this.privProperties.getProperty(se.a.SpeechServiceConnection_RecoLanguage)},set:function set(C){this.privProperties.setProperty(se.a.SpeechServiceConnection_RecoLanguage,C)}},{key:"autoDetectSourceLanguages",get:function get(){return this.privProperties.getProperty(se.a.SpeechServiceConnection_AutoDetectSourceLanguages)},set:function set(C){this.privProperties.setProperty(se.a.SpeechServiceConnection_AutoDetectSourceLanguages,C)}},{key:"outputFormat",get:function get(){return pe.a[this.privProperties.getProperty(re.OutputFormatPropertyName,void 0)]},set:function set(C){this.privProperties.setProperty(re.OutputFormatPropertyName,pe.a[C])}},{key:"endpointId",get:function get(){return this.privProperties.getProperty(se.a.SpeechServiceConnection_EndpointId)},set:function set(C){this.privProperties.setProperty(se.a.SpeechServiceConnection_EndpointId,C)}},{key:"setProperty",value:function setProperty(C,k){oe.a.throwIfNull(k,"value"),this.privProperties.setProperty(C,k)}},{key:"getProperty",value:function getProperty(C,k){return this.privProperties.getProperty(C,k)}},{key:"setProxy",value:function setProxy(C,k,O,P){this.setProperty(se.a[se.a.SpeechServiceConnection_ProxyHostName],C),this.setProperty(se.a[se.a.SpeechServiceConnection_ProxyPort],k),this.setProperty(se.a[se.a.SpeechServiceConnection_ProxyUserName],O),this.setProperty(se.a[se.a.SpeechServiceConnection_ProxyPassword],P)}},{key:"setServiceProperty",value:function setServiceProperty(C,k,O){var P=JSON.parse(this.privProperties.getProperty(re.ServicePropertiesPropertyName,"{}"));P[C]=k,this.privProperties.setProperty(re.ServicePropertiesPropertyName,JSON.stringify(P))}},{key:"setProfanity",value:function setProfanity(C){this.privProperties.setProperty(se.a.SpeechServiceResponse_ProfanityOption,ve.a[C])}},{key:"enableAudioLogging",value:function enableAudioLogging(){this.privProperties.setProperty(se.a.SpeechServiceConnection_EnableAudioLogging,"true")}},{key:"requestWordLevelTimestamps",value:function requestWordLevelTimestamps(){this.privProperties.setProperty(se.a.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}},{key:"enableDictation",value:function enableDictation(){this.privProperties.setProperty(re.ForceDictationPropertyName,"true")}},{key:"clone",value:function clone(){var C=new SpeechConfigImpl;return C.privProperties=this.privProperties.clone(),C}},{key:"speechSynthesisLanguage",get:function get(){return this.privProperties.getProperty(se.a.SpeechServiceConnection_SynthLanguage)},set:function set(C){this.privProperties.setProperty(se.a.SpeechServiceConnection_SynthLanguage,C)}},{key:"speechSynthesisVoiceName",get:function get(){return this.privProperties.getProperty(se.a.SpeechServiceConnection_SynthVoice)},set:function set(C){this.privProperties.setProperty(se.a.SpeechServiceConnection_SynthVoice,C)}},{key:"speechSynthesisOutputFormat",get:function get(){return de.a[this.privProperties.getProperty(se.a.SpeechServiceConnection_SynthOutputFormat,void 0)]},set:function set(C){this.privProperties.setProperty(se.a.SpeechServiceConnection_SynthOutputFormat,de.a[C])}}]),SpeechConfigImpl}(he)},,,,,function(C,k,O){"use strict";O.d(k,"useDrag",(function(){return useDrag}));var P=O(577),M=O(27),F=O.n(M),ne=O(718);O(600),O(601);function useRecognizers(C){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=arguments.length>2?arguments[2]:void 0,P=arguments.length>3?arguments[3]:void 0,M=F.a.useMemo((function(){return new ne.a(C)}),[]);if(M.applyHandlers(C,P),M.applyConfig(k,O),F.a.useEffect(M.effect.bind(M)),F.a.useEffect((function(){return M.clean.bind(M)}),[]),void 0===k.target)return M.bind.bind(M)}function useDrag(C){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(P.e)(P.a),useRecognizers({drag:C},k,"drag")}},function(C,k,O){},function(C,k){},,,,,,,,,function(C,k,O){"use strict";O.d(k,"a",(function(){return oe}));var P=O(535),M=O(27),F=O.n(M),ne=O(537),re=O(538),oe=function withHovering(C,k){var O=Object(re.f)(Object(M.forwardRef)((function(k,O){return F.a.createElement(C,Object(P.a)({},k,{externalRef:O,isHovering:Object(M.useContext)(ne.e)===k.index}))})),k);return O.displayName="WithHovering("+k+")",O}},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(27),M=O(537),F=function useActiveState(C,k,O){var F=Object(P.useState)(!1),ne=F[0],re=F[1],oe=[M.g.ENTER,M.g.SPACE].concat(O),se=function cancelActive(){return ne&&re(!1)};return{isActive:ne,onPointerDown:function onPointerDown(){k||re(!0)},onPointerUp:se,onPointerLeave:se,onKeyDown:function onKeyDown(O){ne||!C||k||-1===oe.indexOf(O.key)||re(!0)},onKeyUp:function onKeyUp(C){-1!==oe.indexOf(C.key)&&re(!1)},onBlur:function onBlur(C){ne&&!C.currentTarget.contains(C.relatedTarget)&&re(!1)}}}},,,function(C,k,O){var P=O(531).MEDIA_DEVICE_KINDS,M=O(615);C.exports=function getMatchedMediaDevice(C,k,O){if(!P.includes(C))throw new ReferenceError('Invalid kind "'.concat(C,'"'));return O.find((function(O){return M(k,O,C)}))}},function(C,k,O){var P=O(60),M=O(616),F=O(531).MEDIA_DEVICE_KINDS;C.exports=function getIsSameMediaDevice(C,k){var O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(O&&!F.includes(O))throw new ReferenceError('Invalid enforcedKind "'.concat(O));if("object"!==typeof C||"object"!==typeof k)throw new TypeError("deviceA and deviceB must be objects");var ne=[C,k].map((function(C){return M(C)})),re=P(ne,2),oe=re[0],se=re[1];if(O){if(!oe.kind&&!se.kind)return!1;[oe,se].forEach((function(C){C.kind||(C.kind=O)}))}if(!oe.kind||!se.kind)return!1;if(!F.includes(oe.kind))throw new ReferenceError('Invalid kind for deviceA "'.concat(oe.kind,'"'));if(!F.includes(se.kind))throw new ReferenceError('Invalid kind for deviceB "'.concat(se.kind,'"'));return(!O||oe.kind===O&&se.kind===O)&&(oe.kind===se.kind&&(void 0!==oe.deviceId||void 0!==se.deviceId)&&oe.deviceId===se.deviceId||oe.kind===se.kind&&(void 0!==oe.label||void 0!==se.label)&&oe.label===se.label)}},function(C,k){C.exports=function mediaDeviceToPlainObject(C){var k={};for(var O in C)k[O]=C[O];return k}},function(C,k,O){var P=O(1),M=O(35),F=O(22),ne=O(23),re=O(46),oe=O(36),se=O(28),ue=O(29),pe=O(15),ve=pe.PhantomCollection,de=pe.EVT_UPDATED,he=pe.EVT_DESTROYED,fe=ve.EVT_CHILD_INSTANCE_ADDED,ge=ve.EVT_CHILD_INSTANCE_REMOVED,me=O(545),ye=O(583),be=O(585),ke=O(531),Oe=ke.GENERIC_AUDIO_DEVICE_KIND,Ee=ke.GENERIC_VIDEO_DEVICE_KIND,Re=function(C){"use strict";se(MediaStreamTrackControllerCollection,C);var k=ue(MediaStreamTrackControllerCollection);function MediaStreamTrackControllerCollection(){var C,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return F(this,MediaStreamTrackControllerCollection),(C=k.call(this,O,P))._outputMediaStream=new MediaStream(C.getChildren().map((function(C){return C.getOutputTrack()}))),function(){var k=C.getChildren(),O=function _handleUpdate(){!function(){var O=C.getChildren(),P=MediaStreamTrackControllerCollection.getChildrenDiff(k,O),M=P.added,F=P.removed;M.forEach((function(k){if(!(k.getOutputTrack()instanceof MediaStreamTrack))throw new TypeError("mediaStreamTrack is not a MediaStreamTrack");C._outputMediaStream.addTrack(k.getOutputTrack())})),F.forEach((function(k){var O=k.getOutputTrack();if(O){if(!(O instanceof MediaStreamTrack))throw new TypeError("mediaStreamTrack is not a MediaStreamTrack");C._outputMediaStream.removeTrack(O)}}))}(),C._syncTrackControllersMuteState()};C.on(de,O),C.on(fe,O),C.on(ge,O)}(),C}return ne(MediaStreamTrackControllerCollection,[{key:"getOutputMediaStream",value:function getOutputMediaStream(){return this._outputMediaStream}},{key:"addChild",value:function addChild(C){if(!(C instanceof me))throw new TypeError("mediaStreamTrackController is not a MediaStreamTrackController");re(oe(MediaStreamTrackControllerCollection.prototype),"addChild",this).call(this,C),this._isMuted=!1}},{key:"addTrackController",value:function addTrackController(C){this.addChild(C)}},{key:"removeTrackController",value:function removeTrackController(C){this.removeChild(C)}},{key:"getTrackControllers",value:function getTrackControllers(){return this.getChildren()}},{key:"getAudioTrackControllers",value:function getAudioTrackControllers(){return this.getTrackControllers().filter((function(C){return C instanceof ye}))}},{key:"getVideoTrackControllers",value:function getVideoTrackControllers(){return this.getTrackControllers().filter((function(C){return C instanceof be}))}},{key:"getInputDeviceIds",value:function getInputDeviceIds(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,k=null;switch(C){case null:k="getTrackControllers";break;case Oe:k="getAudioTrackControllers";break;case Ee:k="getVideoTrackControllers";break;default:throw new ReferenceError('Unreferenced kind "'.concat(C,'"'))}return this[k]().map((function(C){return C.getInputDeviceId()}))}},{key:"_syncTrackControllersMuteState",value:function _syncTrackControllersMuteState(){var C=this.getChildren();C.every((function(C){return C.getIsMuted()}))?this._isMuted=!0:C.some((function(C){return!C.getIsMuted()}))&&(this._isMuted=!1)}},{key:"setIsMuted",value:function(){var C=M(P.mark((function _callee(C){return P.wrap((function _callee$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,Promise.all(this.getTrackControllers().map((function(k){return k.setIsMuted(C)})));case 2:case"end":return k.stop()}}),_callee,this)})));return function setIsMuted(k){return C.apply(this,arguments)}}()},{key:"getIsMuted",value:function getIsMuted(){return this._isMuted}},{key:"mute",value:function(){var C=M(P.mark((function _callee2(){return P.wrap((function _callee2$(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",this.setIsMuted(!0));case 1:case"end":return C.stop()}}),_callee2,this)})));return function mute(){return C.apply(this,arguments)}}()},{key:"unmute",value:function(){var C=M(P.mark((function _callee3(){return P.wrap((function _callee3$(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",this.setIsMuted(!1));case 1:case"end":return C.stop()}}),_callee3,this)})));return function unmute(){return C.apply(this,arguments)}}()},{key:"toggleMute",value:function(){var C=M(P.mark((function _callee4(){return P.wrap((function _callee4$(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",this.setIsMuted(!this._isMuted));case 1:case"end":return C.stop()}}),_callee4,this)})));return function toggleMute(){return C.apply(this,arguments)}}()},{key:"stop",value:function(){var C=M(P.mark((function _callee5(){return P.wrap((function _callee5$(C){for(;;)switch(C.prev=C.next){case 0:if(this.getIsDestroying()){C.next=2;break}return C.abrupt("return",this.destroy());case 2:case"end":return C.stop()}}),_callee5,this)})));return function stop(){return C.apply(this,arguments)}}()}]),MediaStreamTrackControllerCollection}(ve);C.exports=Re,C.exports.EVT_UPDATED=de,C.exports.EVT_DESTROYED=he,C.exports.EVT_CHILD_INSTANCE_ADDED=fe,C.exports.EVT_CHILD_INSTANCE_REMOVED=ge},function(C,k,O){var P=O(59),M=O(583),F=O(585),ne=O(531),re=ne.AUDIO_TRACK_KIND,oe=ne.VIDEO_TRACK_KIND;C.exports=function createTrackControllersFromMediaStream(C){var k,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ne=[],se=P(C.getTracks());try{for(se.s();!(k=se.n()).done;){var ue=k.value;switch(ue.kind){case re:ne.push(new M(ue,O));break;case oe:ne.push(new F(ue,O));break;default:throw new TypeError("Unknown track kind: ".concat(ue.kind))}}}catch(pe){se.e(pe)}finally{se.f()}return ne}},function(C,k){var O={name:"Talk Radio",constraints:{audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:24e3,sampleSize:8,channelCount:{ideal:1}}}},P={name:"Music - Low Quality",constraints:{audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,sampleRate:24e3,sampleSize:8,channelCount:{ideal:1}}}},M={name:"Music - High Quality",constraints:{audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,sampleRate:48e3,sampleSize:16,channelCount:{ideal:2}}}},F=[O,P,M];C.exports=F,C.exports.AUDIO_QUALITY_PRESET_TALK_RADIO=O,C.exports.AUDIO_QUALITY_PRESET_MUSIC_LOW_QUALITY=P,C.exports.AUDIO_QUALITY_PRESET_MUSIC_HIGH_QUALITY=M,C.exports.getAudioQualityPresetWithName=function(C){return F.find((function(k){var O=k.name;return C===O}))},C.exports.getAudioQualityPresetConstraints=function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return C.constraints}},function(C,k,O){var P=O(86),M=O(586),F=O(621),ne=O(549);C.exports=function makeScreenCaptureConstraints(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=P(P({},M(C&&C.audio)),F(ne({video:{cursor:"always"}},C&&C.video)));return ne(k,C)}},function(C,k,O){var P=O(549);C.exports=function makeVideoConstraints(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k={video:!0};return P(k,C)}},function(C,k,O){var P=O(109),M=O(549),F=O(531),ne=F.GENERIC_AUDIO_DEVICE_KIND,re=F.GENERIC_VIDEO_DEVICE_KIND;function makeSpecificDeviceIdCaptureConstraints(C,k){var O,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(k!==ne&&k!==re)throw new TypeError("deviceKind must be audio or video");if(F&&!1===F[k])return P({},k,!1);var oe=(P(O={},k,{deviceId:{exact:C||"default"}}),P(O,k===ne?re:ne,!1),O);return M(F,oe)}C.exports=function makeSpecificDeviceCaptureConstraints(C){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(C instanceof MediaDeviceInfo))throw console.warn(typeof C),new TypeError("mediaDeviceInfo must be of MediaDeviceInfo type");return makeSpecificDeviceIdCaptureConstraints(C.deviceId,"audioinput"===C.kind?ne:re,k)},C.exports.makeSpecificDeviceIdCaptureConstraints=makeSpecificDeviceIdCaptureConstraints},function(C,k){C.exports=function cacheDiffMediaDevices(C,k){var O=C.filter((function(C){return Boolean(k.find((function(k){return k.kind===C.kind&&k.deviceId===C.deviceId})))}));return k.forEach((function(k){Boolean(C.find((function(C){return C.kind===k.kind&&C.deviceId===k.deviceId})))||O.push(k)})),O}},function(C,k,O){var P=O(1),M=O(86),F=O(35),ne=O(560),re=O(549),oe=O(586);C.exports=function(){var C=F(P.mark((function _callee(){var C,k,O,F,se=arguments;return P.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:return C=se.length>0&&void 0!==se[0]?se[0]:{},k=se.length>1&&void 0!==se[1]?se[1]:{},O=M(M({},!C||C.audio?oe(C&&C.audio):{}),{},{video:!1}),P.next=5,navigator.mediaDevices.getUserMedia(re(O,C));case 5:return F=P.sent,P.abrupt("return",new ne(F,k));case 7:case"end":return P.stop()}}),_callee)})));return function captureMediaDevice(){return C.apply(this,arguments)}}()},function(C,k,O){var P=O(1),M=O(40),F=O(35),ne=O(623),re=function(){var C={lastIsAggressive:null,lastMediaDevices:[]};return F(P.mark((function _callee(){var k,O,F,re,oe=arguments;return P.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:if(k=!(oe.length>0&&void 0!==oe[0])||oe[0],navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){P.next=4;break}return console.warn("enumerateDevices() not supported."),P.abrupt("return",[]);case 4:return O=function fetchDevices(){return navigator.mediaDevices.enumerateDevices()},P.next=7,O();case 7:if(F=P.sent,!k||!F.some((function(C){return!C.label.length}))){P.next=16;break}return P.next=11,navigator.mediaDevices.getUserMedia({audio:!0});case 11:return re=P.sent,P.next=14,O();case 14:F=P.sent,re.getTracks().forEach((function(C){return C.stop()}));case 16:return Boolean(C.lastIsAggressive)===Boolean(k)?F=ne(C.lastMediaDevices,F):(C.lastIsAggressive=k,C.lastMediaDevices=[]),C.lastMediaDevices=M(F),P.abrupt("return",F);case 19:case"end":return P.stop()}}),_callee)})))}();C.exports=re},function(C,k,O){var P=O(545);C.exports=function getMediaDeviceTrackControllers(C){var k=C.deviceId;if(!k)throw new ReferenceError("Could not obtain deviceId from mediaDeviceInfo");return P.getTrackControllerInstances().filter((function(C){return C.getInputDeviceId()===k}))}},function(C,k,O){var P=O(763),M=P.EVT_DESTROYED,F=P.EVT_AUDIO_SILENCE_STARTED,ne=P.EVT_AUDIO_SILENCE_ENDED;C.exports=P,C.exports.EVT_DESTROYED=M,C.exports.EVT_AUDIO_SILENCE_STARTED=F,C.exports.EVT_AUDIO_SILENCE_ENDED=ne},,,function(C,k,O){var P;C.exports=(P=O(27),function(C){var k={};function n(O){if(k[O])return k[O].exports;var P=k[O]={i:O,l:!1,exports:{}};return C[O].call(P.exports,P,P.exports,n),P.l=!0,P.exports}return n.m=C,n.c=k,n.d=function(C,k,O){n.o(C,k)||Object.defineProperty(C,k,{enumerable:!0,get:O})},n.r=function(C){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},n.t=function(C,k){if(1&k&&(C=n(C)),8&k)return C;if(4&k&&"object"==typeof C&&C&&C.__esModule)return C;var O=Object.create(null);if(n.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:C}),2&k&&"string"!=typeof C)for(var P in C)n.d(O,P,function(k){return C[k]}.bind(null,P));return O},n.n=function(C){var k=C&&C.__esModule?function(){return C.default}:function(){return C};return n.d(k,"a",k),k},n.o=function(C,k){return Object.prototype.hasOwnProperty.call(C,k)},n.p="",n(n.s=48)}([function(C,k){C.exports=P},function(C,k){var O=C.exports={version:"2.6.12"};"number"==typeof __e&&(__e=O)},function(C,k,O){var P=O(26)("wks"),M=O(17),F=O(3).Symbol,ne="function"==typeof F;(C.exports=function(C){return P[C]||(P[C]=ne&&F[C]||(ne?F:M)("Symbol."+C))}).store=P},function(C,k){var O=C.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=O)},function(C,k,O){C.exports=!O(8)((function(){return 7!=Object.defineProperty({},"a",{get:function get(){return 7}}).a}))},function(C,k){var O={}.hasOwnProperty;C.exports=function(C,k){return O.call(C,k)}},function(C,k,O){var P=O(7),M=O(16);C.exports=O(4)?function(C,k,O){return P.f(C,k,M(1,O))}:function(C,k,O){return C[k]=O,C}},function(C,k,O){var P=O(10),M=O(35),F=O(23),ne=Object.defineProperty;k.f=O(4)?Object.defineProperty:function(C,k,O){if(P(C),k=F(k,!0),P(O),M)try{return ne(C,k,O)}catch(C){}if("get"in O||"set"in O)throw TypeError("Accessors not supported!");return"value"in O&&(C[k]=O.value),C}},function(C,k){C.exports=function(C){try{return!!C()}catch(C){return!0}}},function(C,k,O){var P=O(40),M=O(22);C.exports=function(C){return P(M(C))}},function(C,k,O){var P=O(11);C.exports=function(C){if(!P(C))throw TypeError(C+" is not an object!");return C}},function(C,k){C.exports=function(C){return"object"==typeof C?null!==C:"function"==typeof C}},function(C,k){C.exports={}},function(C,k,O){var P=O(39),M=O(27);C.exports=Object.keys||function(C){return P(C,M)}},function(C,k){C.exports=!0},function(C,k,O){var P=O(3),M=O(1),F=O(53),ne=O(6),re=O(5),oe=function c(C,k,O){var oe,se,ue,pe=C&c.F,ve=C&c.G,de=C&c.S,he=C&c.P,fe=C&c.B,ge=C&c.W,me=ve?M:M[k]||(M[k]={}),ye=me.prototype,be=ve?P:de?P[k]:(P[k]||{}).prototype;for(oe in ve&&(O=k),O)(se=!pe&&be&&void 0!==be[oe])&&re(me,oe)||(ue=se?be[oe]:O[oe],me[oe]=ve&&"function"!=typeof be[oe]?O[oe]:fe&&se?F(ue,P):ge&&be[oe]==ue?function(C){var k=function t(k,O,P){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(k);case 2:return new C(k,O)}return new C(k,O,P)}return C.apply(this,arguments)};return k.prototype=C.prototype,k}(ue):he&&"function"==typeof ue?F(Function.call,ue):ue,he&&((me.virtual||(me.virtual={}))[oe]=ue,C&c.R&&ye&&!ye[oe]&&ne(ye,oe,ue)))};oe.F=1,oe.G=2,oe.S=4,oe.P=8,oe.B=16,oe.W=32,oe.U=64,oe.R=128,C.exports=oe},function(C,k){C.exports=function(C,k){return{enumerable:!(1&C),configurable:!(2&C),writable:!(4&C),value:k}}},function(C,k){var O=0,P=Math.random();C.exports=function(C){return"Symbol(".concat(void 0===C?"":C,")_",(++O+P).toString(36))}},function(C,k,O){var P=O(22);C.exports=function(C){return Object(P(C))}},function(C,k){k.f={}.propertyIsEnumerable},function(C,k,O){"use strict";var P=O(52)(!0);O(34)(String,"String",(function(C){this._t=String(C),this._i=0}),(function(){var C,k=this._t,O=this._i;return O>=k.length?{value:void 0,done:!0}:(C=P(k,O),this._i+=C.length,{value:C,done:!1})}))},function(C,k){var O=Math.ceil,P=Math.floor;C.exports=function(C){return isNaN(C=+C)?0:(C>0?P:O)(C)}},function(C,k){C.exports=function(C){if(null==C)throw TypeError("Can't call method on  "+C);return C}},function(C,k,O){var P=O(11);C.exports=function(C,k){if(!P(C))return C;var O,M;if(k&&"function"==typeof(O=C.toString)&&!P(M=O.call(C)))return M;if("function"==typeof(O=C.valueOf)&&!P(M=O.call(C)))return M;if(!k&&"function"==typeof(O=C.toString)&&!P(M=O.call(C)))return M;throw TypeError("Can't convert object to primitive value")}},function(C,k){var O={}.toString;C.exports=function(C){return O.call(C).slice(8,-1)}},function(C,k,O){var P=O(26)("keys"),M=O(17);C.exports=function(C){return P[C]||(P[C]=M(C))}},function(C,k,O){var P=O(1),M=O(3),F=M["__core-js_shared__"]||(M["__core-js_shared__"]={});(C.exports=function(C,k){return F[C]||(F[C]=void 0!==k?k:{})})("versions",[]).push({version:P.version,mode:O(14)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(C,k){C.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(C,k,O){var P=O(7).f,M=O(5),F=O(2)("toStringTag");C.exports=function(C,k,O){C&&!M(C=O?C:C.prototype,F)&&P(C,F,{configurable:!0,value:k})}},function(C,k,O){O(62);for(var P=O(3),M=O(6),F=O(12),ne=O(2)("toStringTag"),re="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),oe=0;oe<re.length;oe++){var se=re[oe],ue=P[se],pe=ue&&ue.prototype;pe&&!pe[ne]&&M(pe,ne,se),F[se]=F.Array}},function(C,k,O){k.f=O(2)},function(C,k,O){var P=O(3),M=O(1),F=O(14),ne=O(30),re=O(7).f;C.exports=function(C){var k=M.Symbol||(M.Symbol=F?{}:P.Symbol||{});"_"==C.charAt(0)||C in k||re(k,C,{value:ne.f(C)})}},function(C,k){k.f=Object.getOwnPropertySymbols},function(C,k){C.exports=function(C,k,O){return Math.min(Math.max(C,k),O)}},function(C,k,O){"use strict";var P=O(14),M=O(15),F=O(37),ne=O(6),re=O(12),oe=O(55),se=O(28),ue=O(61),pe=O(2)("iterator"),ve=!([].keys&&"next"in[].keys()),de=function d(){return this};C.exports=function(C,k,O,he,fe,ge,me){oe(O,k,he);var ye,be,ke,Oe=function j(C){if(!ve&&C in Ae)return Ae[C];switch(C){case"keys":case"values":return function(){return new O(this,C)}}return function(){return new O(this,C)}},Ee=k+" Iterator",Re="values"==fe,Ie=!1,Ae=C.prototype,Pe=Ae[pe]||Ae["@@iterator"]||fe&&Ae[fe],Te=Pe||Oe(fe),je=fe?Re?Oe("entries"):Te:void 0,_e="Array"==k&&Ae.entries||Pe;if(_e&&(ke=ue(_e.call(new C)))!==Object.prototype&&ke.next&&(se(ke,Ee,!0),P||"function"==typeof ke[pe]||ne(ke,pe,de)),Re&&Pe&&"values"!==Pe.name&&(Ie=!0,Te=function S(){return Pe.call(this)}),P&&!me||!ve&&!Ie&&Ae[pe]||ne(Ae,pe,Te),re[k]=Te,re[Ee]=de,fe)if(ye={values:Re?Te:Oe("values"),keys:ge?Te:Oe("keys"),entries:je},me)for(be in ye)be in Ae||F(Ae,be,ye[be]);else M(M.P+M.F*(ve||Ie),k,ye);return ye}},function(C,k,O){C.exports=!O(4)&&!O(8)((function(){return 7!=Object.defineProperty(O(36)("div"),"a",{get:function get(){return 7}}).a}))},function(C,k,O){var P=O(11),M=O(3).document,F=P(M)&&P(M.createElement);C.exports=function(C){return F?M.createElement(C):{}}},function(C,k,O){C.exports=O(6)},function(C,k,O){var P=O(10),M=O(56),F=O(27),ne=O(25)("IE_PROTO"),re=function s(){},oe=function c(){var C,k=O(36)("iframe"),P=F.length;for(k.style.display="none",O(60).appendChild(k),k.src="javascript:",(C=k.contentWindow.document).open(),C.write("<script>document.F=Object<\/script>"),C.close(),oe=C.F;P--;)delete oe.prototype[F[P]];return oe()};C.exports=Object.create||function(C,k){var O;return null!==C?(re.prototype=P(C),O=new re,re.prototype=null,O[ne]=C):O=oe(),void 0===k?O:M(O,k)}},function(C,k,O){var P=O(5),M=O(9),F=O(57)(!1),ne=O(25)("IE_PROTO");C.exports=function(C,k){var O,re=M(C),oe=0,se=[];for(O in re)O!=ne&&P(re,O)&&se.push(O);for(;k.length>oe;)P(re,O=k[oe++])&&(~F(se,O)||se.push(O));return se}},function(C,k,O){var P=O(24);C.exports=Object("z").propertyIsEnumerable(0)?Object:function(C){return"String"==P(C)?C.split(""):Object(C)}},function(C,k,O){var P=O(39),M=O(27).concat("length","prototype");k.f=Object.getOwnPropertyNames||function(C){return P(C,M)}},function(C,k,O){var P=O(24),M=O(2)("toStringTag"),F="Arguments"==P(function(){return arguments}());C.exports=function(C){var k,O,ne;return void 0===C?"Undefined":null===C?"Null":"string"==typeof(O=function(C,k){try{return C[k]}catch(C){}}(k=Object(C),M))?O:F?P(k):"Object"==(ne=P(k))&&"function"==typeof k.callee?"Arguments":ne}},function(C,k){var O;O=function(){return this}();try{O=O||new Function("return this")()}catch(C){"object"==typeof window&&(O=window)}C.exports=O},function(C,k){var O=/-?\d+(\.\d+)?%?/g;C.exports=function(C){return C.match(O)}},function(C,k,O){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.getBase16Theme=k.createStyling=k.invertTheme=void 0;var P=d(O(49)),M=d(O(76)),F=d(O(81)),ne=d(O(89)),re=d(O(93)),oe=function(C){if(C&&C.__esModule)return C;var k={};if(null!=C)for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&(k[O]=C[O]);return k.default=C,k}(O(94)),se=d(O(132)),ue=d(O(133)),pe=d(O(138)),ve=O(139);function d(C){return C&&C.__esModule?C:{default:C}}var de=oe.default,he=(0,ne.default)(de),fe=(0,pe.default)(ue.default,ve.rgb2yuv,(function(C){var k,O=(0,F.default)(C,3);return[(k=O[0],k<.25?1:k<.5?.9-k:1.1-k),O[1],O[2]]}),ve.yuv2rgb,se.default),ge=function m(C){return function(k){return{className:[k.className,C.className].filter(Boolean).join(" "),style:(0,M.default)({},k.style||{},C.style||{})}}},me=function y(C,k){var O=(0,ne.default)(k);for(var F in C)-1===O.indexOf(F)&&O.push(F);return O.reduce((function(O,F){return O[F]=function(C,k){if(void 0===C)return k;if(void 0===k)return C;var O=void 0===C?"undefined":(0,P.default)(C),F=void 0===k?"undefined":(0,P.default)(k);switch(O){case"string":switch(F){case"string":return[k,C].filter(Boolean).join(" ");case"object":return ge({className:C,style:k});case"function":return function(O){for(var P=arguments.length,M=Array(P>1?P-1:0),F=1;F<P;F++)M[F-1]=arguments[F];return ge({className:C})(k.apply(void 0,[O].concat(M)))}}case"object":switch(F){case"string":return ge({className:k,style:C});case"object":return(0,M.default)({},k,C);case"function":return function(O){for(var P=arguments.length,M=Array(P>1?P-1:0),F=1;F<P;F++)M[F-1]=arguments[F];return ge({style:C})(k.apply(void 0,[O].concat(M)))}}case"function":switch(F){case"string":return function(O){for(var P=arguments.length,M=Array(P>1?P-1:0),F=1;F<P;F++)M[F-1]=arguments[F];return C.apply(void 0,[ge(O)({className:k})].concat(M))};case"object":return function(O){for(var P=arguments.length,M=Array(P>1?P-1:0),F=1;F<P;F++)M[F-1]=arguments[F];return C.apply(void 0,[ge(O)({style:k})].concat(M))};case"function":return function(O){for(var P=arguments.length,M=Array(P>1?P-1:0),F=1;F<P;F++)M[F-1]=arguments[F];return C.apply(void 0,[k.apply(void 0,[O].concat(M))].concat(M))}}}}(C[F],k[F]),O}),{})},ye=function g(C,k){for(var O=arguments.length,F=Array(O>2?O-2:0),re=2;re<O;re++)F[re-2]=arguments[re];if(null===k)return C;Array.isArray(k)||(k=[k]);var oe=k.map((function(k){return C[k]})).filter(Boolean).reduce((function(C,k){return"string"==typeof k?C.className=[C.className,k].filter(Boolean).join(" "):"object"===(void 0===k?"undefined":(0,P.default)(k))?C.style=(0,M.default)({},C.style,k):"function"==typeof k&&(C=(0,M.default)({},C,k.apply(void 0,[C].concat(F)))),C}),{className:"",style:{}});return oe.className||delete oe.className,0===(0,ne.default)(oe.style).length&&delete oe.style,oe},be=k.invertTheme=function(C){return(0,ne.default)(C).reduce((function(k,O){return k[O]=/^base/.test(O)?fe(C[O]):"scheme"===O?C[O]+":inverted":C[O],k}),{})},ke=(k.createStyling=(0,re.default)((function(C){for(var k=arguments.length,O=Array(k>3?k-3:0),P=3;P<k;P++)O[P-3]=arguments[P];var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},oe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},se=F.defaultBase16,ue=void 0===se?de:se,pe=F.base16Themes,ve=ke(oe,void 0===pe?null:pe);ve&&(oe=(0,M.default)({},ve,oe));var fe=he.reduce((function(C,k){return C[k]=oe[k]||ue[k],C}),{}),ge=(0,ne.default)(oe).reduce((function(C,k){return-1===he.indexOf(k)?(C[k]=oe[k],C):C}),{}),be=C(fe),Oe=me(ge,be);return(0,re.default)(ye,2).apply(void 0,[Oe].concat(O))}),3),k.getBase16Theme=function(C,k){if(C&&C.extend&&(C=C.extend),"string"==typeof C){var O=C.split(":"),P=(0,F.default)(O,2),M=P[0],ne=P[1];C=(k||{})[M]||oe[M],"inverted"===ne&&(C=be(C))}return C&&C.hasOwnProperty("base00")?C:void 0})},function(C,k,O){"use strict";var P,M="object"==typeof Reflect?Reflect:null,F=M&&"function"==typeof M.apply?M.apply:function(C,k,O){return Function.prototype.apply.call(C,k,O)};P=M&&"function"==typeof M.ownKeys?M.ownKeys:Object.getOwnPropertySymbols?function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:function(C){return Object.getOwnPropertyNames(C)};var ne=Number.isNaN||function(C){return C!=C};function s(){s.init.call(this)}C.exports=s,C.exports.once=function(C,k){return new Promise((function(O,P){function r(){void 0!==M&&C.removeListener("error",M),O([].slice.call(arguments))}var M;"error"!==k&&(M=function o(O){C.removeListener(k,r),P(O)},C.once("error",M)),C.once(k,r)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var re=10;function l(C){if("function"!=typeof C)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}function u(C){return void 0===C._maxListeners?s.defaultMaxListeners:C._maxListeners}function f(C,k,O,P){var M,F,ne,re;if(l(O),void 0===(F=C._events)?(F=C._events=Object.create(null),C._eventsCount=0):(void 0!==F.newListener&&(C.emit("newListener",k,O.listener?O.listener:O),F=C._events),ne=F[k]),void 0===ne)ne=F[k]=O,++C._eventsCount;else if("function"==typeof ne?ne=F[k]=P?[O,ne]:[ne,O]:P?ne.unshift(O):ne.push(O),(M=u(C))>0&&ne.length>M&&!ne.warned){ne.warned=!0;var oe=new Error("Possible EventEmitter memory leak detected. "+ne.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");oe.name="MaxListenersExceededWarning",oe.emitter=C,oe.type=k,oe.count=ne.length,re=oe,console&&console.warn&&console.warn(re)}return C}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(C,k,O){var P={fired:!1,wrapFn:void 0,target:C,type:k,listener:O},M=p.bind(P);return M.listener=O,P.wrapFn=M,M}function b(C,k,O){var P=C._events;if(void 0===P)return[];var M=P[k];return void 0===M?[]:"function"==typeof M?O?[M.listener||M]:[M]:O?function(C){for(var k=new Array(C.length),O=0;O<k.length;++O)k[O]=C[O].listener||C[O];return k}(M):v(M,M.length)}function h(C){var k=this._events;if(void 0!==k){var O=k[C];if("function"==typeof O)return 1;if(void 0!==O)return O.length}return 0}function v(C,k){for(var O=new Array(k),P=0;P<k;++P)O[P]=C[P];return O}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function get(){return re},set:function set(C){if("number"!=typeof C||C<0||ne(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");re=C}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(C){if("number"!=typeof C||C<0||ne(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(C){for(var k=[],O=1;O<arguments.length;O++)k.push(arguments[O]);var P="error"===C,M=this._events;if(void 0!==M)P=P&&void 0===M.error;else if(!P)return!1;if(P){var ne;if(k.length>0&&(ne=k[0]),ne instanceof Error)throw ne;var re=new Error("Unhandled error."+(ne?" ("+ne.message+")":""));throw re.context=ne,re}var oe=M[C];if(void 0===oe)return!1;if("function"==typeof oe)F(oe,this,k);else{var se=oe.length,ue=v(oe,se);for(O=0;O<se;++O)F(ue[O],this,k)}return!0},s.prototype.addListener=function(C,k){return f(this,C,k,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(C,k){return f(this,C,k,!0)},s.prototype.once=function(C,k){return l(k),this.on(C,d(this,C,k)),this},s.prototype.prependOnceListener=function(C,k){return l(k),this.prependListener(C,d(this,C,k)),this},s.prototype.removeListener=function(C,k){var O,P,M,F,ne;if(l(k),void 0===(P=this._events))return this;if(void 0===(O=P[C]))return this;if(O===k||O.listener===k)0==--this._eventsCount?this._events=Object.create(null):(delete P[C],P.removeListener&&this.emit("removeListener",C,O.listener||k));else if("function"!=typeof O){for(M=-1,F=O.length-1;F>=0;F--)if(O[F]===k||O[F].listener===k){ne=O[F].listener,M=F;break}if(M<0)return this;0===M?O.shift():function(C,k){for(;k+1<C.length;k++)C[k]=C[k+1];C.pop()}(O,M),1===O.length&&(P[C]=O[0]),void 0!==P.removeListener&&this.emit("removeListener",C,ne||k)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(C){var k,O,P;if(void 0===(O=this._events))return this;if(void 0===O.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==O[C]&&(0==--this._eventsCount?this._events=Object.create(null):delete O[C]),this;if(0===arguments.length){var M,F=Object.keys(O);for(P=0;P<F.length;++P)"removeListener"!==(M=F[P])&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(k=O[C]))this.removeListener(C,k);else if(void 0!==k)for(P=k.length-1;P>=0;P--)this.removeListener(C,k[P]);return this},s.prototype.listeners=function(C){return b(this,C,!0)},s.prototype.rawListeners=function(C){return b(this,C,!1)},s.listenerCount=function(C,k){return"function"==typeof C.listenerCount?C.listenerCount(k):h.call(C,k)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?P(this._events):[]}},function(C,k,O){C.exports.Dispatcher=O(140)},function(C,k,O){C.exports=O(142)},function(C,k,O){"use strict";k.__esModule=!0;var P=i(O(50)),M=i(O(65)),F="function"==typeof M.default&&"symbol"==typeof P.default?function(C){return typeof C}:function(C){return C&&"function"==typeof M.default&&C.constructor===M.default&&C!==M.default.prototype?"symbol":typeof C};function i(C){return C&&C.__esModule?C:{default:C}}k.default="function"==typeof M.default&&"symbol"===F(P.default)?function(C){return void 0===C?"undefined":F(C)}:function(C){return C&&"function"==typeof M.default&&C.constructor===M.default&&C!==M.default.prototype?"symbol":void 0===C?"undefined":F(C)}},function(C,k,O){C.exports={default:O(51),__esModule:!0}},function(C,k,O){O(20),O(29),C.exports=O(30).f("iterator")},function(C,k,O){var P=O(21),M=O(22);C.exports=function(C){return function(k,O){var F,ne,re=String(M(k)),oe=P(O),se=re.length;return oe<0||oe>=se?C?"":void 0:(F=re.charCodeAt(oe))<55296||F>56319||oe+1===se||(ne=re.charCodeAt(oe+1))<56320||ne>57343?C?re.charAt(oe):F:C?re.slice(oe,oe+2):ne-56320+(F-55296<<10)+65536}}},function(C,k,O){var P=O(54);C.exports=function(C,k,O){if(P(C),void 0===k)return C;switch(O){case 1:return function(O){return C.call(k,O)};case 2:return function(O,P){return C.call(k,O,P)};case 3:return function(O,P,M){return C.call(k,O,P,M)}}return function(){return C.apply(k,arguments)}}},function(C,k){C.exports=function(C){if("function"!=typeof C)throw TypeError(C+" is not a function!");return C}},function(C,k,O){"use strict";var P=O(38),M=O(16),F=O(28),ne={};O(6)(ne,O(2)("iterator"),(function(){return this})),C.exports=function(C,k,O){C.prototype=P(ne,{next:M(1,O)}),F(C,k+" Iterator")}},function(C,k,O){var P=O(7),M=O(10),F=O(13);C.exports=O(4)?Object.defineProperties:function(C,k){M(C);for(var O,ne=F(k),re=ne.length,oe=0;re>oe;)P.f(C,O=ne[oe++],k[O]);return C}},function(C,k,O){var P=O(9),M=O(58),F=O(59);C.exports=function(C){return function(k,O,ne){var re,oe=P(k),se=M(oe.length),ue=F(ne,se);if(C&&O!=O){for(;se>ue;)if((re=oe[ue++])!=re)return!0}else for(;se>ue;ue++)if((C||ue in oe)&&oe[ue]===O)return C||ue||0;return!C&&-1}}},function(C,k,O){var P=O(21),M=Math.min;C.exports=function(C){return C>0?M(P(C),9007199254740991):0}},function(C,k,O){var P=O(21),M=Math.max,F=Math.min;C.exports=function(C,k){return(C=P(C))<0?M(C+k,0):F(C,k)}},function(C,k,O){var P=O(3).document;C.exports=P&&P.documentElement},function(C,k,O){var P=O(5),M=O(18),F=O(25)("IE_PROTO"),ne=Object.prototype;C.exports=Object.getPrototypeOf||function(C){return C=M(C),P(C,F)?C[F]:"function"==typeof C.constructor&&C instanceof C.constructor?C.constructor.prototype:C instanceof Object?ne:null}},function(C,k,O){"use strict";var P=O(63),M=O(64),F=O(12),ne=O(9);C.exports=O(34)(Array,"Array",(function(C,k){this._t=ne(C),this._i=0,this._k=k}),(function(){var C=this._t,k=this._k,O=this._i++;return!C||O>=C.length?(this._t=void 0,M(1)):M(0,"keys"==k?O:"values"==k?C[O]:[O,C[O]])}),"values"),F.Arguments=F.Array,P("keys"),P("values"),P("entries")},function(C,k){C.exports=function(){}},function(C,k){C.exports=function(C,k){return{value:k,done:!!C}}},function(C,k,O){C.exports={default:O(66),__esModule:!0}},function(C,k,O){O(67),O(73),O(74),O(75),C.exports=O(1).Symbol},function(C,k,O){"use strict";var P=O(3),M=O(5),F=O(4),ne=O(15),re=O(37),oe=O(68).KEY,se=O(8),ue=O(26),pe=O(28),ve=O(17),de=O(2),he=O(30),fe=O(31),ge=O(69),me=O(70),ye=O(10),be=O(11),ke=O(18),Oe=O(9),Ee=O(23),Re=O(16),Ie=O(38),Ae=O(71),Pe=O(72),Te=O(32),je=O(7),_e=O(13),De=Pe.f,Me=je.f,Ne=Ae.f,Le=P.Symbol,ze=P.JSON,Be=ze&&ze.stringify,Fe=de("_hidden"),Ue=de("toPrimitive"),qe={}.propertyIsEnumerable,Ve=ue("symbol-registry"),Ke=ue("symbols"),He=ue("op-symbols"),We=Object.prototype,Je="function"==typeof Le&&!!Te.f,Ge=P.QObject,$e=!Ge||!Ge.prototype||!Ge.prototype.findChild,Ye=F&&se((function(){return 7!=Ie(Me({},"a",{get:function get(){return Me(this,"a",{value:7}).a}})).a}))?function(C,k,O){var P=De(We,k);P&&delete We[k],Me(C,k,O),P&&C!==We&&Me(We,k,P)}:Me,Qe=function G(C){var k=Ke[C]=Ie(Le.prototype);return k._k=C,k},Xe=Je&&"symbol"==typeof Le.iterator?function(C){return"symbol"==typeof C}:function(C){return C instanceof Le},Ze=function Y(C,k,O){return C===We&&Y(He,k,O),ye(C),k=Ee(k,!0),ye(O),M(Ke,k)?(O.enumerable?(M(C,Fe)&&C[Fe][k]&&(C[Fe][k]=!1),O=Ie(O,{enumerable:Re(0,!1)})):(M(C,Fe)||Me(C,Fe,Re(1,{})),C[Fe][k]=!0),Ye(C,k,O)):Me(C,k,O)},et=function $(C,k){ye(C);for(var O,P=ge(k=Oe(k)),M=0,F=P.length;F>M;)Ze(C,O=P[M++],k[O]);return C},tt=function Q(C){var k=qe.call(this,C=Ee(C,!0));return!(this===We&&M(Ke,C)&&!M(He,C))&&(!(k||!M(this,C)||!M(Ke,C)||M(this,Fe)&&this[Fe][C])||k)},nt=function Z(C,k){if(C=Oe(C),k=Ee(k,!0),C!==We||!M(Ke,k)||M(He,k)){var O=De(C,k);return!O||!M(Ke,k)||M(C,Fe)&&C[Fe][k]||(O.enumerable=!0),O}},rt=function X(C){for(var k,O=Ne(Oe(C)),P=[],F=0;O.length>F;)M(Ke,k=O[F++])||k==Fe||k==oe||P.push(k);return P},it=function ee(C){for(var k,O=C===We,P=Ne(O?He:Oe(C)),F=[],ne=0;P.length>ne;)!M(Ke,k=P[ne++])||O&&!M(We,k)||F.push(Ke[k]);return F};Je||(re((Le=function D(){if(this instanceof Le)throw TypeError("Symbol is not a constructor!");var C=ve(arguments.length>0?arguments[0]:void 0),k=function t(k){this===We&&t.call(He,k),M(this,Fe)&&M(this[Fe],C)&&(this[Fe][C]=!1),Ye(this,C,Re(1,k))};return F&&$e&&Ye(We,C,{configurable:!0,set:k}),Qe(C)}).prototype,"toString",(function(){return this._k})),Pe.f=nt,je.f=Ze,O(41).f=Ae.f=rt,O(19).f=tt,Te.f=it,F&&!O(14)&&re(We,"propertyIsEnumerable",tt,!0),he.f=function(C){return Qe(de(C))}),ne(ne.G+ne.W+ne.F*!Je,{Symbol:Le});for(var ot="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),at=0;ot.length>at;)de(ot[at++]);for(var st=_e(de.store),ct=0;st.length>ct;)fe(st[ct++]);ne(ne.S+ne.F*!Je,"Symbol",{for:function _for(C){return M(Ve,C+="")?Ve[C]:Ve[C]=Le(C)},keyFor:function keyFor(C){if(!Xe(C))throw TypeError(C+" is not a symbol!");for(var k in Ve)if(Ve[k]===C)return k},useSetter:function useSetter(){$e=!0},useSimple:function useSimple(){$e=!1}}),ne(ne.S+ne.F*!Je,"Object",{create:function create(C,k){return void 0===k?Ie(C):et(Ie(C),k)},defineProperty:Ze,defineProperties:et,getOwnPropertyDescriptor:nt,getOwnPropertyNames:rt,getOwnPropertySymbols:it});var ut=se((function(){Te.f(1)}));ne(ne.S+ne.F*ut,"Object",{getOwnPropertySymbols:function getOwnPropertySymbols(C){return Te.f(ke(C))}}),ze&&ne(ne.S+ne.F*(!Je||se((function(){var C=Le();return"[null]"!=Be([C])||"{}"!=Be({a:C})||"{}"!=Be(Object(C))}))),"JSON",{stringify:function stringify(C){for(var k,O,P=[C],M=1;arguments.length>M;)P.push(arguments[M++]);if(O=k=P[1],(be(k)||void 0!==C)&&!Xe(C))return me(k)||(k=function t(C,k){if("function"==typeof O&&(k=O.call(this,C,k)),!Xe(k))return k}),P[1]=k,Be.apply(ze,P)}}),Le.prototype[Ue]||O(6)(Le.prototype,Ue,Le.prototype.valueOf),pe(Le,"Symbol"),pe(Math,"Math",!0),pe(P.JSON,"JSON",!0)},function(C,k,O){var P=O(17)("meta"),M=O(11),F=O(5),ne=O(7).f,re=0,oe=Object.isExtensible||function(){return!0},se=!O(8)((function(){return oe(Object.preventExtensions({}))})),ue=function u(C){ne(C,P,{value:{i:"O"+ ++re,w:{}}})},pe=C.exports={KEY:P,NEED:!1,fastKey:function fastKey(C,k){if(!M(C))return"symbol"==typeof C?C:("string"==typeof C?"S":"P")+C;if(!F(C,P)){if(!oe(C))return"F";if(!k)return"E";ue(C)}return C[P].i},getWeak:function getWeak(C,k){if(!F(C,P)){if(!oe(C))return!0;if(!k)return!1;ue(C)}return C[P].w},onFreeze:function onFreeze(C){return se&&pe.NEED&&oe(C)&&!F(C,P)&&ue(C),C}}},function(C,k,O){var P=O(13),M=O(32),F=O(19);C.exports=function(C){var k=P(C),O=M.f;if(O)for(var ne,re=O(C),oe=F.f,se=0;re.length>se;)oe.call(C,ne=re[se++])&&k.push(ne);return k}},function(C,k,O){var P=O(24);C.exports=Array.isArray||function(C){return"Array"==P(C)}},function(C,k,O){var P=O(9),M=O(41).f,F={}.toString,ne="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];C.exports.f=function(C){return ne&&"[object Window]"==F.call(C)?function(C){try{return M(C)}catch(C){return ne.slice()}}(C):M(P(C))}},function(C,k,O){var P=O(19),M=O(16),F=O(9),ne=O(23),re=O(5),oe=O(35),se=Object.getOwnPropertyDescriptor;k.f=O(4)?se:function(C,k){if(C=F(C),k=ne(k,!0),oe)try{return se(C,k)}catch(C){}if(re(C,k))return M(!P.f.call(C,k),C[k])}},function(C,k){},function(C,k,O){O(31)("asyncIterator")},function(C,k,O){O(31)("observable")},function(C,k,O){"use strict";k.__esModule=!0;var P,M=(P=O(77))&&P.__esModule?P:{default:P};k.default=M.default||function(C){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(C[P]=O[P])}return C}},function(C,k,O){C.exports={default:O(78),__esModule:!0}},function(C,k,O){O(79),C.exports=O(1).Object.assign},function(C,k,O){var P=O(15);P(P.S+P.F,"Object",{assign:O(80)})},function(C,k,O){"use strict";var P=O(4),M=O(13),F=O(32),ne=O(19),re=O(18),oe=O(40),se=Object.assign;C.exports=!se||O(8)((function(){var C={},k={},O=Symbol(),P="abcdefghijklmnopqrst";return C[O]=7,P.split("").forEach((function(C){k[C]=C})),7!=se({},C)[O]||Object.keys(se({},k)).join("")!=P}))?function(C,k){for(var O=re(C),se=arguments.length,ue=1,pe=F.f,ve=ne.f;se>ue;)for(var de,he=oe(arguments[ue++]),fe=pe?M(he).concat(pe(he)):M(he),ge=fe.length,me=0;ge>me;)de=fe[me++],P&&!ve.call(he,de)||(O[de]=he[de]);return O}:se},function(C,k,O){"use strict";k.__esModule=!0;var P=o(O(82)),M=o(O(85));function o(C){return C&&C.__esModule?C:{default:C}}k.default=function(C,k){if(Array.isArray(C))return C;if((0,P.default)(Object(C)))return function(C,k){var O=[],P=!0,F=!1,ne=void 0;try{for(var re,oe=(0,M.default)(C);!(P=(re=oe.next()).done)&&(O.push(re.value),!k||O.length!==k);P=!0);}catch(C){F=!0,ne=C}finally{try{!P&&oe.return&&oe.return()}finally{if(F)throw ne}}return O}(C,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(C,k,O){C.exports={default:O(83),__esModule:!0}},function(C,k,O){O(29),O(20),C.exports=O(84)},function(C,k,O){var P=O(42),M=O(2)("iterator"),F=O(12);C.exports=O(1).isIterable=function(C){var k=Object(C);return void 0!==k[M]||"@@iterator"in k||F.hasOwnProperty(P(k))}},function(C,k,O){C.exports={default:O(86),__esModule:!0}},function(C,k,O){O(29),O(20),C.exports=O(87)},function(C,k,O){var P=O(10),M=O(88);C.exports=O(1).getIterator=function(C){var k=M(C);if("function"!=typeof k)throw TypeError(C+" is not iterable!");return P(k.call(C))}},function(C,k,O){var P=O(42),M=O(2)("iterator"),F=O(12);C.exports=O(1).getIteratorMethod=function(C){if(null!=C)return C[M]||C["@@iterator"]||F[P(C)]}},function(C,k,O){C.exports={default:O(90),__esModule:!0}},function(C,k,O){O(91),C.exports=O(1).Object.keys},function(C,k,O){var P=O(18),M=O(13);O(92)("keys",(function(){return function(C){return M(P(C))}}))},function(C,k,O){var P=O(15),M=O(1),F=O(8);C.exports=function(C,k){var O=(M.Object||{})[C]||Object[C],ne={};ne[C]=k(O),P(P.S+P.F*F((function(){O(1)})),"Object",ne)}},function(C,k,O){(function(k){var O=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],P=/^\s+|\s+$/g,M=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,F=/\{\n\/\* \[wrapped with (.+)\] \*/,ne=/,? & /,re=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,se=/^\[object .+?Constructor\]$/,ue=/^0o[0-7]+$/i,pe=/^(?:0|[1-9]\d*)$/,ve=parseInt,de="object"==typeof k&&k&&k.Object===Object&&k,he="object"==typeof self&&self&&self.Object===Object&&self,fe=de||he||Function("return this")();function v(C,k,O){switch(O.length){case 0:return C.call(k);case 1:return C.call(k,O[0]);case 2:return C.call(k,O[0],O[1]);case 3:return C.call(k,O[0],O[1],O[2])}return C.apply(k,O)}function m(C,k){return!(!C||!C.length)&&function(C,k,O){if(k!=k)return function(C,k,O,P){for(var M=C.length,F=O+(P?1:-1);P?F--:++F<M;)if(k(C[F],F,C))return F;return-1}(C,y,O);for(var P=O-1,M=C.length;++P<M;)if(C[P]===k)return P;return-1}(C,k,0)>-1}function y(C){return C!=C}function g(C,k){for(var O=C.length,P=0;O--;)C[O]===k&&P++;return P}function E(C,k){for(var O=-1,P=C.length,M=0,F=[];++O<P;){var ne=C[O];ne!==k&&"__lodash_placeholder__"!==ne||(C[O]="__lodash_placeholder__",F[M++]=O)}return F}var ge,me,ye,be=Function.prototype,ke=Object.prototype,Oe=fe["__core-js_shared__"],Ee=(ge=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||""))?"Symbol(src)_1."+ge:"",Re=be.toString,Ie=ke.hasOwnProperty,Ae=ke.toString,Pe=RegExp("^"+Re.call(Ie).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=Object.create,je=Math.max,_e=Math.min,De=(me=H(Object,"defineProperty"),(ye=H.name)&&ye.length>2?me:void 0);function L(C){return X(C)?Te(C):{}}function B(C){return!(!X(C)||function(C){return!!Ee&&Ee in C}(C))&&(function(C){var k=X(C)?Ae.call(C):"";return"[object Function]"==k||"[object GeneratorFunction]"==k}(C)||function(C){var k=!1;if(null!=C&&"function"!=typeof C.toString)try{k=!!(C+"")}catch(C){}return k}(C)?Pe:se).test(function(C){if(null!=C){try{return Re.call(C)}catch(C){}try{return C+""}catch(C){}}return""}(C))}function N(C,k,O,P){for(var M=-1,F=C.length,ne=O.length,re=-1,oe=k.length,se=je(F-ne,0),ue=Array(oe+se),pe=!P;++re<oe;)ue[re]=k[re];for(;++M<ne;)(pe||M<F)&&(ue[O[M]]=C[M]);for(;se--;)ue[re++]=C[M++];return ue}function z(C,k,O,P){for(var M=-1,F=C.length,ne=-1,re=O.length,oe=-1,se=k.length,ue=je(F-re,0),pe=Array(ue+se),ve=!P;++M<ue;)pe[M]=C[M];for(var de=M;++oe<se;)pe[de+oe]=k[oe];for(;++ne<re;)(ve||M<F)&&(pe[de+O[ne]]=C[M++]);return pe}function T(C){return function(){var k=arguments;switch(k.length){case 0:return new C;case 1:return new C(k[0]);case 2:return new C(k[0],k[1]);case 3:return new C(k[0],k[1],k[2]);case 4:return new C(k[0],k[1],k[2],k[3]);case 5:return new C(k[0],k[1],k[2],k[3],k[4]);case 6:return new C(k[0],k[1],k[2],k[3],k[4],k[5]);case 7:return new C(k[0],k[1],k[2],k[3],k[4],k[5],k[6])}var O=L(C.prototype),P=C.apply(O,k);return X(P)?P:O}}function q(C,k,O,P,M,F,ne,re,oe,se){var ue=128&k,pe=1&k,ve=2&k,de=24&k,he=512&k,ge=ve?void 0:T(C);return function m(){for(var me=arguments.length,ye=Array(me),be=me;be--;)ye[be]=arguments[be];if(de)var ke=W(m),Oe=g(ye,ke);if(P&&(ye=N(ye,P,M,de)),F&&(ye=z(ye,F,ne,de)),me-=Oe,de&&me<se){var Ee=E(ye,ke);return V(C,k,q,m.placeholder,O,ye,Ee,re,oe,se-me)}var Re=pe?O:this,Ie=ve?Re[C]:C;return me=ye.length,re?ye=Y(ye,re):he&&me>1&&ye.reverse(),ue&&oe<me&&(ye.length=oe),this&&this!==fe&&this instanceof m&&(Ie=ge||T(Ie)),Ie.apply(Re,ye)}}function V(C,k,O,P,M,F,ne,re,oe,se){var ue=8&k;k|=ue?32:64,4&(k&=~(ue?64:32))||(k&=-4);var pe=O(C,k,M,ue?F:void 0,ue?ne:void 0,ue?void 0:F,ue?void 0:ne,re,oe,se);return pe.placeholder=P,Me(pe,C,k)}function K(C,k,O,P,M,F,ne,re){var oe=2&k;if(!oe&&"function"!=typeof C)throw new TypeError("Expected a function");var se=P?P.length:0;if(se||(k&=-97,P=M=void 0),ne=void 0===ne?ne:je(te(ne),0),re=void 0===re?re:te(re),se-=M?M.length:0,64&k){var ue=P,pe=M;P=M=void 0}var ve=[C,k,O,P,M,ue,pe,F,ne,re];if(C=ve[0],k=ve[1],O=ve[2],P=ve[3],M=ve[4],!(re=ve[9]=null==ve[9]?oe?0:C.length:je(ve[9]-se,0))&&24&k&&(k&=-25),k&&1!=k)de=8==k||16==k?function(C,k,O){var P=T(C);return function r(){for(var M=arguments.length,F=Array(M),ne=M,re=W(r);ne--;)F[ne]=arguments[ne];var oe=M<3&&F[0]!==re&&F[M-1]!==re?[]:E(F,re);return(M-=oe.length)<O?V(C,k,q,r.placeholder,void 0,F,oe,void 0,void 0,O-M):v(this&&this!==fe&&this instanceof r?P:C,this,F)}}(C,k,re):32!=k&&33!=k||M.length?q.apply(void 0,ve):function(C,k,O,P){var M=1&k,F=T(C);return function t(){for(var k=-1,ne=arguments.length,re=-1,oe=P.length,se=Array(oe+ne),ue=this&&this!==fe&&this instanceof t?F:C;++re<oe;)se[re]=P[re];for(;ne--;)se[re++]=arguments[++k];return v(ue,M?O:this,se)}}(C,k,O,P);else var de=function(C,k,O){var P=1&k,M=T(C);return function t(){return(this&&this!==fe&&this instanceof t?M:C).apply(P?O:this,arguments)}}(C,k,O);return Me(de,C,k)}function W(C){return C.placeholder}function H(C,k){var O=function(C,k){return null==C?void 0:C[k]}(C,k);return B(O)?O:void 0}function U(C){var k=C.match(F);return k?k[1].split(ne):[]}function G(C,k){var O=k.length,P=O-1;return k[P]=(O>1?"& ":"")+k[P],k=k.join(O>2?", ":" "),C.replace(M,"{\n/* [wrapped with "+k+"] */\n")}function J(C,k){return!!(k=null==k?9007199254740991:k)&&("number"==typeof C||pe.test(C))&&C>-1&&C%1==0&&C<k}function Y(C,k){for(var O=C.length,P=_e(k.length,O),M=function(C,k){var O=-1,P=C.length;for(k||(k=Array(P));++O<P;)k[O]=C[O];return k}(C);P--;){var F=k[P];C[P]=J(F,O)?M[F]:void 0}return C}var Me=De?function(C,k,O){var P,M=k+"";return De(C,"toString",{configurable:!0,enumerable:!1,value:(P=G(M,Q(U(M),O)),function(){return P})})}:function(C){return C};function Q(C,k){return function(C,k){for(var O=-1,P=C?C.length:0;++O<P&&!1!==k(C[O],O,C););}(O,(function(O){var P="_."+O[0];k&O[1]&&!m(C,P)&&C.push(P)})),C.sort()}function Z(C,k,O){var P=K(C,8,void 0,void 0,void 0,void 0,void 0,k=O?void 0:k);return P.placeholder=Z.placeholder,P}function X(C){var k=typeof C;return!!C&&("object"==k||"function"==k)}function ee(C){return C?(C=function(C){if("number"==typeof C)return C;if(function(C){return"symbol"==typeof C||function(C){return!!C&&"object"==typeof C}(C)&&"[object Symbol]"==Ae.call(C)}(C))return NaN;if(X(C)){var k="function"==typeof C.valueOf?C.valueOf():C;C=X(k)?k+"":k}if("string"!=typeof C)return 0===C?C:+C;C=C.replace(P,"");var O=oe.test(C);return O||ue.test(C)?ve(C.slice(2),O?2:8):re.test(C)?NaN:+C}(C))===1/0||C===-1/0?17976931348623157e292*(C<0?-1:1):C==C?C:0:0===C?C:0}function te(C){var k=ee(C),O=k%1;return k==k?O?k-O:k:0}Z.placeholder={},C.exports=Z}).call(this,O(43))},function(C,k,O){"use strict";function a(C){return C&&C.__esModule?C.default:C}k.__esModule=!0;var P=O(95);k.threezerotwofour=a(P);var M=O(96);k.apathy=a(M);var F=O(97);k.ashes=a(F);var ne=O(98);k.atelierDune=a(ne);var re=O(99);k.atelierForest=a(re);var oe=O(100);k.atelierHeath=a(oe);var se=O(101);k.atelierLakeside=a(se);var ue=O(102);k.atelierSeaside=a(ue);var pe=O(103);k.bespin=a(pe);var ve=O(104);k.brewer=a(ve);var de=O(105);k.bright=a(de);var he=O(106);k.chalk=a(he);var fe=O(107);k.codeschool=a(fe);var ge=O(108);k.colors=a(ge);var me=O(109);k.default=a(me);var ye=O(110);k.eighties=a(ye);var be=O(111);k.embers=a(be);var ke=O(112);k.flat=a(ke);var Oe=O(113);k.google=a(Oe);var Ee=O(114);k.grayscale=a(Ee);var Re=O(115);k.greenscreen=a(Re);var Ie=O(116);k.harmonic=a(Ie);var Ae=O(117);k.hopscotch=a(Ae);var Pe=O(118);k.isotope=a(Pe);var Te=O(119);k.marrakesh=a(Te);var je=O(120);k.mocha=a(je);var _e=O(121);k.monokai=a(_e);var De=O(122);k.ocean=a(De);var Me=O(123);k.paraiso=a(Me);var Ne=O(124);k.pop=a(Ne);var Le=O(125);k.railscasts=a(Le);var ze=O(126);k.shapeshifter=a(ze);var Be=O(127);k.solarized=a(Be);var Fe=O(128);k.summerfruit=a(Fe);var Ue=O(129);k.tomorrow=a(Ue);var qe=O(130);k.tube=a(qe);var Ve=O(131);k.twilight=a(Ve)},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"brewer",author:"timoth\xe9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},C.exports=k.default},function(C,k,O){"use strict";k.__esModule=!0,k.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},C.exports=k.default},function(C,k,O){var P=O(33);function r(C){var k=Math.round(P(C,0,255)).toString(16);return 1==k.length?"0"+k:k}C.exports=function(C){var k=4===C.length?r(255*C[3]):"";return"#"+r(C[0])+r(C[1])+r(C[2])+k}},function(C,k,O){var P=O(134),M=O(135),F=O(136),ne=O(137),re={"#":M,hsl:function hsl(C){var k=P(C),O=ne(k);return 4===k.length&&O.push(k[3]),O},rgb:F};function c(C){for(var k in re)if(0===C.indexOf(k))return re[k](C)}c.rgb=F,c.hsl=P,c.hex=M,C.exports=c},function(C,k,O){var P=O(44),M=O(33);function o(C,k){switch(C=parseFloat(C),k){case 0:return M(C,0,360);case 1:case 2:return M(C,0,100);case 3:return M(C,0,1)}}C.exports=function(C){return P(C).map(o)}},function(C,k){C.exports=function(C){4!==C.length&&5!==C.length||(C=function(C){for(var k="#",O=1;O<C.length;O++){var P=C.charAt(O);k+=P+P}return k}(C));var k=[parseInt(C.substring(1,3),16),parseInt(C.substring(3,5),16),parseInt(C.substring(5,7),16)];if(9===C.length){var O=parseFloat((parseInt(C.substring(7,9),16)/255).toFixed(2));k.push(O)}return k}},function(C,k,O){var P=O(44),M=O(33);function o(C,k){return k<3?-1!=C.indexOf("%")?Math.round(255*M(parseInt(C,10),0,100)/100):M(parseInt(C,10),0,255):M(parseFloat(C),0,1)}C.exports=function(C){return P(C).map(o)}},function(C,k){C.exports=function(C){var k,O,P,M,F,ne=C[0]/360,re=C[1]/100,oe=C[2]/100;if(0==re)return[F=255*oe,F,F];k=2*oe-(O=oe<.5?oe*(1+re):oe+re-oe*re),M=[0,0,0];for(var se=0;se<3;se++)(P=ne+1/3*-(se-1))<0&&P++,P>1&&P--,F=6*P<1?k+6*(O-k)*P:2*P<1?O:3*P<2?k+(O-k)*(2/3-P)*6:k,M[se]=255*F;return M}},function(C,k,O){(function(k){var O="object"==typeof k&&k&&k.Object===Object&&k,P="object"==typeof self&&self&&self.Object===Object&&self,M=O||P||Function("return this")();function o(C,k,O){switch(O.length){case 0:return C.call(k);case 1:return C.call(k,O[0]);case 2:return C.call(k,O[0],O[1]);case 3:return C.call(k,O[0],O[1],O[2])}return C.apply(k,O)}function i(C,k){for(var O=-1,P=k.length,M=C.length;++O<P;)C[M+O]=k[O];return C}var F=Object.prototype,ne=F.hasOwnProperty,re=F.toString,oe=M.Symbol,se=F.propertyIsEnumerable,ue=oe?oe.isConcatSpreadable:void 0,pe=Math.max;function b(C){return fe(C)||function(C){return function(C){return function(C){return!!C&&"object"==typeof C}(C)&&function(C){return null!=C&&function(C){return"number"==typeof C&&C>-1&&C%1==0&&C<=9007199254740991}(C.length)&&!function(C){var k=function(C){var k=typeof C;return!!C&&("object"==k||"function"==k)}(C)?re.call(C):"";return"[object Function]"==k||"[object GeneratorFunction]"==k}(C)}(C)}(C)&&ne.call(C,"callee")&&(!se.call(C,"callee")||"[object Arguments]"==re.call(C))}(C)||!!(ue&&C&&C[ue])}var ve,de,he,fe=Array.isArray,ge=(de=function m(C){var k=(C=function e(C,k,O,P,M){var F=-1,ne=C.length;for(O||(O=b),M||(M=[]);++F<ne;){var re=C[F];k>0&&O(re)?k>1?e(re,k-1,O,P,M):i(M,re):P||(M[M.length]=re)}return M}(C,1)).length,O=k;for(ve&&C.reverse();O--;)if("function"!=typeof C[O])throw new TypeError("Expected a function");return function(){for(var O=0,P=k?C[O].apply(this,arguments):arguments[0];++O<k;)P=C[O].call(this,P);return P}},he=pe(void 0===he?de.length-1:he,0),function(){for(var C=arguments,k=-1,O=pe(C.length-he,0),P=Array(O);++k<O;)P[k]=C[he+k];k=-1;for(var M=Array(he+1);++k<he;)M[k]=C[k];return M[he]=P,o(de,this,M)});C.exports=ge}).call(this,O(43))},function(C,k,O){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.yuv2rgb=function(C){var k,O,P,M=C[0],F=C[1],ne=C[2];return k=1*M+0*F+1.13983*ne,O=1*M+-.39465*F+-.5806*ne,P=1*M+2.02311*F+0*ne,[255*(k=Math.min(Math.max(0,k),1)),255*(O=Math.min(Math.max(0,O),1)),255*(P=Math.min(Math.max(0,P),1))]},k.rgb2yuv=function(C){var k=C[0]/255,O=C[1]/255,P=C[2]/255;return[.299*k+.587*O+.114*P,-.14713*k+-.28886*O+.436*P,.615*k+-.51499*O+-.10001*P]}},function(C,k,O){"use strict";function a(C,k,O){return k in C?Object.defineProperty(C,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):C[k]=O,C}var P=O(141),M=function(){function e(){a(this,"_callbacks",void 0),a(this,"_isDispatching",void 0),a(this,"_isHandled",void 0),a(this,"_isPending",void 0),a(this,"_lastID",void 0),a(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var C=e.prototype;return C.register=function(C){var k="ID_"+this._lastID++;return this._callbacks[k]=C,k},C.unregister=function(C){this._callbacks[C]||P(!1),delete this._callbacks[C]},C.waitFor=function(C){this._isDispatching||P(!1);for(var k=0;k<C.length;k++){var O=C[k];this._isPending[O]?this._isHandled[O]||P(!1):(this._callbacks[O]||P(!1),this._invokeCallback(O))}},C.dispatch=function(C){this._isDispatching&&P(!1),this._startDispatching(C);try{for(var k in this._callbacks)this._isPending[k]||this._invokeCallback(k)}finally{this._stopDispatching()}},C.isDispatching=function(){return this._isDispatching},C._invokeCallback=function(C){this._isPending[C]=!0,this._callbacks[C](this._pendingPayload),this._isHandled[C]=!0},C._startDispatching=function(C){for(var k in this._callbacks)this._isPending[k]=!1,this._isHandled[k]=!1;this._pendingPayload=C,this._isDispatching=!0},C._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();C.exports=M},function(C,k,O){"use strict";var P=function a(C){};C.exports=function(C,k){for(var O=arguments.length,M=new Array(O>2?O-2:0),F=2;F<O;F++)M[F-2]=arguments[F];if(P(k),!C){var ne;if(void 0===k)ne=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var re=0;(ne=new Error(k.replace(/%s/g,(function(){return String(M[re++])})))).name="Invariant Violation"}throw ne.framesToPop=1,ne}}},function(C,k,O){"use strict";function a(C,k,O){return k in C?Object.defineProperty(C,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):C[k]=O,C}function r(C,k){var O=Object.keys(C);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(C);k&&(P=P.filter((function(k){return Object.getOwnPropertyDescriptor(C,k).enumerable}))),O.push.apply(O,P)}return O}function o(C){for(var k=1;k<arguments.length;k++){var O=null!=arguments[k]?arguments[k]:{};k%2?r(Object(O),!0).forEach((function(k){a(C,k,O[k])})):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(O)):r(Object(O)).forEach((function(k){Object.defineProperty(C,k,Object.getOwnPropertyDescriptor(O,k))}))}return C}function i(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")}function s(C,k){for(var O=0;O<k.length;O++){var P=k[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}function c(C,k,O){return k&&s(C.prototype,k),O&&s(C,O),C}function l(C,k){return(l=Object.setPrototypeOf||function(C,k){return C.__proto__=k,C})(C,k)}function u(C,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(k&&k.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),k&&l(C,k)}function f(C){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(C)}function p(C){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(C)}function d(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function b(C,k){return!k||"object"!==p(k)&&"function"!=typeof k?d(C):k}function h(C){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(C){return!1}}();return function(){var O,P=f(C);if(k){var M=f(this).constructor;O=Reflect.construct(P,arguments,M)}else O=P.apply(this,arguments);return b(this,O)}}O.r(k);var P=O(0),M=O.n(P);function y(){var C=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=C&&this.setState(C)}function g(C){this.setState(function(k){var O=this.constructor.getDerivedStateFromProps(C,k);return null!=O?O:null}.bind(this))}function E(C,k){try{var O=this.props,P=this.state;this.props=C,this.state=k,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(O,P)}finally{this.props=O,this.state=P}}function j(C){var k=C.prototype;if(!k||!k.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof C.getDerivedStateFromProps&&"function"!=typeof k.getSnapshotBeforeUpdate)return C;var O=null,P=null,M=null;if("function"==typeof k.componentWillMount?O="componentWillMount":"function"==typeof k.UNSAFE_componentWillMount&&(O="UNSAFE_componentWillMount"),"function"==typeof k.componentWillReceiveProps?P="componentWillReceiveProps":"function"==typeof k.UNSAFE_componentWillReceiveProps&&(P="UNSAFE_componentWillReceiveProps"),"function"==typeof k.componentWillUpdate?M="componentWillUpdate":"function"==typeof k.UNSAFE_componentWillUpdate&&(M="UNSAFE_componentWillUpdate"),null!==O||null!==P||null!==M){var F=C.displayName||C.name,ne="function"==typeof C.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+F+" uses "+ne+" but also contains the following legacy lifecycles:"+(null!==O?"\n  "+O:"")+(null!==P?"\n  "+P:"")+(null!==M?"\n  "+M:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof C.getDerivedStateFromProps&&(k.componentWillMount=y,k.componentWillReceiveProps=g),"function"==typeof k.getSnapshotBeforeUpdate){if("function"!=typeof k.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");k.componentWillUpdate=E;var re=k.componentDidUpdate;k.componentDidUpdate=function(C,k,O){var P=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:O;re.call(this,C,k,P)}}return C}function x(C,k){if(null==C)return{};var O,P,M=function(C,k){if(null==C)return{};var O,P,M={},F=Object.keys(C);for(P=0;P<F.length;P++)O=F[P],k.indexOf(O)>=0||(M[O]=C[O]);return M}(C,k);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(C);for(P=0;P<F.length;P++)O=F[P],k.indexOf(O)>=0||Object.prototype.propertyIsEnumerable.call(C,O)&&(M[O]=C[O])}return M}function _(C){var k=function(C){return{}.toString.call(C).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(C);return"number"===k&&(k=isNaN(C)?"nan":(0|C)!=C?"float":"integer"),k}y.__suppressDeprecationWarning=!0,g.__suppressDeprecationWarning=!0,E.__suppressDeprecationWarning=!0;var F={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},ne={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},re={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},oe=O(45),se=function w(C){var k=function(C){return{backgroundColor:C.base00,ellipsisColor:C.base09,braceColor:C.base07,expandedIcon:C.base0D,collapsedIcon:C.base0E,keyColor:C.base07,arrayKeyColor:C.base0C,objectSize:C.base04,copyToClipboard:C.base0F,copyToClipboardCheck:C.base0D,objectBorder:C.base02,dataTypes:{boolean:C.base0E,date:C.base0D,float:C.base0B,function:C.base0D,integer:C.base0F,string:C.base09,nan:C.base08,null:C.base0A,undefined:C.base05,regexp:C.base0A,background:C.base02},editVariable:{editIcon:C.base0E,cancelIcon:C.base09,removeIcon:C.base09,addIcon:C.base0E,checkIcon:C.base0E,background:C.base01,color:C.base0A,border:C.base07},addKeyModal:{background:C.base05,border:C.base04,color:C.base0A,labelColor:C.base01},validationFailure:{background:C.base09,iconColor:C.base01,fontColor:C.base01}}}(C);return{"app-container":{fontFamily:re.globalFontFamily,cursor:re.globalCursor,backgroundColor:k.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:k.ellipsisColor,fontSize:re.ellipsisFontSize,lineHeight:re.ellipsisLineHeight,cursor:re.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:re.braceCursor,fontWeight:re.braceFontWeight,color:k.braceColor},"expanded-icon":{color:k.expandedIcon},"collapsed-icon":{color:k.collapsedIcon},colon:{display:"inline-block",margin:re.keyMargin,color:k.keyColor,verticalAlign:"top"},objectKeyVal:function objectKeyVal(C,O){return{style:o({paddingTop:re.keyValPaddingTop,paddingRight:re.keyValPaddingRight,paddingBottom:re.keyValPaddingBottom,borderLeft:re.keyValBorderLeft+" "+k.objectBorder,":hover":{paddingLeft:O.paddingLeft-1+"px",borderLeft:re.keyValBorderHover+" "+k.objectBorder}},O)}},"object-key-val-no-border":{padding:re.keyValPadding},"pushed-content":{marginLeft:re.pushedContentMarginLeft},variableValue:function variableValue(C,k){return{style:o({display:"inline-block",paddingRight:re.variableValuePaddingRight,position:"relative"},k)}},"object-name":{display:"inline-block",color:k.keyColor,letterSpacing:re.keyLetterSpacing,fontStyle:re.keyFontStyle,verticalAlign:re.keyVerticalAlign,opacity:re.keyOpacity,":hover":{opacity:re.keyOpacityHover}},"array-key":{display:"inline-block",color:k.arrayKeyColor,letterSpacing:re.keyLetterSpacing,fontStyle:re.keyFontStyle,verticalAlign:re.keyVerticalAlign,opacity:re.keyOpacity,":hover":{opacity:re.keyOpacityHover}},"object-size":{color:k.objectSize,borderRadius:re.objectSizeBorderRadius,fontStyle:re.objectSizeFontStyle,margin:re.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:re.dataTypeFontSize,marginRight:re.dataTypeMarginRight,opacity:re.datatypeOpacity},boolean:{display:"inline-block",color:k.dataTypes.boolean},date:{display:"inline-block",color:k.dataTypes.date},"date-value":{marginLeft:re.dateValueMarginLeft},float:{display:"inline-block",color:k.dataTypes.float},function:{display:"inline-block",color:k.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:k.dataTypes.integer},string:{display:"inline-block",color:k.dataTypes.string},nan:{display:"inline-block",color:k.dataTypes.nan,fontSize:re.nanFontSize,fontWeight:re.nanFontWeight,backgroundColor:k.dataTypes.background,padding:re.nanPadding,borderRadius:re.nanBorderRadius},null:{display:"inline-block",color:k.dataTypes.null,fontSize:re.nullFontSize,fontWeight:re.nullFontWeight,backgroundColor:k.dataTypes.background,padding:re.nullPadding,borderRadius:re.nullBorderRadius},undefined:{display:"inline-block",color:k.dataTypes.undefined,fontSize:re.undefinedFontSize,padding:re.undefinedPadding,borderRadius:re.undefinedBorderRadius,backgroundColor:k.dataTypes.background},regexp:{display:"inline-block",color:k.dataTypes.regexp},"copy-to-clipboard":{cursor:re.clipboardCursor},"copy-icon":{color:k.copyToClipboard,fontSize:re.iconFontSize,marginRight:re.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:k.copyToClipboardCheck,marginLeft:re.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:re.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:re.metaDataPadding},"icon-container":{display:"inline-block",width:re.iconContainerWidth},tooltip:{padding:re.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:k.editVariable.removeIcon,cursor:re.iconCursor,fontSize:re.iconFontSize,marginRight:re.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:k.editVariable.addIcon,cursor:re.iconCursor,fontSize:re.iconFontSize,marginRight:re.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:k.editVariable.editIcon,cursor:re.iconCursor,fontSize:re.iconFontSize,marginRight:re.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:re.iconCursor,color:k.editVariable.checkIcon,fontSize:re.iconFontSize,paddingRight:re.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:re.iconCursor,color:k.editVariable.cancelIcon,fontSize:re.iconFontSize,paddingRight:re.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:re.editInputMinWidth,borderRadius:re.editInputBorderRadius,backgroundColor:k.editVariable.background,color:k.editVariable.color,padding:re.editInputPadding,marginRight:re.editInputMarginRight,fontFamily:re.editInputFontFamily},"detected-row":{paddingTop:re.detectedRowPaddingTop},"key-modal-request":{position:re.addKeyCoverPosition,top:re.addKeyCoverPositionPx,left:re.addKeyCoverPositionPx,right:re.addKeyCoverPositionPx,bottom:re.addKeyCoverPositionPx,backgroundColor:re.addKeyCoverBackground},"key-modal":{width:re.addKeyModalWidth,backgroundColor:k.addKeyModal.background,marginLeft:re.addKeyModalMargin,marginRight:re.addKeyModalMargin,padding:re.addKeyModalPadding,borderRadius:re.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:k.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:k.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:k.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:k.addKeyModal.labelColor,fontSize:re.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:k.editVariable.addIcon,fontSize:re.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:k.ellipsisColor,fontSize:re.ellipsisFontSize,lineHeight:re.ellipsisLineHeight,cursor:re.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:k.validationFailure.fontColor,backgroundColor:k.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:k.validationFailure.iconColor,fontSize:re.iconFontSize,transform:"rotate(45deg)"}}};function A(C,k,O){return C||console.error("theme has not been set"),function(C){var k=F;return!1!==C&&"none"!==C||(k=ne),Object(oe.createStyling)(se,{defaultBase16:k})(C)}(C)(k,O)}var ue=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=(C.rjvId,C.type_name),O=C.displayDataTypes,P=C.theme;return O?M.a.createElement("span",Object.assign({className:"data-type-label"},A(P,"data-type-label")),k):null}}]),n}(M.a.PureComponent),pe=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props;return M.a.createElement("div",A(C.theme,"boolean"),M.a.createElement(ue,Object.assign({type_name:"bool"},C)),C.value?"true":"false")}}]),n}(M.a.PureComponent),ve=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props;return M.a.createElement("div",A(C.theme,"date"),M.a.createElement(ue,Object.assign({type_name:"date"},C)),M.a.createElement("span",Object.assign({className:"date-value"},A(C.theme,"date-value")),C.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),n}(M.a.PureComponent),de=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props;return M.a.createElement("div",A(C.theme,"float"),M.a.createElement(ue,Object.assign({type_name:"float"},C)),this.props.value)}}]),n}(M.a.PureComponent);function I(C,k){(null==k||k>C.length)&&(k=C.length);for(var O=0,P=new Array(k);O<k;O++)P[O]=C[O];return P}function R(C,k){if(C){if("string"==typeof C)return I(C,k);var O=Object.prototype.toString.call(C).slice(8,-1);return"Object"===O&&C.constructor&&(O=C.constructor.name),"Map"===O||"Set"===O?Array.from(C):"Arguments"===O||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?I(C,k):void 0}}function L(C,k){var O;if("undefined"==typeof Symbol||null==C[Symbol.iterator]){if(Array.isArray(C)||(O=R(C))||k&&C&&"number"==typeof C.length){O&&(C=O);var P=0,M=function r(){};return{s:M,n:function n(){return P>=C.length?{done:!0}:{done:!1,value:C[P++]}},e:function e(C){throw C},f:M}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var F,ne=!0,re=!1;return{s:function s(){O=C[Symbol.iterator]()},n:function n(){var C=O.next();return ne=C.done,C},e:function e(C){re=!0,F=C},f:function f(){try{ne||null==O.return||O.return()}finally{if(re)throw F}}}}function B(C){return function(C){if(Array.isArray(C))return I(C)}(C)||function(C){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(C))return Array.from(C)}(C)||R(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var he=O(46),fe=new(O(47).Dispatcher),ge=new(function(C){u(n,C);var k=h(n);function n(){var C;i(this,n);for(var O=arguments.length,P=new Array(O),M=0;M<O;M++)P[M]=arguments[M];return(C=k.call.apply(k,[this].concat(P))).objects={},C.set=function(k,O,P,M){void 0===C.objects[k]&&(C.objects[k]={}),void 0===C.objects[k][O]&&(C.objects[k][O]={}),C.objects[k][O][P]=M},C.get=function(k,O,P,M){return void 0===C.objects[k]||void 0===C.objects[k][O]||null==C.objects[k][O][P]?M:C.objects[k][O][P]},C.handleAction=function(k){var O=k.rjvId,P=k.data;switch(k.name){case"RESET":C.emit("reset-"+O);break;case"VARIABLE_UPDATED":k.data.updated_src=C.updateSrc(O,P),C.set(O,"action","variable-update",o(o({},P),{},{type:"variable-edited"})),C.emit("variable-update-"+O);break;case"VARIABLE_REMOVED":k.data.updated_src=C.updateSrc(O,P),C.set(O,"action","variable-update",o(o({},P),{},{type:"variable-removed"})),C.emit("variable-update-"+O);break;case"VARIABLE_ADDED":k.data.updated_src=C.updateSrc(O,P),C.set(O,"action","variable-update",o(o({},P),{},{type:"variable-added"})),C.emit("variable-update-"+O);break;case"ADD_VARIABLE_KEY_REQUEST":C.set(O,"action","new-key-request",P),C.emit("add-key-request-"+O)}},C.updateSrc=function(k,O){var P=O.name,M=O.namespace,F=O.new_value,ne=(O.existing_value,O.variable_removed);M.shift();var re,oe=C.get(k,"global","src"),se=C.deepCopy(oe,B(M)),ue=se,pe=L(M);try{for(pe.s();!(re=pe.n()).done;)ue=ue[re.value]}catch(C){pe.e(C)}finally{pe.f()}return ne?"array"==_(ue)?ue.splice(P,1):delete ue[P]:null!==P?ue[P]=F:se=F,C.set(k,"global","src",se),se},C.deepCopy=function(k,O){var P,M=_(k),F=O.shift();return"array"==M?P=B(k):"object"==M&&(P=o({},k)),void 0!==F&&(P[F]=C.deepCopy(k[F],O)),P},C}return n}(he.EventEmitter));fe.register(ge.handleAction.bind(ge));var me=ge,ye=function(C){u(n,C);var k=h(n);function n(C){var O;return i(this,n),(O=k.call(this,C)).toggleCollapsed=function(){O.setState({collapsed:!O.state.collapsed},(function(){me.set(O.props.rjvId,O.props.namespace,"collapsed",O.state.collapsed)}))},O.getFunctionDisplay=function(C){var k=d(O).props;return C?M.a.createElement("span",null,O.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),M.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},M.a.createElement("span",null,"{"),M.a.createElement("span",A(k.theme,"ellipsis"),"..."),M.a.createElement("span",null,"}"))):O.props.value.toString().slice(9,-1)},O.state={collapsed:me.get(C.rjvId,C.namespace,"collapsed",!0)},O}return c(n,[{key:"render",value:function value(){var C=this.props,k=this.state.collapsed;return M.a.createElement("div",A(C.theme,"function"),M.a.createElement(ue,Object.assign({type_name:"function"},C)),M.a.createElement("span",Object.assign({},A(C.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(k)))}}]),n}(M.a.PureComponent),be=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){return M.a.createElement("div",A(this.props.theme,"nan"),"NaN")}}]),n}(M.a.PureComponent),ke=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){return M.a.createElement("div",A(this.props.theme,"null"),"NULL")}}]),n}(M.a.PureComponent),Oe=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props;return M.a.createElement("div",A(C.theme,"integer"),M.a.createElement(ue,Object.assign({type_name:"int"},C)),this.props.value)}}]),n}(M.a.PureComponent),Ee=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props;return M.a.createElement("div",A(C.theme,"regexp"),M.a.createElement(ue,Object.assign({type_name:"regexp"},C)),this.props.value.toString())}}]),n}(M.a.PureComponent),Re=function(C){u(n,C);var k=h(n);function n(C){var O;return i(this,n),(O=k.call(this,C)).toggleCollapsed=function(){O.setState({collapsed:!O.state.collapsed},(function(){me.set(O.props.rjvId,O.props.namespace,"collapsed",O.state.collapsed)}))},O.state={collapsed:me.get(C.rjvId,C.namespace,"collapsed",!0)},O}return c(n,[{key:"render",value:function value(){this.state.collapsed;var C=this.props,k=C.collapseStringsAfterLength,O=C.theme,P=C.value,F={style:{cursor:"default"}};return"integer"===_(k)&&P.length>k&&(F.style.cursor="pointer",this.state.collapsed&&(P=M.a.createElement("span",null,P.substring(0,k),M.a.createElement("span",A(O,"ellipsis")," ...")))),M.a.createElement("div",A(O,"string"),M.a.createElement(ue,Object.assign({type_name:"string"},C)),M.a.createElement("span",Object.assign({className:"string-value"},F,{onClick:this.toggleCollapsed}),'"',P,'"'))}}]),n}(M.a.PureComponent),Ie=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){return M.a.createElement("div",A(this.props.theme,"undefined"),"undefined")}}]),n}(M.a.PureComponent);function Y(){return(Y=Object.assign||function(C){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(C[P]=O[P])}return C}).apply(this,arguments)}var Ae=P.useLayoutEffect,Pe=function Q(C){var k=Object(P.useRef)(C);return Ae((function(){k.current=C})),k},Te=function Z(C,k){"function"!=typeof C?C.current=k:C(k)},je=function X(C,k){var O=Object(P.useRef)();return Object(P.useCallback)((function(P){C.current=P,O.current&&Te(O.current,null),O.current=k,k&&Te(k,P)}),[k])},_e={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},De=function te(C){Object.keys(_e).forEach((function(k){C.style.setProperty(k,_e[k],"important")}))},Me=null,Ne=function ae(){},Le=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],ze=!!document.documentElement.currentStyle,Be=function ie(C,k){var O,M=C.cacheMeasurements,F=C.maxRows,ne=C.minRows,re=C.onChange,oe=void 0===re?Ne:re,se=C.onHeightChange,ue=void 0===se?Ne:se,pe=function(C,k){if(null==C)return{};var O,P,M={},F=Object.keys(C);for(P=0;P<F.length;P++)O=F[P],k.indexOf(O)>=0||(M[O]=C[O]);return M}(C,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),ve=void 0!==pe.value,de=Object(P.useRef)(null),he=je(de,k),fe=Object(P.useRef)(0),ge=Object(P.useRef)(),me=function m(){var C=de.current,k=M&&ge.current?ge.current:function(C){var k=window.getComputedStyle(C);if(null===k)return null;var O,P=(O=k,Le.reduce((function(C,k){return C[k]=O[k],C}),{})),M=P.boxSizing;return""===M?null:(ze&&"border-box"===M&&(P.width=parseFloat(P.width)+parseFloat(P.borderRightWidth)+parseFloat(P.borderLeftWidth)+parseFloat(P.paddingRight)+parseFloat(P.paddingLeft)+"px"),{sizingStyle:P,paddingSize:parseFloat(P.paddingBottom)+parseFloat(P.paddingTop),borderSize:parseFloat(P.borderBottomWidth)+parseFloat(P.borderTopWidth)})}(C);if(k){ge.current=k;var O=function(C,k,O,P){void 0===O&&(O=1),void 0===P&&(P=1/0),Me||((Me=document.createElement("textarea")).setAttribute("tab-index","-1"),Me.setAttribute("aria-hidden","true"),De(Me)),null===Me.parentNode&&document.body.appendChild(Me);var M=C.paddingSize,F=C.borderSize,ne=C.sizingStyle,re=ne.boxSizing;Object.keys(ne).forEach((function(C){var k=C;Me.style[k]=ne[k]})),De(Me),Me.value=k;var oe=function(C,k){var O=C.scrollHeight;return"border-box"===k.sizingStyle.boxSizing?O+k.borderSize:O-k.paddingSize}(Me,C);Me.value="x";var se=Me.scrollHeight-M,ue=se*O;"border-box"===re&&(ue=ue+M+F),oe=Math.max(ue,oe);var pe=se*P;return"border-box"===re&&(pe=pe+M+F),[oe=Math.min(pe,oe),se]}(k,C.value||C.placeholder||"x",ne,F),P=O[0],re=O[1];fe.current!==P&&(fe.current=P,C.style.setProperty("height",P+"px","important"),ue(P,{rowHeight:re}))}};return Object(P.useLayoutEffect)(me),O=Pe(me),Object(P.useLayoutEffect)((function(){var C=function e(C){O.current(C)};return window.addEventListener("resize",C),function(){window.removeEventListener("resize",C)}}),[]),Object(P.createElement)("textarea",Y({},pe,{onChange:function onChange(C){ve||me(),oe(C)},ref:he}))},Fe=Object(P.forwardRef)(Be);function ce(C){C=C.trim();try{if("["===(C=JSON.stringify(JSON.parse(C)))[0])return le("array",JSON.parse(C));if("{"===C[0])return le("object",JSON.parse(C));if(C.match(/\-?\d+\.\d+/)&&C.match(/\-?\d+\.\d+/)[0]===C)return le("float",parseFloat(C));if(C.match(/\-?\d+e-\d+/)&&C.match(/\-?\d+e-\d+/)[0]===C)return le("float",Number(C));if(C.match(/\-?\d+/)&&C.match(/\-?\d+/)[0]===C)return le("integer",parseInt(C));if(C.match(/\-?\d+e\+\d+/)&&C.match(/\-?\d+e\+\d+/)[0]===C)return le("integer",Number(C))}catch(C){}switch(C=C.toLowerCase()){case"undefined":return le("undefined",void 0);case"nan":return le("nan",NaN);case"null":return le("null",null);case"true":return le("boolean",!0);case"false":return le("boolean",!1);default:if(C=Date.parse(C))return le("date",new Date(C))}return le(!1,null)}function le(C,k){return{type:C,value:k}}var Ue=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.style,O=x(C,["style"]);return M.a.createElement("span",O,M.a.createElement("svg",Object.assign({},xe(k),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),M.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),n}(M.a.PureComponent),qe=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.style,O=x(C,["style"]);return M.a.createElement("span",O,M.a.createElement("svg",Object.assign({},xe(k),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),M.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),n}(M.a.PureComponent),Ve=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.style,O=x(C,["style"]),P=xe(k).style;return M.a.createElement("span",O,M.a.createElement("svg",{fill:P.color,width:P.height,height:P.width,style:P,viewBox:"0 0 1792 1792"},M.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),n}(M.a.PureComponent),Ke=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.style,O=x(C,["style"]),P=xe(k).style;return M.a.createElement("span",O,M.a.createElement("svg",{fill:P.color,width:P.height,height:P.width,style:P,viewBox:"0 0 1792 1792"},M.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),n}(M.a.PureComponent),He=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.style,O=x(C,["style"]);return M.a.createElement("span",O,M.a.createElement("svg",{style:o(o({},xe(k).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},M.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),n}(M.a.PureComponent),We=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.style,O=x(C,["style"]);return M.a.createElement("span",O,M.a.createElement("svg",{style:o(o({},xe(k).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},M.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),n}(M.a.PureComponent),Je=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.style,O=x(C,["style"]);return M.a.createElement("span",O,M.a.createElement("svg",Object.assign({},xe(k),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),M.a.createElement("g",null,M.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),n}(M.a.PureComponent),Ge=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.style,O=x(C,["style"]);return M.a.createElement("span",O,M.a.createElement("svg",Object.assign({},xe(k),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),M.a.createElement("g",null,M.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(M.a.PureComponent),$e=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.style,O=x(C,["style"]);return M.a.createElement("span",O,M.a.createElement("svg",Object.assign({},xe(k),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),M.a.createElement("g",null,M.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(M.a.PureComponent),Ye=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.style,O=x(C,["style"]);return M.a.createElement("span",O,M.a.createElement("svg",Object.assign({},xe(k),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),M.a.createElement("g",null,M.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),n}(M.a.PureComponent),Qe=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.style,O=x(C,["style"]);return M.a.createElement("span",O,M.a.createElement("svg",Object.assign({},xe(k),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),M.a.createElement("g",null,M.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),n}(M.a.PureComponent),Xe=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.style,O=x(C,["style"]);return M.a.createElement("span",O,M.a.createElement("svg",Object.assign({},xe(k),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),M.a.createElement("g",null,M.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(M.a.PureComponent);function xe(C){return C||(C={}),{style:o(o({verticalAlign:"middle"},C),{},{color:C.color?C.color:"#000000",height:"1em",width:"1em"})}}var Ze=function(C){u(n,C);var k=h(n);function n(C){var O;return i(this,n),(O=k.call(this,C)).copiedTimer=null,O.handleCopy=function(){var C=document.createElement("textarea"),k=O.props,P=k.clickCallback,M=k.src,F=k.namespace;C.innerHTML=JSON.stringify(O.clipboardValue(M),null,"  "),document.body.appendChild(C),C.select(),document.execCommand("copy"),document.body.removeChild(C),O.copiedTimer=setTimeout((function(){O.setState({copied:!1})}),5500),O.setState({copied:!0},(function(){"function"==typeof P&&P({src:M,namespace:F,name:F[F.length-1]})}))},O.getClippyIcon=function(){var C=O.props.theme;return O.state.copied?M.a.createElement("span",null,M.a.createElement(Je,Object.assign({className:"copy-icon"},A(C,"copy-icon"))),M.a.createElement("span",A(C,"copy-icon-copied"),"\u2714")):M.a.createElement(Je,Object.assign({className:"copy-icon"},A(C,"copy-icon")))},O.clipboardValue=function(C){switch(_(C)){case"function":case"regexp":return C.toString();default:return C}},O.state={copied:!1},O}return c(n,[{key:"componentWillUnmount",value:function value(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function value(){var C=this.props,k=(C.src,C.theme),O=C.hidden,P=C.rowHovered,F=A(k,"copy-to-clipboard").style,ne="inline";return O&&(ne="none"),M.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:P?"inline-block":"none"}},M.a.createElement("span",{style:o(o({},F),{},{display:ne}),onClick:this.handleCopy},this.getClippyIcon()))}}]),n}(M.a.PureComponent),et=function(C){u(n,C);var k=h(n);function n(C){var O;return i(this,n),(O=k.call(this,C)).getEditIcon=function(){var C=O.props,k=C.variable,P=C.theme;return M.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:O.state.hovered?"inline-block":"none"}},M.a.createElement(Qe,Object.assign({className:"click-to-edit-icon"},A(P,"editVarIcon"),{onClick:function onClick(){O.prepopInput(k)}})))},O.prepopInput=function(C){if(!1!==O.props.onEdit){var k=function(C){var k;switch(_(C)){case"undefined":k="undefined";break;case"nan":k="NaN";break;case"string":k=C;break;case"date":case"function":case"regexp":k=C.toString();break;default:try{k=JSON.stringify(C,null,"  ")}catch(C){k=""}}return k}(C.value),P=ce(k);O.setState({editMode:!0,editValue:k,parsedInput:{type:P.type,value:P.value}})}},O.getRemoveIcon=function(){var C=O.props,k=C.variable,P=C.namespace,F=C.theme,ne=C.rjvId;return M.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:O.state.hovered?"inline-block":"none"}},M.a.createElement(Ge,Object.assign({className:"click-to-remove-icon"},A(F,"removeVarIcon"),{onClick:function onClick(){fe.dispatch({name:"VARIABLE_REMOVED",rjvId:ne,data:{name:k.name,namespace:P,existing_value:k.value,variable_removed:!0}})}})))},O.getValue=function(C,k){var P=!k&&C.type,F=d(O).props;switch(P){case!1:return O.getEditInput();case"string":return M.a.createElement(Re,Object.assign({value:C.value},F));case"integer":return M.a.createElement(Oe,Object.assign({value:C.value},F));case"float":return M.a.createElement(de,Object.assign({value:C.value},F));case"boolean":return M.a.createElement(pe,Object.assign({value:C.value},F));case"function":return M.a.createElement(ye,Object.assign({value:C.value},F));case"null":return M.a.createElement(ke,F);case"nan":return M.a.createElement(be,F);case"undefined":return M.a.createElement(Ie,F);case"date":return M.a.createElement(ve,Object.assign({value:C.value},F));case"regexp":return M.a.createElement(Ee,Object.assign({value:C.value},F));default:return M.a.createElement("div",{className:"object-value"},JSON.stringify(C.value))}},O.getEditInput=function(){var C=O.props.theme,k=O.state.editValue;return M.a.createElement("div",null,M.a.createElement(Fe,Object.assign({type:"text",inputRef:function inputRef(C){return C&&C.focus()},value:k,className:"variable-editor",onChange:function onChange(C){var k=C.target.value,P=ce(k);O.setState({editValue:k,parsedInput:{type:P.type,value:P.value}})},onKeyDown:function onKeyDown(C){switch(C.key){case"Escape":O.setState({editMode:!1,editValue:""});break;case"Enter":(C.ctrlKey||C.metaKey)&&O.submitEdit(!0)}C.stopPropagation()},placeholder:"update this value",minRows:2},A(C,"edit-input"))),M.a.createElement("div",A(C,"edit-icon-container"),M.a.createElement(Ge,Object.assign({className:"edit-cancel"},A(C,"cancel-icon"),{onClick:function onClick(){O.setState({editMode:!1,editValue:""})}})),M.a.createElement(Xe,Object.assign({className:"edit-check string-value"},A(C,"check-icon"),{onClick:function onClick(){O.submitEdit()}})),M.a.createElement("div",null,O.showDetected())))},O.submitEdit=function(C){var k=O.props,P=k.variable,M=k.namespace,F=k.rjvId,ne=O.state,re=ne.editValue,oe=ne.parsedInput,se=re;C&&oe.type&&(se=oe.value),O.setState({editMode:!1}),fe.dispatch({name:"VARIABLE_UPDATED",rjvId:F,data:{name:P.name,namespace:M,existing_value:P.value,new_value:se,variable_removed:!1}})},O.showDetected=function(){var C=O.props,k=C.theme,P=(C.variable,C.namespace,C.rjvId,O.state.parsedInput),F=(P.type,P.value,O.getDetectedInput());if(F)return M.a.createElement("div",null,M.a.createElement("div",A(k,"detected-row"),F,M.a.createElement(Xe,{className:"edit-check detected",style:o({verticalAlign:"top",paddingLeft:"3px"},A(k,"check-icon").style),onClick:function onClick(){O.submitEdit(!0)}})))},O.getDetectedInput=function(){var C=O.state.parsedInput,k=C.type,P=C.value,F=d(O).props,ne=F.theme;if(!1!==k)switch(k.toLowerCase()){case"object":return M.a.createElement("span",null,M.a.createElement("span",{style:o(o({},A(ne,"brace").style),{},{cursor:"default"})},"{"),M.a.createElement("span",{style:o(o({},A(ne,"ellipsis").style),{},{cursor:"default"})},"..."),M.a.createElement("span",{style:o(o({},A(ne,"brace").style),{},{cursor:"default"})},"}"));case"array":return M.a.createElement("span",null,M.a.createElement("span",{style:o(o({},A(ne,"brace").style),{},{cursor:"default"})},"["),M.a.createElement("span",{style:o(o({},A(ne,"ellipsis").style),{},{cursor:"default"})},"..."),M.a.createElement("span",{style:o(o({},A(ne,"brace").style),{},{cursor:"default"})},"]"));case"string":return M.a.createElement(Re,Object.assign({value:P},F));case"integer":return M.a.createElement(Oe,Object.assign({value:P},F));case"float":return M.a.createElement(de,Object.assign({value:P},F));case"boolean":return M.a.createElement(pe,Object.assign({value:P},F));case"function":return M.a.createElement(ye,Object.assign({value:P},F));case"null":return M.a.createElement(ke,F);case"nan":return M.a.createElement(be,F);case"undefined":return M.a.createElement(Ie,F);case"date":return M.a.createElement(ve,Object.assign({value:new Date(P)},F))}},O.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},O}return c(n,[{key:"render",value:function value(){var C=this,k=this.props,O=k.variable,P=k.singleIndent,F=k.type,ne=k.theme,re=k.namespace,oe=k.indentWidth,se=k.enableClipboard,ue=k.onEdit,pe=k.onDelete,ve=k.onSelect,de=k.displayArrayKey,he=k.quotesOnKeys,fe=this.state.editMode;return M.a.createElement("div",Object.assign({},A(ne,"objectKeyVal",{paddingLeft:oe*P}),{onMouseEnter:function onMouseEnter(){return C.setState(o(o({},C.state),{},{hovered:!0}))},onMouseLeave:function onMouseLeave(){return C.setState(o(o({},C.state),{},{hovered:!1}))},className:"variable-row",key:O.name}),"array"==F?de?M.a.createElement("span",Object.assign({},A(ne,"array-key"),{key:O.name+"_"+re}),O.name,M.a.createElement("div",A(ne,"colon"),":")):null:M.a.createElement("span",null,M.a.createElement("span",Object.assign({},A(ne,"object-name"),{className:"object-key",key:O.name+"_"+re}),!!he&&M.a.createElement("span",{style:{verticalAlign:"top"}},'"'),M.a.createElement("span",{style:{display:"inline-block"}},O.name),!!he&&M.a.createElement("span",{style:{verticalAlign:"top"}},'"')),M.a.createElement("span",A(ne,"colon"),":")),M.a.createElement("div",Object.assign({className:"variable-value",onClick:!1===ve&&!1===ue?null:function(k){var P=B(re);(k.ctrlKey||k.metaKey)&&!1!==ue?C.prepopInput(O):!1!==ve&&(P.shift(),ve(o(o({},O),{},{namespace:P})))}},A(ne,"variableValue",{cursor:!1===ve?"default":"pointer"})),this.getValue(O,fe)),se?M.a.createElement(Ze,{rowHovered:this.state.hovered,hidden:fe,src:O.value,clickCallback:se,theme:ne,namespace:[].concat(B(re),[O.name])}):null,!1!==ue&&0==fe?this.getEditIcon():null,!1!==pe&&0==fe?this.getRemoveIcon():null)}}]),n}(M.a.PureComponent),tt=function(C){u(n,C);var k=h(n);function n(){var C;i(this,n);for(var O=arguments.length,P=new Array(O),F=0;F<O;F++)P[F]=arguments[F];return(C=k.call.apply(k,[this].concat(P))).getObjectSize=function(){var k=C.props,O=k.size,P=k.theme;if(k.displayObjectSize)return M.a.createElement("span",Object.assign({className:"object-size"},A(P,"object-size")),O," item",1===O?"":"s")},C.getAddAttribute=function(k){var O=C.props,P=O.theme,F=O.namespace,ne=O.name,re=O.src,oe=O.rjvId,se=O.depth;return M.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:k?"inline-block":"none"}},M.a.createElement($e,Object.assign({className:"click-to-add-icon"},A(P,"addVarIcon"),{onClick:function onClick(){var C={name:se>0?ne:null,namespace:F.splice(0,F.length-1),existing_value:re,variable_removed:!1,key_name:null};"object"===_(re)?fe.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:oe,data:C}):fe.dispatch({name:"VARIABLE_ADDED",rjvId:oe,data:o(o({},C),{},{new_value:[].concat(B(re),[null])})})}})))},C.getRemoveObject=function(k){var O=C.props,P=O.theme,F=(O.hover,O.namespace),ne=O.name,re=O.src,oe=O.rjvId;if(1!==F.length)return M.a.createElement("span",{className:"click-to-remove",style:{display:k?"inline-block":"none"}},M.a.createElement(Ge,Object.assign({className:"click-to-remove-icon"},A(P,"removeVarIcon"),{onClick:function onClick(){fe.dispatch({name:"VARIABLE_REMOVED",rjvId:oe,data:{name:ne,namespace:F.splice(0,F.length-1),existing_value:re,variable_removed:!0}})}})))},C.render=function(){var k=C.props,O=k.theme,P=k.onDelete,F=k.onAdd,ne=k.enableClipboard,re=k.src,oe=k.namespace,se=k.rowHovered;return M.a.createElement("div",Object.assign({},A(O,"object-meta-data"),{className:"object-meta-data",onClick:function onClick(C){C.stopPropagation()}}),C.getObjectSize(),ne?M.a.createElement(Ze,{rowHovered:se,clickCallback:ne,src:re,theme:O,namespace:oe}):null,!1!==F?C.getAddAttribute(se):null,!1!==P?C.getRemoveObject(se):null)},C}return n}(M.a.PureComponent);function Ce(C){var k=C.parent_type,O=C.namespace,P=C.quotesOnKeys,F=C.theme,ne=C.jsvRoot,re=C.name,oe=C.displayArrayKey,se=C.name?C.name:"";return!ne||!1!==re&&null!==re?"array"==k?oe?M.a.createElement("span",Object.assign({},A(F,"array-key"),{key:O}),M.a.createElement("span",{className:"array-key"},se),M.a.createElement("span",A(F,"colon"),":")):M.a.createElement("span",null):M.a.createElement("span",Object.assign({},A(F,"object-name"),{key:O}),M.a.createElement("span",{className:"object-key"},P&&M.a.createElement("span",{style:{verticalAlign:"top"}},'"'),M.a.createElement("span",null,se),P&&M.a.createElement("span",{style:{verticalAlign:"top"}},'"')),M.a.createElement("span",A(F,"colon"),":")):M.a.createElement("span",null)}function Se(C){var k=C.theme;switch(C.iconStyle){case"triangle":return M.a.createElement(We,Object.assign({},A(k,"expanded-icon"),{className:"expanded-icon"}));case"square":return M.a.createElement(Ve,Object.assign({},A(k,"expanded-icon"),{className:"expanded-icon"}));default:return M.a.createElement(Ue,Object.assign({},A(k,"expanded-icon"),{className:"expanded-icon"}))}}function we(C){var k=C.theme;switch(C.iconStyle){case"triangle":return M.a.createElement(He,Object.assign({},A(k,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return M.a.createElement(Ke,Object.assign({},A(k,"collapsed-icon"),{className:"collapsed-icon"}));default:return M.a.createElement(qe,Object.assign({},A(k,"collapsed-icon"),{className:"collapsed-icon"}))}}var nt=function(C){u(n,C);var k=h(n);function n(C){var O;return i(this,n),(O=k.call(this,C)).toggleCollapsed=function(C){var k=[];for(var P in O.state.expanded)k.push(O.state.expanded[P]);k[C]=!k[C],O.setState({expanded:k})},O.state={expanded:[]},O}return c(n,[{key:"getExpandedIcon",value:function value(C){var k=this.props,O=k.theme,P=k.iconStyle;return this.state.expanded[C]?M.a.createElement(Se,{theme:O,iconStyle:P}):M.a.createElement(we,{theme:O,iconStyle:P})}},{key:"render",value:function value(){var C=this,k=this.props,O=k.src,P=k.groupArraysAfterLength,F=(k.depth,k.name),ne=k.theme,re=k.jsvRoot,oe=k.namespace,se=(k.parent_type,x(k,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),ue=0,pe=5*this.props.indentWidth;re||(ue=5*this.props.indentWidth);var ve=P,de=Math.ceil(O.length/ve);return M.a.createElement("div",Object.assign({className:"object-key-val"},A(ne,re?"jsv-root":"objectKeyVal",{paddingLeft:ue})),M.a.createElement(Ce,this.props),M.a.createElement("span",null,M.a.createElement(tt,Object.assign({size:O.length},this.props))),B(Array(de)).map((function(k,P){return M.a.createElement("div",Object.assign({key:P,className:"object-key-val array-group"},A(ne,"objectKeyVal",{marginLeft:6,paddingLeft:pe})),M.a.createElement("span",A(ne,"brace-row"),M.a.createElement("div",Object.assign({className:"icon-container"},A(ne,"icon-container"),{onClick:function onClick(k){C.toggleCollapsed(P)}}),C.getExpandedIcon(P)),C.state.expanded[P]?M.a.createElement(ot,Object.assign({key:F+P,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:ve,index_offset:P*ve,src:O.slice(P*ve,P*ve+ve),namespace:oe,type:"array",parent_type:"array_group",theme:ne},se)):M.a.createElement("span",Object.assign({},A(ne,"brace"),{onClick:function onClick(k){C.toggleCollapsed(P)},className:"array-group-brace"}),"[",M.a.createElement("div",Object.assign({},A(ne,"array-group-meta-data"),{className:"array-group-meta-data"}),M.a.createElement("span",Object.assign({className:"object-size"},A(ne,"object-size")),P*ve," - ",P*ve+ve>O.length?O.length:P*ve+ve)),"]")))})))}}]),n}(M.a.PureComponent),rt=function(C){u(n,C);var k=h(n);function n(C){var O;i(this,n),(O=k.call(this,C)).toggleCollapsed=function(){O.setState({expanded:!O.state.expanded},(function(){me.set(O.props.rjvId,O.props.namespace,"expanded",O.state.expanded)}))},O.getObjectContent=function(C,k,P){return M.a.createElement("div",{className:"pushed-content object-container"},M.a.createElement("div",Object.assign({className:"object-content"},A(O.props.theme,"pushed-content")),O.renderObjectContents(k,P)))},O.getEllipsis=function(){return 0===O.state.size?null:M.a.createElement("div",Object.assign({},A(O.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:O.toggleCollapsed}),"...")},O.getObjectMetaData=function(C){var k=O.props,P=(k.rjvId,k.theme,O.state),F=P.size,ne=P.hovered;return M.a.createElement(tt,Object.assign({rowHovered:ne,size:F},O.props))},O.renderObjectContents=function(C,k){var P,F=O.props,ne=F.depth,re=F.parent_type,oe=F.index_offset,se=F.groupArraysAfterLength,ue=F.namespace,pe=O.state.object_type,ve=[],de=Object.keys(C||{});return O.props.sortKeys&&"array"!==pe&&(de=de.sort()),de.forEach((function(F){if(P=new it(F,C[F]),"array_group"===re&&oe&&(P.name=parseInt(P.name)+oe),C.hasOwnProperty(F))if("object"===P.type)ve.push(M.a.createElement(ot,Object.assign({key:P.name,depth:ne+1,name:P.name,src:P.value,namespace:ue.concat(P.name),parent_type:pe},k)));else if("array"===P.type){var de=ot;se&&P.value.length>se&&(de=nt),ve.push(M.a.createElement(de,Object.assign({key:P.name,depth:ne+1,name:P.name,src:P.value,namespace:ue.concat(P.name),type:"array",parent_type:pe},k)))}else ve.push(M.a.createElement(et,Object.assign({key:P.name+"_"+ue,variable:P,singleIndent:5,namespace:ue,type:O.props.type},k)))})),ve};var P=n.getState(C);return O.state=o(o({},P),{},{prevProps:{}}),O}return c(n,[{key:"getBraceStart",value:function value(C,k){var O=this,P=this.props,F=P.src,ne=P.theme,re=P.iconStyle;if("array_group"===P.parent_type)return M.a.createElement("span",null,M.a.createElement("span",A(ne,"brace"),"array"===C?"[":"{"),k?this.getObjectMetaData(F):null);var oe=k?Se:we;return M.a.createElement("span",null,M.a.createElement("span",Object.assign({onClick:function onClick(C){O.toggleCollapsed()}},A(ne,"brace-row")),M.a.createElement("div",Object.assign({className:"icon-container"},A(ne,"icon-container")),M.a.createElement(oe,{theme:ne,iconStyle:re})),M.a.createElement(Ce,this.props),M.a.createElement("span",A(ne,"brace"),"array"===C?"[":"{")),k?this.getObjectMetaData(F):null)}},{key:"render",value:function value(){var C=this,k=this.props,O=k.depth,P=k.src,F=(k.namespace,k.name,k.type,k.parent_type),ne=k.theme,re=k.jsvRoot,oe=k.iconStyle,se=x(k,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),ue=this.state,pe=ue.object_type,ve=ue.expanded,de={};return re||"array_group"===F?"array_group"===F&&(de.borderLeft=0,de.display="inline"):de.paddingLeft=5*this.props.indentWidth,M.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function onMouseEnter(){return C.setState(o(o({},C.state),{},{hovered:!0}))},onMouseLeave:function onMouseLeave(){return C.setState(o(o({},C.state),{},{hovered:!1}))}},A(ne,re?"jsv-root":"objectKeyVal",de)),this.getBraceStart(pe,ve),ve?this.getObjectContent(O,P,o({theme:ne,iconStyle:oe},se)):this.getEllipsis(),M.a.createElement("span",{className:"brace-row"},M.a.createElement("span",{style:o(o({},A(ne,"brace").style),{},{paddingLeft:ve?"3px":"0px"})},"array"===pe?"]":"}"),ve?null:this.getObjectMetaData(P)))}}],[{key:"getDerivedStateFromProps",value:function value(C,k){var O=k.prevProps;return C.src!==O.src||C.collapsed!==O.collapsed||C.name!==O.name||C.namespace!==O.namespace||C.rjvId!==O.rjvId?o(o({},n.getState(C)),{},{prevProps:C}):null}}]),n}(M.a.PureComponent);rt.getState=function(C){var k=Object.keys(C.src).length,O=(!1===C.collapsed||!0!==C.collapsed&&C.collapsed>C.depth)&&(!C.shouldCollapse||!1===C.shouldCollapse({name:C.name,src:C.src,type:_(C.src),namespace:C.namespace}))&&0!==k;return{expanded:me.get(C.rjvId,C.namespace,"expanded",O),object_type:"array"===C.type?"array":"object",parent_type:"array"===C.type?"array":"object",size:k,hovered:!1}};var it=function e(C,k){i(this,e),this.name=C,this.value=k,this.type=_(k)};j(rt);var ot=rt,at=function(C){u(n,C);var k=h(n);function n(){var C;i(this,n);for(var O=arguments.length,P=new Array(O),F=0;F<O;F++)P[F]=arguments[F];return(C=k.call.apply(k,[this].concat(P))).render=function(){var k=d(C).props,O=[k.name],P=ot;return Array.isArray(k.src)&&k.groupArraysAfterLength&&k.src.length>k.groupArraysAfterLength&&(P=nt),M.a.createElement("div",{className:"pretty-json-container object-container"},M.a.createElement("div",{className:"object-content"},M.a.createElement(P,Object.assign({namespace:O,depth:0,jsvRoot:!0},k))))},C}return n}(M.a.PureComponent),st=function(C){u(n,C);var k=h(n);function n(C){var O;return i(this,n),(O=k.call(this,C)).closeModal=function(){fe.dispatch({rjvId:O.props.rjvId,name:"RESET"})},O.submit=function(){O.props.submit(O.state.input)},O.state={input:C.input?C.input:""},O}return c(n,[{key:"render",value:function value(){var C=this,k=this.props,O=k.theme,P=k.rjvId,F=k.isValid,ne=this.state.input,re=F(ne);return M.a.createElement("div",Object.assign({className:"key-modal-request"},A(O,"key-modal-request"),{onClick:this.closeModal}),M.a.createElement("div",Object.assign({},A(O,"key-modal"),{onClick:function onClick(C){C.stopPropagation()}}),M.a.createElement("div",A(O,"key-modal-label"),"Key Name:"),M.a.createElement("div",{style:{position:"relative"}},M.a.createElement("input",Object.assign({},A(O,"key-modal-input"),{className:"key-modal-input",ref:function ref(C){return C&&C.focus()},spellCheck:!1,value:ne,placeholder:"...",onChange:function onChange(k){C.setState({input:k.target.value})},onKeyPress:function onKeyPress(k){re&&"Enter"===k.key?C.submit():"Escape"===k.key&&C.closeModal()}})),re?M.a.createElement(Xe,Object.assign({},A(O,"key-modal-submit"),{className:"key-modal-submit",onClick:function onClick(k){return C.submit()}})):null),M.a.createElement("span",A(O,"key-modal-cancel"),M.a.createElement(Ye,Object.assign({},A(O,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function onClick(){fe.dispatch({rjvId:P,name:"RESET"})}})))))}}]),n}(M.a.PureComponent),ct=function(C){u(n,C);var k=h(n);function n(){var C;i(this,n);for(var O=arguments.length,P=new Array(O),M=0;M<O;M++)P[M]=arguments[M];return(C=k.call.apply(k,[this].concat(P))).isValid=function(k){var O=C.props.rjvId,P=me.get(O,"action","new-key-request");return""!=k&&-1===Object.keys(P.existing_value).indexOf(k)},C.submit=function(k){var O=C.props.rjvId,P=me.get(O,"action","new-key-request");P.new_value=o({},P.existing_value),P.new_value[k]=C.props.defaultValue,fe.dispatch({name:"VARIABLE_ADDED",rjvId:O,data:P})},C}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.active,O=C.theme,P=C.rjvId;return k?M.a.createElement(st,{rjvId:P,theme:O,isValid:this.isValid,submit:this.submit}):null}}]),n}(M.a.PureComponent),ut=function(C){u(n,C);var k=h(n);function n(){return i(this,n),k.apply(this,arguments)}return c(n,[{key:"render",value:function value(){var C=this.props,k=C.message,O=C.active,P=C.theme,F=C.rjvId;return O?M.a.createElement("div",Object.assign({className:"validation-failure"},A(P,"validation-failure"),{onClick:function onClick(){fe.dispatch({rjvId:F,name:"RESET"})}}),M.a.createElement("span",A(P,"validation-failure-label"),k),M.a.createElement(Ye,A(P,"validation-failure-clear"))):null}}]),n}(M.a.PureComponent),pt=function(C){u(n,C);var k=h(n);function n(C){var O;return i(this,n),(O=k.call(this,C)).rjvId=Date.now().toString(),O.getListeners=function(){return{reset:O.resetState,"variable-update":O.updateSrc,"add-key-request":O.addKeyRequest}},O.updateSrc=function(){var C,k=me.get(O.rjvId,"action","variable-update"),P=k.name,M=k.namespace,F=k.new_value,ne=k.existing_value,re=(k.variable_removed,k.updated_src),oe=k.type,se=O.props,ue=se.onEdit,pe=se.onDelete,ve=se.onAdd,de={existing_src:O.state.src,new_value:F,updated_src:re,name:P,namespace:M,existing_value:ne};switch(oe){case"variable-added":C=ve(de);break;case"variable-edited":C=ue(de);break;case"variable-removed":C=pe(de)}!1!==C?(me.set(O.rjvId,"global","src",re),O.setState({src:re})):O.setState({validationFailure:!0})},O.addKeyRequest=function(){O.setState({addKeyRequest:!0})},O.resetState=function(){O.setState({validationFailure:!1,addKeyRequest:!1})},O.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:n.defaultProps.src,name:n.defaultProps.name,theme:n.defaultProps.theme,validationMessage:n.defaultProps.validationMessage,prevSrc:n.defaultProps.src,prevName:n.defaultProps.name,prevTheme:n.defaultProps.theme},O}return c(n,[{key:"componentDidMount",value:function value(){me.set(this.rjvId,"global","src",this.state.src);var C=this.getListeners();for(var k in C)me.on(k+"-"+this.rjvId,C[k]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function value(C,k){!1!==k.addKeyRequest&&this.setState({addKeyRequest:!1}),!1!==k.editKeyRequest&&this.setState({editKeyRequest:!1}),C.src!==this.state.src&&me.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function value(){var C=this.getListeners();for(var k in C)me.removeListener(k+"-"+this.rjvId,C[k])}},{key:"render",value:function value(){var C=this.state,k=C.validationFailure,O=C.validationMessage,P=C.addKeyRequest,F=C.theme,ne=C.src,re=C.name,oe=this.props,se=oe.style,ue=oe.defaultValue;return M.a.createElement("div",{className:"react-json-view",style:o(o({},A(F,"app-container").style),se)},M.a.createElement(ut,{message:O,active:k,theme:F,rjvId:this.rjvId}),M.a.createElement(at,Object.assign({},this.props,{src:ne,name:re,theme:F,type:_(ne),rjvId:this.rjvId})),M.a.createElement(ct,{active:P,theme:F,rjvId:this.rjvId,defaultValue:ue}))}}],[{key:"getDerivedStateFromProps",value:function value(C,k){if(C.src!==k.prevSrc||C.name!==k.prevName||C.theme!==k.prevTheme){var O={src:C.src,name:C.name,theme:C.theme,validationMessage:C.validationMessage,prevSrc:C.src,prevName:C.name,prevTheme:C.theme};return n.validateState(O)}return null}}]),n}(M.a.PureComponent);pt.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},pt.validateState=function(C){var k={};return"object"!==_(C.theme)||function(C){var k=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if("object"===_(C)){for(var O=0;O<k.length;O++)if(!(k[O]in C))return!1;return!0}return!1}(C.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),k.theme="rjv-default"),"object"!==_(C.src)&&"array"!==_(C.src)&&(console.error("react-json-view error:","src property must be a valid json object"),k.name="ERROR",k.src={message:"src property must be a valid json object"}),o(o({},C),k)},j(pt),k.default=pt}]))},function(C,k,O){"use strict";O.d(k,"a",(function(){return ne})),O.d(k,"b",(function(){return marshalPromiseToCallbacks}));O(75);var P,M=O(3),F=O(4);!function(C){C[C.None=0]="None",C[C.Resolved=1]="Resolved",C[C.Rejected=2]="Rejected"}(P||(P={}));var ne=function(){function Deferred(){var C=this;Object(M.a)(this,Deferred),this.resolve=function(k){return C.privResolve(k),C},this.reject=function(k){return C.privReject(k),C},this.privPromise=new Promise((function(k,O){C.privResolve=k,C.privReject=O}))}return Object(F.a)(Deferred,[{key:"promise",get:function get(){return this.privPromise}}]),Deferred}();function marshalPromiseToCallbacks(C,k,O){C.then((function(C){try{k&&k(C)}catch(M){if(O)try{if(M instanceof Error){var P=M;O(P.name+": "+P.message)}else O(M)}catch(M){}}}),(function(C){if(O)try{if(C instanceof Error){var k=C;O(k.name+": "+k.message)}else O(C)}catch(C){}}))}},function(C,k,O){"use strict";O.d(k,"c",(function(){return P})),O.d(k,"d",(function(){return ue})),O.d(k,"e",(function(){return pe})),O.d(k,"a",(function(){return ve})),O.d(k,"b",(function(){return he})),O.d(k,"f",(function(){return oe})),O.d(k,"g",(function(){return se}));var P,M,F=O(3),ne=O(4),re=O(569);!function(C){C[C.Interactive=0]="Interactive",C[C.Conversation=1]="Conversation",C[C.Dictation=2]="Dictation"}(P||(P={})),function(C){C[C.Simple=0]="Simple",C[C.Detailed=1]="Detailed"}(M||(M={}));var oe,se,ue=function(){function RecognizerConfig(C,k){Object(F.a)(this,RecognizerConfig),this.privRecognitionMode=P.Interactive,this.privSpeechServiceConfig=C||new pe(new ve(null)),this.privParameters=k,this.privMaxRetryCount=parseInt(k.getProperty("SPEECH-Error-MaxRetryCount","4"),10)}return Object(ne.a)(RecognizerConfig,[{key:"parameters",get:function get(){return this.privParameters}},{key:"recognitionMode",get:function get(){return this.privRecognitionMode},set:function set(C){this.privRecognitionMode=C,this.privRecognitionActivityTimeout=C===P.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=P[C]}},{key:"SpeechServiceConfig",get:function get(){return this.privSpeechServiceConfig}},{key:"recognitionActivityTimeout",get:function get(){return this.privRecognitionActivityTimeout}},{key:"isContinuousRecognition",get:function get(){return this.privRecognitionMode!==P.Interactive}},{key:"autoDetectSourceLanguages",get:function get(){return this.parameters.getProperty(re.a.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}},{key:"maxRetryCount",get:function get(){return this.privMaxRetryCount}}]),RecognizerConfig}(),pe=function(){function SpeechServiceConfig(C){var k=this;Object(F.a)(this,SpeechServiceConfig),this.serialize=function(){return JSON.stringify(k,(function(C,k){if(k&&"object"===typeof k){var O={};for(var P in k)Object.hasOwnProperty.call(k,P)&&(O[P&&P.charAt(0).toLowerCase()+P.substring(1)]=k[P]);return O}return k}))},this.context=C}return Object(ne.a)(SpeechServiceConfig,[{key:"Context",get:function get(){return this.context}},{key:"Recognition",get:function get(){return this.recognition},set:function set(C){this.recognition=C.toLowerCase()}}]),SpeechServiceConfig}(),ve=function Context(C){Object(F.a)(this,Context),this.system=new de,this.os=C},de=function System(){Object(F.a)(this,System);this.name="SpeechSDK",this.version="1.20.0",this.build="JavaScript",this.lang="JavaScript"},he=function OS(C,k,O){Object(F.a)(this,OS),this.platform=C,this.name=k,this.version=O};!function(C){C.Bluetooth="Bluetooth",C.Wired="Wired",C.WiFi="WiFi",C.Cellular="Cellular",C.InBuilt="InBuilt",C.Unknown="Unknown"}(oe||(oe={})),function(C){C.Phone="Phone",C.Speaker="Speaker",C.Car="Car",C.Headset="Headset",C.Thermostat="Thermostat",C.Microphones="Microphones",C.Deskphone="Deskphone",C.RemoteControl="RemoteControl",C.Unknown="Unknown",C.File="File",C.Stream="Stream"}(se||(se={}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function SynthesisContext(C){Object(P.a)(this,SynthesisContext),this.privContext={},this.privSpeechSynthesizer=C}return Object(M.a)(SynthesisContext,[{key:"setSection",value:function setSection(C,k){this.privContext[C]=k}},{key:"audioOutputFormat",set:function set(C){this.privAudioOutputFormat=C}},{key:"toJSON",value:function toJSON(){var C=this.buildSynthesisContext();return this.setSection("synthesis",C),JSON.stringify(this.privContext)}},{key:"buildSynthesisContext",value:function buildSynthesisContext(){return{audio:{metadataOptions:{bookmarkEnabled:!!this.privSpeechSynthesizer.bookmarkReached,sentenceBoundaryEnabled:!1,visemeEnabled:!!this.privSpeechSynthesizer.visemeReceived,wordBoundaryEnabled:!!this.privSpeechSynthesizer.wordBoundary},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:this.privSpeechSynthesizer.autoDetectSourceLanguage}}}}]),SynthesisContext}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function AgentConfig(){Object(P.a)(this,AgentConfig)}return Object(M.a)(AgentConfig,[{key:"toJsonString",value:function toJsonString(){return JSON.stringify(this.iPrivConfig)}},{key:"get",value:function get(){return this.iPrivConfig}},{key:"set",value:function set(C){this.iPrivConfig=C}}]),AgentConfig}()},function(C,k,O){"use strict";var P;O.d(k,"a",(function(){return P})),function(C){C[C.Error=0]="Error",C[C.EndOfStream=1]="EndOfStream"}(P||(P={}))},function(C,k,O){"use strict";var P;O.d(k,"a",(function(){return P})),function(C){C[C.NoError=0]="NoError",C[C.AuthenticationFailure=1]="AuthenticationFailure",C[C.BadRequestParameters=2]="BadRequestParameters",C[C.TooManyRequests=3]="TooManyRequests",C[C.ConnectionFailure=4]="ConnectionFailure",C[C.ServiceTimeout=5]="ServiceTimeout",C[C.ServiceError=6]="ServiceError",C[C.RuntimeError=7]="RuntimeError",C[C.Forbidden=8]="Forbidden"}(P||(P={}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function SpeechSynthesisEventArgs(C){Object(P.a)(this,SpeechSynthesisEventArgs),this.privResult=C}return Object(M.a)(SpeechSynthesisEventArgs,[{key:"result",get:function get(){return this.privResult}}]),SpeechSynthesisEventArgs}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=function(C){Object(F.a)(SpeechSynthesisResult,C);var k=Object(ne.a)(SpeechSynthesisResult);function SpeechSynthesisResult(C,O,M,F,ne){var re;return Object(P.a)(this,SpeechSynthesisResult),(re=k.call(this,C,O,F,ne)).privAudioData=M,re}return Object(M.a)(SpeechSynthesisResult,[{key:"audioData",get:function get(){return this.privAudioData}}]),SpeechSynthesisResult}(O(639).a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function SynthesisResult(C,k,O,M){Object(P.a)(this,SynthesisResult),this.privResultId=C,this.privReason=k,this.privErrorDetails=O,this.privProperties=M}return Object(M.a)(SynthesisResult,[{key:"resultId",get:function get(){return this.privResultId}},{key:"reason",get:function get(){return this.privReason}},{key:"errorDetails",get:function get(){return this.privErrorDetails}},{key:"properties",get:function get(){return this.privProperties}}]),SynthesisResult}()},function(C,k,O){"use strict";var P;O.d(k,"a",(function(){return P})),function(C){C[C.NoMatch=0]="NoMatch",C[C.Canceled=1]="Canceled",C[C.RecognizingSpeech=2]="RecognizingSpeech",C[C.RecognizedSpeech=3]="RecognizedSpeech",C[C.RecognizedKeyword=4]="RecognizedKeyword",C[C.RecognizingIntent=5]="RecognizingIntent",C[C.RecognizedIntent=6]="RecognizedIntent",C[C.TranslatingSpeech=7]="TranslatingSpeech",C[C.TranslatedSpeech=8]="TranslatedSpeech",C[C.SynthesizingAudio=9]="SynthesizingAudio",C[C.SynthesizingAudioCompleted=10]="SynthesizingAudioCompleted",C[C.SynthesizingAudioStarted=11]="SynthesizingAudioStarted",C[C.EnrollingVoiceProfile=12]="EnrollingVoiceProfile",C[C.EnrolledVoiceProfile=13]="EnrolledVoiceProfile",C[C.RecognizedSpeakers=14]="RecognizedSpeakers",C[C.RecognizedSpeaker=15]="RecognizedSpeaker",C[C.ResetVoiceProfile=16]="ResetVoiceProfile",C[C.DeletedVoiceProfile=17]="DeletedVoiceProfile",C[C.VoicesListRetrieved=18]="VoicesListRetrieved"}(P||(P={}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return P})),O.d(k,"b",(function(){return ne}));var P,M=O(3),F=O(4);!function(C){C.WordBoundary="WordBoundary",C.Bookmark="Bookmark",C.Viseme="Viseme"}(P||(P={}));var ne=function(){function SynthesisAudioMetadata(C){Object(M.a)(this,SynthesisAudioMetadata),this.privSynthesisAudioMetadata=JSON.parse(C)}return Object(F.a)(SynthesisAudioMetadata,[{key:"Metadata",get:function get(){return this.privSynthesisAudioMetadata.Metadata}}],[{key:"fromJSON",value:function fromJSON(C){return new SynthesisAudioMetadata(C)}}]),SynthesisAudioMetadata}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function SpeechSynthesisWordBoundaryEventArgs(C,k,O,M){Object(P.a)(this,SpeechSynthesisWordBoundaryEventArgs),this.privAudioOffset=C,this.privText=k,this.privWordLength=O,this.privTextOffset=M}return Object(M.a)(SpeechSynthesisWordBoundaryEventArgs,[{key:"audioOffset",get:function get(){return this.privAudioOffset}},{key:"text",get:function get(){return this.privText}},{key:"wordLength",get:function get(){return this.privWordLength}},{key:"textOffset",get:function get(){return this.privTextOffset}}]),SpeechSynthesisWordBoundaryEventArgs}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function SpeechSynthesisBookmarkEventArgs(C,k){Object(P.a)(this,SpeechSynthesisBookmarkEventArgs),this.privAudioOffset=C,this.privText=k}return Object(M.a)(SpeechSynthesisBookmarkEventArgs,[{key:"audioOffset",get:function get(){return this.privAudioOffset}},{key:"text",get:function get(){return this.privText}}]),SpeechSynthesisBookmarkEventArgs}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function SpeechSynthesisVisemeEventArgs(C,k,O){Object(P.a)(this,SpeechSynthesisVisemeEventArgs),this.privAudioOffset=C,this.privVisemeId=k,this.privAnimation=O}return Object(M.a)(SpeechSynthesisVisemeEventArgs,[{key:"audioOffset",get:function get(){return this.privAudioOffset}},{key:"visemeId",get:function get(){return this.privVisemeId}},{key:"animation",get:function get(){return this.privAnimation}}]),SpeechSynthesisVisemeEventArgs}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function SessionEventArgs(C){Object(P.a)(this,SessionEventArgs),this.privSessionId=C}return Object(M.a)(SessionEventArgs,[{key:"sessionId",get:function get(){return this.privSessionId}}]),SessionEventArgs}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=function(C){Object(F.a)(RecognitionEventArgs,C);var k=Object(ne.a)(RecognitionEventArgs);function RecognitionEventArgs(C,O){var M;return Object(P.a)(this,RecognitionEventArgs),(M=k.call(this,O)).privOffset=C,M}return Object(M.a)(RecognitionEventArgs,[{key:"offset",get:function get(){return this.privOffset}}]),RecognitionEventArgs}(O(645).a)},function(C,k,O){"use strict";var P;O.d(k,"a",(function(){return P})),function(C){C[C.Simple=0]="Simple",C[C.Detailed=1]="Detailed"}(P||(P={}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=function(C){Object(F.a)(IntentRecognitionEventArgs,C);var k=Object(ne.a)(IntentRecognitionEventArgs);function IntentRecognitionEventArgs(C,O,M){var F;return Object(P.a)(this,IntentRecognitionEventArgs),(F=k.call(this,O,M)).privResult=C,F}return Object(M.a)(IntentRecognitionEventArgs,[{key:"result",get:function get(){return this.privResult}}]),IntentRecognitionEventArgs}(O(646).a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function RecognitionResult(C,k,O,M,F,ne,re,oe,se,ue){Object(P.a)(this,RecognitionResult),this.privResultId=C,this.privReason=k,this.privText=O,this.privDuration=M,this.privOffset=F,this.privLanguage=ne,this.privLanguageDetectionConfidence=re,this.privErrorDetails=oe,this.privJson=se,this.privProperties=ue}return Object(M.a)(RecognitionResult,[{key:"resultId",get:function get(){return this.privResultId}},{key:"reason",get:function get(){return this.privReason}},{key:"text",get:function get(){return this.privText}},{key:"duration",get:function get(){return this.privDuration}},{key:"offset",get:function get(){return this.privOffset}},{key:"language",get:function get(){return this.privLanguage}},{key:"languageDetectionConfidence",get:function get(){return this.privLanguageDetectionConfidence}},{key:"errorDetails",get:function get(){return this.privErrorDetails}},{key:"json",get:function get(){return this.privJson}},{key:"properties",get:function get(){return this.privProperties}}]),RecognitionResult}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=function(C){Object(F.a)(SpeechRecognitionResult,C);var k=Object(ne.a)(SpeechRecognitionResult);function SpeechRecognitionResult(C,O,M,F,ne,re,oe,se,ue,pe,ve){var de;return Object(P.a)(this,SpeechRecognitionResult),(de=k.call(this,C,O,M,F,ne,re,oe,ue,pe,ve)).privSpeakerId=se,de}return Object(M.a)(SpeechRecognitionResult,[{key:"speakerId",get:function get(){return this.privSpeakerId}}]),SpeechRecognitionResult}(O(649).a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=function(C){Object(F.a)(IntentRecognitionResult,C);var k=Object(ne.a)(IntentRecognitionResult);function IntentRecognitionResult(C,O,M,F,ne,re,oe,se,ue,pe,ve){var de;return Object(P.a)(this,IntentRecognitionResult),(de=k.call(this,O,M,F,ne,re,oe,se,void 0,ue,pe,ve)).privIntentId=C,de}return Object(M.a)(IntentRecognitionResult,[{key:"intentId",get:function get(){return this.privIntentId}}]),IntentRecognitionResult}(O(650).a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return ne}));var P=O(3),M=O(5),F=O(6),ne=function(C){Object(M.a)(SpeechRecognitionCanceledEventArgs,C);var k=Object(F.a)(SpeechRecognitionCanceledEventArgs);function SpeechRecognitionCanceledEventArgs(){return Object(P.a)(this,SpeechRecognitionCanceledEventArgs),k.apply(this,arguments)}return SpeechRecognitionCanceledEventArgs}(O(592).a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=function(C){Object(F.a)(TranslationRecognitionEventArgs,C);var k=Object(ne.a)(TranslationRecognitionEventArgs);function TranslationRecognitionEventArgs(C,O,M){var F;return Object(P.a)(this,TranslationRecognitionEventArgs),(F=k.call(this,O,M)).privResult=C,F}return Object(M.a)(TranslationRecognitionEventArgs,[{key:"result",get:function get(){return this.privResult}}]),TranslationRecognitionEventArgs}(O(646).a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=function(C){Object(F.a)(TranslationSynthesisEventArgs,C);var k=Object(ne.a)(TranslationSynthesisEventArgs);function TranslationSynthesisEventArgs(C,O){var M;return Object(P.a)(this,TranslationSynthesisEventArgs),(M=k.call(this,O)).privResult=C,M}return Object(M.a)(TranslationSynthesisEventArgs,[{key:"result",get:function get(){return this.privResult}}]),TranslationSynthesisEventArgs}(O(645).a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function TranslationSynthesisResult(C,k){Object(P.a)(this,TranslationSynthesisResult),this.privReason=C,this.privAudio=k}return Object(M.a)(TranslationSynthesisResult,[{key:"audio",get:function get(){return this.privAudio}},{key:"reason",get:function get(){return this.privReason}}]),TranslationSynthesisResult}()},function(C,k,O){"use strict";var P;O.d(k,"a",(function(){return P})),function(C){C[C.Masked=0]="Masked",C[C.Removed=1]="Removed",C[C.Raw=2]="Raw"}(P||(P={}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return Te}));var P=O(1),M=O.n(P),F=O(3),ne=O(4),re=O(827),oe=O(790),se=O(542),ue=O(789),pe=O(826),ve=O(823),de=O(824),he=O(551),fe=O(635),ge=O(636),me=O(569),ye=O(645),be=O(646),ke=O(705),Oe=O(658),Ee=O(659),Re=O(634),Ie=O(632),Ae=O(660),Pe=O(570),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Te=function(){function ServiceRecognizerBase(C,k,O,P,ne){var re=this;if(Object(F.a)(this,ServiceRecognizerBase),this.privSetTimeout=setTimeout,this.privIsLiveAudio=!1,this.recognizeOverride=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendSpeechContext=function(C){var k=re.speechContext.toJSON();if(re.privRequestSession.onSpeechContext(),k)return C.send(new Pe.a(oe.b.Text,"speech.context",re.privRequestSession.requestId,"application/json",k))},this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,this.sendSpeechServiceConfig=function(C,k,O){if(!0!==ServiceRecognizerBase.telemetryDataEnabled){var P={context:{system:JSON.parse(O).context.system}};O=JSON.stringify(P)}if("true"===re.privRecognizerConfig.parameters.getProperty("TranscriptionService_SingleChannel","false").toLowerCase()){var M=JSON.parse(O);M.context.DisableReferenceChannel="True",M.context.MicSpec="1_0_0",O=JSON.stringify(M)}if(O)return C.send(new Pe.a(oe.b.Text,"speech.config",k.requestId,"application/json",O))},!C)throw new se.a("authentication");if(!k)throw new se.a("connectionFactory");if(!O)throw new se.a("audioSource");if(!P)throw new se.a("recognizerConfig");this.privMustReportEndOfStream=!1,this.privAuthentication=C,this.privConnectionFactory=k,this.privAudioSource=O,this.privRecognizerConfig=P,this.privIsDisposed=!1,this.privRecognizer=ne,this.privRequestSession=new ke.a(this.privAudioSource.id()),this.privConnectionEvents=new ue.a,this.privServiceEvents=new ue.a,this.privDynamicGrammar=new Oe.a,this.privSpeechContext=new Ee.a(this.privDynamicGrammar),this.privAgentConfig=new Re.a,"undefined"!==typeof Blob&&"undefined"!==typeof Worker&&(this.privSetTimeout=pe.a.setTimeout),this.connectionEvents.attach((function(C){return __awaiter(re,void 0,void 0,M.a.mark((function _callee(){var k;return M.a.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:if("ConnectionClosedEvent"!==C.name){O.next=5;break}if(!(1003===(k=C).statusCode||1007===k.statusCode||1002===k.statusCode||4e3===k.statusCode||this.privRequestSession.numConnectionAttempts>this.privRecognizerConfig.maxRetryCount)){O.next=5;break}return O.next=5,this.cancelRecognitionLocal(fe.a.Error,1007===k.statusCode?ge.a.BadRequestParameters:ge.a.ConnectionFailure,k.reason+" websocket error code: "+k.statusCode);case 5:case"end":return O.stop()}}),_callee,this)})))}))}return Object(ne.a)(ServiceRecognizerBase,[{key:"audioSource",get:function get(){return this.privAudioSource}},{key:"speechContext",get:function get(){return this.privSpeechContext}},{key:"dynamicGrammar",get:function get(){return this.privDynamicGrammar}},{key:"agentConfig",get:function get(){return this.privAgentConfig}},{key:"conversationTranslatorToken",set:function set(C){this.privRecognizerConfig.parameters.setProperty(me.a.ConversationTranslator_Token,C)}},{key:"authentication",set:function set(C){this.privAuthentication=this.authentication}},{key:"isDisposed",value:function isDisposed(){return this.privIsDisposed}},{key:"dispose",value:function dispose(C){return __awaiter(this,void 0,void 0,M.a.mark((function _callee2(){var k;return M.a.wrap((function _callee2$(O){for(;;)switch(O.prev=O.next){case 0:if(this.privIsDisposed=!0,!this.privConnectionConfigurationPromise){O.next=13;break}return O.prev=2,O.next=5,this.privConnectionConfigurationPromise;case 5:return k=O.sent,O.next=8,k.dispose(C);case 8:O.next=13;break;case 10:return O.prev=10,O.t0=O.catch(2),O.abrupt("return");case 13:case"end":return O.stop()}}),_callee2,this,[[2,10]])})))}},{key:"connectionEvents",get:function get(){return this.privConnectionEvents}},{key:"serviceEvents",get:function get(){return this.privServiceEvents}},{key:"recognitionMode",get:function get(){return this.privRecognizerConfig.recognitionMode}},{key:"recognize",value:function recognize(C,k,O){return __awaiter(this,void 0,void 0,M.a.mark((function _callee4(){var P,F,ne,oe,se,ue,pe=this;return M.a.wrap((function _callee4$(ve){for(;;)switch(ve.prev=ve.next){case 0:if(void 0===this.recognizeOverride){ve.next=2;break}return ve.abrupt("return",this.recognizeOverride(C,k,O));case 2:return this.privConnectionConfigurationPromise=null,this.privRecognizerConfig.recognitionMode=C,this.privSuccessCallback=k,this.privErrorCallback=O,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events),P=this.connectImpl(),ve.prev=9,ve.next=12,this.audioSource.attach(this.privRequestSession.audioNodeId);case 12:return ne=ve.sent,ve.next=15,this.audioSource.format;case 15:return oe=ve.sent,ve.next=18,this.audioSource.deviceInfo;case 18:return se=ve.sent,this.privIsLiveAudio=se.type&&se.type===Ie.g.Microphones,F=new re.a(ne,oe.avgBytesPerSec),ve.next=23,this.privRequestSession.onAudioSourceAttachCompleted(F,!1);case 23:this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:se},ve.next=31;break;case 26:return ve.prev=26,ve.t0=ve.catch(9),ve.next=30,this.privRequestSession.onStopRecognizing();case 30:throw ve.t0;case 31:return ve.prev=31,ve.next=34,P;case 34:ve.next=41;break;case 36:return ve.prev=36,ve.t1=ve.catch(31),ve.next=40,this.cancelRecognitionLocal(fe.a.Error,ge.a.ConnectionFailure,ve.t1);case 40:return ve.abrupt("return");case 41:return ue=new ye.a(this.privRequestSession.sessionId),this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,ue),this.receiveMessage(),this.sendAudio(F).catch((function(C){return __awaiter(pe,void 0,void 0,M.a.mark((function _callee3(){return M.a.wrap((function _callee3$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.cancelRecognitionLocal(fe.a.Error,ge.a.RuntimeError,C);case 2:case"end":return k.stop()}}),_callee3,this)})))})),ve.abrupt("return");case 47:case"end":return ve.stop()}}),_callee4,this,[[9,26],[31,36]])})))}},{key:"stopRecognizing",value:function stopRecognizing(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee5(){return M.a.wrap((function _callee5$(C){for(;;)switch(C.prev=C.next){case 0:if(!this.privRequestSession.isRecognizing){C.next=14;break}return C.prev=1,C.next=4,this.audioSource.turnOff();case 4:return C.next=6,this.sendFinalAudio();case 6:return C.next=8,this.privRequestSession.onStopRecognizing();case 8:return C.next=10,this.privRequestSession.turnCompletionPromise;case 10:return C.prev=10,C.next=13,this.privRequestSession.dispose();case 13:return C.finish(10);case 14:return C.abrupt("return");case 15:case"end":return C.stop()}}),_callee5,this,[[1,,10,14]])})))}},{key:"connect",value:function connect(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee6(){return M.a.wrap((function _callee6$(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.connectImpl();case 2:return C.abrupt("return",Promise.resolve());case 3:case"end":return C.stop()}}),_callee6,this)})))}},{key:"connectAsync",value:function connectAsync(C,k){this.connectImpl().then((function(O){try{C&&C()}catch(P){k&&k(P)}}),(function(C){try{k&&k(C)}catch(O){}}))}},{key:"disconnect",value:function disconnect(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee7(){return M.a.wrap((function _callee7$(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.cancelRecognitionLocal(fe.a.Error,ge.a.NoError,"Disconnecting");case 2:if(void 0===this.disconnectOverride){C.next=5;break}return C.next=5,this.disconnectOverride();case 5:return C.prev=5,C.next=8,this.privConnectionPromise;case 8:return C.next=10,C.sent.dispose();case 10:C.next=14;break;case 12:C.prev=12,C.t0=C.catch(5);case 14:this.privConnectionPromise=null;case 15:case"end":return C.stop()}}),_callee7,this,[[5,12]])})))}},{key:"sendMessage",value:function sendMessage(C){}},{key:"sendNetworkMessage",value:function sendNetworkMessage(C,k){return __awaiter(this,void 0,void 0,M.a.mark((function _callee8(){var O,P,F;return M.a.wrap((function _callee8$(M){for(;;)switch(M.prev=M.next){case 0:return O="string"===typeof k?oe.b.Text:oe.b.Binary,P="string"===typeof k?"application/json":"",M.next=4,this.fetchConnection();case 4:return F=M.sent,M.abrupt("return",F.send(new Pe.a(O,C,this.privRequestSession.requestId,P,k)));case 6:case"end":return M.stop()}}),_callee8,this)})))}},{key:"activityTemplate",get:function get(){return this.privActivityTemplate},set:function set(C){this.privActivityTemplate=C}},{key:"sendTelemetryData",value:function sendTelemetryData(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee9(){var C,k;return M.a.wrap((function _callee9$(O){for(;;)switch(O.prev=O.next){case 0:if(C=this.privRequestSession.getTelemetry(),!0===ServiceRecognizerBase.telemetryDataEnabled&&!this.privIsDisposed&&null!==C){O.next=3;break}return O.abrupt("return");case 3:if(ServiceRecognizerBase.telemetryData)try{ServiceRecognizerBase.telemetryData(C)}catch(P){}return O.next=6,this.fetchConnection();case 6:return k=O.sent,O.next=9,k.send(new Pe.a(oe.b.Text,"telemetry",this.privRequestSession.requestId,"application/json",C));case 9:case"end":return O.stop()}}),_callee9,this)})))}},{key:"cancelRecognitionLocal",value:function cancelRecognitionLocal(C,k,O){return __awaiter(this,void 0,void 0,M.a.mark((function _callee10(){return M.a.wrap((function _callee10$(P){for(;;)switch(P.prev=P.next){case 0:if(!this.privRequestSession.isRecognizing){P.next=4;break}return P.next=3,this.privRequestSession.onStopRecognizing();case 3:this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,C,k,O);case 4:case"end":return P.stop()}}),_callee10,this)})))}},{key:"receiveMessage",value:function receiveMessage(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee11(){var C,k,O,P,F,ne,re,oe,se;return M.a.wrap((function _callee11$(M){for(;;)switch(M.prev=M.next){case 0:if(M.prev=0,!this.privIsDisposed){M.next=3;break}return M.abrupt("return");case 3:return M.next=5,this.fetchConnection();case 5:return C=M.sent,M.next=8,C.read();case 8:if(k=M.sent,void 0===this.receiveMessageOverride){M.next=11;break}return M.abrupt("return",this.receiveMessageOverride());case 11:if(k){M.next=17;break}if(this.privRequestSession.isRecognizing){M.next=16;break}return M.abrupt("return");case 16:return M.abrupt("return",this.receiveMessage());case 17:if(this.privServiceHasSentMessage=!0,(O=Pe.a.fromConnectionMessage(k)).requestId.toLowerCase()!==this.privRequestSession.requestId.toLowerCase()){M.next=60;break}M.t0=O.path.toLowerCase(),M.next="turn.start"===M.t0?23:"speech.startdetected"===M.t0?26:"speech.enddetected"===M.t0?30:"turn.end"===M.t0?36:56;break;case 23:return this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse(),M.abrupt("break",60);case 26:return P=Ae.a.fromJSON(O.textBody),F=new be.a(P.Offset,this.privRequestSession.sessionId),this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,F),M.abrupt("break",60);case 30:return ne=O.textBody.length>0?O.textBody:"{ Offset: 0 }",re=Ae.a.fromJSON(ne),this.privRecognizerConfig.isContinuousRecognition&&this.privRequestSession.onServiceRecognized(re.Offset+this.privRequestSession.currentTurnAudioOffset),oe=new be.a(re.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId),this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,oe),M.abrupt("break",60);case 36:return M.next=38,this.sendTelemetryData();case 38:if(!this.privRequestSession.isSpeechEnded||!this.privMustReportEndOfStream){M.next=42;break}return this.privMustReportEndOfStream=!1,M.next=42,this.cancelRecognitionLocal(fe.a.EndOfStream,ge.a.NoError,void 0);case 42:return se=new ye.a(this.privRequestSession.sessionId),M.next=45,this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition);case 45:if(this.privRecognizerConfig.isContinuousRecognition&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing){M.next=50;break}return this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,se),M.abrupt("return");case 50:return M.next=52,this.fetchConnection();case 52:return C=M.sent,M.next=55,this.sendPrePayloadJSON(C);case 55:return M.abrupt("break",60);case 56:return M.next=58,this.processTypeSpecificMessages(O);case 58:if(M.sent){M.next=60;break}this.privServiceEvents&&this.serviceEvents.onEvent(new ve.h(O.path.toLowerCase(),O.textBody));case 60:return M.abrupt("return",this.receiveMessage());case 63:return M.prev=63,M.t1=M.catch(0),M.abrupt("return",null);case 66:case"end":return M.stop()}}),_callee11,this,[[0,63]])})))}},{key:"sendPrePayloadJSON",value:function sendPrePayloadJSON(C){return __awaiter(this,void 0,void 0,M.a.mark((function _callee12(){return M.a.wrap((function _callee12$(k){for(;;)switch(k.prev=k.next){case 0:if(void 0===this.sendPrePayloadJSONOverride){k.next=2;break}return k.abrupt("return",this.sendPrePayloadJSONOverride(C));case 2:return k.next=4,this.sendSpeechContext(C);case 4:return k.next=6,this.sendWaveHeader(C);case 6:return k.abrupt("return");case 7:case"end":return k.stop()}}),_callee12,this)})))}},{key:"sendWaveHeader",value:function sendWaveHeader(C){return __awaiter(this,void 0,void 0,M.a.mark((function _callee13(){var k;return M.a.wrap((function _callee13$(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this.audioSource.format;case 2:return k=O.sent,O.abrupt("return",C.send(new Pe.a(oe.b.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",k.header)));case 4:case"end":return O.stop()}}),_callee13,this)})))}},{key:"connectImpl",value:function connectImpl(){var C=this;return this.privConnectionPromise?this.privConnectionPromise.then((function(k){return k.state()===de.a.Disconnected?(C.privConnectionId=null,C.privConnectionPromise=null,C.privServiceHasSentMessage=!1,C.connectImpl()):C.privConnectionPromise}),(function(k){return C.privConnectionId=null,C.privConnectionPromise=null,C.privServiceHasSentMessage=!1,C.connectImpl()})):(this.privConnectionPromise=this.retryableConnect(),this.privConnectionPromise.catch((function(){})),void 0!==this.postConnectImplOverride?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise)}},{key:"fetchConnection",value:function fetchConnection(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee14(){var C=this;return M.a.wrap((function _callee14$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privConnectionConfigurationPromise){k.next=2;break}return k.abrupt("return",this.privConnectionConfigurationPromise.then((function(k){return k.state()===de.a.Disconnected?(C.privConnectionId=null,C.privConnectionConfigurationPromise=null,C.privServiceHasSentMessage=!1,C.fetchConnection()):C.privConnectionConfigurationPromise}),(function(k){return C.privConnectionId=null,C.privConnectionConfigurationPromise=null,C.privServiceHasSentMessage=!1,C.fetchConnection()})));case 2:return this.privConnectionConfigurationPromise=this.configureConnection(),k.next=5,this.privConnectionConfigurationPromise;case 5:return k.abrupt("return",k.sent);case 6:case"end":return k.stop()}}),_callee14,this)})))}},{key:"sendAudio",value:function sendAudio(C){return __awaiter(this,void 0,void 0,M.a.mark((function _callee16(){var k,O,P,F,ne,re,se=this;return M.a.wrap((function _callee16$(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,this.audioSource.format;case 2:return k=ue.sent,O=Date.now(),P=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),F=k.avgBytesPerSec/1e3*parseInt(P,10),ne=this.privRequestSession.recogNumber,re=function readAndUploadCycle(){return __awaiter(se,void 0,void 0,M.a.mark((function _callee15(){var P,re,se,ue,pe=this;return M.a.wrap((function _callee15$(M){for(;;)switch(M.prev=M.next){case 0:if(this.privIsDisposed||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing||this.privRequestSession.recogNumber!==ne){M.next=21;break}return M.next=3,this.fetchConnection();case 3:return P=M.sent,M.next=6,C.read();case 6:if(re=M.sent,!this.privRequestSession.isSpeechEnded){M.next=9;break}return M.abrupt("return");case 9:if(!re||re.isEnd?(se=null,ue=0):(se=re.buffer,this.privRequestSession.onAudioSent(se.byteLength),ue=F>=this.privRequestSession.bytesSent?0:Math.max(0,O-Date.now())),0===ue){M.next=13;break}return M.next=13,this.delay(ue);case 13:if(null!==se&&(O=Date.now()+1e3*se.byteLength/(2*k.avgBytesPerSec)),this.privIsDisposed||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing||this.privRequestSession.recogNumber!==ne){M.next=21;break}if(P.send(new Pe.a(oe.b.Binary,"audio",this.privRequestSession.requestId,null,se)).catch((function(){pe.privRequestSession.onServiceTurnEndResponse(pe.privRecognizerConfig.isContinuousRecognition).catch((function(){}))})),null===re||void 0===re?void 0:re.isEnd){M.next=20;break}return M.abrupt("return",readAndUploadCycle());case 20:this.privIsLiveAudio||this.privRequestSession.onSpeechEnded();case 21:case"end":return M.stop()}}),_callee15,this)})))},ue.abrupt("return",re());case 9:case"end":return ue.stop()}}),_callee16,this)})))}},{key:"retryableConnect",value:function retryableConnect(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee17(){var C,k,O,P,F,ne,re,oe,se=this;return M.a.wrap((function _callee17$(M){for(;;)switch(M.prev=M.next){case 0:C=!1,this.privAuthFetchEventId=Object(he.b)(),k=this.privRequestSession.sessionId,this.privConnectionId=void 0!==k?k:Object(he.b)(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId),O=0,P="";case 7:if(!(this.privRequestSession.numConnectionAttempts<=this.privRecognizerConfig.maxRetryCount)){M.next=32;break}return F=C?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId),M.next=11,F;case 11:return ne=M.sent,M.next=14,this.privRequestSession.onAuthCompleted(!1);case 14:return re=this.privConnectionFactory.create(this.privRecognizerConfig,ne,this.privConnectionId),this.privRequestSession.listenForServiceTelemetry(re.events),re.events.attach((function(C){se.connectionEvents.onEvent(C)})),M.next=19,re.open();case 19:if(200!==(oe=M.sent).statusCode){M.next=26;break}return M.next=23,this.privRequestSession.onConnectionEstablishCompleted(oe.statusCode);case 23:return M.abrupt("return",Promise.resolve(re));case 26:1006===oe.statusCode&&(C=!0);case 27:O=oe.statusCode,P=oe.reason,this.privRequestSession.onRetryConnection(),M.next=7;break;case 32:return M.next=34,this.privRequestSession.onConnectionEstablishCompleted(O,P);case 34:return M.abrupt("return",Promise.reject("Unable to contact server. StatusCode: ".concat(O,", ").concat(this.privRecognizerConfig.parameters.getProperty(me.a.SpeechServiceConnection_Endpoint)," Reason: ").concat(P)));case 35:case"end":return M.stop()}}),_callee17,this)})))}},{key:"delay",value:function delay(C){var k=this;return new Promise((function(O,P){k.privSetTimeout(O,C)}))}},{key:"writeBufferToConsole",value:function writeBufferToConsole(C){var k="Buffer Size: ";if(null===C)k+="null";else{var O=new Uint8Array(C);k+=C.byteLength+"\r\n";for(var P=0;P<C.byteLength;P++)k+=O[P].toString(16).padStart(2,"0")+" "}console.info(k)}},{key:"sendFinalAudio",value:function sendFinalAudio(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee18(){var C;return M.a.wrap((function _callee18$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.fetchConnection();case 2:return C=k.sent,k.next=5,C.send(new Pe.a(oe.b.Binary,"audio",this.privRequestSession.requestId,null,null));case 5:return k.abrupt("return");case 6:case"end":return k.stop()}}),_callee18,this)})))}},{key:"configureConnection",value:function configureConnection(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee19(){var C;return M.a.wrap((function _callee19$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.connectImpl();case 2:if(C=k.sent,void 0===this.configConnectionOverride){k.next=5;break}return k.abrupt("return",this.configConnectionOverride(C));case 5:return k.next=7,this.sendSpeechServiceConfig(C,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize());case 7:return k.next=9,this.sendPrePayloadJSON(C);case 9:return k.abrupt("return",C);case 10:case"end":return k.stop()}}),_callee19,this)})))}}]),ServiceRecognizerBase}();Te.telemetryDataEnabled=!0},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function DynamicGrammarBuilder(){Object(P.a)(this,DynamicGrammarBuilder)}return Object(M.a)(DynamicGrammarBuilder,[{key:"addPhrase",value:function addPhrase(C){this.privPhrases||(this.privPhrases=[]),C instanceof Array?this.privPhrases=this.privPhrases.concat(C):this.privPhrases.push(C)}},{key:"clearPhrases",value:function clearPhrases(){this.privPhrases=void 0}},{key:"addReferenceGrammar",value:function addReferenceGrammar(C){this.privGrammars||(this.privGrammars=[]),C instanceof Array?this.privGrammars=this.privGrammars.concat(C):this.privGrammars.push(C)}},{key:"clearGrammars",value:function clearGrammars(){this.privGrammars=void 0}},{key:"generateGrammarObject",value:function generateGrammarObject(){if(void 0!==this.privGrammars||void 0!==this.privPhrases){var C={};if(C.ReferenceGrammars=this.privGrammars,void 0!==this.privPhrases&&0!==this.privPhrases.length){var k=[];this.privPhrases.forEach((function(C,O,P){k.push({Text:C})})),C.Groups=[{Type:"Generic",Items:k}]}return C}}}]),DynamicGrammarBuilder}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function SpeechContext(C){Object(P.a)(this,SpeechContext),this.privContext={},this.privDynamicGrammar=C}return Object(M.a)(SpeechContext,[{key:"setSection",value:function setSection(C,k){this.privContext[C]=k}},{key:"setPronunciationAssessmentParams",value:function setPronunciationAssessmentParams(C){void 0===this.privContext.phraseDetection&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(C),void 0===this.privContext.phraseOutput&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.format="Detailed",this.privContext.phraseOutput.detailed.options.push("PronunciationAssessment"),-1===this.privContext.phraseOutput.detailed.options.indexOf("WordTimings")&&this.privContext.phraseOutput.detailed.options.push("WordTimings"),-1===this.privContext.phraseOutput.detailed.options.indexOf("SNR")&&this.privContext.phraseOutput.detailed.options.push("SNR")}},{key:"toJSON",value:function toJSON(){var C=this.privDynamicGrammar.generateGrammarObject();return this.setSection("dgi",C),JSON.stringify(this.privContext)}}]),SpeechContext}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function SpeechDetected(C){Object(P.a)(this,SpeechDetected),this.privSpeechStartDetected=JSON.parse(C)}return Object(M.a)(SpeechDetected,[{key:"Offset",get:function get(){return this.privSpeechStartDetected.Offset}}],[{key:"fromJSON",value:function fromJSON(C){return new SpeechDetected(C)}}]),SpeechDetected}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(542),F=O(536),ne=O(573),re=function CognitiveSubscriptionKeyAuthentication(C){var k=this;if(Object(P.a)(this,CognitiveSubscriptionKeyAuthentication),this.fetch=function(C){return Promise.resolve(k.privAuthInfo)},this.fetchOnExpiry=function(C){return Promise.resolve(k.privAuthInfo)},!C)throw new M.a("subscriptionKey");this.privAuthInfo=new ne.a(F.a.AuthKey,C)}},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(542),F=O(573),ne="Authorization",re=function CognitiveTokenAuthentication(C,k){var O=this;if(Object(P.a)(this,CognitiveTokenAuthentication),this.fetch=function(C){return O.privFetchCallback(C).then((function(C){return new F.a(ne,CognitiveTokenAuthentication.privTokenPrefix+C)}))},this.fetchOnExpiry=function(C){return O.privFetchOnExpiryCallback(C).then((function(C){return new F.a(ne,CognitiveTokenAuthentication.privTokenPrefix+C)}))},!C)throw new M.a("fetchCallback");if(!k)throw new M.a("fetchOnExpiryCallback");this.privFetchCallback=C,this.privFetchOnExpiryCallback=k};re.privTokenPrefix="bearer "},function(C,k,O){"use strict";O.d(k,"a",(function(){return ge}));var P=O(3),M=O(5),F=O(6),ne=O(835),re=O(829),oe=O(524),se=O(569),ue=O(647),pe=O(541),ve=O(632),de=O(664),he=O(536),fe=O(552),ge=function(C){Object(M.a)(SpeechConnectionFactory,C);var k=Object(F.a)(SpeechConnectionFactory);function SpeechConnectionFactory(){var C;return Object(P.a)(this,SpeechConnectionFactory),(C=k.apply(this,arguments)).interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",C.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",C.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",C.create=function(k,O,P){var M=k.parameters.getProperty(se.a.SpeechServiceConnection_Endpoint,void 0),F=k.parameters.getProperty(se.a.SpeechServiceConnection_Region,void 0),ge=pe.a.getHostSuffix(F),me=k.parameters.getProperty(se.a.SpeechServiceConnection_Host,"wss://"+F+".stt.speech"+ge),ye={},be=k.parameters.getProperty(se.a.SpeechServiceConnection_EndpointId,void 0),ke=k.parameters.getProperty(se.a.SpeechServiceConnection_RecoLanguage,void 0);if(be?M&&-1!==M.search(fe.a.CustomSpeechDeploymentId)||(ye[fe.a.CustomSpeechDeploymentId]=be):ke&&(M&&-1!==M.search(fe.a.Language)||(ye[fe.a.Language]=ke)),M&&-1!==M.search(fe.a.Format)||(ye[fe.a.Format]=k.parameters.getProperty(oe.OutputFormatPropertyName,ue.a[ue.a.Simple]).toLowerCase()),void 0!==k.autoDetectSourceLanguages&&(ye[fe.a.EnableLanguageId]="true"),C.setCommonUrlParams(k,ye,M),!M)switch(k.recognitionMode){case ve.c.Conversation:M="true"===k.parameters.getProperty(oe.ForceDictationPropertyName,"false")?me+C.dictationRelativeUri:me+C.conversationRelativeUri;break;case ve.c.Dictation:M=me+C.dictationRelativeUri;break;default:M=me+C.interactiveRelativeUri}var Oe={};void 0!==O.token&&""!==O.token&&(Oe[O.headerName]=O.token),Oe[he.a.ConnectionId]=P,k.parameters.setProperty(se.a.SpeechServiceConnection_Url,M);var Ee="true"===k.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new ne.a(M,ye,Oe,new de.a,re.a.fromRecognizerConfig(k),Ee,P)},C}return SpeechConnectionFactory}(pe.a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return oe}));var P=O(75),M=O(3),F=O(631),ne=O(790),re=O(828),oe=function WebsocketMessageFormatter(){var C=this;Object(M.a)(this,WebsocketMessageFormatter),this.toConnectionMessage=function(k){var O=new F.a;try{if(k.messageType===ne.b.Text){var P=k.textContent,M={},re=null;if(P){var oe=P.split("\r\n\r\n");oe&&oe.length>0&&(M=C.parseHeaders(oe[0]),oe.length>1&&(re=oe[1]))}O.resolve(new ne.a(k.messageType,re,M,k.id))}else if(k.messageType===ne.b.Binary){var se,ue=k.binaryContent,pe=null;if(!ue||ue.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");var ve=new DataView(ue),de=ve.getInt16(0);if(ue.byteLength<de+2)throw new Error("Invalid binary message format. Header content missing.");for(var he="",fe=0;fe<de;fe++)he+=String.fromCharCode(ve.getInt8(fe+2));se=C.parseHeaders(he),ue.byteLength>de+2&&(pe=ue.slice(2+de)),O.resolve(new ne.a(k.messageType,pe,se,k.id))}}catch(ge){O.reject("Error formatting the message. Error: ".concat(ge))}return O.promise},this.fromConnectionMessage=function(k){var O=new F.a;try{if(k.messageType===ne.b.Text){var P="".concat(C.makeHeaders(k)).concat("\r\n").concat(k.textBody?k.textBody:"");O.resolve(new re.a(ne.b.Text,P,k.id))}else if(k.messageType===ne.b.Binary){var M=C.makeHeaders(k),oe=k.binaryBody,se=C.stringToArrayBuffer(M),ue=new Int8Array(se),pe=ue.byteLength,ve=new Int8Array(2+pe+(oe?oe.byteLength:0));if(ve[0]=pe>>8&255,ve[1]=255&pe,ve.set(ue,2),oe){var de=new Int8Array(oe);ve.set(de,2+pe)}var he=ve.buffer;O.resolve(new re.a(ne.b.Binary,he,k.id))}}catch(fe){O.reject("Error formatting the message. ".concat(fe))}return O.promise},this.makeHeaders=function(C){var k="";if(C.headers)for(var O in C.headers)O&&(k+="".concat(O,": ").concat(C.headers[O]).concat("\r\n"));return k},this.parseHeaders=function(C){var k={};if(C){var O=C.match(/[^\r\n]+/g);if(k){var M,F=Object(P.a)(O);try{for(F.s();!(M=F.n()).done;){var ne=M.value;if(ne){var re=ne.indexOf(":"),oe=re>0?ne.substr(0,re).trim().toLowerCase():ne,se=re>0&&ne.length>re+1?ne.substr(re+1).trim():"";k[oe]=se}}}catch(ue){F.e(ue)}finally{F.f()}}}return k},this.stringToArrayBuffer=function(C){for(var k=new ArrayBuffer(C.length),O=new DataView(k),P=0;P<C.length;P++)O.setUint8(P,C.charCodeAt(P));return k}}},function(C,k,O){"use strict";O.d(k,"a",(function(){return Ie}));var P=O(1),M=O.n(P),F=O(3),ne=O(4),re=O(5),oe=O(6),se=O(590),ue=O(569),pe=O(650),ve=O(640),de=O(591),he=O(647),fe=O(636),ge=O(652),me=O(666),ye=O(667),be=O(669),ke=O(668),Oe=O(524),Ee=O(670),Re=O(657),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Ie=function(C){Object(re.a)(SpeechServiceRecognizer,C);var k=Object(oe.a)(SpeechServiceRecognizer);function SpeechServiceRecognizer(C,O,P,M,ne){var re;if(Object(F.a)(this,SpeechServiceRecognizer),(re=k.call(this,C,O,P,M,ne)).privSpeechRecognizer=ne,void 0!==M.autoDetectSourceLanguages){var oe=M.autoDetectSourceLanguages.split(",");re.privSpeechContext.setSection("languageId",{languages:oe,onSuccess:{action:"Recognize"},onUnknown:{action:"None"}}),re.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"Auto"},phraseResults:{resultType:"Always"}})}return re}return Object(ne.a)(SpeechServiceRecognizer,[{key:"processTypeSpecificMessages",value:function processTypeSpecificMessages(C){return __awaiter(this,void 0,void 0,M.a.mark((function _callee(){var k,O,P,F,ne,re,oe,fe,ge,Re,Ie,Ae,Pe,Te;return M.a.wrap((function _callee$(M){for(;;)switch(M.prev=M.next){case 0:(O=new se.a).setProperty(ue.a.SpeechServiceResponse_JsonResult,C.textBody),P=!1,M.t0=C.path.toLowerCase(),M.next="speech.hypothesis"===M.t0||"speech.fragment"===M.t0?6:"speech.phrase"===M.t0?14:28;break;case 6:if(F=me.a.fromJSON(C.textBody),ne=F.Offset+this.privRequestSession.currentTurnAudioOffset,k=new pe.a(this.privRequestSession.requestId,ve.a.RecognizingSpeech,F.Text,F.Duration,ne,F.Language,F.LanguageDetectionConfidence,void 0,void 0,C.textBody,O),this.privRequestSession.onHypothesis(ne),re=new de.b(k,F.Duration,this.privRequestSession.sessionId),this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,re)}catch(je){}return P=!0,M.abrupt("break",29);case 14:if(oe=ye.a.fromJSON(C.textBody),fe=be.a.implTranslateRecognitionResult(oe.RecognitionStatus),this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+oe.Offset+oe.Duration),ve.a.Canceled!==fe){M.next=24;break}return ge=be.a.implTranslateCancelResult(oe.RecognitionStatus),Re=be.a.implTranslateCancelErrorCode(oe.RecognitionStatus),M.next=22,this.cancelRecognitionLocal(ge,Re,be.a.implTranslateErrorDetails(Re));case 22:M.next=26;break;case 24:if((!this.privRequestSession.isSpeechEnded||fe!==ve.a.NoMatch||oe.RecognitionStatus===ke.a.InitialSilenceTimeout)&&(this.privRecognizerConfig.parameters.getProperty(Oe.OutputFormatPropertyName)===he.a[he.a.Simple]?k=new pe.a(this.privRequestSession.requestId,fe,oe.DisplayText,oe.Duration,oe.Offset+this.privRequestSession.currentTurnAudioOffset,oe.Language,oe.LanguageDetectionConfidence,void 0,void 0,C.textBody,O):(Ie=Ee.a.fromJSON(C.textBody),Ae=Ie.Offset+this.privRequestSession.currentTurnAudioOffset,Pe=Ie.getJsonWithCorrectedOffsets(Ae),k=new pe.a(this.privRequestSession.requestId,fe,Ie.RecognitionStatus===ke.a.Success?Ie.NBest[0].Display:void 0,Ie.Duration,Ae,Ie.Language,Ie.LanguageDetectionConfidence,void 0,void 0,Pe,O)),Te=new de.b(k,k.offset,this.privRequestSession.sessionId),this.privSpeechRecognizer.recognized))try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,Te)}catch(je){}if(this.privSuccessCallback){try{this.privSuccessCallback(k)}catch(_e){this.privErrorCallback&&this.privErrorCallback(_e)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}case 26:return P=!0,M.abrupt("break",29);case 28:return M.abrupt("break",29);case 29:return M.abrupt("return",P);case 30:case"end":return M.stop()}}),_callee,this)})))}},{key:"cancelRecognition",value:function cancelRecognition(C,k,O,P,M){var F=new se.a;if(F.setProperty(Oe.CancellationErrorCodePropertyName,fe.a[P]),this.privSpeechRecognizer.canceled){var ne=new ge.a(O,M,P,void 0,C);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,ne)}catch(oe){}}if(this.privSuccessCallback){var re=new pe.a(k,ve.a.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,M,void 0,F);try{this.privSuccessCallback(re),this.privSuccessCallback=void 0}catch(ue){}}}}]),SpeechServiceRecognizer}(Re.a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function SpeechHypothesis(C){Object(P.a)(this,SpeechHypothesis),this.privSpeechHypothesis=JSON.parse(C)}return Object(M.a)(SpeechHypothesis,[{key:"Text",get:function get(){return this.privSpeechHypothesis.Text}},{key:"Offset",get:function get(){return this.privSpeechHypothesis.Offset}},{key:"Duration",get:function get(){return this.privSpeechHypothesis.Duration}},{key:"Language",get:function get(){return void 0===this.privSpeechHypothesis.PrimaryLanguage?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}},{key:"LanguageDetectionConfidence",get:function get(){return void 0===this.privSpeechHypothesis.PrimaryLanguage?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}},{key:"SpeakerId",get:function get(){return this.privSpeechHypothesis.SpeakerId}}],[{key:"fromJSON",value:function fromJSON(C){return new SpeechHypothesis(C)}}]),SpeechHypothesis}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return ne}));var P=O(3),M=O(4),F=O(668),ne=function(){function SimpleSpeechPhrase(C){Object(P.a)(this,SimpleSpeechPhrase),this.privSimpleSpeechPhrase=JSON.parse(C),this.privSimpleSpeechPhrase.RecognitionStatus=F.a[this.privSimpleSpeechPhrase.RecognitionStatus]}return Object(M.a)(SimpleSpeechPhrase,[{key:"RecognitionStatus",get:function get(){return this.privSimpleSpeechPhrase.RecognitionStatus}},{key:"DisplayText",get:function get(){return this.privSimpleSpeechPhrase.DisplayText}},{key:"Offset",get:function get(){return this.privSimpleSpeechPhrase.Offset}},{key:"Duration",get:function get(){return this.privSimpleSpeechPhrase.Duration}},{key:"Language",get:function get(){return void 0===this.privSimpleSpeechPhrase.PrimaryLanguage?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}},{key:"LanguageDetectionConfidence",get:function get(){return void 0===this.privSimpleSpeechPhrase.PrimaryLanguage?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}},{key:"SpeakerId",get:function get(){return this.privSimpleSpeechPhrase.SpeakerId}}],[{key:"fromJSON",value:function fromJSON(C){return new SimpleSpeechPhrase(C)}}]),SimpleSpeechPhrase}()},function(C,k,O){"use strict";var P,M;O.d(k,"b",(function(){return P})),O.d(k,"a",(function(){return M})),function(C){C[C.Success=0]="Success",C[C.SynthesisEnd=1]="SynthesisEnd",C[C.Error=2]="Error"}(P||(P={})),function(C){C[C.Success=0]="Success",C[C.NoMatch=1]="NoMatch",C[C.InitialSilenceTimeout=2]="InitialSilenceTimeout",C[C.BabbleTimeout=3]="BabbleTimeout",C[C.Error=4]="Error",C[C.EndOfDictation=5]="EndOfDictation",C[C.TooManyRequests=6]="TooManyRequests",C[C.BadRequest=7]="BadRequest",C[C.Forbidden=8]="Forbidden"}(M||(M={}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return se}));var P=O(3),M=O(4),F=O(640),ne=O(635),re=O(636),oe=O(668),se=function(){function EnumTranslation(){Object(P.a)(this,EnumTranslation)}return Object(M.a)(EnumTranslation,null,[{key:"implTranslateRecognitionResult",value:function implTranslateRecognitionResult(C){var k=F.a.Canceled;switch(C){case oe.a.Success:k=F.a.RecognizedSpeech;break;case oe.a.NoMatch:case oe.a.InitialSilenceTimeout:case oe.a.BabbleTimeout:case oe.a.EndOfDictation:k=F.a.NoMatch;break;case oe.a.Error:case oe.a.BadRequest:case oe.a.Forbidden:default:k=F.a.Canceled}return k}},{key:"implTranslateCancelResult",value:function implTranslateCancelResult(C){var k=ne.a.EndOfStream;switch(C){case oe.a.Success:case oe.a.EndOfDictation:case oe.a.NoMatch:k=ne.a.EndOfStream;break;case oe.a.InitialSilenceTimeout:case oe.a.BabbleTimeout:case oe.a.Error:case oe.a.BadRequest:case oe.a.Forbidden:default:k=ne.a.Error}return k}},{key:"implTranslateCancelErrorCode",value:function implTranslateCancelErrorCode(C){var k=re.a.NoError;switch(C){case oe.a.Error:k=re.a.ServiceError;break;case oe.a.TooManyRequests:k=re.a.TooManyRequests;break;case oe.a.BadRequest:k=re.a.BadRequestParameters;break;case oe.a.Forbidden:k=re.a.Forbidden;break;default:k=re.a.NoError}return k}},{key:"implTranslateErrorDetails",value:function implTranslateErrorDetails(C){var k="The speech service encountered an internal error and could not continue.";switch(C){case re.a.Forbidden:k="The recognizer is using a free subscription that ran out of quota.";break;case re.a.BadRequestParameters:k="Invalid parameter or unsupported audio format in the request.";break;case re.a.TooManyRequests:k="The number of parallel requests exceeded the number of allowed concurrent transcriptions."}return k}}]),EnumTranslation}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(75),M=O(3),F=O(4),ne=O(668),re=function(){function DetailedSpeechPhrase(C){Object(M.a)(this,DetailedSpeechPhrase),this.privDetailedSpeechPhrase=JSON.parse(C),this.privDetailedSpeechPhrase.RecognitionStatus=ne.a[this.privDetailedSpeechPhrase.RecognitionStatus]}return Object(F.a)(DetailedSpeechPhrase,[{key:"getJsonWithCorrectedOffsets",value:function getJsonWithCorrectedOffsets(C){if(this.privDetailedSpeechPhrase.NBest){var k,O,M=Object(P.a)(this.privDetailedSpeechPhrase.NBest);try{for(M.s();!(O=M.n()).done;){var F=O.value;if(F.Words&&F.Words[0]){k=F.Words[0].Offset;break}}}catch(ve){M.e(ve)}finally{M.f()}if(k&&k<C){var ne,re=C-k,oe=Object(P.a)(this.privDetailedSpeechPhrase.NBest);try{for(oe.s();!(ne=oe.n()).done;){var se=ne.value;if(se.Words){var ue,pe=Object(P.a)(se.Words);try{for(pe.s();!(ue=pe.n()).done;){ue.value.Offset+=re}}catch(ve){pe.e(ve)}finally{pe.f()}}}}catch(ve){oe.e(ve)}finally{oe.f()}}}return JSON.stringify(this.privDetailedSpeechPhrase)}},{key:"RecognitionStatus",get:function get(){return this.privDetailedSpeechPhrase.RecognitionStatus}},{key:"NBest",get:function get(){return this.privDetailedSpeechPhrase.NBest}},{key:"Duration",get:function get(){return this.privDetailedSpeechPhrase.Duration}},{key:"Offset",get:function get(){return this.privDetailedSpeechPhrase.Offset}},{key:"Language",get:function get(){return void 0===this.privDetailedSpeechPhrase.PrimaryLanguage?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}},{key:"LanguageDetectionConfidence",get:function get(){return void 0===this.privDetailedSpeechPhrase.PrimaryLanguage?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}},{key:"Text",get:function get(){return this.privDetailedSpeechPhrase.NBest&&this.privDetailedSpeechPhrase.NBest[0]?this.privDetailedSpeechPhrase.NBest[0].Display:this.privDetailedSpeechPhrase.DisplayText}},{key:"SpeakerId",get:function get(){return this.privDetailedSpeechPhrase.SpeakerId}}],[{key:"fromJSON",value:function fromJSON(C){return new DetailedSpeechPhrase(C)}}]),DetailedSpeechPhrase}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return de}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=O(835),oe=O(829),se=O(569),ue=O(541),pe=O(664),ve=O(536),de=function(C){Object(F.a)(IntentConnectionFactory,C);var k=Object(ne.a)(IntentConnectionFactory);function IntentConnectionFactory(){var C;return Object(P.a)(this,IntentConnectionFactory),(C=k.apply(this,arguments)).create=function(k,O,P){var M=k.parameters.getProperty(se.a.SpeechServiceConnection_Endpoint);if(!M){var F=k.parameters.getProperty(se.a.SpeechServiceConnection_IntentRegion),ne=ue.a.getHostSuffix(F);M=k.parameters.getProperty(se.a.SpeechServiceConnection_Host,"wss://"+F+".sr.speech"+ne)+"/speech/recognition/interactive/cognitiveservices/v1"}var de={format:"simple",language:k.parameters.getProperty(se.a.SpeechServiceConnection_RecoLanguage)};C.setCommonUrlParams(k,de,M);var he={};void 0!==O.token&&""!==O.token&&(he[O.headerName]=O.token),he[ve.a.ConnectionId]=P,k.parameters.setProperty(se.a.SpeechServiceConnection_Url,M);var fe="true"===k.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new re.a(M,de,he,new pe.a,oe.a.fromRecognizerConfig(k),fe,P)},C}return Object(M.a)(IntentConnectionFactory,[{key:"getSpeechRegionFromIntentRegion",value:function getSpeechRegionFromIntentRegion(C){switch(C){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return C}}}]),IntentConnectionFactory}(ue.a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return M}));var P=O(3),M=function AddedLmIntent(C,k){Object(P.a)(this,AddedLmIntent),this.modelImpl=C,this.intentName=k}},function(C,k,O){"use strict";O.d(k,"a",(function(){return Re}));var P=O(1),M=O.n(P),F=O(3),ne=O(4),re=O(5),oe=O(6),se=O(790),ue=O(590),pe=O(569),ve=O(651),de=O(640),he=O(648),fe=O(636),ge=O(675),me=O(666),ye=O(667),be=O(669),ke=O(674),Oe=O(524),Ee=O(657),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Re=function(C){Object(re.a)(IntentServiceRecognizer,C);var k=Object(oe.a)(IntentServiceRecognizer);function IntentServiceRecognizer(C,O,P,M,ne){var re;return Object(F.a)(this,IntentServiceRecognizer),(re=k.call(this,C,O,P,M,ne)).privIntentRecognizer=ne,re.privIntentDataSent=!1,re}return Object(ne.a)(IntentServiceRecognizer,[{key:"setIntents",value:function setIntents(C,k){this.privAddedLmIntents=C,this.privUmbrellaIntent=k,this.privIntentDataSent=!0}},{key:"processTypeSpecificMessages",value:function processTypeSpecificMessages(C){return __awaiter(this,void 0,void 0,M.a.mark((function _callee(){var k,O,P,F,ne,re,oe,fe,ge,Oe,Ee,Re,Ie=this;return M.a.wrap((function _callee$(M){for(;;)switch(M.prev=M.next){case 0:P=!1,F=new ue.a,C.messageType===se.b.Text&&F.setProperty(pe.a.SpeechServiceResponse_JsonResult,C.textBody),M.t0=C.path.toLowerCase(),M.next="speech.hypothesis"===M.t0?6:"speech.phrase"===M.t0?13:"response"===M.t0?20:35;break;case 6:if(ne=me.a.fromJSON(C.textBody),k=new ve.a(void 0,this.privRequestSession.requestId,de.a.RecognizingIntent,ne.Text,ne.Duration,ne.Offset+this.privRequestSession.currentTurnAudioOffset,ne.Language,ne.LanguageDetectionConfidence,void 0,C.textBody,F),this.privRequestSession.onHypothesis(k.offset),O=new he.a(k,ne.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId),this.privIntentRecognizer.recognizing)try{this.privIntentRecognizer.recognizing(this.privIntentRecognizer,O)}catch(Ae){}return P=!0,M.abrupt("break",36);case 13:return re=ye.a.fromJSON(C.textBody),k=new ve.a(void 0,this.privRequestSession.requestId,be.a.implTranslateRecognitionResult(re.RecognitionStatus),re.DisplayText,re.Duration,re.Offset+this.privRequestSession.currentTurnAudioOffset,re.Language,re.LanguageDetectionConfidence,void 0,C.textBody,F),O=new he.a(k,k.offset,this.privRequestSession.sessionId),oe=function sendEvent(){if(Ie.privIntentRecognizer.recognized)try{Ie.privIntentRecognizer.recognized(Ie.privIntentRecognizer,O)}catch(Ae){}if(Ie.privSuccessCallback){try{Ie.privSuccessCallback(k)}catch(C){Ie.privErrorCallback&&Ie.privErrorCallback(C)}Ie.privSuccessCallback=void 0,Ie.privErrorCallback=void 0}},!1===this.privIntentDataSent||de.a.NoMatch===O.result.reason?(this.privRequestSession.onPhraseRecognized(O.offset+O.result.duration),oe()):this.privPendingIntentArgs=O,P=!0,M.abrupt("break",36);case 20:if(O=this.privPendingIntentArgs,this.privPendingIntentArgs=void 0,void 0!==O){M.next=26;break}if(""!==C.textBody){M.next=25;break}return M.abrupt("return");case 25:O=new he.a(new ve.a,0,this.privRequestSession.sessionId);case 26:if(fe=ke.a.fromJSON(C.textBody),ge=this.privAddedLmIntents[fe.topScoringIntent.intent],void 0!==this.privUmbrellaIntent&&(ge=this.privUmbrellaIntent),null!==fe&&void 0!==ge&&(Oe=void 0===ge.intentName?fe.topScoringIntent.intent:ge.intentName,Ee=O.result.reason,void 0!==Oe&&(Ee=de.a.RecognizedIntent),(Re=void 0!==O.result.properties?O.result.properties:new ue.a).setProperty(pe.a.LanguageUnderstandingServiceResponse_JsonResult,C.textBody),O=new he.a(new ve.a(Oe,O.result.resultId,Ee,O.result.text,O.result.duration,O.result.offset,void 0,void 0,O.result.errorDetails,O.result.json,Re),O.offset,O.sessionId)),this.privRequestSession.onPhraseRecognized(O.offset+O.result.duration),this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,O)}catch(Ae){}if(this.privSuccessCallback){try{this.privSuccessCallback(O.result)}catch(Pe){this.privErrorCallback&&this.privErrorCallback(Pe)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}return P=!0,M.abrupt("break",36);case 35:return M.abrupt("break",36);case 36:return M.abrupt("return",P);case 37:case"end":return M.stop()}}),_callee,this)})))}},{key:"cancelRecognition",value:function cancelRecognition(C,k,O,P,M){var F=new ue.a;if(F.setProperty(Oe.CancellationErrorCodePropertyName,fe.a[P]),this.privIntentRecognizer.canceled){var ne=new ge.a(O,M,P,void 0,void 0,C);try{this.privIntentRecognizer.canceled(this.privIntentRecognizer,ne)}catch(oe){}}if(this.privSuccessCallback){var re=new ve.a(void 0,k,de.a.Canceled,void 0,void 0,void 0,void 0,void 0,M,void 0,F);try{this.privSuccessCallback(re),this.privSuccessCallback=void 0}catch(se){}}}}]),IntentServiceRecognizer}(Ee.a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function IntentResponse(C){Object(P.a)(this,IntentResponse),this.privIntentResponse=JSON.parse(C)}return Object(M.a)(IntentResponse,[{key:"query",get:function get(){return this.privIntentResponse.query}},{key:"topScoringIntent",get:function get(){return this.privIntentResponse.topScoringIntent}},{key:"entities",get:function get(){return this.privIntentResponse.entities}}],[{key:"fromJSON",value:function fromJSON(C){return new IntentResponse(C)}}]),IntentResponse}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=function(C){Object(F.a)(IntentRecognitionCanceledEventArgs,C);var k=Object(ne.a)(IntentRecognitionCanceledEventArgs);function IntentRecognitionCanceledEventArgs(C,O,M,F,ne,re){var oe;return Object(P.a)(this,IntentRecognitionCanceledEventArgs),(oe=k.call(this,F,ne,re)).privReason=C,oe.privErrorDetails=O,oe.privErrorCode=M,oe}return Object(M.a)(IntentRecognitionCanceledEventArgs,[{key:"reason",get:function get(){return this.privReason}},{key:"errorCode",get:function get(){return this.privErrorCode}},{key:"errorDetails",get:function get(){return this.privErrorDetails}}]),IntentRecognitionCanceledEventArgs}(O(648).a)},function(C,k,O){"use strict";var P;O.d(k,"a",(function(){return P})),function(C){C[C.TextIndependentIdentification=0]="TextIndependentIdentification",C[C.TextDependentVerification=1]="TextDependentVerification",C[C.TextIndependentVerification=2]="TextIndependentVerification"}(P||(P={}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return de}));var P=O(3),M=O(5),F=O(6),ne=O(835),re=O(829),oe=O(569),se=O(541),ue=O(664),pe=O(536),ve=O(552),de=function(C){Object(M.a)(TranslationConnectionFactory,C);var k=Object(F.a)(TranslationConnectionFactory);function TranslationConnectionFactory(){var C;return Object(P.a)(this,TranslationConnectionFactory),(C=k.apply(this,arguments)).create=function(k,O,P){var M=k.parameters.getProperty(oe.a.SpeechServiceConnection_Endpoint,void 0);if(!M){var F=k.parameters.getProperty(oe.a.SpeechServiceConnection_Region,void 0),de=se.a.getHostSuffix(F);M=k.parameters.getProperty(oe.a.SpeechServiceConnection_Host,"wss://"+F+".s2s.speech"+de)+"/speech/translation/cognitiveservices/v1"}var he={from:k.parameters.getProperty(oe.a.SpeechServiceConnection_RecoLanguage),to:k.parameters.getProperty(oe.a.SpeechServiceConnection_TranslationToLanguages)};C.setCommonUrlParams(k,he,M),C.setUrlParameter(oe.a.SpeechServiceResponse_TranslationRequestStablePartialResult,ve.a.StableTranslation,k,he,M);void 0!==k.parameters.getProperty(oe.a.SpeechServiceConnection_TranslationVoice,void 0)&&(he.voice=k.parameters.getProperty(oe.a.SpeechServiceConnection_TranslationVoice),he.features="texttospeech");var fe={};void 0!==O.token&&""!==O.token&&(fe[O.headerName]=O.token),fe[pe.a.ConnectionId]=P,k.parameters.setProperty(oe.a.SpeechServiceConnection_Url,M);var ge="true"===k.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new ne.a(M,he,fe,new ue.a,re.a.fromRecognizerConfig(k),ge,P)},C}return TranslationConnectionFactory}(se.a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return Me}));var P=O(75),M=O(1),F=O.n(M),ne=O(3),re=O(4),oe=O(14),se=O(5),ue=O(6),pe=O(790),ve=O(680),de=O(590),he=O(593),fe=O(640),ge=O(653),me=O(569),ye=O(655),be=O(654),ke=O(683),Oe=O(635),Ee=O(636),Re=O(684),Ie=O(668),Ae=O(669),Pe=O(679),Te=O(681),je=O(682),_e=O(524),De=O(657),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Me=function(C){Object(se.a)(TranslationServiceRecognizer,C);var k=Object(ue.a)(TranslationServiceRecognizer);function TranslationServiceRecognizer(C,O,P,M,re){var se;return Object(ne.a)(this,TranslationServiceRecognizer),(se=k.call(this,C,O,P,M,re)).privTranslationRecognizer=re,se.connectionEvents.attach((function(C){return __awaiter(Object(oe.a)(se),void 0,void 0,F.a.mark((function _callee(){return F.a.wrap((function _callee$(k){for(;;)switch(k.prev=k.next){case 0:if("ConnectionEstablishedEvent"!==C.name){k.next=4;break}this.privTranslationRecognizer.onConnection(),k.next=7;break;case 4:if("ConnectionClosedEvent"!==C.name){k.next=7;break}return k.next=7,this.privTranslationRecognizer.onDisconnection();case 7:case"end":return k.stop()}}),_callee,this)})))})),se}return Object(re.a)(TranslationServiceRecognizer,[{key:"processTypeSpecificMessages",value:function processTypeSpecificMessages(C){return __awaiter(this,void 0,void 0,F.a.mark((function _callee3(){var k,O,P,M,ne,re,oe,se,ue,ve=this;return F.a.wrap((function _callee3$(Re){for(;;)switch(Re.prev=Re.next){case 0:k=new de.a,O=!1,P=function handleTranslationPhrase(P){return __awaiter(ve,void 0,void 0,F.a.mark((function _callee2(){var M,ne,re,oe,se,ue;return F.a.wrap((function _callee2$(F){for(;;)switch(F.prev=F.next){case 0:if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+P.Offset+P.Duration),P.RecognitionStatus!==Ie.a.Success){F.next=7;break}if(M=this.fireEventForResult(P,k),this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,M)}catch(pe){}if(this.privSuccessCallback){try{this.privSuccessCallback(M.result)}catch(ve){this.privErrorCallback&&this.privErrorCallback(ve)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}F.next=19;break;case 7:if(ne=Ae.a.implTranslateRecognitionResult(P.RecognitionStatus),re=new he.a(void 0,this.privRequestSession.requestId,ne,P.Text,P.Duration,this.privRequestSession.currentTurnAudioOffset+P.Offset,void 0,C.textBody,k),ne!==fe.a.Canceled){F.next=16;break}return oe=Ae.a.implTranslateCancelResult(P.RecognitionStatus),se=Ae.a.implTranslateCancelErrorCode(P.RecognitionStatus),F.next=14,this.cancelRecognitionLocal(oe,se,Ae.a.implTranslateErrorDetails(se));case 14:F.next=18;break;case 16:if((!this.privRequestSession.isSpeechEnded||ne!==fe.a.NoMatch||P.RecognitionStatus===Ie.a.InitialSilenceTimeout)&&(ue=new ge.a(re,re.offset,this.privRequestSession.sessionId),this.privTranslationRecognizer.recognized))try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,ue)}catch(pe){}if(this.privSuccessCallback){try{this.privSuccessCallback(re)}catch(ve){this.privErrorCallback&&this.privErrorCallback(ve)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}case 18:O=!0;case 19:case"end":return F.stop()}}),_callee2,this)})))},C.messageType===pe.b.Text&&k.setProperty(me.a.SpeechServiceResponse_JsonResult,C.textBody),Re.t0=C.path.toLowerCase(),Re.next="translation.hypothesis"===Re.t0?7:"translation.response"===Re.t0?12:"translation.phrase"===Re.t0?17:"translation.synthesis"===Re.t0?20:"translation.synthesis.end"===Re.t0?23:35;break;case 7:if(M=this.fireEventForResult(Pe.a.fromJSON(C.textBody),k),this.privRequestSession.onHypothesis(this.privRequestSession.currentTurnAudioOffset+M.offset),this.privTranslationRecognizer.recognizing)try{this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,M)}catch(_e){}return O=!0,Re.abrupt("break",36);case 12:if(!(ne=JSON.parse(C.textBody)).SpeechPhrase){Re.next=16;break}return Re.next=16,P(Te.a.fromTranslationResponse(ne));case 16:case 19:case 35:return Re.abrupt("break",36);case 17:return Re.next=19,P(Te.a.fromJSON(C.textBody));case 20:return this.sendSynthesisAudio(C.binaryBody,this.privRequestSession.sessionId),O=!0,Re.abrupt("break",36);case 23:re=je.a.fromJSON(C.textBody),Re.t1=re.SynthesisStatus,Re.next=Re.t1===Ie.b.Error?27:Re.t1===Ie.b.Success?30:32;break;case 27:if(this.privTranslationRecognizer.synthesizing){oe=new ye.a(fe.a.Canceled,void 0),se=new be.a(oe,this.privRequestSession.sessionId);try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,se)}catch(_e){}}if(this.privTranslationRecognizer.canceled){ue=new ke.a(this.privRequestSession.sessionId,Oe.a.Error,re.FailureReason,Ee.a.ServiceError,null);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,ue)}catch(_e){}}return Re.abrupt("break",33);case 30:return this.sendSynthesisAudio(void 0,this.privRequestSession.sessionId),Re.abrupt("break",33);case 32:return Re.abrupt("break",33);case 33:return O=!0,Re.abrupt("break",36);case 36:return Re.abrupt("return",O);case 37:case"end":return Re.stop()}}),_callee3,this)})))}},{key:"cancelRecognition",value:function cancelRecognition(C,k,O,P,M){var F=new de.a;if(F.setProperty(_e.CancellationErrorCodePropertyName,Ee.a[P]),this.privTranslationRecognizer.canceled){var ne=new ke.a(C,O,M,P,void 0);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,ne)}catch(oe){}}if(this.privSuccessCallback){var re=new he.a(void 0,k,fe.a.Canceled,void 0,void 0,void 0,M,void 0,F);try{this.privSuccessCallback(re),this.privSuccessCallback=void 0}catch(se){}}}},{key:"fireEventForResult",value:function fireEventForResult(C,k){var O,M;if(void 0!==C.Translation.Translations){O=new Re.a;var F,ne=Object(P.a)(C.Translation.Translations);try{for(ne.s();!(F=ne.n()).done;){var re=F.value;O.set(re.Language,re.Text||re.DisplayText)}}catch(ue){ne.e(ue)}finally{ne.f()}}M=C instanceof Te.a?C.Translation.TranslationStatus===ve.a.Success?fe.a.TranslatedSpeech:fe.a.RecognizedSpeech:fe.a.TranslatingSpeech;var oe=C.Offset+this.privRequestSession.currentTurnAudioOffset,se=new he.a(O,this.privRequestSession.requestId,M,C.Text,C.Duration,oe,C.Translation.FailureReason,JSON.stringify(C),k);return new ge.a(se,oe,this.privRequestSession.sessionId)}},{key:"sendSynthesisAudio",value:function sendSynthesisAudio(C,k){var O=void 0===C?fe.a.SynthesizingAudioCompleted:fe.a.SynthesizingAudio,P=new ye.a(O,C),M=new be.a(P,k);if(this.privTranslationRecognizer.synthesizing)try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,M)}catch(F){}}}]),TranslationServiceRecognizer}(De.a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return ne}));var P=O(3),M=O(4),F=O(680),ne=function(){function TranslationHypothesis(C){Object(P.a)(this,TranslationHypothesis),this.privTranslationHypothesis=JSON.parse(C),this.privTranslationHypothesis.Translation.TranslationStatus=F.a[this.privTranslationHypothesis.Translation.TranslationStatus]}return Object(M.a)(TranslationHypothesis,[{key:"Duration",get:function get(){return this.privTranslationHypothesis.Duration}},{key:"Offset",get:function get(){return this.privTranslationHypothesis.Offset}},{key:"Text",get:function get(){return this.privTranslationHypothesis.Text}},{key:"Translation",get:function get(){return this.privTranslationHypothesis.Translation}}],[{key:"fromJSON",value:function fromJSON(C){return new TranslationHypothesis(C)}}]),TranslationHypothesis}()},function(C,k,O){"use strict";var P;O.d(k,"a",(function(){return P})),function(C){C[C.Success=0]="Success",C[C.Error=1]="Error"}(P||(P={}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return oe}));var P=O(3),M=O(4),F=O(526),ne=O(668),re=O(680),oe=function(){function TranslationPhrase(C){Object(P.a)(this,TranslationPhrase),this.privTranslationPhrase=C,this.privTranslationPhrase.RecognitionStatus=ne.a[this.privTranslationPhrase.RecognitionStatus],void 0!==this.privTranslationPhrase.Translation&&(this.privTranslationPhrase.Translation.TranslationStatus=re.a[this.privTranslationPhrase.Translation.TranslationStatus])}return Object(M.a)(TranslationPhrase,[{key:"RecognitionStatus",get:function get(){return this.privTranslationPhrase.RecognitionStatus}},{key:"Offset",get:function get(){return this.privTranslationPhrase.Offset}},{key:"Duration",get:function get(){return this.privTranslationPhrase.Duration}},{key:"Text",get:function get(){return this.privTranslationPhrase.Text}},{key:"Translation",get:function get(){return this.privTranslationPhrase.Translation}}],[{key:"fromJSON",value:function fromJSON(C){return new TranslationPhrase(JSON.parse(C))}},{key:"fromTranslationResponse",value:function fromTranslationResponse(C){F.a.throwIfNullOrUndefined(C,"translationResponse");var k=C.SpeechPhrase;return C.SpeechPhrase=void 0,k.Translation=C,k.Text=k.DisplayText,new TranslationPhrase(k)}}]),TranslationPhrase}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return ne}));var P=O(3),M=O(4),F=O(668),ne=function(){function TranslationSynthesisEnd(C){Object(P.a)(this,TranslationSynthesisEnd),this.privSynthesisEnd=JSON.parse(C),this.privSynthesisEnd.SynthesisStatus=F.b[this.privSynthesisEnd.SynthesisStatus]}return Object(M.a)(TranslationSynthesisEnd,[{key:"SynthesisStatus",get:function get(){return this.privSynthesisEnd.SynthesisStatus}},{key:"FailureReason",get:function get(){return this.privSynthesisEnd.FailureReason}}],[{key:"fromJSON",value:function fromJSON(C){return new TranslationSynthesisEnd(C)}}]),TranslationSynthesisEnd}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function TranslationRecognitionCanceledEventArgs(C,k,O,M,F){Object(P.a)(this,TranslationRecognitionCanceledEventArgs),this.privCancelReason=k,this.privErrorDetails=O,this.privResult=F,this.privSessionId=C,this.privErrorCode=M}return Object(M.a)(TranslationRecognitionCanceledEventArgs,[{key:"result",get:function get(){return this.privResult}},{key:"sessionId",get:function get(){return this.privSessionId}},{key:"reason",get:function get(){return this.privCancelReason}},{key:"errorCode",get:function get(){return this.privErrorCode}},{key:"errorDetails",get:function get(){return this.privErrorDetails}}]),TranslationRecognitionCanceledEventArgs}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return ne}));var P=O(3),M=O(4),F=O(590),ne=function(){function Translations(){Object(P.a)(this,Translations),this.privMap=new F.a}return Object(M.a)(Translations,[{key:"get",value:function get(C,k){return this.privMap.getProperty(C,k)}},{key:"set",value:function set(C,k){this.privMap.setProperty(C,k)}},{key:"languages",get:function get(){return this.privMap.keys}}]),Translations}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function ActivityReceivedEventArgs(C,k){Object(P.a)(this,ActivityReceivedEventArgs),this.privActivity=C,this.privAudioStream=k}return Object(M.a)(ActivityReceivedEventArgs,[{key:"activity",get:function get(){return this.privActivity}},{key:"audioStream",get:function get(){return this.privAudioStream}}]),ActivityReceivedEventArgs}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function SpeechKeyword(C){Object(P.a)(this,SpeechKeyword),this.privSpeechKeyword=JSON.parse(C)}return Object(M.a)(SpeechKeyword,[{key:"Status",get:function get(){return this.privSpeechKeyword.Status}},{key:"Text",get:function get(){return this.privSpeechKeyword.Text}},{key:"Offset",get:function get(){return this.privSpeechKeyword.Offset}},{key:"Duration",get:function get(){return this.privSpeechKeyword.Duration}}],[{key:"fromJSON",value:function fromJSON(C){return new SpeechKeyword(C)}}]),SpeechKeyword}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return ne}));var P=O(3),M=O(4),F=O(632),ne=function(){function SpeakerRecognitionConfig(C,k){Object(P.a)(this,SpeakerRecognitionConfig),this.privContext=C||new F.a(null),this.privParameters=k}return Object(M.a)(SpeakerRecognitionConfig,[{key:"parameters",get:function get(){return this.privParameters}},{key:"Context",get:function get(){return this.privContext}}]),SpeakerRecognitionConfig}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return ve}));var P=O(1),M=O.n(P),F=O(3),ne=O(4),re=O(804),oe=O(830),se=O(569),ue=O(676),pe=O(541),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},ve=function(){function SpeakerIdMessageAdapter(C){Object(F.a)(this,SpeakerIdMessageAdapter);var k=C.parameters.getProperty(se.a.SpeechServiceConnection_Endpoint,void 0);if(!k){var O=C.parameters.getProperty(se.a.SpeechServiceConnection_Region,"westus"),P=pe.a.getHostSuffix(O);k=C.parameters.getProperty(se.a.SpeechServiceConnection_Host,"https://".concat(O,".api.cognitive").concat(P))}this.privUri="".concat(k,"/speaker-recognition/{mode}/{dependency}/profiles");var M=re.a.requestOptions;M.headers[re.a.configParams.subscriptionKey]=C.parameters.getProperty(se.a.SpeechServiceConnection_Key,void 0),this.privApiVersion=C.parameters.getProperty(se.a.SpeakerRecognition_Api_Version,"2021-09-05"),this.privRestAdapter=new oe.a(M)}return Object(ne.a)(SpeakerIdMessageAdapter,[{key:"createProfile",value:function createProfile(C,k){var O=this.getOperationUri(C);return this.privRestAdapter.request(oe.b.Post,O,this.getQueryParams(),{locale:k})}},{key:"createEnrollment",value:function createEnrollment(C,k){var O=this,P=this.getOperationUri(C.profileType)+"/"+C.profileId+"/enrollments";return k.blob.then((function(C){return O.privRestAdapter.request(oe.b.File,P,O.getQueryParams({ignoreMinLength:"true"}),null,C)}))}},{key:"verifySpeaker",value:function verifySpeaker(C,k){return __awaiter(this,void 0,void 0,M.a.mark((function _callee(){var O,P;return M.a.wrap((function _callee$(M){for(;;)switch(M.prev=M.next){case 0:return O=this.getOperationUri(C.voiceProfile.profileType)+"/"+C.voiceProfile.profileId+":verify",M.prev=1,M.next=4,k.blob;case 4:return P=M.sent,M.abrupt("return",this.privRestAdapter.request(oe.b.File,O,this.getQueryParams({ignoreMinLength:"true"}),null,P));case 8:return M.prev=8,M.t0=M.catch(1),M.abrupt("return",Promise.resolve({data:M.t0}));case 11:case"end":return M.stop()}}),_callee,this,[[1,8]])})))}},{key:"identifySpeaker",value:function identifySpeaker(C,k){return __awaiter(this,void 0,void 0,M.a.mark((function _callee2(){var O,P;return M.a.wrap((function _callee2$(M){for(;;)switch(M.prev=M.next){case 0:return O=this.getOperationUri(ue.a.TextIndependentIdentification)+":identifySingleSpeaker",M.prev=1,M.next=4,k.blob;case 4:return P=M.sent,M.abrupt("return",this.privRestAdapter.request(oe.b.File,O,this.getQueryParams({profileIds:C.voiceProfileIds,ignoreMinLength:"true"}),null,P));case 8:return M.prev=8,M.t0=M.catch(1),M.abrupt("return",Promise.resolve({data:M.t0}));case 11:case"end":return M.stop()}}),_callee2,this,[[1,8]])})))}},{key:"getProfileStatus",value:function getProfileStatus(C){var k="".concat(this.getOperationUri(C.profileType),"/").concat(C.profileId);return this.privRestAdapter.request(oe.b.Get,k,this.getQueryParams())}},{key:"getProfiles",value:function getProfiles(C){var k=this.getOperationUri(C);return this.privRestAdapter.request(oe.b.Get,k,this.getQueryParams())}},{key:"getPhrases",value:function getPhrases(C,k){var O="".concat(this.getOperationUri(C)).replace("profiles","phrases")+"/"+k;return this.privRestAdapter.request(oe.b.Get,O,this.getQueryParams())}},{key:"deleteProfile",value:function deleteProfile(C){var k=this.getOperationUri(C.profileType)+"/"+C.profileId;return this.privRestAdapter.request(oe.b.Delete,k,this.getQueryParams())}},{key:"resetProfile",value:function resetProfile(C){var k=this.getOperationUri(C.profileType)+"/"+C.profileId+":reset";return this.privRestAdapter.request(oe.b.Post,k,this.getQueryParams())}},{key:"getOperationUri",value:function getOperationUri(C){var k=C===ue.a.TextIndependentIdentification?"identification":"verification",O=C===ue.a.TextDependentVerification?"text-dependent":"text-independent";return this.privUri.replace("{mode}",k).replace("{dependency}",O)}},{key:"getQueryParams",value:function getQueryParams(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C[re.a.configParams.apiVersion]=this.privApiVersion,C}}]),SpeakerIdMessageAdapter}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return de}));var P=O(3),M=O(5),F=O(6),ne=O(835),re=O(829),oe=O(569),se=O(541),ue=O(664),pe=O(536),ve=O(552),de=function(C){Object(M.a)(TranscriberConnectionFactory,C);var k=Object(F.a)(TranscriberConnectionFactory);function TranscriberConnectionFactory(){var C;return Object(P.a)(this,TranscriberConnectionFactory),(C=k.apply(this,arguments)).multiaudioRelativeUri="/speech/recognition/multiaudio",C.create=function(k,O,P){var M=k.parameters.getProperty(oe.a.SpeechServiceConnection_Endpoint,void 0),F=k.parameters.getProperty(oe.a.SpeechServiceConnection_Region,"centralus"),de="wss://transcribe."+F+".cts.speech"+se.a.getHostSuffix(F)+C.multiaudioRelativeUri,he=k.parameters.getProperty(oe.a.SpeechServiceConnection_Host,de),fe={},ge=k.parameters.getProperty(oe.a.SpeechServiceConnection_EndpointId,void 0),me=k.parameters.getProperty(oe.a.SpeechServiceConnection_RecoLanguage,void 0);ge?M&&-1!==M.search(ve.a.CustomSpeechDeploymentId)||(fe[ve.a.CustomSpeechDeploymentId]=ge):me&&(M&&-1!==M.search(ve.a.Language)||(fe[ve.a.Language]=me)),C.setCommonUrlParams(k,fe,M),M||(M=he);var ye={};void 0!==O.token&&""!==O.token&&(ye[O.headerName]=O.token),ye[pe.a.ConnectionId]=P,k.parameters.setProperty(oe.a.SpeechServiceConnection_Url,M);var be="true"===k.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new ne.a(M,fe,ye,new ue.a,re.a.fromRecognizerConfig(k),be,P)},C}return TranscriberConnectionFactory}(se.a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return Pe}));var P=O(1),M=O.n(P),F=O(3),ne=O(4),re=O(5),oe=O(6),se=O(790),ue=O(590),pe=O(569),ve=O(650),de=O(640),he=O(591),fe=O(647),ge=O(636),me=O(691),ye=O(666),be=O(667),ke=O(669),Oe=O(668),Ee=O(524),Re=O(670),Ie=O(657),Ae=O(570),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Pe=function(C){Object(re.a)(TranscriptionServiceRecognizer,C);var k=Object(oe.a)(TranscriptionServiceRecognizer);function TranscriptionServiceRecognizer(C,O,P,M,ne){var re;return Object(F.a)(this,TranscriptionServiceRecognizer),(re=k.call(this,C,O,P,M,ne)).sendSpeechEvent=function(C,k){var O=JSON.stringify(k);if(O)return C.send(new Ae.a(se.b.Text,"speech.event",re.privRequestSession.requestId,"application/json",O))},re.privTranscriberRecognizer=ne,re.sendPrePayloadJSONOverride=re.sendTranscriptionStartJSON,re}return Object(ne.a)(TranscriptionServiceRecognizer,[{key:"sendSpeechEventAsync",value:function sendSpeechEventAsync(C,k){return __awaiter(this,void 0,void 0,M.a.mark((function _callee(){var O;return M.a.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:if(!this.privRequestSession.isRecognizing){P.next=6;break}return P.next=3,this.fetchConnection();case 3:return O=P.sent,P.next=6,this.sendSpeechEvent(O,this.createSpeechEventPayload(C,k));case 6:case"end":return P.stop()}}),_callee,this)})))}},{key:"processTypeSpecificMessages",value:function processTypeSpecificMessages(C){return __awaiter(this,void 0,void 0,M.a.mark((function _callee2(){var k,O,P,F,ne,re,oe,se,ge,me,Ie,Ae,Pe,Te;return M.a.wrap((function _callee2$(M){for(;;)switch(M.prev=M.next){case 0:(O=new ue.a).setProperty(pe.a.SpeechServiceResponse_JsonResult,C.textBody),P=!1,M.t0=C.path.toLowerCase(),M.next="speech.hypothesis"===M.t0||"speech.fragment"===M.t0?6:"speech.phrase"===M.t0?14:28;break;case 6:if(F=ye.a.fromJSON(C.textBody),ne=F.Offset+this.privRequestSession.currentTurnAudioOffset,k=new ve.a(this.privRequestSession.requestId,de.a.RecognizingSpeech,F.Text,F.Duration,ne,F.Language,F.LanguageDetectionConfidence,F.SpeakerId,void 0,C.textBody,O),this.privRequestSession.onHypothesis(ne),re=new he.b(k,F.Duration,this.privRequestSession.sessionId),this.privTranscriberRecognizer.recognizing)try{this.privTranscriberRecognizer.recognizing(this.privTranscriberRecognizer,re)}catch(je){}return P=!0,M.abrupt("break",29);case 14:if(oe=be.a.fromJSON(C.textBody),se=ke.a.implTranslateRecognitionResult(oe.RecognitionStatus),this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+oe.Offset+oe.Duration),de.a.Canceled!==se){M.next=24;break}return ge=ke.a.implTranslateCancelResult(oe.RecognitionStatus),me=ke.a.implTranslateCancelErrorCode(oe.RecognitionStatus),M.next=22,this.cancelRecognitionLocal(ge,me,ke.a.implTranslateErrorDetails(me));case 22:M.next=26;break;case 24:if((!this.privRequestSession.isSpeechEnded||se!==de.a.NoMatch||oe.RecognitionStatus===Oe.a.InitialSilenceTimeout)&&(this.privRecognizerConfig.parameters.getProperty(Ee.OutputFormatPropertyName)===fe.a[fe.a.Simple]?k=new ve.a(this.privRequestSession.requestId,se,oe.DisplayText,oe.Duration,oe.Offset+this.privRequestSession.currentTurnAudioOffset,oe.Language,oe.LanguageDetectionConfidence,oe.SpeakerId,void 0,C.textBody,O):(Ie=Re.a.fromJSON(C.textBody),Ae=Ie.Offset+this.privRequestSession.currentTurnAudioOffset,Pe=Ie.getJsonWithCorrectedOffsets(Ae),k=new ve.a(this.privRequestSession.requestId,se,Ie.Text,Ie.Duration,Ae,Ie.Language,Ie.LanguageDetectionConfidence,Ie.SpeakerId,void 0,Pe,O)),Te=new he.b(k,k.offset,this.privRequestSession.sessionId),this.privTranscriberRecognizer.recognized))try{this.privTranscriberRecognizer.recognized(this.privTranscriberRecognizer,Te)}catch(je){}if(this.privSuccessCallback){try{this.privSuccessCallback(k)}catch(_e){this.privErrorCallback&&this.privErrorCallback(_e)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}case 26:return P=!0,M.abrupt("break",29);case 28:return M.abrupt("break",29);case 29:return M.abrupt("return",P);case 30:case"end":return M.stop()}}),_callee2,this)})))}},{key:"cancelRecognition",value:function cancelRecognition(C,k,O,P,M){var F=new ue.a;if(F.setProperty(Ee.CancellationErrorCodePropertyName,ge.a[P]),this.privTranscriberRecognizer.canceled){var ne=new me.a(O,M,P,void 0,C);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,ne)}catch(oe){}}if(this.privSuccessCallback){var re=new ve.a(k,de.a.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,M,void 0,F);try{this.privSuccessCallback(re),this.privSuccessCallback=void 0}catch(se){}}}},{key:"sendTranscriptionStartJSON",value:function sendTranscriptionStartJSON(C){return __awaiter(this,void 0,void 0,M.a.mark((function _callee3(){var k,O;return M.a.wrap((function _callee3$(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.sendSpeechContext(C);case 2:return k=this.privTranscriberRecognizer.getConversationInfo(),O=this.createSpeechEventPayload(k,"start"),P.next=6,this.sendSpeechEvent(C,O);case 6:return P.next=8,this.sendWaveHeader(C);case 8:return P.abrupt("return");case 9:case"end":return P.stop()}}),_callee3,this)})))}},{key:"createSpeechEventPayload",value:function createSpeechEventPayload(C,k){var O="meeting",P={id:O,name:k,meeting:C.conversationProperties};return P.meeting.id=C.id,P.meeting.attendees=C.participants,P.meeting.record="on"===C.conversationProperties.audiorecording?"true":"false",P}}]),TranscriptionServiceRecognizer}(Ie.a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return ne}));var P=O(3),M=O(5),F=O(6),ne=function(C){Object(M.a)(ConversationTranscriptionCanceledEventArgs,C);var k=Object(F.a)(ConversationTranscriptionCanceledEventArgs);function ConversationTranscriptionCanceledEventArgs(){return Object(P.a)(this,ConversationTranscriptionCanceledEventArgs),k.apply(this,arguments)}return ConversationTranscriptionCanceledEventArgs}(O(592).a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return pe}));var P=O(3),M=O(835),F=O(829),ne=O(569),re=O(541),oe=O(664),se=O(536),ue=O(552),pe=function SpeechSynthesisConnectionFactory(){var C=this;Object(P.a)(this,SpeechSynthesisConnectionFactory),this.synthesisUri="/cognitiveservices/websocket/v1",this.create=function(k,O,P){var pe=k.parameters.getProperty(ne.a.SpeechServiceConnection_Endpoint,void 0),ve=k.parameters.getProperty(ne.a.SpeechServiceConnection_Region,void 0),de=re.a.getHostSuffix(ve),he=k.parameters.getProperty(ne.a.SpeechServiceConnection_EndpointId,void 0),fe=void 0===he?"tts":"voice",ge=k.parameters.getProperty(ne.a.SpeechServiceConnection_Host,"wss://"+ve+"."+fe+".speech"+de);pe||(pe=ge+C.synthesisUri);var me={};void 0!==O.token&&""!==O.token&&(me[O.headerName]=O.token),me[se.a.ConnectionId]=P,void 0!==he&&(me[ue.a.CustomVoiceDeploymentId]=he),k.parameters.setProperty(ne.a.SpeechServiceConnection_Url,pe);var ye="true"===k.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new M.a(pe,{},me,new oe.a,F.a.fromParameters(k.parameters),ye,P)}}},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P,M=O(3),F=O(4),ne=O(632);!function(C){C[C.Standard=0]="Standard",C[C.Custom=1]="Custom"}(P||(P={}));var re=function(){function SynthesizerConfig(C,k){Object(M.a)(this,SynthesizerConfig),this.privSynthesisServiceType=P.Standard,this.privSpeechServiceConfig=C||new ne.e(new ne.a(null)),this.privParameters=k}return Object(F.a)(SynthesizerConfig,[{key:"parameters",get:function get(){return this.privParameters}},{key:"synthesisServiceType",get:function get(){return this.privSynthesisServiceType},set:function set(C){this.privSynthesisServiceType=C}},{key:"SpeechServiceConfig",get:function get(){return this.privSpeechServiceConfig}}]),SynthesizerConfig}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return ue}));var P=O(3),M=O(4),F=O(804),ne=O(830),re=O(569),oe=O(541),se=O(536),ue=function(){function SynthesisRestAdapter(C){Object(P.a)(this,SynthesisRestAdapter);var k=C.parameters.getProperty(re.a.SpeechServiceConnection_Endpoint,void 0);if(!k){var O=C.parameters.getProperty(re.a.SpeechServiceConnection_Region,"westus"),M=oe.a.getHostSuffix(O);k=C.parameters.getProperty(re.a.SpeechServiceConnection_Host,"https://".concat(O,".tts.speech").concat(M))}this.privUri="".concat(k,"/cognitiveservices/voices/list");var se=F.a.requestOptions;se.headers[F.a.configParams.subscriptionKey]=C.parameters.getProperty(re.a.SpeechServiceConnection_Key,void 0),this.privRestAdapter=new ne.a(se)}return Object(M.a)(SynthesisRestAdapter,[{key:"getVoicesList",value:function getVoicesList(C){return this.privRestAdapter.setHeaders(se.a.ConnectionId,C),this.privRestAdapter.request(ne.b.Get,this.privUri)}}]),SynthesisRestAdapter}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return me}));var P=O(535),M=O(27),F=O.n(M),ne=O(110),re=O(537),oe=O(538),se=function cloneChildren(C,k,O){void 0===k&&(k=0);var P=k,F=!1;return{items:M.Children.map(C,(function(C){if(null==C)return null;if(!C.type)return C;var k=Object(oe.h)(C.type);switch(k){case"MenuItem":if(O){var ne={type:"radio"};return C.props.disabled||(ne.index=P++),Object(M.cloneElement)(C,ne)}case"SubMenu":case"FocusableItem":return C.props.disabled?C:Object(M.cloneElement)(C,{index:P++});default:var re=C.props.children;if(null===re||"object"!==typeof re)return C;var se=cloneChildren(re,P,O||"MenuRadioGroup"===k);if(P=se.index,"MenuGroup"===k){var ue=!!C.props.takeOverflow,pe=se.descendOverflow;0,F=F||pe||ue}return Object(M.cloneElement)(C,{children:se.items})}})),index:P,descendOverflow:F}},ue=function placeLeftorRight(C){var k,O,P,M=C.anchorRect,F=C.containerRect,ne=C.menuRect,re=C.placeLeftorRightY,oe=C.placeLeftX,se=C.placeRightX,ue=C.getLeftOverflow,pe=C.getRightOverflow,ve=C.confineHorizontally,de=C.confineVertically,he=C.arrowRef,fe=C.arrow,ge=C.direction,me=C.position,ye=ge,be=re;"initial"!==me&&(be=de(be),"anchor"===me&&(be=Math.min(be,M.bottom-F.top),be=Math.max(be,M.top-F.top-ne.height))),"left"===ye?(k=oe,"initial"!==me&&(O=ue(k))<0&&((P=pe(se))<=0||-O>P)&&(k=se,ye="right")):(k=se,"initial"!==me&&(P=pe(k))>0&&((O=ue(oe))>=0||-O<P)&&(k=oe,ye="left")),"auto"===me&&(k=ve(k));var ke=fe?function placeArrowVertical(C){var k=C.arrowRef,O=C.menuY,P=C.anchorRect,M=C.containerRect,F=C.menuRect,ne=P.top-M.top-O+P.height/2,re=1.25*k.current.offsetHeight;return ne=Math.max(re,ne),Math.min(ne,F.height-re)}({menuY:be,arrowRef:he,anchorRect:M,containerRect:F,menuRect:ne}):void 0;return{arrowY:ke,x:k,y:be,computedDirection:ye}},pe=function placeToporBottom(C){var k,O,P,M=C.anchorRect,F=C.containerRect,ne=C.menuRect,re=C.placeToporBottomX,oe=C.placeTopY,se=C.placeBottomY,ue=C.getTopOverflow,pe=C.getBottomOverflow,ve=C.confineHorizontally,de=C.confineVertically,he=C.arrowRef,fe=C.arrow,ge=C.direction,me=C.position,ye="top"===ge?"top":"bottom",be=re;"initial"!==me&&(be=ve(be),"anchor"===me&&(be=Math.min(be,M.right-F.left),be=Math.max(be,M.left-F.left-ne.width))),"top"===ye?(k=oe,"initial"!==me&&(O=ue(k))<0&&((P=pe(se))<=0||-O>P)&&(k=se,ye="bottom")):(k=se,"initial"!==me&&(P=pe(k))>0&&((O=ue(oe))>=0||-O<P)&&(k=oe,ye="top")),"auto"===me&&(k=de(k));var ke=fe?function placeArrowHorizontal(C){var k=C.arrowRef,O=C.menuX,P=C.anchorRect,M=C.containerRect,F=C.menuRect,ne=P.left-M.left-O+P.width/2,re=1.25*k.current.offsetWidth;return ne=Math.max(re,ne),Math.min(ne,F.width-re)}({menuX:be,arrowRef:he,anchorRect:M,containerRect:F,menuRect:ne}):void 0;return{arrowX:ke,x:be,y:k,computedDirection:ye}},ve="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?M.useLayoutEffect:M.useEffect,de=O(548),he=O(557),fe=O(582),ge=["ariaLabel","menuClassName","menuStyles","arrowClassName","arrowStyles","anchorPoint","anchorRef","containerRef","externalRef","parentScrollingRef","arrow","align","direction","position","overflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"],me=function MenuList(C){var k=C.ariaLabel,O=C.menuClassName,me=C.menuStyles,ye=C.arrowClassName,be=C.arrowStyles,ke=C.anchorPoint,Oe=C.anchorRef,Ee=C.containerRef,Re=C.externalRef,Ie=C.parentScrollingRef,Ae=C.arrow,Pe=C.align,Te=C.direction,je=C.position,_e=C.overflow,De=C.repositionFlag,Me=C.captureFocus,Ne=void 0===Me||Me,Le=C.state,ze=C.endTransition,Be=C.isDisabled,Fe=C.menuItemFocus,Ue=C.offsetX,qe=C.offsetY,Ve=C.children,Ke=C.onClose,He=Object(P.b)(C,ge),We=Object(M.useState)({x:0,y:0}),Je=We[0],Ge=We[1],$e=Object(M.useState)({}),Ye=$e[0],Qe=$e[1],Xe=Object(M.useState)(),Ze=Xe[0],et=Xe[1],tt=Object(M.useState)(Te),nt=tt[0],rt=tt[1],it=Object(M.useContext)(re.l),ot=it.transition,at=it.boundingBoxRef,st=it.boundingBoxPadding,ct=it.rootMenuRef,ut=it.rootAnchorRef,pt=it.scrollingRef,lt=it.anchorScrollingRef,vt=it.reposition,dt=it.viewScroll,ht=Object(M.useContext)(re.h).reposSubmenu||De,ft=Object(M.useRef)(null),gt=Object(M.useRef)(null),mt=Object(M.useRef)(!1),yt=Object(M.useRef)({width:0,height:0}),bt=Object(M.useRef)((function(){})),St=Object(oe.k)(Le),Ct=Object(oe.j)(ot,"open"),kt=Object(oe.j)(ot,"close"),Ot=Object(M.useMemo)((function(){return se(Ve)}),[Ve]),Et=Ot.items,wt=Ot.index,Rt=Ot.descendOverflow,It=Object(M.useReducer)((function reducer(C,k){var O=C.hoverIndex,P=C.openSubmenuCount;return{hoverIndex:hoverIndexReducer(O,k,wt),openSubmenuCount:submenuCountReducer(P,k)}}),{hoverIndex:re.n,openSubmenuCount:0}),At=It[0],Pt=At.hoverIndex,Tt=At.openSubmenuCount,jt=It[1],_t=Object(M.useReducer)((function(C){return C+1}),1),xt=_t[0],Dt=_t[1],Mt=Object(M.useCallback)((function(){if(Ee.current){pt.current||(pt.current=at?at.current:Object(oe.i)(ct.current));var C=function getPositionHelpers(C){var k=C.menuRef,O=C.containerRef,P=C.scrollingRef,M=C.boundingBoxPadding,F=k.current.getBoundingClientRect(),ne=O.current.getBoundingClientRect(),re=P.current===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:P.current.getBoundingClientRect(),se=Object(oe.l)(M),ue=function getLeftOverflow(C){return C+ne.left-re.left-se.left},pe=function getRightOverflow(C){return C+ne.left+F.width-re.right+se.right},ve=function getTopOverflow(C){return C+ne.top-re.top-se.top},de=function getBottomOverflow(C){return C+ne.top+F.height-re.bottom+se.bottom};return{menuRect:F,containerRect:ne,getLeftOverflow:ue,getRightOverflow:pe,getTopOverflow:ve,getBottomOverflow:de,confineHorizontally:function confineHorizontally(C){var k=ue(C);if(k<0)C-=k;else{var O=pe(C);O>0&&(k=ue(C-=O))<0&&(C-=k)}return C},confineVertically:function confineVertically(C){var k=ve(C);if(k<0)C-=k;else{var O=de(C);O>0&&(k=ve(C-=O))<0&&(C-=k)}return C}}}({menuRef:ft,containerRef:Ee,scrollingRef:pt,boundingBoxPadding:st}),k=C.menuRect,O={computedDirection:"bottom"};ke?O=function positionContextMenu(C){var k,O,P=C.positionHelpers,M=C.anchorPoint,F=P.menuRect,ne=P.containerRect,re=P.getLeftOverflow,oe=P.getRightOverflow,se=P.getTopOverflow,ue=P.getBottomOverflow,pe=P.confineHorizontally,ve=P.confineVertically;k=M.x-ne.left,O=M.y-ne.top;var de=oe(k);if(de>0){var he=k-F.width,fe=re(he);(fe>=0||-fe<de)&&(k=he),k=pe(k)}var ge="bottom",me=ue(O);if(me>0){var ye=O-F.height,be=se(ye);(be>=0||-be<me)&&(O=ye,ge="top"),O=ve(O)}return{x:k,y:O,computedDirection:ge}}({positionHelpers:C,anchorPoint:ke}):Oe&&(O=function positionMenu(C){var k=C.arrow,O=C.align,M=C.direction,F=C.offsetX,ne=C.offsetY,re=C.position,oe=C.anchorRef,se=C.arrowRef,ve=C.positionHelpers,de=ve.menuRect,he=ve.containerRect,fe=F,ge=ne;k&&("left"===M||"right"===M?fe+=se.current.offsetWidth:ge+=se.current.offsetHeight);var me,ye,be=oe.current.getBoundingClientRect(),ke=be.left-he.left-de.width-fe,Oe=be.right-he.left+fe,Ee=be.top-he.top-de.height-ge,Re=be.bottom-he.top+ge;"end"===O?(me=be.right-he.left-de.width,ye=be.bottom-he.top-de.height):"center"===O?(me=be.left-he.left-(de.width-be.width)/2,ye=be.top-he.top-(de.height-be.height)/2):(me=be.left-he.left,ye=be.top-he.top),me+=fe,ye+=ge;var Ie=Object(P.a)({},ve,{anchorRect:be,placeLeftX:ke,placeRightX:Oe,placeLeftorRightY:ye,placeTopY:Ee,placeBottomY:Re,placeToporBottomX:me,arrowRef:se,arrow:k,direction:M,position:re});switch(M){case"left":case"right":return ue(Ie);default:return pe(Ie)}}({arrow:Ae,align:Pe,direction:Te,offsetX:Ue,offsetY:qe,position:je,anchorRef:Oe,arrowRef:gt,positionHelpers:C}));var M=O,F=M.arrowX,ne=M.arrowY,re=M.x,se=M.y,ve=M.computedDirection,de=k.height;if("visible"!==_e){var he,fe,ge=C.getTopOverflow,me=C.getBottomOverflow,ye=yt.current.height,be=me(se);if(be>0||Object(oe.g)(be,0)&&Object(oe.g)(de,ye))he=de-be,fe=be;else{var Re=ge(se);(Re<0||Object(oe.g)(Re,0)&&Object(oe.g)(de,ye))&&(fe=0-Re,(he=de+Re)>=0&&(se-=Re))}he>=0?(de=he,et({height:he,overflowAmt:fe})):et()}Ae&&Qe({x:F,y:ne}),Ge({x:re,y:se}),rt(ve),yt.current={width:k.width,height:de}}}),[Ae,Pe,st,Te,Ue,qe,je,_e,ke,Oe,Ee,at,ct,pt]);ve((function(){St&&(Mt(),mt.current&&Dt()),mt.current=St,bt.current=Mt}),[St,Mt,ht]),ve((function(){Ze&&!Rt&&(ft.current.scrollTop=0)}),[Ze,Rt]),Object(M.useEffect)((function(){if(St){!lt.current&&ut&&ut.current.tagName&&(lt.current=Object(oe.i)(ut.current));var C=pt.current,k=C&&C.addEventListener?C:window,O=lt.current||k,P=dt;if(O!==k&&"initial"===P&&(P="auto"),"initial"!==P){"auto"===P&&"visible"!==_e&&(P="close");var M=function handleScroll(){"auto"===P?Object(oe.d)(Mt):Object(oe.m)(Ke,{reason:re.a.SCROLL})},F=O!==k&&"initial"!==dt?[O,k]:[O];return F.forEach((function(C){return C.addEventListener("scroll",M)})),function(){return F.forEach((function(C){return C.removeEventListener("scroll",M)}))}}}}),[ut,lt,pt,St,_e,Ke,dt,Mt]);var Nt=!!Ze&&Ze.overflowAmt>0;Object(M.useEffect)((function(){if(!Nt&&St&&Ie){var C=function handleScroll(){return Object(oe.d)(Mt)},k=Ie.current;return k.addEventListener("scroll",C),function(){return k.removeEventListener("scroll",C)}}}),[St,Nt,Ie,Mt]),Object(M.useEffect)((function(){if("function"===typeof ResizeObserver&&"initial"!==vt){var C=new ResizeObserver((function(C){var k,O,P=C[0],M=P.borderBoxSize,F=P.target;if(M){var re=M[0]||M;k=re.inlineSize,O=re.blockSize}else{var se=F.getBoundingClientRect();k=se.width,O=se.height}0!==k&&0!==O&&(Object(oe.g)(k,yt.current.width,1)&&Object(oe.g)(O,yt.current.height,1)||Object(ne.flushSync)((function(){bt.current(),Dt()})))})),k=ft.current;return C.observe(k,{box:"border-box"}),function(){return C.unobserve(k)}}}),[vt]),Object(M.useEffect)((function(){if(!St)return jt({type:re.d.RESET}),void(kt||et());var C=Fe||{},k=C.position,O=C.alwaysUpdate,P=function setItemFocus(){k===re.c.FIRST?jt({type:re.d.FIRST}):k===re.c.LAST?jt({type:re.d.LAST}):k>=0&&k<wt&&jt({type:re.d.SET,index:k})};if(O)P();else if(Ne){var M=setTimeout((function(){ft.current&&!ft.current.contains(document.activeElement)&&(ft.current.focus(),P())}),Ct?170:100);return function(){return clearTimeout(M)}}}),[Ct,kt,Ne,St,Fe,wt]);var Lt,zt,Bt=Tt>0,Ft=Object(M.useMemo)((function(){return{parentMenuRef:ft,parentOverflow:_e,isParentOpen:St,isSubmenuOpen:Bt,dispatch:jt}}),[St,Bt,_e]);Ze&&(Rt?zt=Ze.overflowAmt:Lt=Ze.height);var Ut=Object(M.useMemo)((function(){return{reposSubmenu:xt,overflow:_e,overflowAmt:zt}}),[xt,_e,zt]),qt=Lt>=0?{maxHeight:Lt,overflow:_e}:void 0,Vt=Object(M.useMemo)((function(){return{state:Le,dir:nt}}),[Le,nt]),Kt=Object(M.useMemo)((function(){return Object.freeze({dir:nt})}),[nt]),Ht=Object(de.a)({block:re.p,element:re.o,modifiers:Kt,className:ye}),Wt=Object(he.a)(be,Kt),Jt=Object(oe.c)({onKeyDown:function handleKeyDown(C){var k=!1;switch(C.key){case re.g.HOME:jt({type:re.d.FIRST}),k=!0;break;case re.g.END:jt({type:re.d.LAST}),k=!0;break;case re.g.UP:jt({type:re.d.DECREASE}),k=!0;break;case re.g.DOWN:jt({type:re.d.INCREASE}),k=!0;break;case re.g.SPACE:C.target&&-1!==C.target.className.indexOf(re.p)&&C.preventDefault()}k&&(C.preventDefault(),C.stopPropagation())},onAnimationEnd:function handleAnimationEnd(){"closing"===Le&&et(),Object(oe.m)(ze)}},He);return F.a.createElement("ul",Object(P.a)({role:"menu","aria-label":k},Object(oe.e)(Be),He,Jt,{ref:Object(fe.a)(Re,ft),className:Object(de.a)({block:re.p,modifiers:Vt,className:O}),style:Object(P.a)({},Object(he.a)(me,Vt),qt,{left:Je.x,top:Je.y})}),Ae&&F.a.createElement("div",{className:Ht,style:Object(P.a)({},Wt,{left:Ye.x,top:Ye.y}),ref:gt}),F.a.createElement(re.h.Provider,{value:Ut},F.a.createElement(re.i.Provider,{value:Ft},F.a.createElement(re.e.Provider,{value:Pt},Et))))};function hoverIndexReducer(C,k,O){var P=k.type,M=k.index;switch(P){case re.d.RESET:return re.n;case re.d.SET:return M;case re.d.UNSET:return C===M?re.n:C;case re.d.DECREASE:var F=C;return--F<0&&(F=O-1),F;case re.d.INCREASE:var ne=C;return++ne>=O&&(ne=0),ne;case re.d.FIRST:return O>0?0:re.n;case re.d.LAST:return O>0?O-1:re.n;default:return C}}function submenuCountReducer(C,k){switch(k.type){case re.m.OPEN:return C+1;case re.m.CLOSE:return Math.max(C-1,0);default:return C}}},function(C,k,O){"use strict";O.d(k,"a",(function(){return et}));var P,M=O(1),F=O.n(M),ne=O(3),re=O(4),oe=O(14),se=O(5),ue=O(6),pe=O(827),ve=O(568),de=function(C){Object(se.a)(DialogEvent,C);var k=Object(ue.a)(DialogEvent);function DialogEvent(C){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve.a.Info;return Object(ne.a)(this,DialogEvent),k.call(this,C,O)}return DialogEvent}(ve.b),he=function(C){Object(se.a)(SendingAgentContextMessageEvent,C);var k=Object(ue.a)(SendingAgentContextMessageEvent);function SendingAgentContextMessageEvent(C){var O;return Object(ne.a)(this,SendingAgentContextMessageEvent),(O=k.call(this,"SendingAgentContextMessageEvent")).privAgentConfig=C,O}return Object(re.a)(SendingAgentContextMessageEvent,[{key:"agentConfig",get:function get(){return this.privAgentConfig}}]),SendingAgentContextMessageEvent}(de),fe=O(790),ge=O(551),me=O(819),ye=O(825),be=O(789),ke=O(631),Oe=O(823),Ee=O(571),Re=O(569),Ie=O(574),Ae=O(685),Pe=O(703),Te=O(635),je=O(636),_e=O(590),De=O(650),Me=O(640),Ne=O(591),Le=O(652),ze=O(645),Be=O(646),Fe=O(542),Ue=O(540),qe=function(){function ActivityPayloadResponse(C){Object(ne.a)(this,ActivityPayloadResponse),this.privActivityResponse=JSON.parse(C)}return Object(re.a)(ActivityPayloadResponse,[{key:"conversationId",get:function get(){return this.privActivityResponse.conversationId}},{key:"messageDataStreamType",get:function get(){return this.privActivityResponse.messageDataStreamType}},{key:"messagePayload",get:function get(){return this.privActivityResponse.messagePayload}},{key:"version",get:function get(){return this.privActivityResponse.version}}],[{key:"fromJSON",value:function fromJSON(C){return new ActivityPayloadResponse(C)}}]),ActivityPayloadResponse}();!function(C){C[C.None=0]="None",C[C.TextToSpeechAudio=1]="TextToSpeechAudio"}(P||(P={}));var Ve=function(){function DialogServiceTurnState(C,k){Object(ne.a)(this,DialogServiceTurnState),this.privRequestId=k,this.privIsCompleted=!1,this.privAudioStream=null,this.privTurnManager=C,this.resetTurnEndTimeout()}return Object(re.a)(DialogServiceTurnState,[{key:"audioStream",get:function get(){return this.resetTurnEndTimeout(),this.privAudioStream}},{key:"processActivityPayload",value:function processActivityPayload(C,k){return C.messageDataStreamType===P.TextToSpeechAudio&&(this.privAudioStream=Ue.a.createPullStream(),this.privAudioStream.format=void 0!==k?k:Ee.a.getDefaultOutputFormat()),this.privAudioStream}},{key:"endAudioStream",value:function endAudioStream(){null===this.privAudioStream||this.privAudioStream.isClosed||this.privAudioStream.close()}},{key:"complete",value:function complete(){void 0!==this.privTimeoutToken&&clearTimeout(this.privTimeoutToken),this.endAudioStream()}},{key:"resetTurnEndTimeout",value:function resetTurnEndTimeout(){var C=this;void 0!==this.privTimeoutToken&&clearTimeout(this.privTimeoutToken),this.privTimeoutToken=setTimeout((function(){C.privTurnManager.CompleteTurn(C.privRequestId)}),2e3)}}]),DialogServiceTurnState}(),Ke=function(){function DialogServiceTurnStateManager(){Object(ne.a)(this,DialogServiceTurnStateManager),this.privTurnMap=new Map}return Object(re.a)(DialogServiceTurnStateManager,[{key:"StartTurn",value:function StartTurn(C){if(this.privTurnMap.has(C))throw new Fe.b("Service error: There is already a turn with id:"+C);var k=new Ve(this,C);return this.privTurnMap.set(C,k),this.privTurnMap.get(C)}},{key:"GetTurn",value:function GetTurn(C){return this.privTurnMap.get(C)}},{key:"CompleteTurn",value:function CompleteTurn(C){if(!this.privTurnMap.has(C))throw new Fe.b("Service error: Received turn end for an unknown turn id:"+C);var k=this.privTurnMap.get(C);return k.complete(),this.privTurnMap.delete(C),k}}]),DialogServiceTurnStateManager}(),He=O(667),We=O(668),Je=O(666),Ge=O(686),$e=O(524),Ye=O(660),Qe=O(669),Xe=O(657),Ze=O(570),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},et=function(C){Object(se.a)(DialogServiceAdapter,C);var k=Object(ue.a)(DialogServiceAdapter);function DialogServiceAdapter(C,O,P,M,re){var se;return Object(ne.a)(this,DialogServiceAdapter),(se=k.call(this,C,O,P,M,re)).sendAgentConfig=function(C){if(se.agentConfig&&!se.agentConfigSent){if(se.privRecognizerConfig.parameters.getProperty(Re.a.Conversation_DialogType)===Ie.a.DialogTypes.CustomCommands){var k=se.agentConfig.get();k.botInfo.commandsCulture=se.privRecognizerConfig.parameters.getProperty(Re.a.SpeechServiceConnection_RecoLanguage,"en-us"),se.agentConfig.set(k)}se.onEvent(new he(se.agentConfig));var O=se.agentConfig.toJsonString();return se.agentConfigSent=!0,C.send(new Ze.a(fe.b.Text,"agent.config",se.privRequestSession.requestId,"application/json",O))}},se.sendAgentContext=function(C){var k=Object(ge.a)(),O=se.privDialogServiceConnector.properties.getProperty(Re.a.Conversation_Speech_Activity_Template),P={channelData:"",context:{interactionId:k},messagePayload:void 0===typeof O?void 0:O,version:.5},M=JSON.stringify(P);return C.send(new Ze.a(fe.b.Text,"speech.agent.context",se.privRequestSession.requestId,"application/json",M))},se.handleResponseMessage=function(C){var k=JSON.parse(C.textBody);switch(k.messageType.toLowerCase()){case"message":var O=C.requestId.toUpperCase(),P=qe.fromJSON(C.textBody),M=se.privTurnStateManager.GetTurn(O);if(P.conversationId){var F=se.agentConfig.get();F.botInfo.conversationId=P.conversationId,se.agentConfig.set(F)}var ne=M.processActivityPayload(P,Ee.a.fromSpeechSynthesisOutputFormatString(se.privDialogServiceConnector.properties.getProperty(Re.a.SpeechServiceConnection_SynthOutputFormat,void 0))),re=new Ae.a(P.messagePayload,ne);if(se.privDialogServiceConnector.activityReceived)try{se.privDialogServiceConnector.activityReceived(se.privDialogServiceConnector,re)}catch(oe){}break;case"messagestatus":if(se.privDialogServiceConnector.turnStatusReceived)try{se.privDialogServiceConnector.turnStatusReceived(se.privDialogServiceConnector,new Pe.a(C.textBody))}catch(oe){}break;default:me.a.instance.onEvent(new ye.a("Unexpected response of type ".concat(k.messageType,". Ignoring.")))}},se.privEvents=new be.a,se.privDialogServiceConnector=re,se.receiveMessageOverride=se.receiveDialogMessageOverride,se.privTurnStateManager=new Ke,se.recognizeOverride=se.listenOnce,se.postConnectImplOverride=se.dialogConnectImpl,se.configConnectionOverride=se.configConnection,se.disconnectOverride=se.privDisconnect,se.privDialogAudioSource=P,se.agentConfigSent=!1,se.privLastResult=null,se.connectionEvents.attach((function(C){return __awaiter(Object(oe.a)(se),void 0,void 0,F.a.mark((function _callee(){return F.a.wrap((function _callee$(k){for(;;)switch(k.prev=k.next){case 0:"ConnectionClosedEvent"===C.name&&(this.terminateMessageLoop=!0);case 1:case"end":return k.stop()}}),_callee,this)})))})),se}return Object(re.a)(DialogServiceAdapter,[{key:"sendMessage",value:function sendMessage(C){return __awaiter(this,void 0,void 0,F.a.mark((function _callee2(){var k,O,P,M,ne;return F.a.wrap((function _callee2$(F){for(;;)switch(F.prev=F.next){case 0:return k=Object(ge.a)(),O=Object(ge.b)(),P={context:{interactionId:k},messagePayload:JSON.parse(C),version:.5},M=JSON.stringify(P),F.next=6,this.fetchConnection();case 6:return ne=F.sent,F.next=9,ne.send(new Ze.a(fe.b.Text,"agent",O,"application/json",M));case 9:case"end":return F.stop()}}),_callee2,this)})))}},{key:"privDisconnect",value:function privDisconnect(){return __awaiter(this,void 0,void 0,F.a.mark((function _callee3(){return F.a.wrap((function _callee3$(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,Te.a.Error,je.a.NoError,"Disconnecting");case 2:return this.terminateMessageLoop=!0,this.agentConfigSent=!1,C.abrupt("return");case 5:case"end":return C.stop()}}),_callee3,this)})))}},{key:"processTypeSpecificMessages",value:function processTypeSpecificMessages(C){return __awaiter(this,void 0,void 0,F.a.mark((function _callee4(){var k,O,P,M,ne,re,oe,se,ue,pe,ve,de;return F.a.wrap((function _callee4$(F){for(;;)switch(F.prev=F.next){case 0:k=new _e.a,C.messageType===fe.b.Text&&k.setProperty(Re.a.SpeechServiceResponse_JsonResult,C.textBody),F.t0=C.path.toLowerCase(),F.next="speech.phrase"===F.t0?5:"speech.hypothesis"===F.t0?10:"speech.keyword"===F.t0?18:"audio"===F.t0?25:"response"===F.t0?30:33;break;case 5:if(M=He.a.fromJSON(C.textBody),this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+M.Offset+M.Duration),M.RecognitionStatus!==We.a.TooManyRequests&&M.RecognitionStatus!==We.a.Error&&(ne=this.fireEventForResult(M,k),this.privLastResult=ne.result,this.privDialogServiceConnector.recognized))try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,ne)}catch(he){}return P=!0,F.abrupt("break",34);case 10:if(re=Je.a.fromJSON(C.textBody),oe=re.Offset+this.privRequestSession.currentTurnAudioOffset,O=new De.a(this.privRequestSession.requestId,Me.a.RecognizingSpeech,re.Text,re.Duration,oe,re.Language,re.LanguageDetectionConfidence,void 0,void 0,C.textBody,k),this.privRequestSession.onHypothesis(oe),se=new Ne.b(O,re.Duration,this.privRequestSession.sessionId),this.privDialogServiceConnector.recognizing)try{this.privDialogServiceConnector.recognizing(this.privDialogServiceConnector,se)}catch(he){}return P=!0,F.abrupt("break",34);case 18:if(ue=Ge.a.fromJSON(C.textBody),O=new De.a(this.privRequestSession.requestId,"Accepted"===ue.Status?Me.a.RecognizedKeyword:Me.a.NoMatch,ue.Text,ue.Duration,ue.Offset,void 0,void 0,void 0,void 0,C.textBody,k),"Accepted"!==ue.Status&&(this.privLastResult=O),pe=new Ne.b(O,O.duration,O.resultId),this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,pe)}catch(he){}return P=!0,F.abrupt("break",34);case 25:ve=C.requestId.toUpperCase(),de=this.privTurnStateManager.GetTurn(ve);try{C.binaryBody?de.audioStream.write(C.binaryBody):de.endAudioStream()}catch(he){}return P=!0,F.abrupt("break",34);case 30:return this.handleResponseMessage(C),P=!0,F.abrupt("break",34);case 33:return F.abrupt("break",34);case 34:return F.abrupt("return",P);case 35:case"end":return F.stop()}}),_callee4,this)})))}},{key:"cancelRecognition",value:function cancelRecognition(C,k,O,P,M){return __awaiter(this,void 0,void 0,F.a.mark((function _callee5(){var k,ne,re;return F.a.wrap((function _callee5$(F){for(;;)switch(F.prev=F.next){case 0:if(this.terminateMessageLoop=!0,!this.privRequestSession.isRecognizing){F.next=4;break}return F.next=4,this.privRequestSession.onStopRecognizing();case 4:if(this.privDialogServiceConnector.canceled){(k=new _e.a).setProperty($e.CancellationErrorCodePropertyName,je.a[P]),ne=new Le.a(O,M,P,void 0,C);try{this.privDialogServiceConnector.canceled(this.privDialogServiceConnector,ne)}catch(oe){}if(this.privSuccessCallback){re=new De.a(void 0,Me.a.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,M,void 0,k);try{this.privSuccessCallback(re),this.privSuccessCallback=void 0}catch(se){}}}case 5:case"end":return F.stop()}}),_callee5,this)})))}},{key:"listenOnce",value:function listenOnce(C,k,O){return __awaiter(this,void 0,void 0,F.a.mark((function _callee7(){var P,M,ne,re,oe,se,ue,ve=this;return F.a.wrap((function _callee7$(de){for(;;)switch(de.prev=de.next){case 0:return this.privRecognizerConfig.recognitionMode=C,this.privSuccessCallback=k,this.privErrorCallback=O,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privDialogAudioSource.events),this.privRecognizerConfig.parameters.setProperty(Re.a.Speech_SessionId,this.privRequestSession.sessionId),P=this.connectImpl(),M=this.sendPreAudioMessages(),de.next=10,this.privDialogAudioSource.attach(this.privRequestSession.audioNodeId);case 10:return ne=de.sent,de.next=13,this.privDialogAudioSource.format;case 13:return re=de.sent,de.next=16,this.privDialogAudioSource.deviceInfo;case 16:return oe=de.sent,se=new pe.a(ne,re.avgBytesPerSec),de.next=20,this.privRequestSession.onAudioSourceAttachCompleted(se,!1);case 20:return this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:oe},de.prev=21,de.next=24,P;case 24:return de.next=26,M;case 26:de.next=33;break;case 28:return de.prev=28,de.t0=de.catch(21),de.next=32,this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,Te.a.Error,je.a.ConnectionFailure,de.t0);case 32:return de.abrupt("return",Promise.resolve());case 33:ue=new ze.a(this.privRequestSession.sessionId),this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,ue),this.sendAudio(se).then((function(){}),(function(C){return __awaiter(ve,void 0,void 0,F.a.mark((function _callee6(){return F.a.wrap((function _callee6$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,Te.a.Error,je.a.RuntimeError,C);case 2:case"end":return k.stop()}}),_callee6,this)})))}));case 37:case"end":return de.stop()}}),_callee7,this,[[21,28]])})))}},{key:"dialogConnectImpl",value:function dialogConnectImpl(C){return this.privConnectionLoop=this.startMessageLoop(),C}},{key:"receiveDialogMessageOverride",value:function receiveDialogMessageOverride(){var C=this,k=new ke.a;return function loop(){return __awaiter(C,void 0,void 0,F.a.mark((function _callee8(){var C,O,P,M,ne,re,oe,se,ue,pe,ve,de,he,fe,ge,me;return F.a.wrap((function _callee8$(F){for(;;)switch(F.prev=F.next){case 0:if(F.prev=0,C=this.isDisposed(),O=!this.isDisposed()&&this.terminateMessageLoop,!C&&!O){F.next=6;break}return k.resolve(void 0),F.abrupt("return");case 6:return F.next=8,this.fetchConnection();case 8:return P=F.sent,F.next=11,P.read();case 11:if(M=F.sent){F.next=14;break}return F.abrupt("return",loop());case 14:ne=Ze.a.fromConnectionMessage(M),F.t0=ne.path.toLowerCase(),F.next="turn.start"===F.t0?18:"speech.startdetected"===F.t0?22:"speech.enddetected"===F.t0?26:"turn.end"===F.t0?32:44;break;case 18:return re=ne.requestId.toUpperCase(),oe=this.privRequestSession.requestId.toUpperCase(),re!==oe?this.privTurnStateManager.StartTurn(re):this.privRequestSession.onServiceTurnStartResponse(),F.abrupt("break",45);case 22:return se=Ye.a.fromJSON(ne.textBody),ue=new Be.a(se.Offset,this.privRequestSession.sessionId),this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,ue),F.abrupt("break",45);case 26:return pe=ne.textBody.length>0?ne.textBody:"{ Offset: 0 }",ve=Ye.a.fromJSON(pe),this.privRequestSession.onServiceRecognized(ve.Offset+this.privRequestSession.currentTurnAudioOffset),de=new Be.a(ve.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId),this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,de),F.abrupt("break",45);case 32:if(he=ne.requestId.toUpperCase(),fe=this.privRequestSession.requestId.toUpperCase(),he===fe){F.next=38;break}this.privTurnStateManager.CompleteTurn(he),F.next=43;break;case 38:return ge=new ze.a(this.privRequestSession.sessionId),F.next=41,this.privRequestSession.onServiceTurnEndResponse(!1);case 41:if(this.privRecognizerConfig.isContinuousRecognition&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing||this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,ge),this.privSuccessCallback&&this.privLastResult){try{this.privSuccessCallback(this.privLastResult),this.privLastResult=null}catch(ye){this.privErrorCallback&&this.privErrorCallback(ye)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}case 43:return F.abrupt("break",45);case 44:this.processTypeSpecificMessages(ne)||this.serviceEvents&&this.serviceEvents.onEvent(new Oe.h(ne.path.toLowerCase(),ne.textBody));case 45:return me=loop(),F.abrupt("return",me);case 49:F.prev=49,F.t1=F.catch(0),this.terminateMessageLoop=!0,k.resolve();case 53:case"end":return F.stop()}}),_callee8,this,[[0,49]])})))}().catch((function(C){me.a.instance.onEvent(new ye.a(C))})),k.promise}},{key:"startMessageLoop",value:function startMessageLoop(){return __awaiter(this,void 0,void 0,F.a.mark((function _callee9(){return F.a.wrap((function _callee9$(C){for(;;)switch(C.prev=C.next){case 0:return this.terminateMessageLoop=!1,C.prev=1,C.next=4,this.receiveDialogMessageOverride();case 4:C.next=10;break;case 6:return C.prev=6,C.t0=C.catch(1),C.next=10,this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,Te.a.Error,je.a.RuntimeError,C.t0);case 10:return C.abrupt("return",Promise.resolve());case 11:case"end":return C.stop()}}),_callee9,this,[[1,6]])})))}},{key:"configConnection",value:function configConnection(C){return __awaiter(this,void 0,void 0,F.a.mark((function _callee10(){return F.a.wrap((function _callee10$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.terminateMessageLoop){k.next=3;break}return this.terminateMessageLoop=!1,k.abrupt("return",Promise.reject("Connection to service terminated."));case 3:return k.next=5,this.sendSpeechServiceConfig(C,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize());case 5:return k.next=7,this.sendAgentConfig(C);case 7:return k.abrupt("return",C);case 8:case"end":return k.stop()}}),_callee10,this)})))}},{key:"sendPreAudioMessages",value:function sendPreAudioMessages(){return __awaiter(this,void 0,void 0,F.a.mark((function _callee11(){var C;return F.a.wrap((function _callee11$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.fetchConnection();case 2:return C=k.sent,this.addKeywordContextData(),k.next=6,this.sendSpeechContext(C);case 6:return k.next=8,this.sendAgentContext(C);case 8:return k.next=10,this.sendWaveHeader(C);case 10:case"end":return k.stop()}}),_callee11,this)})))}},{key:"fireEventForResult",value:function fireEventForResult(C,k){var O=Qe.a.implTranslateRecognitionResult(C.RecognitionStatus),P=C.Offset+this.privRequestSession.currentTurnAudioOffset,M=new De.a(this.privRequestSession.requestId,O,C.DisplayText,C.Duration,P,C.Language,C.LanguageDetectionConfidence,void 0,void 0,JSON.stringify(C),k);return new Ne.b(M,P,this.privRequestSession.sessionId)}},{key:"onEvent",value:function onEvent(C){this.privEvents.onEvent(C),me.a.instance.onEvent(C)}},{key:"addKeywordContextData",value:function addKeywordContextData(){var C=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect");if(void 0!==C){for(var k=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Offsets"),O=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Durations"),P=C.split(";"),M=void 0===k?[]:k.split(";"),F=void 0===O?[]:O.split(";"),ne=[],re=0;re<P.length;re++){var oe={};oe.text=P[re],re<M.length&&(oe.offset=Number(M[re])),re<F.length&&(oe.duration=Number(F[re])),ne.push(oe)}this.speechContext.setSection("invocationSource","VoiceActivationWithKeyword"),this.speechContext.setSection("keywordDetection",[{clientDetectedKeywords:ne,onReject:{action:"EndOfTurn"},type:"startTrigger"}])}}}]),DialogServiceAdapter}(Xe.a)},,,,,,,function(C,k,O){"use strict";O.d(k,"a",(function(){return ne}));var P=O(3),M=O(4),F=function(){function TurnStatusResponsePayload(C){Object(P.a)(this,TurnStatusResponsePayload),this.privMessageStatusResponse=JSON.parse(C)}return Object(M.a)(TurnStatusResponsePayload,[{key:"interactionId",get:function get(){return this.privMessageStatusResponse.interactionId}},{key:"conversationId",get:function get(){return this.privMessageStatusResponse.conversationId}},{key:"statusCode",get:function get(){switch(this.privMessageStatusResponse.statusCode){case"Success":return 200;case"Failed":return 400;case"TimedOut":return 429;default:return this.privMessageStatusResponse.statusCode}}}],[{key:"fromJSON",value:function fromJSON(C){return new TurnStatusResponsePayload(C)}}]),TurnStatusResponsePayload}(),ne=function(){function TurnStatusReceivedEventArgs(C){Object(P.a)(this,TurnStatusReceivedEventArgs),this.privTurnStatus=F.fromJSON(C)}return Object(M.a)(TurnStatusReceivedEventArgs,[{key:"interactionId",get:function get(){return this.privTurnStatus.interactionId}},{key:"conversationId",get:function get(){return this.privTurnStatus.conversationId}},{key:"statusCode",get:function get(){return this.privTurnStatus.statusCode}}]),TurnStatusReceivedEventArgs}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return be}));var P=O(1),M=O.n(P),F=O(3),ne=O(4),re=O(631),oe=O(819),se=O(551),ue=O(540),pe=O(588),ve=O(5),de=O(6),he=O(568),fe=function(C){Object(ve.a)(SpeechSynthesisEvent,C);var k=Object(de.a)(SpeechSynthesisEvent);function SpeechSynthesisEvent(C,O){var P,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he.a.Info;return Object(F.a)(this,SpeechSynthesisEvent),(P=k.call(this,C,M)).privRequestId=O,P}return Object(ne.a)(SpeechSynthesisEvent,[{key:"requestId",get:function get(){return this.privRequestId}}]),SpeechSynthesisEvent}(he.b),ge=function(C){Object(ve.a)(SynthesisTriggeredEvent,C);var k=Object(de.a)(SynthesisTriggeredEvent);function SynthesisTriggeredEvent(C,O,P){var M;return Object(F.a)(this,SynthesisTriggeredEvent),(M=k.call(this,"SynthesisTriggeredEvent",C)).privSessionAudioDestinationId=O,M.privTurnAudioDestinationId=P,M}return Object(ne.a)(SynthesisTriggeredEvent,[{key:"audioSessionDestinationId",get:function get(){return this.privSessionAudioDestinationId}},{key:"audioTurnDestinationId",get:function get(){return this.privTurnAudioDestinationId}}]),SynthesisTriggeredEvent}(fe),me=function(C){Object(ve.a)(ConnectingToSynthesisServiceEvent,C);var k=Object(de.a)(ConnectingToSynthesisServiceEvent);function ConnectingToSynthesisServiceEvent(C,O){var P;return Object(F.a)(this,ConnectingToSynthesisServiceEvent),(P=k.call(this,"ConnectingToSynthesisServiceEvent",C)).privAuthFetchEventId=O,P}return Object(ne.a)(ConnectingToSynthesisServiceEvent,[{key:"authFetchEventId",get:function get(){return this.privAuthFetchEventId}}]),ConnectingToSynthesisServiceEvent}(fe),ye=function(C){Object(ve.a)(SynthesisStartedEvent,C);var k=Object(de.a)(SynthesisStartedEvent);function SynthesisStartedEvent(C,O){var P;return Object(F.a)(this,SynthesisStartedEvent),(P=k.call(this,"SynthesisStartedEvent",C)).privAuthFetchEventId=O,P}return Object(ne.a)(SynthesisStartedEvent,[{key:"authFetchEventId",get:function get(){return this.privAuthFetchEventId}}]),SynthesisStartedEvent}(fe),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},be=function(){function SynthesisTurn(){var C=this;Object(F.a)(this,SynthesisTurn),this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.onPreConnectionStart=function(k,O){C.privAuthFetchEventId=k,C.onEvent(new me(C.privRequestId,C.privAuthFetchEventId))},this.onAuthCompleted=function(k,O){k&&C.onComplete()},this.onConnectionEstablishCompleted=function(k,O){if(200===k)return C.onEvent(new ye(C.requestId,C.privAuthFetchEventId)),void(C.privBytesReceived=0);403===k&&C.onComplete()},this.onServiceResponseMessage=function(k){var O=JSON.parse(k);C.streamId=O.audio.streamId},this.onServiceTurnEndResponse=function(){C.privInTurn=!1,C.privTurnDeferral.resolve(),C.onComplete()},this.onServiceTurnStartResponse=function(){C.privTurnDeferral&&C.privInTurn&&(C.privTurnDeferral.reject("Another turn started before current completed."),C.privTurnDeferral.promise.then().catch((function(){}))),C.privInTurn=!0,C.privTurnDeferral=new re.a},this.dispose=function(k){C.privIsDisposed||(C.privIsDisposed=!0)},this.onEvent=function(C){oe.a.instance.onEvent(C)},this.onComplete=function(){C.privIsSynthesizing&&(C.privIsSynthesizing=!1,C.privIsSynthesisEnded=!0,C.privAudioOutputStream.close(),C.privInTurn=!1,void 0!==C.privTurnAudioDestination&&(C.privTurnAudioDestination.close(),C.privTurnAudioDestination=void 0))},this.privRequestId=Object(se.b)(),this.privTurnDeferral=new re.a,this.privTurnDeferral.resolve()}return Object(ne.a)(SynthesisTurn,[{key:"requestId",get:function get(){return this.privRequestId}},{key:"streamId",get:function get(){return this.privStreamId},set:function set(C){this.privStreamId=C}},{key:"audioOutputFormat",get:function get(){return this.privAudioOutputFormat},set:function set(C){this.privAudioOutputFormat=C}},{key:"turnCompletionPromise",get:function get(){return this.privTurnDeferral.promise}},{key:"isSynthesisEnded",get:function get(){return this.privIsSynthesisEnded}},{key:"isSynthesizing",get:function get(){return this.privIsSynthesizing}},{key:"currentTextOffset",get:function get(){return this.privTextOffset}},{key:"bytesReceived",get:function get(){return this.privBytesReceived}},{key:"getAllReceivedAudio",value:function getAllReceivedAudio(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee(){return M.a.wrap((function _callee$(C){for(;;)switch(C.prev=C.next){case 0:if(!this.privReceivedAudio){C.next=2;break}return C.abrupt("return",Promise.resolve(this.privReceivedAudio));case 2:if(this.privIsSynthesisEnded){C.next=4;break}return C.abrupt("return",null);case 4:return C.next=6,this.readAllAudioFromStream();case 6:return C.abrupt("return",Promise.resolve(this.privReceivedAudio));case 7:case"end":return C.stop()}}),_callee,this)})))}},{key:"getAllReceivedAudioWithHeader",value:function getAllReceivedAudioWithHeader(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee2(){var C;return M.a.wrap((function _callee2$(k){for(;;)switch(k.prev=k.next){case 0:if(!this.privReceivedAudioWithHeader){k.next=2;break}return k.abrupt("return",this.privReceivedAudioWithHeader);case 2:if(this.privIsSynthesisEnded){k.next=4;break}return k.abrupt("return",null);case 4:if(!this.audioOutputFormat.hasHeader){k.next=12;break}return k.next=7,this.getAllReceivedAudio();case 7:return C=k.sent,this.privReceivedAudioWithHeader=pe.a.addHeader(C,this.audioOutputFormat),k.abrupt("return",this.privReceivedAudioWithHeader);case 12:return k.abrupt("return",this.getAllReceivedAudio());case 13:case"end":return k.stop()}}),_callee2,this)})))}},{key:"startNewSynthesis",value:function startNewSynthesis(C,k,O,P){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=C,this.privRawText=k,this.privIsSSML=O,this.privAudioOutputStream=new ue.c,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privPartialVisemeAnimation="",void 0!==P&&(this.privTurnAudioDestination=P,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new ge(this.requestId,void 0,void 0===P?void 0:P.id()))}},{key:"onAudioChunkReceived",value:function onAudioChunkReceived(C){this.isSynthesizing&&(this.privAudioOutputStream.write(C),this.privBytesReceived+=C.byteLength,void 0!==this.privTurnAudioDestination&&this.privTurnAudioDestination.write(C))}},{key:"onWordBoundaryEvent",value:function onWordBoundaryEvent(C){this.updateTextOffset(C)}},{key:"onVisemeMetadataReceived",value:function onVisemeMetadataReceived(C){void 0!==C.Data.AnimationChunk&&(this.privPartialVisemeAnimation+=C.Data.AnimationChunk)}},{key:"onStopSynthesizing",value:function onStopSynthesizing(){this.onComplete()}},{key:"getAndClearVisemeAnimation",value:function getAndClearVisemeAnimation(){var C=this.privPartialVisemeAnimation;return this.privPartialVisemeAnimation="",C}},{key:"updateTextOffset",value:function updateTextOffset(C){this.privTextOffset>=0&&(this.privTextOffset=this.privRawText.indexOf(C,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+C.length),this.privIsSSML&&this.privRawText.indexOf("<",this.privTextOffset+1)>this.privRawText.indexOf(">",this.privTextOffset+1)&&this.updateTextOffset(C))}},{key:"readAllAudioFromStream",value:function readAllAudioFromStream(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee3(){return M.a.wrap((function _callee3$(C){for(;;)switch(C.prev=C.next){case 0:if(!this.privIsSynthesisEnded){C.next=10;break}return this.privReceivedAudio=new ArrayBuffer(this.bytesReceived),C.prev=2,C.next=5,this.privAudioOutputStream.read(this.privReceivedAudio);case 5:C.next=10;break;case 7:C.prev=7,C.t0=C.catch(2),this.privReceivedAudio=new ArrayBuffer(0);case 10:case"end":return C.stop()}}),_callee3,this,[[2,7]])})))}}]),SynthesisTurn}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return fe}));var P=O(75),M=O(1),F=O.n(M),ne=O(3),re=O(4),oe=O(551),se=O(631),ue=O(819),pe=O(572),ve=O(820),de=O(823),he=function(){function ServiceTelemetryListener(C,k,O){var P=this;Object(ne.a)(this,ServiceTelemetryListener),this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.onEvent=function(C){if(!P.privIsDisposed&&(C instanceof pe.d&&C.requestId===P.privRequestId&&(P.privListeningTriggerMetric={End:C.eventTime,Name:"ListeningTrigger",Start:C.eventTime}),C instanceof ve.f&&C.audioSourceId===P.privAudioSourceId&&C.audioNodeId===P.privAudioNodeId&&(P.privMicStartTime=C.eventTime),C instanceof ve.e&&C.audioSourceId===P.privAudioSourceId&&C.audioNodeId===P.privAudioNodeId&&(P.privMicStartTime=C.eventTime),C instanceof ve.a&&C.audioSourceId===P.privAudioSourceId&&(P.privMicMetric||(P.privMicMetric={End:C.eventTime,Error:C.error,Name:"Microphone",Start:P.privMicStartTime})),C instanceof ve.h&&C.audioSourceId===P.privAudioSourceId&&C.audioNodeId===P.privAudioNodeId&&(P.privMicMetric||(P.privMicMetric={End:C.eventTime,Error:C.error,Name:"Microphone",Start:P.privMicStartTime})),C instanceof ve.g&&C.audioSourceId===P.privAudioSourceId&&C.audioNodeId===P.privAudioNodeId&&(P.privMicMetric||(P.privMicMetric={End:C.eventTime,Name:"Microphone",Start:P.privMicStartTime})),C instanceof pe.a&&C.requestId===P.privRequestId&&(P.privConnectionId=C.sessionId),C instanceof de.g&&C.connectionId===P.privConnectionId&&(P.privConnectionStartTime=C.eventTime),C instanceof de.d&&C.connectionId===P.privConnectionId&&(P.privConnectionEstablishMetric||(P.privConnectionEstablishMetric={End:C.eventTime,Id:P.privConnectionId,Name:"Connection",Start:P.privConnectionStartTime})),C instanceof de.c&&C.connectionId===P.privConnectionId&&(P.privConnectionEstablishMetric||(P.privConnectionEstablishMetric={End:C.eventTime,Error:P.getConnectionError(C.statusCode),Id:P.privConnectionId,Name:"Connection",Start:P.privConnectionStartTime})),C instanceof de.e&&C.connectionId===P.privConnectionId&&C.message&&C.message.headers&&C.message.headers.path)){P.privReceivedMessages[C.message.headers.path]||(P.privReceivedMessages[C.message.headers.path]=new Array);P.privReceivedMessages[C.message.headers.path].length<50&&P.privReceivedMessages[C.message.headers.path].push(C.networkReceivedTime)}},this.getTelemetry=function(){var C=new Array;P.privListeningTriggerMetric&&C.push(P.privListeningTriggerMetric),P.privMicMetric&&C.push(P.privMicMetric),P.privConnectionEstablishMetric&&C.push(P.privConnectionEstablishMetric),P.privPhraseLatencies.length>0&&C.push({PhraseLatencyMs:P.privPhraseLatencies}),P.privHypothesisLatencies.length>0&&C.push({FirstHypothesisLatencyMs:P.privHypothesisLatencies});var k={Metrics:C,ReceivedMessages:P.privReceivedMessages},O=JSON.stringify(k);return P.privReceivedMessages={},P.privListeningTriggerMetric=null,P.privMicMetric=null,P.privConnectionEstablishMetric=null,P.privPhraseLatencies=[],P.privHypothesisLatencies=[],O},this.dispose=function(){P.privIsDisposed=!0},this.getConnectionError=function(C){switch(C){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+C.toString()}},this.privRequestId=C,this.privAudioSourceId=k,this.privAudioNodeId=O,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}return Object(re.a)(ServiceTelemetryListener,[{key:"phraseReceived",value:function phraseReceived(C){C>0&&this.privPhraseLatencies.push(Date.now()-C)}},{key:"hypothesisReceived",value:function hypothesisReceived(C){C>0&&this.privHypothesisLatencies.push(Date.now()-C)}},{key:"hasTelemetry",get:function get(){return 0!==Object.keys(this.privReceivedMessages).length||null!==this.privListeningTriggerMetric||null!==this.privMicMetric||null!==this.privConnectionEstablishMetric||0!==this.privPhraseLatencies.length||0!==this.privHypothesisLatencies.length}}]),ServiceTelemetryListener}(),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},fe=function(){function RequestSession(C){var k=this;Object(ne.a)(this,RequestSession),this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.privConnectionAttempts=0,this.onPreConnectionStart=function(C,O){k.privAuthFetchEventId=C,k.privSessionId=O,k.onEvent(new pe.a(k.privRequestId,k.privAuthFetchEventId,k.privSessionId))},this.onSpeechContext=function(){k.privRequestId=Object(oe.b)()},this.onServiceTurnStartResponse=function(){k.privTurnDeferral&&k.privInTurn&&(k.privTurnDeferral.reject("Another turn started before current completed."),k.privTurnDeferral.promise.then().catch((function(){}))),k.privInTurn=!0,k.privTurnDeferral=new se.a},this.getTelemetry=function(){return k.privServiceTelemetryListener.hasTelemetry?k.privServiceTelemetryListener.getTelemetry():null},this.onEvent=function(C){k.privServiceTelemetryListener&&k.privServiceTelemetryListener.onEvent(C),ue.a.instance.onEvent(C)},this.privAudioSourceId=C,this.privRequestId=Object(oe.b)(),this.privAudioNodeId=Object(oe.b)(),this.privTurnDeferral=new se.a,this.privTurnDeferral.resolve()}return Object(re.a)(RequestSession,[{key:"sessionId",get:function get(){return this.privSessionId}},{key:"requestId",get:function get(){return this.privRequestId}},{key:"audioNodeId",get:function get(){return this.privAudioNodeId}},{key:"turnCompletionPromise",get:function get(){return this.privTurnDeferral.promise}},{key:"isSpeechEnded",get:function get(){return this.privIsSpeechEnded}},{key:"isRecognizing",get:function get(){return this.privIsRecognizing}},{key:"currentTurnAudioOffset",get:function get(){return this.privTurnStartAudioOffset}},{key:"recogNumber",get:function get(){return this.privRecogNumber}},{key:"numConnectionAttempts",get:function get(){return this.privConnectionAttempts}},{key:"bytesSent",get:function get(){return this.privBytesSent}},{key:"listenForServiceTelemetry",value:function listenForServiceTelemetry(C){this.privServiceTelemetryListener&&this.privDetachables.push(C.attachListener(this.privServiceTelemetryListener))}},{key:"startNewRecognition",value:function startNewRecognition(){this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRecogNumber++,this.privServiceTelemetryListener=new he(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new pe.d(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}},{key:"onAudioSourceAttachCompleted",value:function onAudioSourceAttachCompleted(C,k,O){return __awaiter(this,void 0,void 0,F.a.mark((function _callee(){return F.a.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:if(this.privAudioNode=C,this.privIsAudioNodeDetached=!1,!k){O.next=7;break}return O.next=5,this.onComplete();case 5:O.next=8;break;case 7:this.onEvent(new pe.b(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId));case 8:case"end":return O.stop()}}),_callee,this)})))}},{key:"onAuthCompleted",value:function onAuthCompleted(C,k){return __awaiter(this,void 0,void 0,F.a.mark((function _callee2(){return F.a.wrap((function _callee2$(k){for(;;)switch(k.prev=k.next){case 0:if(!C){k.next=3;break}return k.next=3,this.onComplete();case 3:case"end":return k.stop()}}),_callee2,this)})))}},{key:"onConnectionEstablishCompleted",value:function onConnectionEstablishCompleted(C,k){return __awaiter(this,void 0,void 0,F.a.mark((function _callee3(){return F.a.wrap((function _callee3$(k){for(;;)switch(k.prev=k.next){case 0:if(200!==C){k.next=8;break}return this.onEvent(new pe.c(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privBytesSent=0,k.abrupt("return");case 8:if(403!==C){k.next=11;break}return k.next=11,this.onComplete();case 11:case"end":return k.stop()}}),_callee3,this)})))}},{key:"onServiceTurnEndResponse",value:function onServiceTurnEndResponse(C){return __awaiter(this,void 0,void 0,F.a.mark((function _callee4(){return F.a.wrap((function _callee4$(k){for(;;)switch(k.prev=k.next){case 0:if(this.privTurnDeferral.resolve(),C&&!this.isSpeechEnded){k.next=7;break}return k.next=4,this.onComplete();case 4:this.privInTurn=!1,k.next=9;break;case 7:this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privAudioNode.replay();case 9:case"end":return k.stop()}}),_callee4,this)})))}},{key:"onHypothesis",value:function onHypothesis(C){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(C)))}},{key:"onPhraseRecognized",value:function onPhraseRecognized(C){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(C)),this.onServiceRecognized(C)}},{key:"onServiceRecognized",value:function onServiceRecognized(C){this.privLastRecoOffset=C,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(C),this.privConnectionAttempts=0}},{key:"onAudioSent",value:function onAudioSent(C){this.privBytesSent+=C}},{key:"onRetryConnection",value:function onRetryConnection(){this.privConnectionAttempts++}},{key:"dispose",value:function dispose(C){var k;return __awaiter(this,void 0,void 0,F.a.mark((function _callee5(){var C,O,M;return F.a.wrap((function _callee5$(F){for(;;)switch(F.prev=F.next){case 0:if(this.privIsDisposed){F.next=21;break}this.privIsDisposed=!0,C=Object(P.a)(this.privDetachables),F.prev=3,C.s();case 5:if((O=C.n()).done){F.next=11;break}return M=O.value,F.next=9,M.detach();case 9:F.next=5;break;case 11:F.next=16;break;case 13:F.prev=13,F.t0=F.catch(3),C.e(F.t0);case 16:return F.prev=16,C.f(),F.finish(16);case 19:null===(k=this.privServiceTelemetryListener)||void 0===k||k.dispose(),this.privIsRecognizing=!1;case 21:case"end":return F.stop()}}),_callee5,this,[[3,13,16,19]])})))}},{key:"onStopRecognizing",value:function onStopRecognizing(){return __awaiter(this,void 0,void 0,F.a.mark((function _callee6(){return F.a.wrap((function _callee6$(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.onComplete();case 2:case"end":return C.stop()}}),_callee6,this)})))}},{key:"onSpeechEnded",value:function onSpeechEnded(){this.privIsSpeechEnded=!0}},{key:"onComplete",value:function onComplete(){return __awaiter(this,void 0,void 0,F.a.mark((function _callee7(){return F.a.wrap((function _callee7$(C){for(;;)switch(C.prev=C.next){case 0:if(!this.privIsRecognizing){C.next=4;break}return this.privIsRecognizing=!1,C.next=4,this.detachAudioNode();case 4:case"end":return C.stop()}}),_callee7,this)})))}},{key:"detachAudioNode",value:function detachAudioNode(){return __awaiter(this,void 0,void 0,F.a.mark((function _callee8(){return F.a.wrap((function _callee8$(C){for(;;)switch(C.prev=C.next){case 0:if(this.privIsAudioNodeDetached){C.next=5;break}if(this.privIsAudioNodeDetached=!0,!this.privAudioNode){C.next=5;break}return C.next=5,this.privAudioNode.detach();case 5:case"end":return C.stop()}}),_callee8,this)})))}}]),RequestSession}()},,,,,,,,,,,,,function(C,k,O){"use strict";O.d(k,"a",(function(){return he})),O.d(k,"b",(function(){return parseMergedHandlers}));var P=O(45),M=O(75),F=O(3),ne=O(4),re=O(153),oe=O(534);function _objectWithoutProperties(C,k){if(null==C)return{};var O,P,M=function _objectWithoutPropertiesLoose(C,k){if(null==C)return{};var O,P,M={},F=Object.keys(C);for(P=0;P<F.length;P++)O=F[P],k.indexOf(O)>=0||(M[O]=C[O]);return M}(C,k);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(C);for(P=0;P<F.length;P++)O=F[P],k.indexOf(O)>=0||Object.prototype.propertyIsEnumerable.call(C,O)&&(M[O]=C[O])}return M}var se=function identity(C){return C},ue={target:function target(C){if(C)return function(){return"current"in C?C.current:C}},enabled:function enabled(){var C=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return C},window:function(C){function window(){return C.apply(this,arguments)}return window.toString=function(){return C.toString()},window}((function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe.c.isBrowser?window:void 0;return C})),eventOptions:function eventOptions(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=C.passive,O=void 0===k||k,P=C.capture,M=void 0!==P&&P;return{passive:O,capture:M}},transform:function transform(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;return C}},pe=["target","eventOptions","window","enabled","transform"];function resolveWith(){for(var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=arguments.length>1?arguments[1]:void 0,O={},P=0,M=Object.entries(k);P<M.length;P++){var F=Object(re.a)(M[P],2),ne=F[0],oe=F[1];switch(typeof oe){case"function":O[ne]=oe.call(O,C[ne],ne,C);break;case"object":O[ne]=resolveWith(C[ne],oe);break;case"boolean":oe&&(O[ne]=C[ne])}}return O}var ve=function(){function EventStore(C){Object(F.a)(this,EventStore),Object(oe.e)(this,"_listeners",[]),this._ctrl=C}return Object(ne.a)(EventStore,[{key:"add",value:function add(C,k,O,P,M){var F=Object(oe.p)(k,O),ne=Object(oe.d)(Object(oe.d)({},this._ctrl.config.shared.eventOptions),M);C.addEventListener(F,P,ne),this._listeners.push((function(){return C.removeEventListener(F,P,ne)}))}},{key:"clean",value:function clean(){this._listeners.forEach((function(C){return C()})),this._listeners=[]}}]),EventStore}(),de=function(){function TimeoutStore(){Object(F.a)(this,TimeoutStore),Object(oe.e)(this,"_timeouts",new Map)}return Object(ne.a)(TimeoutStore,[{key:"add",value:function add(C,k){var O,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(C);for(var M=arguments.length,F=new Array(M>3?M-3:0),ne=3;ne<M;ne++)F[ne-3]=arguments[ne];this._timeouts.set(C,(O=window).setTimeout.apply(O,[k,P].concat(F)))}},{key:"remove",value:function remove(C){var k=this._timeouts.get(C);k&&window.clearTimeout(k)}},{key:"clean",value:function clean(){this._timeouts.forEach((function(C){window.clearTimeout(C)})),this._timeouts.clear()}}]),TimeoutStore}(),he=function(){function Controller(C){Object(F.a)(this,Controller),Object(oe.e)(this,"gestures",new Set),Object(oe.e)(this,"_targetEventStore",new ve(this)),Object(oe.e)(this,"gestureEventStores",{}),Object(oe.e)(this,"gestureTimeoutStores",{}),Object(oe.e)(this,"handlers",{}),Object(oe.e)(this,"config",{}),Object(oe.e)(this,"pointerIds",new Set),Object(oe.e)(this,"touchIds",new Set),Object(oe.e)(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function resolveGestures(C,k){k.drag&&setupGesture(C,"drag");k.wheel&&setupGesture(C,"wheel");k.scroll&&setupGesture(C,"scroll");k.move&&setupGesture(C,"move");k.pinch&&setupGesture(C,"pinch");k.hover&&setupGesture(C,"hover")}(this,C)}return Object(ne.a)(Controller,[{key:"setEventIds",value:function setEventIds(C){Object(oe.k)(C)?this.touchIds=new Set(Object(oe.f)(C)):"pointerId"in C&&("pointerup"===C.type?this.pointerIds.delete(C.pointerId):this.pointerIds.add(C.pointerId))}},{key:"applyHandlers",value:function applyHandlers(C,k){this.handlers=C,this.nativeHandlers=k}},{key:"applyConfig",value:function applyConfig(C,k){this.config=function parse(C,k){var O=C,P=O.target,M=O.eventOptions,F=O.window,ne=O.enabled,re=O.transform,se=_objectWithoutProperties(O,pe),ve={shared:resolveWith({target:P,eventOptions:M,window:F,enabled:ne,transform:re},ue)};if(k){var de=oe.a.get(k);ve[k]=resolveWith(Object(oe.d)({shared:ve.shared},se),de)}else for(var he in se){var fe=oe.a.get(he);fe&&(ve[he]=resolveWith(Object(oe.d)({shared:ve.shared},se[he]),fe))}return ve}(C,k)}},{key:"clean",value:function clean(){this._targetEventStore.clean();var C,k=Object(M.a)(this.gestures);try{for(k.s();!(C=k.n()).done;){var O=C.value;this.gestureEventStores[O].clean(),this.gestureTimeoutStores[O].clean()}}catch(P){k.e(P)}finally{k.f()}}},{key:"effect",value:function effect(){var C=this;return this.config.shared.target&&this.bind(),function(){return C._targetEventStore.clean()}}},{key:"bind",value:function bind(){for(var C=this,k=arguments.length,O=new Array(k),F=0;F<k;F++)O[F]=arguments[F];var ne,re=this.config.shared,se=re.eventOptions,ue={};if(!re.target||(ne=re.target())){var pe=fe(ue,se,!!ne);if(re.enabled){var ve,de=Object(M.a)(this.gestures);try{for(de.s();!(ve=de.n()).done;){var he=ve.value;if(this.config[he].enabled){var ge=oe.b.get(he);new ge(this,O,he).bind(pe)}}}catch(Ie){de.e(Ie)}finally{de.f()}var me=function _loop(k){pe(k,"",(function(P){return C.nativeHandlers[k](Object(oe.d)(Object(oe.d)({},C.state.shared),{},{event:P,args:O}))}),void 0,!0)};for(var ye in this.nativeHandlers)me(ye)}for(var be in ue)ue[be]=oe.g.apply(void 0,Object(P.a)(ue[be]));if(!ne)return ue;for(var ke in ue){var Oe=ke.substr(2).toLowerCase(),Ee=!!~Oe.indexOf("capture"),Re=!!~Oe.indexOf("passive");(Ee||Re)&&(Oe=Oe.replace(/capture|passive/g,"")),this._targetEventStore.add(ne,Oe,"",ue[ke],{capture:Ee,passive:Re})}}}}]),Controller}();function setupGesture(C,k){C.gestures.add(k),C.gestureEventStores[k]=new ve(C),C.gestureTimeoutStores[k]=new de}var fe=function bindToProps(C,k,O){return function(P,M,F){var ne,re,se=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ue=arguments.length>4&&void 0!==arguments[4]&&arguments[4],pe=null!==(ne=se.capture)&&void 0!==ne?ne:k.capture,ve=null!==(re=se.passive)&&void 0!==re?re:k.passive,de=ue?P:Object(oe.h)(P,M,pe);O&&ve&&(de+="Passive"),C[de]=C[de]||[],C[de].push(F)}},ge=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function registerGesture(C,k,O,P,M,F){if(C.has(O)&&oe.b.has(P)){var ne=O+"Start",re=O+"End";M[P]=function fn(C){var P=void 0;return C.first&&ne in k&&k[ne](C),O in k&&(P=k[O](C)),C.last&&re in k&&k[re](C),P},F[P]=F[P]||{}}}function parseMergedHandlers(C,k){var O=function sortHandlers(C){var k={},O={},P=new Set;for(var M in C)ge.test(M)?(P.add(RegExp.lastMatch),O[M]=C[M]):k[M]=C[M];return[O,k,P]}(C),P=Object(re.a)(O,3),M=P[0],F=P[1],ne=P[2],oe={};return registerGesture(ne,M,"onDrag","drag",oe,k),registerGesture(ne,M,"onWheel","wheel",oe,k),registerGesture(ne,M,"onScroll","scroll",oe,k),registerGesture(ne,M,"onPinch","pinch",oe,k),registerGesture(ne,M,"onMove","move",oe,k),registerGesture(ne,M,"onHover","hover",oe,k),{handlers:oe,config:k,nativeHandlers:F}}},,,,,,,,,,,,,function(C,k,O){},function(C,k,O){},,function(C,k,O){"use strict";O.d(k,"a",(function(){return ue}));var P=O(535),M=O(27),F=O.n(M),ne=O(548),re=O(537),oe=O(557),se=["className","styles"],ue=Object(M.memo)(Object(M.forwardRef)((function MenuHeader(C,k){var O=C.className,M=C.styles,ue=Object(P.b)(C,se);return F.a.createElement("li",Object(P.a)({role:"presentation"},ue,{ref:k,className:Object(ne.a)({block:re.p,element:re.s,className:O}),style:Object(oe.a)(M)}))})))},function(C,k,O){"use strict";O.d(k,"a",(function(){return ue}));var P=O(535),M=O(27),F=O.n(M),ne=O(548),re=O(537),oe=O(557),se=["className","styles"],ue=Object(M.memo)(Object(M.forwardRef)((function MenuDivider(C,k){var O=C.className,M=C.styles,ue=Object(P.b)(C,se);return F.a.createElement("li",Object(P.a)({role:"separator"},ue,{ref:k,className:Object(ne.a)({block:re.p,element:re.r,className:O}),style:Object(oe.a)(M)}))})))},,,,,,,,,,function(C,k,O){var P=O(1),M=O(35),F=O(22),ne=O(23),re=O(46),oe=O(36),se=O(28),ue=O(29),pe=O(560),ve=O(15).PhantomCollection,de=ve.EVT_UPDATED,he=ve.EVT_DESTROYED,fe=ve.EVT_CHILD_INSTANCE_ADDED,ge=ve.EVT_CHILD_INSTANCE_REMOVED;C.exports=function(C){"use strict";se(MediaStreamTrackControllerFactoryCollection,C);var k=ue(MediaStreamTrackControllerFactoryCollection);function MediaStreamTrackControllerFactoryCollection(){return F(this,MediaStreamTrackControllerFactoryCollection),k.apply(this,arguments)}return ne(MediaStreamTrackControllerFactoryCollection,[{key:"addChild",value:function addChild(C){if(!(C instanceof pe))throw new TypeError("factory is not a MediaStreamTrackControllerFactory");return re(oe(MediaStreamTrackControllerFactoryCollection.prototype),"addChild",this).call(this,C)}},{key:"addTrackControllerFactory",value:function addTrackControllerFactory(C){return this.addChild(C)}},{key:"removeTrackControllerFactory",value:function removeTrackControllerFactory(C){return this.removeChild(C)}},{key:"getTrackControllerFactories",value:function getTrackControllerFactories(){return this.getChildren()}},{key:"getAudioTrackControllers",value:function getAudioTrackControllers(){return this.getChildren().map((function(C){return C.getAudioTrackControllers()})).flat()}},{key:"setIsAudioMuted",value:function(){var C=M(P.mark((function _callee(C){var k;return P.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:return k=this.getAudioTrackControllers(),O.next=3,Promise.all(k.map((function(k){return k.setIsMuted(C)})));case 3:case"end":return O.stop()}}),_callee,this)})));return function setIsAudioMuted(k){return C.apply(this,arguments)}}()},{key:"muteAudio",value:function(){var C=M(P.mark((function _callee2(){return P.wrap((function _callee2$(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",this.setIsAudioMuted(!0));case 1:case"end":return C.stop()}}),_callee2,this)})));return function muteAudio(){return C.apply(this,arguments)}}()},{key:"unmuteAudio",value:function unmuteAudio(){return this.setIsAudioMuted(!1)}},{key:"getIsAudioMuted",value:function getIsAudioMuted(){var C=this.getAudioTrackControllers();return!C.length||C.every((function(C){return C.getIsMuted()}))}},{key:"getVideoTrackControllers",value:function getVideoTrackControllers(){return this.getChildren().map((function(C){return C.getVideoTrackControllers()})).flat()}}]),MediaStreamTrackControllerFactoryCollection}(ve),C.exports.EVT_UPDATED=de,C.exports.EVT_DESTROYED=he,C.exports.EVT_CHILD_INSTANCE_ADDED=fe,C.exports.EVT_CHILD_INSTANCE_REMOVED=ge},function(C,k,O){C.exports={audioContext:{createNewAudioContext:O(565),getSharedAudioContext:O(564),untilAudioContextResumed:O(747)},constraints:{audioQualityPresets:O(619),makeAudioConstraints:O(586),makeScreenCaptureConstraints:O(620),makeSpecificDeviceCaptureConstraints:O(622),makeVideoConstraints:O(621),mergeConstraints:O(549)},mediaDevice:{mediaDeviceInfoFilters:{filterAudioInputDevices:O(748),filterAudioOutputDevices:O(749),filterInputMediaDevices:O(566),filterOutputMediaDevices:O(587),filterVideoInputDevices:O(750),filterVideoOutputDevices:O(751)},cacheDiffMediaDevices:O(623),captureMediaDevice:O(624),captureSpecificMediaDevice:O(752),fetchInputMediaDevices:O(753),fetchMediaDevices:O(625),getIsMediaDeviceBeingCaptured:O(754),getIsMediaDeviceCaptureSupported:O(755),getIsSameMediaDevice:O(615),getMatchedMediaDevice:O(614),getMediaDeviceTrackControllers:O(626),mediaDeviceToPlainObject:O(616),uncaptureSpecificMediaDevice:O(756)},mediaStream:{generators:{createEmptyAudioMediaStream:O(757),createTestAudioMediaStream:O(758),createTestVideoMediaStream:O(759)},stopMediaStream:O(567)},mediaStreamTrack:{createTrackControllersFromMediaStream:O(618),getTrackControllerInstances:O(760),stopMediaStreamTrack:O(584)},screen:{captureScreen:O(761),getIsScreenCaptureSupported:O(762)}}},function(C,k,O){var P=O(1),M=O(35),F=O(564);C.exports=function(){var C=M(P.mark((function _callee(){var C,k=arguments;return P.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:if((C=k.length>0&&void 0!==k[0]?k[0]:null)||(C=F()),"running"===C.state){O.next=8;break}return console.debug("Trying to resume audio context"),O.next=7,C.resume();case 7:console.debug("Audio context resumed");case 8:case"end":return O.stop()}}),_callee)})));return function untilAudioContextResumed(){return C.apply(this,arguments)}}()},function(C,k,O){var P=O(566),M=O(531).GENERIC_AUDIO_DEVICE_KIND;C.exports=function filterAudioInputDevices(C){return P(C).filter((function(C){return C.kind.includes(M)}))}},function(C,k,O){var P=O(587),M=O(531).GENERIC_AUDIO_DEVICE_KIND;C.exports=function filterAudioOutputDevices(C){return P(C).filter((function(C){return C.kind.includes(M)}))}},function(C,k,O){var P=O(566),M=O(531).GENERIC_VIDEO_DEVICE_KIND;C.exports=function filterVideoInputDevices(C){return P(C).filter((function(C){return C.kind.includes(M)}))}},function(C,k,O){var P=O(587),M=O(531).GENERIC_VIDEO_DEVICE_KIND;C.exports=function filterVideoOutputDevices(C){return P(C).filter((function(C){return C.kind.includes(M)}))}},function(C,k,O){var P=O(1),M=O(35),F=(O(560),O(624)),ne=O(622);C.exports=function(){var C=M(P.mark((function _callee(C){var k,O,M,re=arguments;return P.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:return k=re.length>1&&void 0!==re[1]?re[1]:{},O=re.length>2&&void 0!==re[2]?re[2]:{},M=ne(C,k),P.abrupt("return",F(M,O));case 4:case"end":return P.stop()}}),_callee)})));return function captureSpecificMediaDevice(k){return C.apply(this,arguments)}}()},function(C,k,O){var P=O(1),M=O(35),F=O(625),ne=O(566);C.exports=function(){var C=M(P.mark((function _callee(){var C,k,O=arguments;return P.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:return C=!(O.length>0&&void 0!==O[0])||O[0],P.next=3,F(C);case 3:return k=P.sent,P.abrupt("return",ne(k));case 5:case"end":return P.stop()}}),_callee)})));return function fetchInputMediaDevices(){return C.apply(this,arguments)}}()},function(C,k,O){var P=O(626);C.exports=function getIsMediaDeviceBeingCaptured(C){return Boolean(P(C).length>0)}},function(C,k){C.exports=function getIsMediaDeviceCaptureSupported(){return navigator&&navigator.mediaDevices&&"function"===typeof navigator.mediaDevices.getUserMedia}},function(C,k,O){var P=O(1),M=O(35),F=O(545);C.exports=function(){var C=M(P.mark((function _callee(C){var k;return P.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:if(k=C.deviceId){O.next=3;break}throw new ReferenceError("Could not obtain deviceId from mediaDeviceInfo");case 3:return O.abrupt("return",Promise.all(F.getTrackControllerInstances().filter((function(C){return C.getInputDeviceId()===k})).map((function(C){return!C.getIsDestroying()&&C.destroy()}))));case 4:case"end":return O.stop()}}),_callee)})));return function uncaptureSpecificMediaDevice(k){return C.apply(this,arguments)}}()},function(C,k,O){var P=O(565),M=O(567),F=O(15).logger;C.exports=function createEmptyAudioMediaStream(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,k=P(),O=k.createMediaStreamDestination(),ne=O.stream;return setTimeout((function(){M(ne),F.log("stopped media stream"),k.close().then((function(){return F.log("audio context closed")}))}),1e3*C),ne}},function(C,k,O){var P=O(565),M=O(567),F=O(15).logger;C.exports=function createTestAudioMediaStream(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,k=880,O=30,ne=P(),re=ne.createOscillator();re.type="sine",re.frequency.setValueAtTime(k,ne.currentTime);var oe=ne.createGain();oe.gain.value=1e-4,oe.gain.setValueAtTime(1,ne.currentTime);var se=ne.createOscillator();se.type="square",se.frequency.setValueAtTime(O,ne.currentTime);var ue=ne.createMediaStreamDestination();se.connect(oe.gain),re.connect(oe).connect(ue),se.start(),re.start(),re.stop(ne.currentTime+C);var pe=ue.stream;return setTimeout((function(){M(pe),F.log("stopped media stream"),ne.close().then((function(){return F.log("audio context closed")}))}),C),pe}},function(C,k,O){var P=O(567),M=O(15).logger;C.exports=function createTestVideoMediaStream(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,k=document.createElement("canvas");document.body.appendChild(k);var O=k.captureStream(25);return setTimeout((function(){P(O),document.body.removeChild(k),M.log("stopped media stream")}),C),O}},function(C,k,O){var P=O(545);C.exports=function getTrackControllerInstances(){return P.getTrackControllerInstances()}},function(C,k,O){var P=O(1),M=O(35),F=O(560),ne=O(620);C.exports=function(){var C=M(P.mark((function _callee(){var C,k,O,M=arguments;return P.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:return C=M.length>0&&void 0!==M[0]?M[0]:{},k=M.length>1&&void 0!==M[1]?M[1]:{},P.next=4,navigator.mediaDevices.getDisplayMedia(ne(C));case 4:return O=P.sent,P.abrupt("return",new F(O,k));case 6:case"end":return P.stop()}}),_callee)})));return function captureScreen(){return C.apply(this,arguments)}}()},function(C,k){C.exports=function getIsScreenCaptureSupported(){return navigator&&navigator.mediaDevices&&"function"===typeof navigator.mediaDevices.getDisplayMedia}},function(C,k,O){var P=O(1),M=O(35),F=O(22),ne=O(23),re=O(85),oe=O(28),se=O(29),ue=O(15),pe=ue.logger,ve=O(764),de=ve.EVT_AUDIO_LEVEL_UPDATED,he=ve.EVT_AUDIO_SILENCE_STARTED,fe=ve.EVT_AUDIO_SILENCE_ENDED,ge=ve.EVT_DESTROYED,me={},ye={},be=function(C){"use strict";oe(AudioMediaStreamTrackLevelMonitor,C);var k=se(AudioMediaStreamTrackLevelMonitor);function AudioMediaStreamTrackLevelMonitor(C){var O;return F(this,AudioMediaStreamTrackLevelMonitor),ve.validateAudioTrack(C),(O=k.call(this))._mediaStreamTrack=C,O._nativeMonitor=null,O.registerCleanupHandler((function(){return O._nativeMonitor=null})),AudioMediaStreamTrackLevelMonitor.addProxyInstance(re(O)),O}return ne(AudioMediaStreamTrackLevelMonitor,[{key:"getMediaStreamTrack",value:function getMediaStreamTrack(){return this._mediaStreamTrack}},{key:"getIsSilent",value:function getIsSilent(){return this._nativeMonitor.getIsSilent()}}],[{key:"addProxyInstance",value:function addProxyInstance(C){if(!(C instanceof AudioMediaStreamTrackLevelMonitor))throw new TypeError("proxy is not an AudioMediaStreamTrackLevelMonitor instance");var k=C.getMediaStreamTrack(),O=me[k.id];O||((O=new ve(k)).once(ge,(function(){var C=ye[k.id];C&&Object.values(C).forEach((function(C){return C&&!C.getIsDestroying()&&C.destroy()}))})),pe.debug("Proxied audio monitor created",O),me[k.id]=O),C._nativeMonitor=O,ye[k.id]?++ye[k.id]:ye[k.id]=1;var F=[de,he,fe],ne={};F.forEach((function(k){ne[k]=function(O){return C.emit(k,O)},O.on(k,ne[k])})),C.once(ge,M(P.mark((function _callee(){return P.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:if(F.forEach((function(C){return O.off(C,ne[C])})),C.emit(de,0),--ye[k.id],ye[k.id]){P.next=10;break}if(delete me[k.id],delete ye[k.id],O.getIsDestroying()){P.next=9;break}return P.next=9,O.destroy();case 9:pe.debug("Proxied audio monitor destroyed",O);case 10:case"end":return P.stop()}}),_callee)}))))}}]),AudioMediaStreamTrackLevelMonitor}(ue);C.exports=be,C.exports.EVT_AUDIO_LEVEL_UPDATED=de,C.exports.EVT_AUDIO_SILENCE_STARTED=he,C.exports.EVT_AUDIO_SILENCE_ENDED=fe,C.exports.EVT_DESTROYED=ge},function(C,k,O){var P=O(1),M=O(35),F=O(22),ne=O(23),re=O(46),oe=O(36),se=O(28),ue=O(29),pe=O(15),ve=pe.EVT_DESTROYED,de=O(564),he=O(531).AUDIO_TRACK_KIND,fe="audio-level-updated",ge="audio-silence-started",me="audio-silence-ended",ye=function(C){"use strict";se(NativeAudioMediaStreamTrackLevelMonitor,C);var k=ue(NativeAudioMediaStreamTrackLevelMonitor);function NativeAudioMediaStreamTrackLevelMonitor(C){var O,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};F(this,NativeAudioMediaStreamTrackLevelMonitor),NativeAudioMediaStreamTrackLevelMonitor.validateAudioTrack(C);var M={tickTime:100,fftSize:256,smoothingTimeConstant:.5};(O=k.call(this,pe.mergeOptions(M,P)))._inputMediaStreamTrack=C,O._mediaStreamTrack=C.clone(),O._silenceDetectionTimeout=null,O._isSilent=!1,O._prevRMS=0,O._analyser=null,O._stream=null,O._source=null,O._samples=null,C.addEventListener("ended",(function(){O.getIsDestroying||O.destroy()})),function(){var C=function _handleFocus(){return O._initAudioLevelPolling()};window.addEventListener("focus",C),O.once(ve,(function(){window.removeEventListener("focus",C)}))}();var ne=window.setTimeout((function(){return O._initAudioLevelPolling()}),50);return O.registerCleanupHandler((function(){return window.clearTimeout(ne)})),O}return ne(NativeAudioMediaStreamTrackLevelMonitor,[{key:"_initAudioLevelPolling",value:function(){var C=M(P.mark((function _callee(){var C,k,O=this;return P.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:if(this._tickInterval&&window.clearInterval(this._tickInterval),this._silenceDetectionTimeout&&window.clearTimeout(this._silenceDetectionTimeout),!this.getIsDestroying()){P.next=4;break}return P.abrupt("return");case 4:return C=de(),P.next=7,C.resume();case 7:if(!this.getIsDestroying()){P.next=9;break}return P.abrupt("return");case 9:if(this._isAudioContextStarted=!0,k=this._mediaStreamTrack){P.next=13;break}throw new Error("Could not obtain MediaStreamTrack");case 13:this._analyser||(this._analyser=C.createAnalyser(),this.registerCleanupHandler((function(){return O._analyser.disconnect()})),this._analyser.fftSize=this.getOptions().fftSize,this._analyser.smoothingTimeConstant=this.getOptions().smoothingTimeConstant),this._stream||(this._stream=new MediaStream([k])),this._source||(this._source=C.createMediaStreamSource(this._stream),this._source.connect(this._analyser),this.registerCleanupHandler((function(){return O._source.disconnect(O._analyser)}))),this._samples||(this._samples=new Uint8Array(this._analyser.frequencyBinCount)),this._audioLevelDidUpdate(0),this._tickInterval=window.setInterval((function(){return O._handleTick()}),this.getOptions().tickTime);case 19:case"end":return P.stop()}}),_callee,this)})));return function _initAudioLevelPolling(){return C.apply(this,arguments)}}()},{key:"_handleTick",value:function _handleTick(){if(!this._isDestroyed){this._analyser.getByteFrequencyData(this._samples);var C=NativeAudioMediaStreamTrackLevelMonitor.calculateRMSPressure(this._samples);this._prevRMS!==C&&(this._prevRMS=C,this._audioLevelDidUpdate(C))}}},{key:"getMediaStreamTrack",value:function getMediaStreamTrack(){return this._inputMediaStreamTrack}},{key:"_audioLevelDidUpdate",value:function _audioLevelDidUpdate(C){this._audioLevel=C,C?this._silenceDidPotentiallyEnd():this._silenceDidPotentiallyStart(),this.emit(fe,C)}},{key:"_silenceDidPotentiallyStart",value:function _silenceDidPotentiallyStart(){var C=this;this._silenceDetectionTimeout&&window.clearTimeout(this._silenceDetectionTimeout),this._silenceDetectionTimeout=window.setTimeout((function(){C._isDestroyed||(C._isSilent=!0,C.log.warn("Silence detected"),C.emit(ge))}),1e3)}},{key:"_silenceDidPotentiallyEnd",value:function _silenceDidPotentiallyEnd(){this._silenceDetectionTimeout&&window.clearTimeout(this._silenceDetectionTimeout),this._isSilent&&(this._isSilent=!1,this.emit(me))}},{key:"getIsSilent",value:function getIsSilent(){return this._isSilent()}},{key:"destroy",value:function(){var C=M(P.mark((function _callee2(){var C=this;return P.wrap((function _callee2$(k){for(;;)switch(k.prev=k.next){case 0:return k.abrupt("return",re(oe(NativeAudioMediaStreamTrackLevelMonitor.prototype),"destroy",this).call(this,(function(){C._tickInterval&&window.clearInterval(C._tickInterval),C._silenceDetectionTimeout&&window.clearTimeout(C._silenceDetectionTimeout),C._mediaStreamTrack.stop()})));case 1:case"end":return k.stop()}}),_callee2,this)})));return function destroy(){return C.apply(this,arguments)}}()}],[{key:"calculateRMSPressure",value:function calculateRMSPressure(C){var k=C.reduce((function(C,k){return C+k*k}),0);return Math.sqrt(k/C.length)}},{key:"validateAudioTrack",value:function validateAudioTrack(C){if(!(C instanceof MediaStreamTrack))throw new TypeError("mediaStreamTrack should be of MediaStreamTrack type");if(C.kind!==he)throw new TypeError("mediaStreamTrack is not an audio track")}}]),NativeAudioMediaStreamTrackLevelMonitor}(pe);C.exports=ye,C.exports.EVT_AUDIO_LEVEL_UPDATED=fe,C.exports.EVT_AUDIO_SILENCE_STARTED=ge,C.exports.EVT_AUDIO_SILENCE_ENDED=me,C.exports.EVT_DESTROYED=ve},function(C,k,O){var P=O(766),M=P.EVT_AUDIO_LEVEL_UPDATED,F=P.EVT_AUDIO_SILENCE_STARTED,ne=P.EVT_AUDIO_SILENCE_ENDED;C.exports=P,C.exports.EVT_AUDIO_LEVEL_UPDATED=M,C.exports.EVT_AUDIO_SILENCE_STARTED=F,C.exports.EVT_AUDIO_SILENCE_ENDED=ne},function(C,k,O){var P=O(1),M=O(35),F=O(22),ne=O(23),re=O(46),oe=O(36),se=O(28),ue=O(29),pe=O(15).PhantomCollection,ve=O(627),de=ve.EVT_AUDIO_LEVEL_UPDATED,he=ve.EVT_AUDIO_SILENCE_STARTED,fe=ve.EVT_AUDIO_SILENCE_ENDED,ge=ve.EVT_DESTROYED,me=function(C){"use strict";se(MultiAudioMediaStreamTrackLevelMonitor,C);var k=ue(MultiAudioMediaStreamTrackLevelMonitor);function MultiAudioMediaStreamTrackLevelMonitor(){var C,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return F(this,MultiAudioMediaStreamTrackLevelMonitor),(C=k.call(this,O)).bindChildEventName(de),C.bindChildEventName(he),C.bindChildEventName(fe),C}return ne(MultiAudioMediaStreamTrackLevelMonitor,[{key:"addChild",value:function addChild(C){if(!(C instanceof MediaStreamTrack))throw new TypeError("mediaStreamTrack is not a MediaStreamTrack instance");this.getChildWithKey(C.id)||re(oe(MultiAudioMediaStreamTrackLevelMonitor.prototype),"addChild",this).call(this,new ve(C),C.id)}},{key:"addMediaStreamTrack",value:function addMediaStreamTrack(C){return this.addChild(C)}},{key:"removeChild",value:function(){var C=M(P.mark((function _callee(C){var k;return P.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:if(C instanceof MediaStreamTrack||C instanceof ve){O.next=2;break}throw new TypeError("trackOrMonitor must be either a MediaStreamTrack or AudioMediaStreamTrackLevelMonitor");case 2:if(!(k=C instanceof ve?C:this.getChildWithKey(C.id))||k.getIsDestroying()){O.next=6;break}return O.next=6,k.destroy();case 6:return O.abrupt("return",re(oe(MultiAudioMediaStreamTrackLevelMonitor.prototype),"removeChild",this).call(this,C));case 7:case"end":return O.stop()}}),_callee,this)})));return function removeChild(k){return C.apply(this,arguments)}}()},{key:"removeMediaStreamTrack",value:function(){var C=M(P.mark((function _callee2(C){return P.wrap((function _callee2$(k){for(;;)switch(k.prev=k.next){case 0:return k.abrupt("return",this.removeChild(C));case 1:case"end":return k.stop()}}),_callee2,this)})));return function removeMediaStreamTrack(k){return C.apply(this,arguments)}}()},{key:"removeAllMediaStreamTracks",value:function(){var C=M(P.mark((function _callee3(){return P.wrap((function _callee3$(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",this.destroyAllChildren());case 1:case"end":return C.stop()}}),_callee3,this)})));return function removeAllMediaStreamTracks(){return C.apply(this,arguments)}}()},{key:"getMediaStreamTracks",value:function getMediaStreamTracks(){return this.getChildren().map((function(C){return C.getMediaStreamTrack()}))}},{key:"getIsSilent",value:function getIsSilent(){return this.getChildren().every((function(C){return C.getIsSilent()}))}},{key:"destroy",value:function(){var C=M(P.mark((function _callee5(){var C=this;return P.wrap((function _callee5$(k){for(;;)switch(k.prev=k.next){case 0:return k.abrupt("return",re(oe(MultiAudioMediaStreamTrackLevelMonitor.prototype),"destroy",this).call(this,M(P.mark((function _callee4(){return P.wrap((function _callee4$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,C.removeAllMediaStreamTracks();case 2:case"end":return k.stop()}}),_callee4)})))));case 1:case"end":return k.stop()}}),_callee5,this)})));return function destroy(){return C.apply(this,arguments)}}()}]),MultiAudioMediaStreamTrackLevelMonitor}(pe);C.exports=me,C.exports.EVT_AUDIO_LEVEL_UPDATED=de,C.exports.EVT_AUDIO_SILENCE_STARTED=he,C.exports.EVT_AUDIO_SILENCE_ENDED=fe,C.exports.EVT_DESTROYED=ge},,,,,,,,,,,,,,,,,,,,,,,function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(4),F=O(542),ne=O(551),re=function(){function EventSource(C){var k=this;Object(P.a)(this,EventSource),this.privEventListeners={},this.privIsDisposed=!1,this.onEvent=function(C){if(k.isDisposed())throw new F.c("EventSource");if(k.metadata)for(var O in k.metadata)O&&C.metadata&&(C.metadata[O]||(C.metadata[O]=k.metadata[O]));for(var P in k.privEventListeners)P&&k.privEventListeners[P]&&k.privEventListeners[P](C)},this.attach=function(C){var O=Object(ne.b)();return k.privEventListeners[O]=C,{detach:function detach(){return delete k.privEventListeners[O],Promise.resolve()}}},this.attachListener=function(C){return k.attach(C.onEvent)},this.isDisposed=function(){return k.privIsDisposed},this.dispose=function(){k.privEventListeners=null,k.privIsDisposed=!0},this.privMetadata=C}return Object(M.a)(EventSource,[{key:"metadata",get:function get(){return this.privMetadata}}]),EventSource}()},function(C,k,O){"use strict";O.d(k,"b",(function(){return P})),O.d(k,"a",(function(){return oe}));var P,M=O(3),F=O(4),ne=O(542),re=O(551);!function(C){C[C.Text=0]="Text",C[C.Binary=1]="Binary"}(P||(P={}));var oe=function(){function ConnectionMessage(C,k,O,F){if(Object(M.a)(this,ConnectionMessage),this.privBody=null,C===P.Text&&k&&"string"!==typeof k)throw new ne.b("Payload must be a string");if(C===P.Binary&&k&&!(k instanceof ArrayBuffer))throw new ne.b("Payload must be ArrayBuffer");switch(this.privMessageType=C,this.privBody=k,this.privHeaders=O||{},this.privId=F||Object(re.b)(),this.messageType){case P.Binary:this.privSize=null!==this.binaryBody?this.binaryBody.byteLength:0;break;case P.Text:this.privSize=this.textBody.length}}return Object(F.a)(ConnectionMessage,[{key:"messageType",get:function get(){return this.privMessageType}},{key:"headers",get:function get(){return this.privHeaders}},{key:"body",get:function get(){return this.privBody}},{key:"textBody",get:function get(){if(this.privMessageType===P.Binary)throw new ne.b("Not supported for binary message");return this.privBody}},{key:"binaryBody",get:function get(){if(this.privMessageType===P.Text)throw new ne.b("Not supported for text message");return this.privBody}},{key:"id",get:function get(){return this.privId}}]),ConnectionMessage}()},,,function(C,k,O){"use strict";(function(C,P){O.d(k,"a",(function(){return Oe}));var M=O(1),F=O.n(M),ne=O(3),re=O(4),oe=O(794),se=O(795),ue=O.n(se),pe=O(798),ve=O(803),de=O(819),he=O(799),fe=O.n(he),ge=O(800),me=O.n(ge),ye=O(801),be=O.n(ye),ke=O(802),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Oe=function(){function CertCheckAgent(k){Object(ne.a)(this,CertCheckAgent),k&&(this.privProxyInfo=k),CertCheckAgent.privDiskCache||(CertCheckAgent.privDiskCache=new me.a("microsoft-cognitiveservices-speech-sdk-cache",{supportBuffer:!0,location:"undefined"!==typeof C&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SPEECH_OCSP_CACHE_ROOT?Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SPEECH_OCSP_CACHE_ROOT:void 0}))}return Object(re.a)(CertCheckAgent,[{key:"GetAgent",value:function GetAgent(C){var k=new fe.a.Agent(this.CreateConnection);if(void 0!==this.privProxyInfo&&void 0!==this.privProxyInfo.HostName&&this.privProxyInfo.Port>0){k.privProxyInfo=this.privProxyInfo}return k}},{key:"CreateConnection",value:function CreateConnection(k,O){var P,M="undefined"!==typeof C&&"0"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NODE_TLS_REJECT_UNAUTHORIZED&&"0"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SPEECH_CONDUCT_OCSP_CHECK&&O.secureEndpoint;if(O=Object.assign(Object.assign({},O),{requestOCSP:!CertCheckAgent.forceDisableOCSPStapling,servername:O.host}),this.privProxyInfo){var F=CertCheckAgent.GetProxyAgent(this.privProxyInfo);P=new Promise((function(C,P){F.callback(k,O,(function(k,O){k?P(k):C(O)}))}))}else P=O.secureEndpoint?Promise.resolve(oe.connect(O)):Promise.resolve(ke.connect(O));return M?CertCheckAgent.OCSPCheck(P,this.privProxyInfo):P}}],[{key:"forceReinitDiskCache",value:function forceReinitDiskCache(){CertCheckAgent.privDiskCache=void 0,CertCheckAgent.privMemCache={}}},{key:"GetProxyAgent",value:function GetProxyAgent(C){var k={host:C.HostName,port:C.Port};return C.UserName?k.headers={"Proxy-Authentication":"Basic "+new P(C.UserName+":"+(void 0===C.Password)?"":C.Password).toString("base64")}:k.headers={},k.headers.requestOCSP="true",new be.a(k)}},{key:"OCSPCheck",value:function OCSPCheck(C,k){return __awaiter(this,void 0,void 0,F.a.mark((function _callee2(){var O,P,M,ne,re,oe=this;return F.a.wrap((function _callee2$(se){for(;;)switch(se.prev=se.next){case 0:return M=!1,se.next=3,C;case 3:return(ne=se.sent).cork(),re=ne,se.abrupt("return",new Promise((function(C,se){ne.on("OCSPResponse",(function(C){C&&(oe.onEvent(new ve.n),P=C)})),ne.on("error",(function(C){M||(M=!0,ne.destroy(),se(C))})),re.on("secure",(function(){return __awaiter(oe,void 0,void 0,F.a.mark((function _callee(){var oe,ue,ve,de;return F.a.wrap((function _callee$(F){for(;;)switch(F.prev=F.next){case 0:return oe=re.getPeerCertificate(!0),F.prev=1,F.next=4,this.GetIssuer(oe);case 4:if(ue=F.sent,O=pe.request.generate(oe.raw,ue.raw),ve=O.id.toString("hex"),P){F.next=12;break}return F.next=10,CertCheckAgent.GetResponseFromCache(ve,O,k);case 10:de=F.sent,P=de;case 12:return F.next=14,this.VerifyOCSPResponse(P,O,k);case 14:ne.uncork(),M=!0,C(ne),F.next=24;break;case 19:F.prev=19,F.t0=F.catch(1),ne.destroy(),M=!0,se(F.t0);case 24:case"end":return F.stop()}}),_callee,this,[[1,19]])})))}))})));case 7:case"end":return se.stop()}}),_callee2)})))}},{key:"GetIssuer",value:function GetIssuer(C){return C.issuerCertificate?Promise.resolve(C.issuerCertificate):new Promise((function(k,O){new pe.Agent({}).fetchIssuer(C,null,(function(C,P){C?O(C):k(P)}))}))}},{key:"GetResponseFromCache",value:function GetResponseFromCache(C,k,O){return __awaiter(this,void 0,void 0,F.a.mark((function _callee3(){var P,M,ne,re,oe,se,ue,de=this;return F.a.wrap((function _callee3$(F){for(;;)switch(F.prev=F.next){case 0:if((P=CertCheckAgent.privMemCache[C])&&this.onEvent(new ve.k(C)),P){F.next=13;break}return F.prev=3,F.next=6,CertCheckAgent.privDiskCache.get(C);case 6:(M=F.sent).isCached&&(CertCheckAgent.onEvent(new ve.i(C)),CertCheckAgent.StoreMemoryCacheEntry(C,M.value),P=M.value),F.next=13;break;case 10:F.prev=10,F.t0=F.catch(3),P=null;case 13:if(P){F.next=15;break}return F.abrupt("return",P);case 15:if(F.prev=15,ne=pe.utils.parseResponse(P),!((re=ne.value.tbsResponseData).responses.length<1)){F.next=21;break}return this.onEvent(new ve.c(C,"Not enough data in cached response")),F.abrupt("return");case 21:oe=re.responses[0].thisUpdate,(se=re.responses[0].nextUpdate)<Date.now()+this.testTimeOffset-6e4?(this.onEvent(new ve.a(C,se)),P=null):(ue=Math.min(864e5,(se-oe)/2),se-(Date.now()+this.testTimeOffset)<ue?(this.onEvent(new ve.b(C,oe,se)),this.UpdateCache(k,O).catch((function(k){de.onEvent(new ve.g(C,k.toString()))}))):this.onEvent(new ve.d(C,oe,se))),F.next=30;break;case 26:F.prev=26,F.t1=F.catch(15),this.onEvent(new ve.c(C,F.t1)),P=null;case 30:return P||this.onEvent(new ve.e(C)),F.abrupt("return",P);case 32:case"end":return F.stop()}}),_callee3,this,[[3,10],[15,26]])})))}},{key:"VerifyOCSPResponse",value:function VerifyOCSPResponse(C,k,O){return __awaiter(this,void 0,void 0,F.a.mark((function _callee4(){var P,M=this;return F.a.wrap((function _callee4$(F){for(;;)switch(F.prev=F.next){case 0:if(P=C,k.certID.toString("hex"),P){F.next=6;break}return F.next=5,CertCheckAgent.GetOCSPResponse(k,O);case 5:P=F.sent;case 6:return F.abrupt("return",new Promise((function(F,ne){pe.verify({request:k,response:P},(function(re,oe){re?(CertCheckAgent.onEvent(new ve.o(k.id.toString("hex"),re)),C?M.VerifyOCSPResponse(null,k,O).then((function(){F()}),(function(C){ne(C)})):ne(re)):(C||CertCheckAgent.StoreCacheEntry(k.id.toString("hex"),P),F())}))})));case 7:case"end":return F.stop()}}),_callee4)})))}},{key:"UpdateCache",value:function UpdateCache(C,k){return __awaiter(this,void 0,void 0,F.a.mark((function _callee5(){var O,P;return F.a.wrap((function _callee5$(M){for(;;)switch(M.prev=M.next){case 0:return O=C.id.toString("hex"),this.onEvent(new ve.h(O)),M.next=4,this.GetOCSPResponse(C,k);case 4:P=M.sent,this.StoreCacheEntry(O,P),this.onEvent(new ve.f(C.id.toString("hex")));case 7:case"end":return M.stop()}}),_callee5,this)})))}},{key:"StoreCacheEntry",value:function StoreCacheEntry(C,k){this.StoreMemoryCacheEntry(C,k),this.StoreDiskCacheEntry(C,k)}},{key:"StoreMemoryCacheEntry",value:function StoreMemoryCacheEntry(C,k){this.privMemCache[C]=k,this.onEvent(new ve.l(C))}},{key:"StoreDiskCacheEntry",value:function StoreDiskCacheEntry(C,k){var O=this;this.privDiskCache.set(C,k).then((function(){O.onEvent(new ve.j(C))}))}},{key:"GetOCSPResponse",value:function GetOCSPResponse(C,k){var O=this,P={};if(k){var M=CertCheckAgent.GetProxyAgent(k);P.agent=M}return new Promise((function(k,M){pe.utils.getAuthorityInfo(C.cert,"1.3.6.1.5.5.7.48.1",(function(F,ne){if(F)M(F);else{var re=ue.a(ne);re.path=re.pathname,P=Object.assign(Object.assign({},P),re),pe.utils.getResponse(P,C.data,(function(P,F){P?M(P):(O.onEvent(new ve.m(C.certID.toString("hex"))),k(F))}))}}))}))}}]),CertCheckAgent}();Oe.testTimeOffset=0,Oe.forceDisableOCSPStapling=!1,Oe.privMemCache={},Oe.onEvent=function(C){de.a.instance.onEvent(C)}}).call(this,O(13),O(7).Buffer)},,function(C,k,O){"use strict";(function(k){var P=O(796),M=O(797),F=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ne=/[\n\r\t]/g,re=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,oe=/:\d+$/,se=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,ue=/^[a-zA-Z]:/;function trimLeft(C){return(C||"").toString().replace(F,"")}var pe=[["#","hash"],["?","query"],function sanitize(C,k){return isSpecial(k.protocol)?C.replace(/\\/g,"/"):C},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ve={hash:1,query:1};function lolcation(C){var O,P=("undefined"!==typeof window?window:"undefined"!==typeof k?k:"undefined"!==typeof self?self:{}).location||{},M={},F=typeof(C=C||P);if("blob:"===C.protocol)M=new Url(unescape(C.pathname),{});else if("string"===F)for(O in M=new Url(C,{}),ve)delete M[O];else if("object"===F){for(O in C)O in ve||(M[O]=C[O]);void 0===M.slashes&&(M.slashes=re.test(C.href))}return M}function isSpecial(C){return"file:"===C||"ftp:"===C||"http:"===C||"https:"===C||"ws:"===C||"wss:"===C}function extractProtocol(C,k){C=(C=trimLeft(C)).replace(ne,""),k=k||{};var O,P=se.exec(C),M=P[1]?P[1].toLowerCase():"",F=!!P[2],re=!!P[3],oe=0;return F?re?(O=P[2]+P[3]+P[4],oe=P[2].length+P[3].length):(O=P[2]+P[4],oe=P[2].length):re?(O=P[3]+P[4],oe=P[3].length):O=P[4],"file:"===M?oe>=2&&(O=O.slice(2)):isSpecial(M)?O=P[4]:M?F&&(O=O.slice(2)):oe>=2&&isSpecial(k.protocol)&&(O=P[4]),{protocol:M,slashes:F||isSpecial(M),slashesCount:oe,rest:O}}function Url(C,k,O){if(C=(C=trimLeft(C)).replace(ne,""),!(this instanceof Url))return new Url(C,k,O);var F,re,oe,se,ve,de,he=pe.slice(),fe=typeof k,ge=this,me=0;for("object"!==fe&&"string"!==fe&&(O=k,k=null),O&&"function"!==typeof O&&(O=M.parse),F=!(re=extractProtocol(C||"",k=lolcation(k))).protocol&&!re.slashes,ge.slashes=re.slashes||F&&k.slashes,ge.protocol=re.protocol||k.protocol||"",C=re.rest,("file:"===re.protocol&&(2!==re.slashesCount||ue.test(C))||!re.slashes&&(re.protocol||re.slashesCount<2||!isSpecial(ge.protocol)))&&(he[3]=[/(.*)/,"pathname"]);me<he.length;me++)"function"!==typeof(se=he[me])?(oe=se[0],de=se[1],oe!==oe?ge[de]=C:"string"===typeof oe?~(ve="@"===oe?C.lastIndexOf(oe):C.indexOf(oe))&&("number"===typeof se[2]?(ge[de]=C.slice(0,ve),C=C.slice(ve+se[2])):(ge[de]=C.slice(ve),C=C.slice(0,ve))):(ve=oe.exec(C))&&(ge[de]=ve[1],C=C.slice(0,ve.index)),ge[de]=ge[de]||F&&se[3]&&k[de]||"",se[4]&&(ge[de]=ge[de].toLowerCase())):C=se(C,ge);O&&(ge.query=O(ge.query)),F&&k.slashes&&"/"!==ge.pathname.charAt(0)&&(""!==ge.pathname||""!==k.pathname)&&(ge.pathname=function resolve(C,k){if(""===C)return k;for(var O=(k||"/").split("/").slice(0,-1).concat(C.split("/")),P=O.length,M=O[P-1],F=!1,ne=0;P--;)"."===O[P]?O.splice(P,1):".."===O[P]?(O.splice(P,1),ne++):ne&&(0===P&&(F=!0),O.splice(P,1),ne--);return F&&O.unshift(""),"."!==M&&".."!==M||O.push(""),O.join("/")}(ge.pathname,k.pathname)),"/"!==ge.pathname.charAt(0)&&isSpecial(ge.protocol)&&(ge.pathname="/"+ge.pathname),P(ge.port,ge.protocol)||(ge.host=ge.hostname,ge.port=""),ge.username=ge.password="",ge.auth&&(~(ve=ge.auth.indexOf(":"))?(ge.username=ge.auth.slice(0,ve),ge.username=encodeURIComponent(decodeURIComponent(ge.username)),ge.password=ge.auth.slice(ve+1),ge.password=encodeURIComponent(decodeURIComponent(ge.password))):ge.username=encodeURIComponent(decodeURIComponent(ge.auth)),ge.auth=ge.password?ge.username+":"+ge.password:ge.username),ge.origin="file:"!==ge.protocol&&isSpecial(ge.protocol)&&ge.host?ge.protocol+"//"+ge.host:"null",ge.href=ge.toString()}Url.prototype={set:function set(C,k,O){var F=this;switch(C){case"query":"string"===typeof k&&k.length&&(k=(O||M.parse)(k)),F[C]=k;break;case"port":F[C]=k,P(k,F.protocol)?k&&(F.host=F.hostname+":"+k):(F.host=F.hostname,F[C]="");break;case"hostname":F[C]=k,F.port&&(k+=":"+F.port),F.host=k;break;case"host":F[C]=k,oe.test(k)?(k=k.split(":"),F.port=k.pop(),F.hostname=k.join(":")):(F.hostname=k,F.port="");break;case"protocol":F.protocol=k.toLowerCase(),F.slashes=!O;break;case"pathname":case"hash":if(k){var ne="pathname"===C?"/":"#";F[C]=k.charAt(0)!==ne?ne+k:k}else F[C]=k;break;case"username":case"password":F[C]=encodeURIComponent(k);break;case"auth":var re=k.indexOf(":");~re?(F.username=k.slice(0,re),F.username=encodeURIComponent(decodeURIComponent(F.username)),F.password=k.slice(re+1),F.password=encodeURIComponent(decodeURIComponent(F.password))):F.username=encodeURIComponent(decodeURIComponent(k))}for(var se=0;se<pe.length;se++){var ue=pe[se];ue[4]&&(F[ue[1]]=F[ue[1]].toLowerCase())}return F.auth=F.password?F.username+":"+F.password:F.username,F.origin="file:"!==F.protocol&&isSpecial(F.protocol)&&F.host?F.protocol+"//"+F.host:"null",F.href=F.toString(),F},toString:function toString(C){C&&"function"===typeof C||(C=M.stringify);var k,O=this,P=O.host,F=O.protocol;F&&":"!==F.charAt(F.length-1)&&(F+=":");var ne=F+(O.protocol&&O.slashes||isSpecial(O.protocol)?"//":"");return O.username?(ne+=O.username,O.password&&(ne+=":"+O.password),ne+="@"):O.password?(ne+=":"+O.password,ne+="@"):"file:"!==O.protocol&&isSpecial(O.protocol)&&!P&&"/"!==O.pathname&&(ne+="@"),(":"===P[P.length-1]||oe.test(O.hostname)&&!O.port)&&(P+=":"),ne+=P+O.pathname,(k="object"===typeof O.query?C(O.query):O.query)&&(ne+="?"!==k.charAt(0)?"?"+k:k),O.hash&&(ne+=O.hash),ne}},Url.extractProtocol=extractProtocol,Url.location=lolcation,Url.trimLeft=trimLeft,Url.qs=M,C.exports=Url}).call(this,O(16))},function(C,k,O){"use strict";C.exports=function required(C,k){if(k=k.split(":")[0],!(C=+C))return!1;switch(k){case"http":case"ws":return 80!==C;case"https":case"wss":return 443!==C;case"ftp":return 21!==C;case"gopher":return 70!==C;case"file":return!1}return 0!==C}},function(C,k,O){"use strict";var P=Object.prototype.hasOwnProperty;function decode(C){try{return decodeURIComponent(C.replace(/\+/g," "))}catch(k){return null}}function encode(C){try{return encodeURIComponent(C)}catch(k){return null}}k.stringify=function querystringify(C,k){k=k||"";var O,M,F=[];for(M in"string"!==typeof k&&(k="?"),C)if(P.call(C,M)){if((O=C[M])||null!==O&&undefined!==O&&!isNaN(O)||(O=""),M=encode(M),O=encode(O),null===M||null===O)continue;F.push(M+"="+O)}return F.length?k+F.join("&"):""},k.parse=function querystring(C){for(var k,O=/([^=?#&]+)=?([^&]*)/g,P={};k=O.exec(C);){var M=decode(k[1]),F=decode(k[2]);null===M||null===F||M in P||(P[M]=F)}return P}},,,,,,function(C,k,O){"use strict";O.d(k,"k",(function(){return oe})),O.d(k,"e",(function(){return se})),O.d(k,"i",(function(){return ue})),O.d(k,"h",(function(){return pe})),O.d(k,"l",(function(){return ve})),O.d(k,"j",(function(){return de})),O.d(k,"f",(function(){return he})),O.d(k,"n",(function(){return fe})),O.d(k,"a",(function(){return ge})),O.d(k,"b",(function(){return me})),O.d(k,"d",(function(){return ye})),O.d(k,"o",(function(){return be})),O.d(k,"c",(function(){return ke})),O.d(k,"m",(function(){return Oe})),O.d(k,"g",(function(){return Ee}));var P=O(3),M=O(5),F=O(6),ne=O(568),re=function(C){Object(M.a)(OCSPEvent,C);var k=Object(F.a)(OCSPEvent);function OCSPEvent(C,O,M){var F;return Object(P.a)(this,OCSPEvent),(F=k.call(this,C,O)).privSignature=M,F}return OCSPEvent}(ne.b),oe=function(C){Object(M.a)(OCSPMemoryCacheHitEvent,C);var k=Object(F.a)(OCSPMemoryCacheHitEvent);function OCSPMemoryCacheHitEvent(C){return Object(P.a)(this,OCSPMemoryCacheHitEvent),k.call(this,"OCSPMemoryCacheHitEvent",ne.a.Debug,C)}return OCSPMemoryCacheHitEvent}(re),se=function(C){Object(M.a)(OCSPCacheMissEvent,C);var k=Object(F.a)(OCSPCacheMissEvent);function OCSPCacheMissEvent(C){return Object(P.a)(this,OCSPCacheMissEvent),k.call(this,"OCSPCacheMissEvent",ne.a.Debug,C)}return OCSPCacheMissEvent}(re),ue=function(C){Object(M.a)(OCSPDiskCacheHitEvent,C);var k=Object(F.a)(OCSPDiskCacheHitEvent);function OCSPDiskCacheHitEvent(C){return Object(P.a)(this,OCSPDiskCacheHitEvent),k.call(this,"OCSPDiskCacheHitEvent",ne.a.Debug,C)}return OCSPDiskCacheHitEvent}(re),pe=function(C){Object(M.a)(OCSPCacheUpdateNeededEvent,C);var k=Object(F.a)(OCSPCacheUpdateNeededEvent);function OCSPCacheUpdateNeededEvent(C){return Object(P.a)(this,OCSPCacheUpdateNeededEvent),k.call(this,"OCSPCacheUpdateNeededEvent",ne.a.Debug,C)}return OCSPCacheUpdateNeededEvent}(re),ve=function(C){Object(M.a)(OCSPMemoryCacheStoreEvent,C);var k=Object(F.a)(OCSPMemoryCacheStoreEvent);function OCSPMemoryCacheStoreEvent(C){return Object(P.a)(this,OCSPMemoryCacheStoreEvent),k.call(this,"OCSPMemoryCacheStoreEvent",ne.a.Debug,C)}return OCSPMemoryCacheStoreEvent}(re),de=function(C){Object(M.a)(OCSPDiskCacheStoreEvent,C);var k=Object(F.a)(OCSPDiskCacheStoreEvent);function OCSPDiskCacheStoreEvent(C){return Object(P.a)(this,OCSPDiskCacheStoreEvent),k.call(this,"OCSPDiskCacheStoreEvent",ne.a.Debug,C)}return OCSPDiskCacheStoreEvent}(re),he=function(C){Object(M.a)(OCSPCacheUpdateCompleteEvent,C);var k=Object(F.a)(OCSPCacheUpdateCompleteEvent);function OCSPCacheUpdateCompleteEvent(C){return Object(P.a)(this,OCSPCacheUpdateCompleteEvent),k.call(this,"OCSPCacheUpdateCompleteEvent",ne.a.Debug,C)}return OCSPCacheUpdateCompleteEvent}(re),fe=function(C){Object(M.a)(OCSPStapleReceivedEvent,C);var k=Object(F.a)(OCSPStapleReceivedEvent);function OCSPStapleReceivedEvent(){return Object(P.a)(this,OCSPStapleReceivedEvent),k.call(this,"OCSPStapleReceivedEvent",ne.a.Debug,"")}return OCSPStapleReceivedEvent}(re),ge=function(C){Object(M.a)(OCSPCacheEntryExpiredEvent,C);var k=Object(F.a)(OCSPCacheEntryExpiredEvent);function OCSPCacheEntryExpiredEvent(C,O){var M;return Object(P.a)(this,OCSPCacheEntryExpiredEvent),(M=k.call(this,"OCSPCacheEntryExpiredEvent",ne.a.Debug,C)).privExpireTime=O,M}return OCSPCacheEntryExpiredEvent}(re),me=function(C){Object(M.a)(OCSPCacheEntryNeedsRefreshEvent,C);var k=Object(F.a)(OCSPCacheEntryNeedsRefreshEvent);function OCSPCacheEntryNeedsRefreshEvent(C,O,M){var F;return Object(P.a)(this,OCSPCacheEntryNeedsRefreshEvent),(F=k.call(this,"OCSPCacheEntryNeedsRefreshEvent",ne.a.Debug,C)).privExpireTime=M,F.privStartTime=O,F}return OCSPCacheEntryNeedsRefreshEvent}(re),ye=function(C){Object(M.a)(OCSPCacheHitEvent,C);var k=Object(F.a)(OCSPCacheHitEvent);function OCSPCacheHitEvent(C,O,M){var F;return Object(P.a)(this,OCSPCacheHitEvent),(F=k.call(this,"OCSPCacheHitEvent",ne.a.Debug,C)).privExpireTime=M,F.privExpireTimeString=new Date(M).toLocaleDateString(),F.privStartTime=O,F.privStartTimeString=new Date(O).toLocaleTimeString(),F}return OCSPCacheHitEvent}(re),be=function(C){Object(M.a)(OCSPVerificationFailedEvent,C);var k=Object(F.a)(OCSPVerificationFailedEvent);function OCSPVerificationFailedEvent(C,O){var M;return Object(P.a)(this,OCSPVerificationFailedEvent),(M=k.call(this,"OCSPVerificationFailedEvent",ne.a.Debug,C)).privError=O,M}return OCSPVerificationFailedEvent}(re),ke=function(C){Object(M.a)(OCSPCacheFetchErrorEvent,C);var k=Object(F.a)(OCSPCacheFetchErrorEvent);function OCSPCacheFetchErrorEvent(C,O){var M;return Object(P.a)(this,OCSPCacheFetchErrorEvent),(M=k.call(this,"OCSPCacheFetchErrorEvent",ne.a.Debug,C)).privError=O,M}return OCSPCacheFetchErrorEvent}(re),Oe=function(C){Object(M.a)(OCSPResponseRetrievedEvent,C);var k=Object(F.a)(OCSPResponseRetrievedEvent);function OCSPResponseRetrievedEvent(C){return Object(P.a)(this,OCSPResponseRetrievedEvent),k.call(this,"OCSPResponseRetrievedEvent",ne.a.Debug,C)}return OCSPResponseRetrievedEvent}(re),Ee=function(C){Object(M.a)(OCSPCacheUpdateErrorEvent,C);var k=Object(F.a)(OCSPCacheUpdateErrorEvent);function OCSPCacheUpdateErrorEvent(C,O){var M;return Object(P.a)(this,OCSPCacheUpdateErrorEvent),(M=k.call(this,"OCSPCacheUpdateErrorEvent",ne.a.Debug,C)).privError=O,M}return OCSPCacheUpdateErrorEvent}(re)},function(C,k,O){"use strict";O.d(k,"a",(function(){return F}));var P=O(3),M=O(4),F=function(){function RestConfigBase(){Object(P.a)(this,RestConfigBase)}return Object(M.a)(RestConfigBase,null,[{key:"requestOptions",get:function get(){return RestConfigBase.privDefaultRequestOptions}},{key:"configParams",get:function get(){return RestConfigBase.privDefaultParams}},{key:"restErrors",get:function get(){return RestConfigBase.privRestErrors}}]),RestConfigBase}();F.privDefaultRequestOptions={headers:{Accept:"application/json"},ignoreCache:!1,timeout:1e4},F.privRestErrors={authInvalidSubscriptionKey:"You must specify either an authentication token to use, or a Cognitive Speech subscription key.",authInvalidSubscriptionRegion:"You must specify the Cognitive Speech region to use.",invalidArgs:"Required input not found: {arg}.",invalidCreateJoinConversationResponse:"Creating/Joining conversation failed with HTTP {status}.",invalidParticipantRequest:"The requested participant was not found.",permissionDeniedConnect:"Required credentials not found.",permissionDeniedConversation:"Invalid operation: only the host can {command} the conversation.",permissionDeniedParticipant:"Invalid operation: only the host can {command} a participant.",permissionDeniedSend:"Invalid operation: the conversation is not in a connected state.",permissionDeniedStart:"Invalid operation: there is already an active conversation."},F.privDefaultParams={apiVersion:"api-version",authorization:"Authorization",clientAppId:"X-ClientAppId",contentTypeKey:"Content-Type",correlationId:"X-CorrelationId",languageCode:"language",nickname:"nickname",profanity:"profanity",requestId:"X-RequestId",roomId:"roomid",sessionToken:"token",subscriptionKey:"Ocp-Apim-Subscription-Key",subscriptionRegion:"Ocp-Apim-Subscription-Region",token:"X-CapitoToken"}},function(C,k,O){"use strict";var P=O(1),M=O(86),F=O(35),ne=O(60),re=O(59),oe=O(22),se=O(85),ue=O(28),pe=O(29),ve=O(806),de=O(809),he=function(C){ue(StatusError,C);var k=pe(StatusError);function StatusError(C){var O,P;oe(this,StatusError);for(var M=arguments.length,F=new Array(M>1?M-1:0),ue=1;ue<M;ue++)F[ue-1]=arguments[ue];O=k.call.apply(k,[this].concat(F)),Error.captureStackTrace&&Error.captureStackTrace(se(O),StatusError),O.name="StatusError",O.message=C.statusMessage,O.statusCode=C.status,O.res=C,O.json=C.json.bind(C),O.text=C.text.bind(C),O.arrayBuffer=C.arrayBuffer.bind(C);var pe=function get(){return P||(P=O.arrayBuffer()),P};Object.defineProperty(se(O),"responseBody",{get:pe}),O.headers={};var ve,de=re(C.headers.entries());try{for(de.s();!(ve=de.n()).done;){var he=ne(ve.value,2),fe=he[0],ge=he[1];O.headers[fe.toLowerCase()]=ge}}catch(me){de.e(me)}finally{de.f()}return O}return StatusError}(ve(Error));C.exports=de((function mkrequest(C,k,O,ne,re){return function(){var oe=F(P.mark((function _callee(F,oe){var se,ue,pe,ve=arguments;return P.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:if(se=ve.length>2&&void 0!==ve[2]?ve[2]:{},F=re+(F||""),ue=new URL(F),ne||(ne={}),ue.username&&(ne.Authorization="Basic "+btoa(ue.username+":"+ue.password),ue=new URL(ue.protocol+"//"+ue.host+ue.pathname+ue.search)),"https:"===ue.protocol||"http:"===ue.protocol){P.next=7;break}throw new Error("Unknown protocol, ".concat(ue.protocol));case 7:if(!oe){P.next=17;break}if(!(oe instanceof ArrayBuffer||ArrayBuffer.isView(oe)||"string"===typeof oe)){P.next=11;break}P.next=17;break;case 11:if("object"!==typeof oe){P.next=16;break}oe=JSON.stringify(oe),ne["Content-Type"]="application/json",P.next=17;break;case 16:throw new Error("Unknown body type.");case 17:return se=new Headers(M(M({},ne||{}),se)),P.next=20,fetch(ue,{method:k,headers:se,body:oe});case 20:if((pe=P.sent).statusCode=pe.status,C.has(pe.status)){P.next=24;break}throw new he(pe);case 24:if("json"!==O){P.next=28;break}return P.abrupt("return",pe.json());case 28:if("buffer"!==O){P.next=32;break}return P.abrupt("return",pe.arrayBuffer());case 32:if("string"!==O){P.next=36;break}return P.abrupt("return",pe.text());case 36:return P.abrupt("return",pe);case 37:case"end":return P.stop()}}),_callee)})));return function(C,k){return oe.apply(this,arguments)}}()}))},function(C,k,O){var P=O(36),M=O(267),F=O(807),ne=O(808);function _wrapNativeSuper(k){var O="function"===typeof Map?new Map:void 0;return C.exports=_wrapNativeSuper=function _wrapNativeSuper(C){if(null===C||!F(C))return C;if("function"!==typeof C)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof O){if(O.has(C))return O.get(C);O.set(C,Wrapper)}function Wrapper(){return ne(C,arguments,P(this).constructor)}return Wrapper.prototype=Object.create(C.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),M(Wrapper,C)},_wrapNativeSuper(k)}C.exports=_wrapNativeSuper},function(C,k){C.exports=function _isNativeFunction(C){return-1!==Function.toString.call(C).indexOf("[native code]")}},function(C,k,O){var P=O(267),M=O(268);function _construct(k,O,F){return M()?C.exports=_construct=Reflect.construct:C.exports=_construct=function _construct(C,k,O){var M=[null];M.push.apply(M,k);var F=new(Function.bind.apply(C,M));return O&&P(F,O.prototype),F},_construct.apply(null,arguments)}C.exports=_construct},function(C,k,O){"use strict";var P=new Set(["json","buffer","string"]);C.exports=function(C){return function(){for(var k,O,M,F=new Set,ne="",re=arguments.length,oe=new Array(re),se=0;se<re;se++)oe[se]=arguments[se];return oe.forEach((function(C){if("string"===typeof C)if(C.toUpperCase()===C){if(k){var re="Can't set method to ".concat(C,", already set to ").concat(k,".");throw new Error(re)}k=C}else if(C.startsWith("http:")||C.startsWith("https:"))ne=C;else{if(!P.has(C))throw new Error("Unknown encoding, ".concat(C));O=C}else if("number"===typeof C)F.add(C);else{if("object"!==typeof C)throw new Error("Unknown type: ".concat(typeof C));if(Array.isArray(C)||C instanceof Set)C.forEach((function(C){return F.add(C)}));else{if(M)throw new Error("Cannot set headers twice.");M=C}}})),k||(k="GET"),0===F.size&&F.add(200),C(F,k,O,M,ne)}}},function(C,k,O){"use strict";O.d(k,"a",(function(){return oe}));var P=function isDate(C){return C instanceof Date},M=function isEmpty(C){return 0===Object.keys(C).length},F=function isObject(C){return null!=C&&"object"===typeof C},ne=function hasOwnProperty(C){for(var k,O=arguments.length,P=new Array(O>1?O-1:0),M=1;M<O;M++)P[M-1]=arguments[M];return(k=Object.prototype.hasOwnProperty).call.apply(k,[C].concat(P))},re=function isEmptyObject(C){return F(C)&&M(C)},oe=function diff(C,k){if(C===k)return{};if(!F(C)||!F(k))return k;var O=C,M=k,oe=Object.keys(O).reduce((function(C,k){return ne(M,k)||(C[k]=void 0),C}),{});return P(O)||P(M)?O.valueOf()==M.valueOf()?{}:M:Object.keys(M).reduce((function(C,k){if(!ne(O,k))return C[k]=M[k],C;var F=diff(O[k],M[k]);return!re(F)||P(F)||!re(O[k])&&re(M[k])?(C[k]=F,C):C}),oe)}},function(C,k,O){"use strict";O.r(k),O.d(k,"AudioConfig",(function(){return ne.b})),O.d(k,"AudioStreamFormat",(function(){return ne.f})),O.d(k,"AudioFormatTag",(function(){return ne.c})),O.d(k,"AudioInputStream",(function(){return ne.d})),O.d(k,"PullAudioInputStream",(function(){return ne.Y})),O.d(k,"PushAudioInputStream",(function(){return ne.bb})),O.d(k,"AudioOutputStream",(function(){return ne.e})),O.d(k,"PullAudioOutputStream",(function(){return ne.ab})),O.d(k,"PushAudioOutputStream",(function(){return ne.cb})),O.d(k,"CancellationReason",(function(){return ne.n})),O.d(k,"PullAudioInputStreamCallback",(function(){return ne.Z})),O.d(k,"PushAudioOutputStreamCallback",(function(){return ne.db})),O.d(k,"KeywordRecognitionModel",(function(){return ne.J})),O.d(k,"SessionEventArgs",(function(){return ne.kb})),O.d(k,"RecognitionEventArgs",(function(){return ne.eb})),O.d(k,"OutputFormat",(function(){return ne.N})),O.d(k,"IntentRecognitionEventArgs",(function(){return ne.G})),O.d(k,"RecognitionResult",(function(){return ne.fb})),O.d(k,"SpeechRecognitionResult",(function(){return ne.xb})),O.d(k,"IntentRecognitionResult",(function(){return ne.H})),O.d(k,"LanguageUnderstandingModel",(function(){return ne.K})),O.d(k,"SpeechRecognitionEventArgs",(function(){return ne.wb})),O.d(k,"ConversationTranscriptionEventArgs",(function(){return ne.x})),O.d(k,"SpeechRecognitionCanceledEventArgs",(function(){return ne.vb})),O.d(k,"TranslationRecognitionEventArgs",(function(){return ne.Lb})),O.d(k,"TranslationSynthesisEventArgs",(function(){return ne.Ob})),O.d(k,"TranslationRecognitionResult",(function(){return ne.Mb})),O.d(k,"TranslationSynthesisResult",(function(){return ne.Pb})),O.d(k,"ResultReason",(function(){return ne.hb})),O.d(k,"SpeechConfig",(function(){return ne.tb})),O.d(k,"SpeechConfigImpl",(function(){return ne.ub})),O.d(k,"SpeechTranslationConfig",(function(){return ne.Gb})),O.d(k,"SpeechTranslationConfigImpl",(function(){return ne.Hb})),O.d(k,"PropertyCollection",(function(){return ne.W})),O.d(k,"PropertyId",(function(){return ne.X})),O.d(k,"Recognizer",(function(){return ne.gb})),O.d(k,"SpeechRecognizer",(function(){return ne.yb})),O.d(k,"IntentRecognizer",(function(){return ne.I})),O.d(k,"VoiceProfileType",(function(){return ne.bc})),O.d(k,"TranslationRecognizer",(function(){return ne.Nb})),O.d(k,"Translations",(function(){return ne.Qb})),O.d(k,"NoMatchReason",(function(){return ne.M})),O.d(k,"NoMatchDetails",(function(){return ne.L})),O.d(k,"TranslationRecognitionCanceledEventArgs",(function(){return ne.Kb})),O.d(k,"IntentRecognitionCanceledEventArgs",(function(){return ne.F})),O.d(k,"CancellationDetailsBase",(function(){return ne.l})),O.d(k,"CancellationDetails",(function(){return ne.k})),O.d(k,"CancellationErrorCode",(function(){return ne.m})),O.d(k,"ConnectionEventArgs",(function(){return ne.p})),O.d(k,"ServiceEventArgs",(function(){return ne.ib})),O.d(k,"Connection",(function(){return ne.o})),O.d(k,"PhraseListGrammar",(function(){return ne.Q})),O.d(k,"DialogServiceConfig",(function(){return ne.D})),O.d(k,"BotFrameworkConfig",(function(){return ne.j})),O.d(k,"CustomCommandsConfig",(function(){return ne.C})),O.d(k,"DialogServiceConnector",(function(){return ne.E})),O.d(k,"ActivityReceivedEventArgs",(function(){return ne.a})),O.d(k,"TurnStatusReceivedEventArgs",(function(){return ne.Rb})),O.d(k,"ServicePropertyChannel",(function(){return ne.jb})),O.d(k,"ProfanityOption",(function(){return ne.R})),O.d(k,"BaseAudioPlayer",(function(){return ne.i})),O.d(k,"ConnectionMessageEventArgs",(function(){return ne.r})),O.d(k,"ConnectionMessage",(function(){return ne.q})),O.d(k,"VoiceProfile",(function(){return ne.Ub})),O.d(k,"VoiceProfileEnrollmentResult",(function(){return ne.Yb})),O.d(k,"VoiceProfileEnrollmentCancellationDetails",(function(){return ne.Xb})),O.d(k,"VoiceProfileResult",(function(){return ne.ac})),O.d(k,"VoiceProfileCancellationDetails",(function(){return ne.Vb})),O.d(k,"VoiceProfilePhraseResult",(function(){return ne.Zb})),O.d(k,"VoiceProfileClient",(function(){return ne.Wb})),O.d(k,"SpeakerRecognizer",(function(){return ne.rb})),O.d(k,"SpeakerIdentificationModel",(function(){return ne.nb})),O.d(k,"SpeakerVerificationModel",(function(){return ne.sb})),O.d(k,"AutoDetectSourceLanguageConfig",(function(){return ne.g})),O.d(k,"AutoDetectSourceLanguageResult",(function(){return ne.h})),O.d(k,"SourceLanguageConfig",(function(){return ne.lb})),O.d(k,"SpeakerRecognitionResult",(function(){return ne.pb})),O.d(k,"SpeakerRecognitionResultType",(function(){return ne.qb})),O.d(k,"SpeakerRecognitionCancellationDetails",(function(){return ne.ob})),O.d(k,"Conversation",(function(){return ne.s})),O.d(k,"ConversationExpirationEventArgs",(function(){return ne.t})),O.d(k,"ConversationParticipantsChangedEventArgs",(function(){return ne.u})),O.d(k,"ConversationTranslationCanceledEventArgs",(function(){return ne.y})),O.d(k,"ConversationTranslationEventArgs",(function(){return ne.z})),O.d(k,"ConversationTranslationResult",(function(){return ne.A})),O.d(k,"ConversationTranslator",(function(){return ne.B})),O.d(k,"ConversationTranscriber",(function(){return ne.v})),O.d(k,"Participant",(function(){return ne.O})),O.d(k,"ParticipantChangedReason",(function(){return ne.P})),O.d(k,"User",(function(){return ne.Sb})),O.d(k,"SpeechSynthesisOutputFormat",(function(){return ne.Bb})),O.d(k,"SpeechSynthesizer",(function(){return ne.Fb})),O.d(k,"SynthesisResult",(function(){return ne.Ib})),O.d(k,"SpeechSynthesisResult",(function(){return ne.Cb})),O.d(k,"SpeechSynthesisEventArgs",(function(){return ne.Ab})),O.d(k,"SpeechSynthesisWordBoundaryEventArgs",(function(){return ne.Eb})),O.d(k,"SpeechSynthesisBookmarkEventArgs",(function(){return ne.zb})),O.d(k,"SpeechSynthesisVisemeEventArgs",(function(){return ne.Db})),O.d(k,"SynthesisVoicesResult",(function(){return ne.Jb})),O.d(k,"VoiceInfo",(function(){return ne.Tb})),O.d(k,"SpeakerAudioDestination",(function(){return ne.mb})),O.d(k,"ConversationTranscriptionCanceledEventArgs",(function(){return ne.w})),O.d(k,"PronunciationAssessmentGradingSystem",(function(){return ne.T})),O.d(k,"PronunciationAssessmentGranularity",(function(){return ne.U})),O.d(k,"PronunciationAssessmentConfig",(function(){return ne.S})),O.d(k,"PronunciationAssessmentResult",(function(){return ne.V}));var P=O(3),M=O(568),F=O(819),ne=O(527);F.a.instance.attachListener(new function ConsoleLoggingListener(){var C=this,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.a.Warning;Object(P.a)(this,ConsoleLoggingListener),this.onEvent=function(k){if(k.eventType>=C.privLogLevelFilter){var O=C.toString(k);switch(k.eventType){case M.a.Debug:console.debug(O);break;case M.a.Info:console.info(O);break;case M.a.Warning:console.warn(O);break;case M.a.Error:console.error(O);break;default:console.log(O)}}},this.toString=function(C){var k=["".concat(C.EventTime),"".concat(C.Name)];for(var O in C)if(O&&C.hasOwnProperty(O)&&"eventTime"!==O&&"eventType"!==O&&"eventId"!==O&&"name"!==O&&"constructor"!==O){var P=C[O],M="<NULL>";void 0!==P&&null!==P&&(M="number"===typeof P||"string"===typeof P?P.toString():JSON.stringify(P)),k.push("".concat(O,": ").concat(M))}return k.join(" | ")},this.privLogLevelFilter=k})},function(C,k,O){"use strict";O.d(k,"a",(function(){return ve}));var P,M=O(1),F=O.n(M),ne=O(75),re=O(3),oe=O(4),se=O(542),ue=function List(C){var k=this;if(Object(re.a)(this,List),this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.get=function(C){return k.throwIfDisposed(),k.privList[C]},this.first=function(){return k.get(0)},this.last=function(){return k.get(k.length()-1)},this.add=function(C){k.throwIfDisposed(),k.insertAt(k.privList.length,C)},this.insertAt=function(C,O){k.throwIfDisposed(),0===C?k.privList.unshift(O):C===k.privList.length?k.privList.push(O):k.privList.splice(C,0,O),k.triggerSubscriptions(k.privAddSubscriptions)},this.removeFirst=function(){return k.throwIfDisposed(),k.removeAt(0)},this.removeLast=function(){return k.throwIfDisposed(),k.removeAt(k.length()-1)},this.removeAt=function(C){return k.throwIfDisposed(),k.remove(C,1)[0]},this.remove=function(C,O){k.throwIfDisposed();var P=k.privList.splice(C,O);return k.triggerSubscriptions(k.privRemoveSubscriptions),P},this.clear=function(){k.throwIfDisposed(),k.remove(0,k.length())},this.length=function(){return k.throwIfDisposed(),k.privList.length},this.onAdded=function(C){k.throwIfDisposed();var O=k.privSubscriptionIdCounter++;return k.privAddSubscriptions[O]=C,{detach:function detach(){return delete k.privAddSubscriptions[O],Promise.resolve()}}},this.onRemoved=function(C){k.throwIfDisposed();var O=k.privSubscriptionIdCounter++;return k.privRemoveSubscriptions[O]=C,{detach:function detach(){return delete k.privRemoveSubscriptions[O],Promise.resolve()}}},this.onDisposed=function(C){k.throwIfDisposed();var O=k.privSubscriptionIdCounter++;return k.privDisposedSubscriptions[O]=C,{detach:function detach(){return delete k.privDisposedSubscriptions[O],Promise.resolve()}}},this.join=function(C){return k.throwIfDisposed(),k.privList.join(C)},this.toArray=function(){var C=Array();return k.privList.forEach((function(k){C.push(k)})),C},this.any=function(C){return k.throwIfDisposed(),C?k.where(C).length()>0:k.length()>0},this.all=function(C){return k.throwIfDisposed(),k.where(C).length()===k.length()},this.forEach=function(C){k.throwIfDisposed();for(var O=0;O<k.length();O++)C(k.privList[O],O)},this.select=function(C){k.throwIfDisposed();for(var O=[],P=0;P<k.privList.length;P++)O.push(C(k.privList[P],P));return new List(O)},this.where=function(C){k.throwIfDisposed();for(var O=new List,P=0;P<k.privList.length;P++)C(k.privList[P],P)&&O.add(k.privList[P]);return O},this.orderBy=function(C){k.throwIfDisposed();var O=k.toArray().sort(C);return new List(O)},this.orderByDesc=function(C){return k.throwIfDisposed(),k.orderBy((function(k,O){return C(O,k)}))},this.clone=function(){return k.throwIfDisposed(),new List(k.toArray())},this.concat=function(C){return k.throwIfDisposed(),new List(k.privList.concat(C.toArray()))},this.concatArray=function(C){return k.throwIfDisposed(),new List(k.privList.concat(C))},this.isDisposed=function(){return null==k.privList},this.dispose=function(C){k.isDisposed()||(k.privDisposeReason=C,k.privList=null,k.privAddSubscriptions=null,k.privRemoveSubscriptions=null,k.triggerSubscriptions(k.privDisposedSubscriptions))},this.throwIfDisposed=function(){if(k.isDisposed())throw new se.c("List",k.privDisposeReason)},this.triggerSubscriptions=function(C){if(C)for(var k in C)k&&C[k]()},this.privList=[],C){var O,P=Object(ne.a)(C);try{for(P.s();!(O=P.n()).done;){var M=O.value;this.privList.push(M)}}catch(F){P.e(F)}finally{P.f()}}},pe=O(631),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))};!function(C){C[C.Dequeue=0]="Dequeue",C[C.Peek=1]="Peek"}(P||(P={}));var ve=function(){function Queue(C){var k=this;Object(re.a)(this,Queue),this.privPromiseStore=new ue,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.enqueue=function(C){k.throwIfDispose(),k.enqueueFromPromise(new Promise((function(k,O){k(C)})))},this.enqueueFromPromise=function(C){k.throwIfDispose(),C.then((function(C){k.privList.add(C)}),(function(C){}))},this.dequeue=function(){k.throwIfDispose();var C=new pe.a;return k.privSubscribers&&(k.privSubscribers.add({deferral:C,type:P.Dequeue}),k.drain()),C.promise},this.peek=function(){k.throwIfDispose();var C=new pe.a;return k.privSubscribers&&(k.privSubscribers.add({deferral:C,type:P.Peek}),k.drain()),C.promise},this.length=function(){return k.throwIfDispose(),k.privList.length()},this.isDisposed=function(){return null==k.privSubscribers},this.drain=function(){if(!k.privIsDrainInProgress&&!k.privIsDisposing){k.privIsDrainInProgress=!0;var C=k.privSubscribers,O=k.privList;if(C&&O){for(;O.length()>0&&C.length()>0&&!k.privIsDisposing;){var M=C.removeFirst();if(M.type===P.Peek)M.deferral.resolve(O.first());else{var F=O.removeFirst();M.deferral.resolve(F)}}k.privSubscribers===C&&(k.privSubscribers=C),k.privList===O&&(k.privList=O)}k.privIsDrainInProgress=!1}},this.throwIfDispose=function(){if(k.isDisposed()){if(k.privDisposeReason)throw new se.b(k.privDisposeReason);throw new se.c("Queue")}if(k.privIsDisposing)throw new se.b("Queue disposing")},this.privList=C||new ue,this.privDetachables=[],this.privSubscribers=new ue,this.privDetachables.push(this.privList.onAdded(this.drain))}return Object(oe.a)(Queue,[{key:"drainAndDispose",value:function drainAndDispose(C,k){return __awaiter(this,void 0,void 0,F.a.mark((function _callee(){var O,P,M,re,oe,se=this;return F.a.wrap((function _callee$(F){for(;;)switch(F.prev=F.next){case 0:if(this.isDisposed()||this.privIsDisposing){F.next=30;break}if(this.privDisposeReason=k,this.privIsDisposing=!0,O=this.privSubscribers){for(;O.length()>0;)O.removeFirst().deferral.resolve(void 0);this.privSubscribers===O&&(this.privSubscribers=O)}P=Object(ne.a)(this.privDetachables),F.prev=6,P.s();case 8:if((M=P.n()).done){F.next=14;break}return re=M.value,F.next=12,re.detach();case 12:F.next=8;break;case 14:F.next=19;break;case 16:F.prev=16,F.t0=F.catch(6),P.e(F.t0);case 19:return F.prev=19,P.f(),F.finish(19);case 22:if(!(this.privPromiseStore.length()>0&&C)){F.next=28;break}return oe=[],this.privPromiseStore.toArray().forEach((function(C){oe.push(C)})),F.abrupt("return",Promise.all(oe).finally((function(){se.privSubscribers=null,se.privList.forEach((function(k,O){C(k)})),se.privList=null})).then());case 28:this.privSubscribers=null,this.privList=null;case 30:case"end":return F.stop()}}),_callee,this,[[6,16,19,22]])})))}},{key:"dispose",value:function dispose(C){return __awaiter(this,void 0,void 0,F.a.mark((function _callee2(){return F.a.wrap((function _callee2$(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.drainAndDispose(null,C);case 2:case"end":return k.stop()}}),_callee2,this)})))}}]),Queue}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return fe}));var P=O(535),M=O(27),F=O.n(M),ne=(O(544),O(610)),re=O(537),oe=O(611),se=O(582),ue=O(548),pe=O(557),ve=O(538),de=["className","styles","value","href","type","checked","disabled","index","children","onClick","isHovering","externalRef"],he=["isActive","onKeyUp","onBlur"],fe=Object(ne.a)(Object(M.memo)((function MenuItem(C){var k=C.className,O=C.styles,ne=C.value,fe=C.href,ge=C.type,me=C.checked,ye=C.disabled,be=C.index,ke=C.children,Oe=C.onClick,Ee=C.isHovering,Re=C.externalRef,Ie=Object(P.b)(C,de),Ae=!!ye;Object(ve.n)(be,Ae,ke);var Pe=Object(M.useRef)(),Te=function useItemState(C,k,O,P){var F=Object(M.useContext)(re.f).submenuCloseDelay,ne=Object(M.useContext)(re.i),oe=ne.isParentOpen,se=ne.isSubmenuOpen,ue=ne.dispatch,pe=Object(M.useRef)(0),ve=function setHover(){O||P||ue({type:re.d.SET,index:k})};return Object(M.useEffect)((function(){return function(){return clearTimeout(pe.current)}}),[]),Object(M.useEffect)((function(){O&&oe&&C.current&&C.current.focus()}),[C,O,oe]),{setHover:ve,onBlur:function onBlur(C){O&&!C.currentTarget.contains(C.relatedTarget)&&ue({type:re.d.UNSET,index:k})},onMouseMove:function onMouseMove(){se?pe.current||(pe.current=setTimeout((function(){pe.current=0,ve()}),F)):ve()},onMouseLeave:function onMouseLeave(C,O){pe.current&&(clearTimeout(pe.current),pe.current=0),O||ue({type:re.d.UNSET,index:k})}}}(Pe,be,Ee,Ae),je=Te.setHover,_e=Te.onBlur,De=Te.onMouseMove,Me=Te.onMouseLeave,Ne=Object(M.useContext)(re.b),Le=Object(M.useContext)(re.k),ze=Object(oe.a)(Ee,Ae),Be=ze.isActive,Fe=ze.onKeyUp,Ue=ze.onBlur,qe=Object(P.b)(ze,he),Ve="radio"===ge,Ke="checkbox"===ge,He=!!fe&&!Ae&&!Ve&&!Ke,We=Ve?Le.value===ne:!!Ke&&!!me,Je=function handleClick(C){if(Ae)return C.stopPropagation(),void C.preventDefault();var k={value:ne,syntheticEvent:C};void 0!==C.key&&(k.key=C.key),Ke&&(k.checked=!We),Ve&&(k.name=Le.name),Object(ve.m)(Oe,k),Ve&&Object(ve.m)(Le.onRadioChange,k),Ne.handleClick(k,Ke||Ve)},Ge=Object(M.useMemo)((function(){return Object.freeze({type:ge,disabled:Ae,hover:Ee,active:Be,checked:We,anchor:He})}),[ge,Ae,Ee,Be,We,He]),$e=Object(ve.c)(Object(P.a)({},qe,{onMouseMove:De,onMouseLeave:Me,onMouseDown:je,onKeyUp:function handleKeyUp(C){if(Be)switch(Fe(C),C.key){case re.g.ENTER:case re.g.SPACE:He?Pe.current.click():Je(C)}},onBlur:function handleBlur(C){Ue(C),_e(C)},onClick:Je}),Ie),Ye=Object(P.a)({role:Ve?"menuitemradio":Ke?"menuitemcheckbox":"menuitem","aria-checked":Ve||Ke?We:void 0},Object(ve.e)(Ae,Ee),Ie,$e,{ref:Object(se.a)(Re,Pe),className:Object(ue.a)({block:re.p,element:re.t,modifiers:Ge,className:k}),style:Object(pe.a)(O,Ge)}),Qe=Object(M.useMemo)((function(){return Object(ve.m)(ke,Ge)}),[ke,Ge]);return He?F.a.createElement("li",{role:"presentation"},F.a.createElement("a",Object(P.a)({},Ye,{href:fe}),Qe)):F.a.createElement("li",Ye,Qe)})),"MenuItem")},,,,,function(C,k,O){"use strict";O.d(k,"a",(function(){return de}));var P=O(535),M=O(27),F=O.n(M),ne=O(110),re=(O(544),O(695)),oe=O(548),se=O(537),ue=O(558),pe=O(538),ve=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","skipOpen","viewScroll","portal","theming","onItemClick","onClose"],de=Object(M.forwardRef)((function ControlledMenu(C,k){var O=C["aria-label"],ue=C.className,de=C.containerProps,he=C.initialMounted,fe=C.unmountOnClose,ge=C.transition,me=C.transitionTimeout,ye=C.boundingBoxRef,be=C.boundingBoxPadding,ke=C.reposition,Oe=C.submenuOpenDelay,Ee=C.submenuCloseDelay,Re=C.skipOpen,Ie=C.viewScroll,Ae=C.portal,Pe=C.theming,Te=C.onItemClick,je=C.onClose,_e=Object(P.b)(C,ve),De=Object(M.useRef)(null),Me=Object(M.useRef)(null),Ne=Object(M.useRef)(null),Le=_e.anchorRef,ze=_e.state,Be=Object(M.useMemo)((function(){return{initialMounted:he,unmountOnClose:fe,transition:ge,transitionTimeout:me,boundingBoxRef:ye,boundingBoxPadding:be,rootMenuRef:De,rootAnchorRef:Le,scrollingRef:Me,anchorScrollingRef:Ne,reposition:ke,viewScroll:Ie}}),[he,fe,ge,me,Le,ye,be,ke,Ie]),Fe=Object(M.useMemo)((function(){return{submenuOpenDelay:Oe,submenuCloseDelay:Ee}}),[Oe,Ee]),Ue=Object(M.useMemo)((function(){return{handleClick:function handleClick(C,k){C.stopPropagation||Object(pe.m)(Te,C);var O=C.keepOpen;void 0===O&&(O=k&&C.key===se.g.SPACE),O||Object(pe.m)(je,{value:C.value,key:C.key,reason:se.a.CLICK})},handleClose:function handleClose(C){Object(pe.m)(je,{key:C,reason:se.a.CLICK})}}}),[Te,je]),qe=Object(pe.j)(ge,"item"),Ve=Object(M.useMemo)((function(){return{theme:Pe,itemTransition:qe}}),[Pe,qe]),Ke=Object(pe.c)({onKeyDown:function handleKeyDown(C){var k=C.key;if(k===se.g.ESC)Object(pe.m)(je,{key:k,reason:se.a.CANCEL})},onBlur:function handleBlur(C){Object(pe.k)(ze)&&!C.currentTarget.contains(C.relatedTarget||document.activeElement)&&(Object(pe.m)(je,{reason:se.a.BLUR}),Re&&(Re.current=!0,setTimeout((function(){return Re.current=!1}),300)))}},de),He=F.a.createElement("div",Object(P.a)({},de,Ke,{className:Object(oe.a)({block:se.q,modifiers:Ve,className:ue}),ref:De}),ze&&F.a.createElement(se.l.Provider,{value:Be},F.a.createElement(se.f.Provider,{value:Fe},F.a.createElement(se.b.Provider,{value:Ue},F.a.createElement(re.a,Object(P.a)({},_e,{ariaLabel:O||"Menu",externalRef:k,containerRef:De,onClose:je}))))));return Ae?Object(ne.createPortal)(He,document.body):He}));de.defaultProps=Object(P.a)({},ue.b,{menuItemFocus:{}})},function(C,k,O){"use strict";O.d(k,"a",(function(){return re}));var P=O(3),M=O(4),F=O(542),ne=O(789),re=function(){function Events(){Object(P.a)(this,Events)}return Object(M.a)(Events,null,[{key:"instance",get:function get(){return Events.privInstance}}]),Events}();re.privInstance=new ne.a,re.setEventSource=function(C){if(!C)throw new F.a("eventSource");re.privInstance=C}},function(C,k,O){"use strict";O.d(k,"b",(function(){return se})),O.d(k,"d",(function(){return ue})),O.d(k,"c",(function(){return pe})),O.d(k,"a",(function(){return ve})),O.d(k,"f",(function(){return he})),O.d(k,"e",(function(){return fe})),O.d(k,"g",(function(){return ge})),O.d(k,"h",(function(){return me}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=O(568),oe=function(C){Object(F.a)(AudioSourceEvent,C);var k=Object(ne.a)(AudioSourceEvent);function AudioSourceEvent(C,O){var M,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:re.a.Info;return Object(P.a)(this,AudioSourceEvent),(M=k.call(this,C,F)).privAudioSourceId=O,M}return Object(M.a)(AudioSourceEvent,[{key:"audioSourceId",get:function get(){return this.privAudioSourceId}}]),AudioSourceEvent}(re.b),se=function(C){Object(F.a)(AudioSourceInitializingEvent,C);var k=Object(ne.a)(AudioSourceInitializingEvent);function AudioSourceInitializingEvent(C){return Object(P.a)(this,AudioSourceInitializingEvent),k.call(this,"AudioSourceInitializingEvent",C)}return AudioSourceInitializingEvent}(oe),ue=function(C){Object(F.a)(AudioSourceReadyEvent,C);var k=Object(ne.a)(AudioSourceReadyEvent);function AudioSourceReadyEvent(C){return Object(P.a)(this,AudioSourceReadyEvent),k.call(this,"AudioSourceReadyEvent",C)}return AudioSourceReadyEvent}(oe),pe=function(C){Object(F.a)(AudioSourceOffEvent,C);var k=Object(ne.a)(AudioSourceOffEvent);function AudioSourceOffEvent(C){return Object(P.a)(this,AudioSourceOffEvent),k.call(this,"AudioSourceOffEvent",C)}return AudioSourceOffEvent}(oe),ve=function(C){Object(F.a)(AudioSourceErrorEvent,C);var k=Object(ne.a)(AudioSourceErrorEvent);function AudioSourceErrorEvent(C,O){var M;return Object(P.a)(this,AudioSourceErrorEvent),(M=k.call(this,"AudioSourceErrorEvent",C,re.a.Error)).privError=O,M}return Object(M.a)(AudioSourceErrorEvent,[{key:"error",get:function get(){return this.privError}}]),AudioSourceErrorEvent}(oe),de=function(C){Object(F.a)(AudioStreamNodeEvent,C);var k=Object(ne.a)(AudioStreamNodeEvent);function AudioStreamNodeEvent(C,O,M){var F;return Object(P.a)(this,AudioStreamNodeEvent),(F=k.call(this,C,O)).privAudioNodeId=M,F}return Object(M.a)(AudioStreamNodeEvent,[{key:"audioNodeId",get:function get(){return this.privAudioNodeId}}]),AudioStreamNodeEvent}(oe),he=function(C){Object(F.a)(AudioStreamNodeAttachingEvent,C);var k=Object(ne.a)(AudioStreamNodeAttachingEvent);function AudioStreamNodeAttachingEvent(C,O){return Object(P.a)(this,AudioStreamNodeAttachingEvent),k.call(this,"AudioStreamNodeAttachingEvent",C,O)}return AudioStreamNodeAttachingEvent}(de),fe=function(C){Object(F.a)(AudioStreamNodeAttachedEvent,C);var k=Object(ne.a)(AudioStreamNodeAttachedEvent);function AudioStreamNodeAttachedEvent(C,O){return Object(P.a)(this,AudioStreamNodeAttachedEvent),k.call(this,"AudioStreamNodeAttachedEvent",C,O)}return AudioStreamNodeAttachedEvent}(de),ge=function(C){Object(F.a)(AudioStreamNodeDetachedEvent,C);var k=Object(ne.a)(AudioStreamNodeDetachedEvent);function AudioStreamNodeDetachedEvent(C,O){return Object(P.a)(this,AudioStreamNodeDetachedEvent),k.call(this,"AudioStreamNodeDetachedEvent",C,O)}return AudioStreamNodeDetachedEvent}(de),me=function(C){Object(F.a)(AudioStreamNodeErrorEvent,C);var k=Object(ne.a)(AudioStreamNodeErrorEvent);function AudioStreamNodeErrorEvent(C,O,M){var F;return Object(P.a)(this,AudioStreamNodeErrorEvent),(F=k.call(this,"AudioStreamNodeErrorEvent",C,O)).privError=M,F}return Object(M.a)(AudioStreamNodeErrorEvent,[{key:"error",get:function get(){return this.privError}}]),AudioStreamNodeErrorEvent}(de)},function(C,k,O){"use strict";O.d(k,"a",(function(){return se}));var P=O(3),M=O(4),F=O(24),ne=O(17),re=O(5),oe=O(6),se=function(C){Object(re.a)(ChunkedArrayBufferStream,C);var k=Object(oe.a)(ChunkedArrayBufferStream);function ChunkedArrayBufferStream(C,O){var M;return Object(P.a)(this,ChunkedArrayBufferStream),(M=k.call(this,O)).privTargetChunkSize=C,M.privNextBufferReadyBytes=0,M}return Object(M.a)(ChunkedArrayBufferStream,[{key:"writeStreamChunk",value:function writeStreamChunk(C){if(C.isEnd||0===this.privNextBufferReadyBytes&&C.buffer.byteLength===this.privTargetChunkSize)Object(F.a)(Object(ne.a)(ChunkedArrayBufferStream.prototype),"writeStreamChunk",this).call(this,C);else for(var k=0;k<C.buffer.byteLength;){void 0===this.privNextBufferToWrite&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=C.timeReceived);var O=Math.min(C.buffer.byteLength-k,this.privTargetChunkSize-this.privNextBufferReadyBytes),P=new Uint8Array(this.privNextBufferToWrite),M=new Uint8Array(C.buffer.slice(k,O+k));P.set(M,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=O,k+=O,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(Object(F.a)(Object(ne.a)(ChunkedArrayBufferStream.prototype),"writeStreamChunk",this).call(this,{buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}},{key:"close",value:function close(){0===this.privNextBufferReadyBytes||this.isClosed||Object(F.a)(Object(ne.a)(ChunkedArrayBufferStream.prototype),"writeStreamChunk",this).call(this,{buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),Object(F.a)(Object(ne.a)(ChunkedArrayBufferStream.prototype),"close",this).call(this)}}]),ChunkedArrayBufferStream}(O(822).a)},function(C,k,O){"use strict";O.d(k,"a",(function(){return ue}));var P=O(1),M=O.n(P),F=O(3),ne=O(4),re=O(542),oe=O(551),se=O(812),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},ue=function(){function Stream(C){var k=this;Object(F.a)(this,Stream),this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.read=function(){if(k.privIsReadEnded)throw new re.b("Stream read has already finished");return k.privReaderQueue.dequeue().then((function(C){return __awaiter(k,void 0,void 0,M.a.mark((function _callee(){return M.a.wrap((function _callee$(k){for(;;)switch(k.prev=k.next){case 0:if(void 0!==C&&!C.isEnd){k.next=3;break}return k.next=3,this.privReaderQueue.dispose("End of stream reached");case 3:return k.abrupt("return",C);case 4:case"end":return k.stop()}}),_callee,this)})))}))},this.readEnded=function(){k.privIsReadEnded||(k.privIsReadEnded=!0,k.privReaderQueue=new se.a)},this.throwIfClosed=function(){if(k.privIsWriteEnded)throw new re.b("Stream closed")},this.privId=C||Object(oe.b)(),this.privReaderQueue=new se.a}return Object(ne.a)(Stream,[{key:"isClosed",get:function get(){return this.privIsWriteEnded}},{key:"isReadEnded",get:function get(){return this.privIsReadEnded}},{key:"id",get:function get(){return this.privId}},{key:"close",value:function close(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}},{key:"writeStreamChunk",value:function writeStreamChunk(C){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(C)}catch(k){}}}]),Stream}()},function(C,k,O){"use strict";O.d(k,"h",(function(){return oe})),O.d(k,"g",(function(){return ue})),O.d(k,"d",(function(){return pe})),O.d(k,"a",(function(){return ve})),O.d(k,"b",(function(){return de})),O.d(k,"c",(function(){return he})),O.d(k,"e",(function(){return fe})),O.d(k,"f",(function(){return ge}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=O(568),oe=function(C){Object(F.a)(ServiceEvent,C);var k=Object(ne.a)(ServiceEvent);function ServiceEvent(C,O){var M,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:re.a.Info;return Object(P.a)(this,ServiceEvent),(M=k.call(this,C,F)).privJsonResult=O,M}return Object(M.a)(ServiceEvent,[{key:"jsonString",get:function get(){return this.privJsonResult}}]),ServiceEvent}(re.b),se=function(C){Object(F.a)(ConnectionEvent,C);var k=Object(ne.a)(ConnectionEvent);function ConnectionEvent(C,O){var M,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:re.a.Info;return Object(P.a)(this,ConnectionEvent),(M=k.call(this,C,F)).privConnectionId=O,M}return Object(M.a)(ConnectionEvent,[{key:"connectionId",get:function get(){return this.privConnectionId}}]),ConnectionEvent}(re.b),ue=function(C){Object(F.a)(ConnectionStartEvent,C);var k=Object(ne.a)(ConnectionStartEvent);function ConnectionStartEvent(C,O,M){var F;return Object(P.a)(this,ConnectionStartEvent),(F=k.call(this,"ConnectionStartEvent",C)).privUri=O,F.privHeaders=M,F}return Object(M.a)(ConnectionStartEvent,[{key:"uri",get:function get(){return this.privUri}},{key:"headers",get:function get(){return this.privHeaders}}]),ConnectionStartEvent}(se),pe=function(C){Object(F.a)(ConnectionEstablishedEvent,C);var k=Object(ne.a)(ConnectionEstablishedEvent);function ConnectionEstablishedEvent(C,O){return Object(P.a)(this,ConnectionEstablishedEvent),k.call(this,"ConnectionEstablishedEvent",C)}return ConnectionEstablishedEvent}(se),ve=function(C){Object(F.a)(ConnectionClosedEvent,C);var k=Object(ne.a)(ConnectionClosedEvent);function ConnectionClosedEvent(C,O,M){var F;return Object(P.a)(this,ConnectionClosedEvent),(F=k.call(this,"ConnectionClosedEvent",C,re.a.Debug)).privReason=M,F.privStatusCode=O,F}return Object(M.a)(ConnectionClosedEvent,[{key:"reason",get:function get(){return this.privReason}},{key:"statusCode",get:function get(){return this.privStatusCode}}]),ConnectionClosedEvent}(se),de=function(C){Object(F.a)(ConnectionErrorEvent,C);var k=Object(ne.a)(ConnectionErrorEvent);function ConnectionErrorEvent(C,O,M){var F;return Object(P.a)(this,ConnectionErrorEvent),(F=k.call(this,"ConnectionErrorEvent",C,re.a.Debug)).privMessage=O,F.privType=M,F}return Object(M.a)(ConnectionErrorEvent,[{key:"message",get:function get(){return this.privMessage}},{key:"type",get:function get(){return this.privType}}]),ConnectionErrorEvent}(se),he=function(C){Object(F.a)(ConnectionEstablishErrorEvent,C);var k=Object(ne.a)(ConnectionEstablishErrorEvent);function ConnectionEstablishErrorEvent(C,O,M){var F;return Object(P.a)(this,ConnectionEstablishErrorEvent),(F=k.call(this,"ConnectionEstablishErrorEvent",C,re.a.Error)).privStatusCode=O,F.privReason=M,F}return Object(M.a)(ConnectionEstablishErrorEvent,[{key:"reason",get:function get(){return this.privReason}},{key:"statusCode",get:function get(){return this.privStatusCode}}]),ConnectionEstablishErrorEvent}(se),fe=function(C){Object(F.a)(ConnectionMessageReceivedEvent,C);var k=Object(ne.a)(ConnectionMessageReceivedEvent);function ConnectionMessageReceivedEvent(C,O,M){var F;return Object(P.a)(this,ConnectionMessageReceivedEvent),(F=k.call(this,"ConnectionMessageReceivedEvent",C)).privNetworkReceivedTime=O,F.privMessage=M,F}return Object(M.a)(ConnectionMessageReceivedEvent,[{key:"networkReceivedTime",get:function get(){return this.privNetworkReceivedTime}},{key:"message",get:function get(){return this.privMessage}}]),ConnectionMessageReceivedEvent}(se),ge=function(C){Object(F.a)(ConnectionMessageSentEvent,C);var k=Object(ne.a)(ConnectionMessageSentEvent);function ConnectionMessageSentEvent(C,O,M){var F;return Object(P.a)(this,ConnectionMessageSentEvent),(F=k.call(this,"ConnectionMessageSentEvent",C)).privNetworkSentTime=O,F.privMessage=M,F}return Object(M.a)(ConnectionMessageSentEvent,[{key:"networkSentTime",get:function get(){return this.privNetworkSentTime}},{key:"message",get:function get(){return this.privMessage}}]),ConnectionMessageSentEvent}(se)},function(C,k,O){"use strict";var P;O.d(k,"a",(function(){return P})),function(C){C[C.None=0]="None",C[C.Connected=1]="Connected",C[C.Connecting=2]="Connecting",C[C.Disconnected=3]="Disconnected"}(P||(P={}))},function(C,k,O){"use strict";O.d(k,"a",(function(){return oe}));var P=O(3),M=O(4),F=O(5),ne=O(6),re=O(568),oe=function(C){Object(F.a)(BackgroundEvent,C);var k=Object(ne.a)(BackgroundEvent);function BackgroundEvent(C){var O;return Object(P.a)(this,BackgroundEvent),(O=k.call(this,"BackgroundEvent",re.a.Error)).privError=C,O}return Object(M.a)(BackgroundEvent,[{key:"error",get:function get(){return this.privError}}]),BackgroundEvent}(re.b)},function(C,k,O){"use strict";O.d(k,"a",(function(){return M}));var P=O(3),M=function Timeout(){Object(P.a)(this,Timeout)};M.workerTimers=null,M.clearTimeout=function(C){return M.timers().clearTimeout(C)},M.setTimeout=function(C,k){return M.timers().setTimeout(C,k)},M.load=function(C){var k=new Map([[0,function(){}]]),O=new Map,P=new Worker(C);P.addEventListener("message",(function(C){var P=C.data;if(M.isCallNotification(P)){var F=P.params.timerId,ne=k.get(F);if("number"===typeof ne){var re=O.get(ne);if(void 0===re||re!==F)throw new Error("The timer is in an undefined state.")}else{if("undefined"===typeof ne)throw new Error("The timer is in an undefined state.");ne(),k.delete(F)}}else{if(!M.isClearResponse(P)){var oe=P.error.message;throw new Error(oe)}var se=P.id,ue=O.get(se);if(void 0===ue)throw new Error("The timer is in an undefined state.");O.delete(se),k.delete(ue)}}));return{clearTimeout:function clearTimeout(C){var M=Math.random();O.set(M,C),k.set(C,M),P.postMessage({id:M,method:"clear",params:{timerId:C}})},setTimeout:function setTimeout(C,O){var M=Math.random();return k.set(M,C),P.postMessage({id:null,method:"set",params:{delay:O,now:performance.now(),timerId:M}}),M}}},M.loadWorkerTimers=function(){return function(){if(null!==M.workerTimers)return M.workerTimers;var C=new Blob(['!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error(\'There is no interval scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error(\'The given method "\'.concat(e.method,\'" is not supported\'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);'],{type:"application/javascript; charset=utf-8"}),k=URL.createObjectURL(C);return M.workerTimers=M.load(k),M.workerTimers.setTimeout((function(){return URL.revokeObjectURL(k)}),0),M.workerTimers}},M.timers=M.loadWorkerTimers(),M.isCallNotification=function(C){return void 0!==C.method&&"call"===C.method},M.isClearResponse=function(C){return null===C.error&&"number"===typeof C.id}},function(C,k,O){"use strict";O.d(k,"a",(function(){return ne}));var P=O(75),M=O(3),F=O(4),ne=function(){function ReplayableAudioNode(C,k){var O=this;Object(M.a)(this,ReplayableAudioNode),this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.id=function(){return O.privAudioNode.id()},this.privAudioNode=C,this.privBytesPerSecond=k}return Object(F.a)(ReplayableAudioNode,[{key:"read",value:function read(){var C=this;if(this.privReplay&&0!==this.privBuffers.length){var k=this.privReplayOffset-this.privBufferStartOffset,O=Math.round(k*this.privBytesPerSecond*1e-7);0!==O%2&&O++;for(var P=0;P<this.privBuffers.length&&O>=this.privBuffers[P].chunk.buffer.byteLength;)O-=this.privBuffers[P++].chunk.buffer.byteLength;if(P<this.privBuffers.length){var M=this.privBuffers[P].chunk.buffer.slice(O);return this.privReplayOffset+=M.byteLength/this.privBytesPerSecond*1e7,P===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:M,isEnd:!1,timeReceived:this.privBuffers[P].chunk.timeReceived})}}return this.privAudioNode.read().then((function(k){return k&&k.buffer&&(C.privBuffers.push(new re(k,C.privBufferSerial++,C.privBufferedBytes)),C.privBufferedBytes+=k.buffer.byteLength),k}))}},{key:"detach",value:function detach(){return this.privBuffers=void 0,this.privAudioNode.detach()}},{key:"replay",value:function replay(){this.privBuffers&&0!==this.privBuffers.length&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}},{key:"shrinkBuffers",value:function shrinkBuffers(C){if(void 0!==this.privBuffers&&0!==this.privBuffers.length){this.privLastShrinkOffset=C;for(var k=C-this.privBufferStartOffset,O=Math.round(k*this.privBytesPerSecond*1e-7),P=0;P<this.privBuffers.length&&O>=this.privBuffers[P].chunk.buffer.byteLength;)O-=this.privBuffers[P++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(C-O/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(P)}}},{key:"findTimeAtOffset",value:function findTimeAtOffset(C){if(C<this.privBufferStartOffset||void 0===this.privBuffers)return 0;var k,O=Object(P.a)(this.privBuffers);try{for(O.s();!(k=O.n()).done;){var M=k.value,F=M.byteOffset/this.privBytesPerSecond*1e7,ne=F+M.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(C>=F&&C<=ne)return M.chunk.timeReceived}}catch(re){O.e(re)}finally{O.f()}return 0}}]),ReplayableAudioNode}(),re=function BufferEntry(C,k,O){Object(M.a)(this,BufferEntry),this.chunk=C,this.serial=k,this.byteOffset=O}},function(C,k,O){"use strict";O.d(k,"a",(function(){return oe}));var P=O(3),M=O(4),F=O(790),ne=O(542),re=O(551),oe=function(){function RawWebsocketMessage(C,k,O){if(Object(P.a)(this,RawWebsocketMessage),this.privPayload=null,!k)throw new ne.a("payload");if(C===F.b.Binary&&"ArrayBuffer"!==k.__proto__.constructor.name)throw new ne.b("Payload must be ArrayBuffer");if(C===F.b.Text&&"string"!==typeof k)throw new ne.b("Payload must be a string");this.privMessageType=C,this.privPayload=k,this.privId=O||Object(re.b)()}return Object(M.a)(RawWebsocketMessage,[{key:"messageType",get:function get(){return this.privMessageType}},{key:"payload",get:function get(){return this.privPayload}},{key:"textContent",get:function get(){if(this.privMessageType===F.b.Binary)throw new ne.b("Not supported for binary message");return this.privPayload}},{key:"binaryContent",get:function get(){if(this.privMessageType===F.b.Text)throw new ne.b("Not supported for text message");return this.privPayload}},{key:"id",get:function get(){return this.privId}}]),RawWebsocketMessage}()},function(C,k,O){"use strict";O.d(k,"a",(function(){return ne}));var P=O(3),M=O(4),F=O(569),ne=function(){function ProxyInfo(C,k,O,M){Object(P.a)(this,ProxyInfo),this.privProxyHostName=C,this.privProxyPort=k,this.privProxyUserName=O,this.privProxyPassword=M}return Object(M.a)(ProxyInfo,[{key:"HostName",get:function get(){return this.privProxyHostName}},{key:"Port",get:function get(){return this.privProxyPort}},{key:"UserName",get:function get(){return this.privProxyUserName}},{key:"Password",get:function get(){return this.privProxyPassword}}],[{key:"fromParameters",value:function fromParameters(C){return new ProxyInfo(C.getProperty(F.a.SpeechServiceConnection_ProxyHostName),parseInt(C.getProperty(F.a.SpeechServiceConnection_ProxyPort),10),C.getProperty(F.a.SpeechServiceConnection_ProxyUserName),C.getProperty(F.a.SpeechServiceConnection_ProxyPassword))}},{key:"fromRecognizerConfig",value:function fromRecognizerConfig(C){return this.fromParameters(C.parameters)}}]),ProxyInfo}()},function(C,k,O){"use strict";O.d(k,"b",(function(){return P})),O.d(k,"a",(function(){return ve}));var P,M=O(1),F=O.n(M),ne=O(3),re=O(4),oe=O(542),se=O(631),ue=O(805),pe=O.n(ue),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))};!function(C){C.Get="GET",C.Post="POST",C.Delete="DELETE",C.File="file"}(P||(P={}));var ve=function(){function RestMessageAdapter(C){if(Object(ne.a)(this,RestMessageAdapter),!C)throw new oe.a("configParams");this.privHeaders=C.headers,this.privIgnoreCache=C.ignoreCache}return Object(re.a)(RestMessageAdapter,[{key:"options",set:function set(C){this.privHeaders=C.headers,this.privIgnoreCache=C.ignoreCache}},{key:"setHeaders",value:function setHeaders(C,k){this.privHeaders[C]=k}},{key:"request",value:function request(C,k){var O=this,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ne=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,re=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,oe=new se.a,ue=C===P.File?"POST":C,ve=function handleRestResponse(C){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=C;return{data:JSON.stringify(k),headers:JSON.stringify(C.headers),json:k,ok:C.statusCode>=200&&C.statusCode<300,status:C.statusCode,statusText:k.error?k.error.message:O.statusText?O.statusText:O.statusMessage}},de=function blobToArrayBuffer(C){var k=new FileReader;return k.readAsArrayBuffer(C),new Promise((function(C){k.onloadend=function(){C(k.result)}}))},he=function send(ne){pe()(k,ue,O.privHeaders,200,201,202,204,400,401,402,403,404)(""===O.queryParams(M)?"":"?"+O.queryParams(M),ne).then((function(k){return __awaiter(O,void 0,void 0,F.a.mark((function _callee(){var O;return F.a.wrap((function _callee$(M){for(;;)switch(M.prev=M.next){case 0:if(C!==P.Delete&&204!==k.statusCode){M.next=4;break}oe.resolve(ve(k)),M.next=14;break;case 4:return M.prev=4,M.next=7,k.json();case 7:O=M.sent,oe.resolve(ve(k,O)),M.next=14;break;case 11:M.prev=11,M.t0=M.catch(4),oe.resolve(ve(k));case 14:case"end":return M.stop()}}),_callee,null,[[4,11]])})))})).catch((function(C){oe.reject(C)}))};if(this.privIgnoreCache&&(this.privHeaders["Cache-Control"]="no-cache"),C===P.File&&re){var fe="multipart/form-data";this.privHeaders["content-type"]=fe,this.privHeaders["Content-Type"]=fe,"undefined"!==typeof Blob&&re instanceof Blob?de(re).then((function(C){he(C)})).catch((function(C){oe.reject(C)})):he(re)}else C===P.Post&&ne&&(this.privHeaders["content-type"]="application/json",this.privHeaders["Content-Type"]="application/json"),he(ne);return oe.promise}},{key:"withQuery",value:function withQuery(C){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=this.queryParams(k);return O?C+(-1===C.indexOf("?")?"?":"&")+O:C}},{key:"queryParams",value:function queryParams(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(C).map((function(k){return encodeURIComponent(k)+"="+encodeURIComponent(C[k])})).join("&")}}],[{key:"extractHeaderValue",value:function extractHeaderValue(C,k){var O="";try{var P=k.trim().split(/[\r\n]+/),M={};P.forEach((function(C){var k=C.split(": "),O=k.shift().toLowerCase(),P=k.join(": ");M[O]=P})),O=M[C.toLowerCase()]}catch(F){}return O}}]),RestMessageAdapter}()},,,,function(C,k,O){"use strict";O.d(k,"a",(function(){return Ie}));var P=O(535),M=O(27),F=O.n(M),ne=O(110),re=(O(544),O(695)),oe=O(610),se=O(538),ue=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],pe=function startOrEnd(C){return C?6:5},ve=function updateState(C,k,O,P,M){clearTimeout(P.current),k(C),O.current=C,M&&M({state:ue[C]})},de=O(537),he=function useMenuState(C){var k=void 0===C?{}:C,O=k.initialMounted,P=k.unmountOnClose,F=k.transition,ne=function useTransition(C){var k,O,P=void 0===C?{}:C,F=P.enter,ne=void 0===F||F,re=P.exit,oe=void 0===re||re,se=P.preEnter,de=P.preExit,he=P.timeout,fe=P.initialEntered,ge=P.mountOnEnter,me=P.unmountOnExit,ye=P.onChange,be=Object(M.useState)(fe?2:pe(ge)),ke=be[0],Oe=be[1],Ee=Object(M.useRef)(ke),Re=Object(M.useRef)();"object"===typeof he?(k=he.enter,O=he.exit):k=O=he;var Ie=Object(M.useCallback)((function(){var C;switch(Ee.current){case 1:case 0:C=2;break;case 4:case 3:C=pe(me)}void 0!==C&&ve(C,Oe,Ee,Re,ye)}),[ye,me]),Ae=Object(M.useCallback)((function(C){var P=function transitState(C){switch(ve(C,Oe,Ee,Re,ye),C){case 1:k>=0&&(Re.current=setTimeout(Ie,k));break;case 4:O>=0&&(Re.current=setTimeout(Ie,O));break;case 0:case 3:Re.current=setTimeout((function(){return transitState(C+1)}),0)}},M=Ee.current<=2;"boolean"!==typeof C&&(C=!M),C?M||P(ne?se?0:1:2):M&&P(oe?de?3:4:pe(me))}),[Ie,ye,ne,oe,se,de,k,O,me]);return Object(M.useEffect)((function(){return function(){return clearTimeout(Re.current)}}),[]),[ue[ke],Ae,Ie]}({mountOnEnter:!O,unmountOnExit:P,timeout:k.transitionTimeout,enter:Object(se.j)(F,"open"),exit:Object(se.j)(F,"close")}),re=ne[0],oe=ne[1],he=ne[2];return{state:de.j[re],toggleMenu:oe,endTransition:he}},fe=O(611),ge=O(548),me=O(582),ye=O(557),be=O(558),ke=["aria-label","className","disabled","label","index","openTrigger","onMenuChange","isHovering","instanceRef","captureFocus","repositionFlag","itemProps"],Oe=["openMenu","toggleMenu","state"],Ee=["isActive","onKeyUp"],Re=["ref","className","styles"],Ie=Object(oe.a)(Object(M.memo)((function SubMenu(C){var k=C["aria-label"],O=C.className,oe=C.disabled,ue=C.label,pe=C.index,ve=C.openTrigger,be=C.onMenuChange,Ie=C.isHovering,Ae=C.instanceRef,Pe=C.itemProps,Te=void 0===Pe?{}:Pe,je=Object(P.b)(C,ke),_e=!!oe;Object(se.n)(pe,_e,ue);var De=Object(M.useContext)(de.l),Me=De.initialMounted,Ne=De.unmountOnClose,Le=De.transition,ze=De.transitionTimeout,Be=De.rootMenuRef,Fe=Object(M.useContext)(de.f),Ue=Fe.submenuOpenDelay,qe=Fe.submenuCloseDelay,Ve=Object(M.useContext)(de.i),Ke=Ve.parentMenuRef,He=Ve.parentOverflow,We=Ve.isParentOpen,Je=Ve.isSubmenuOpen,Ge=Ve.dispatch,$e="visible"!==He,Ye=function useMenuStateAndFocus(C){var k=he(C),O=Object(M.useState)(),F=O[0],ne=O[1];return Object(P.a)({},k,{openMenu:function openMenu(C,O){ne({position:C,alwaysUpdate:O}),k.toggleMenu(!0)},menuItemFocus:F})}({initialMounted:Me,unmountOnClose:Ne,transition:Le,transitionTimeout:ze}),Qe=Ye.openMenu,Xe=Ye.toggleMenu,Ze=Ye.state,et=Object(P.b)(Ye,Oe),tt=Object(se.k)(Ze),nt=Object(fe.a)(Ie,_e,de.g.RIGHT),rt=nt.isActive,it=nt.onKeyUp,ot=Object(P.b)(nt,Ee),at=Object(M.useRef)(null),st=Object(M.useRef)(null),ct=Object(M.useRef)(0),ut=function stopTimer(){ct.current&&(clearTimeout(ct.current),ct.current=0)},pt=function openMenu(){ut(),!_e&&Qe.apply(void 0,arguments)},lt=function setHover(){return!Ie&&!_e&&Ge({type:de.d.SET,index:pe})},vt=function delayOpen(C){lt(),ve||(ct.current=setTimeout((function(){return Object(se.d)(pt)}),Math.max(C,0)))};Object(M.useEffect)((function(){return function(){return clearTimeout(ct.current)}}),[]),Object(M.useEffect)((function(){Ie&&We?st.current.focus():Xe(!1)}),[Ie,We,Xe]),Object(M.useEffect)((function(){Ge({type:tt?de.m.OPEN:de.m.CLOSE})}),[Ge,tt]),function useMenuChange(C,k){var O=Object(M.useRef)(k);Object(M.useEffect)((function(){O.current!==k&&Object(se.m)(C,{open:k}),O.current=k}),[C,k])}(be,tt),Object(M.useImperativeHandle)(Ae,(function(){return{openMenu:function openMenu(){We&&(lt(),pt.apply(void 0,arguments))},closeMenu:function closeMenu(){tt&&(st.current.focus(),Xe(!1))}}}));var dt=Object(M.useMemo)((function(){return Object.freeze({open:tt,hover:Ie,active:rt,disabled:_e,submenu:!0})}),[tt,Ie,rt,_e]),ht=Te.ref,ft=Te.className,gt=Te.styles,mt=Object(P.b)(Te,Re),yt=Object(se.c)(Object(P.a)({},ot,{onMouseMove:function handleMouseMove(){ct.current||tt||_e||(Je?ct.current=setTimeout((function(){return vt(Ue-qe)}),qe):vt(Ue))},onMouseLeave:function handleMouseLeave(){ut(),tt||Ge({type:de.d.UNSET,index:pe})},onMouseDown:lt,onClick:function onClick(){return"none"!==ve&&pt()},onKeyUp:function handleKeyUp(C){if(rt)switch(it(C),C.key){case de.g.ENTER:case de.g.SPACE:case de.g.RIGHT:"none"!==ve&&pt(de.c.FIRST)}}}),mt);return F.a.createElement("li",{className:Object(ge.a)({block:de.p,element:de.u,className:O}),role:"presentation",ref:at,onKeyDown:function handleKeyDown(C){var k=!1;switch(C.key){case de.g.LEFT:tt&&(st.current.focus(),Xe(!1),k=!0);break;case de.g.RIGHT:tt||(k=!0)}k&&(C.preventDefault(),C.stopPropagation())}},F.a.createElement("div",Object(P.a)({role:"menuitem","aria-haspopup":!0,"aria-expanded":tt},Object(se.e)(_e,Ie),mt,yt,{ref:Object(me.a)(ht,st),className:Object(ge.a)({block:de.p,element:de.t,modifiers:dt,className:ft}),style:Object(ye.a)(gt,dt)}),Object(M.useMemo)((function(){return Object(se.m)(ue,dt)}),[ue,dt])),Ze&&function getMenuList(){var C=F.a.createElement(re.a,Object(P.a)({},je,et,{state:Ze,ariaLabel:k||("string"===typeof ue?ue:"Submenu"),anchorRef:st,containerRef:$e?Be:at,parentScrollingRef:$e&&Ke,isDisabled:_e}));return $e?Object(ne.createPortal)(C,Be.current):C}())})),"SubMenu");Ie.defaultProps=Object(P.a)({},be.a,{direction:"right"})},function(C,k,O){"use strict";O.d(k,"a",(function(){return Ie}));var P=O(1),M=O.n(P),F=O(3),ne=O(4),re=O(542),oe=O(551),se=O(536),ue=O(824),pe=O(631),ve=O(812),de=O(819),he=O(825),fe=function(){function ConnectionOpenResponse(C,k){Object(F.a)(this,ConnectionOpenResponse),this.privStatusCode=C,this.privReason=k}return Object(ne.a)(ConnectionOpenResponse,[{key:"statusCode",get:function get(){return this.privStatusCode}},{key:"reason",get:function get(){return this.privReason}}]),ConnectionOpenResponse}(),ge=O(823),me=O(828),ye=O(790),be=O(789),ke=O(792),Oe=O.n(ke),Ee=O(793),__awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Re=function(){function WebsocketMessageAdapter(C,k,O,P,M,ne){var oe=this;if(Object(F.a)(this,WebsocketMessageAdapter),this.open=function(){if(oe.privConnectionState===ue.a.Disconnected)return Promise.reject("Cannot open a connection that is in ".concat(oe.privConnectionState," state"));if(oe.privConnectionEstablishDeferral)return oe.privConnectionEstablishDeferral.promise;oe.privConnectionEstablishDeferral=new pe.a,oe.privCertificateValidatedDeferral=new pe.a,oe.privConnectionState=ue.a.Connecting;try{if("undefined"===typeof WebSocket||WebsocketMessageAdapter.forceNpmWebSocket){var C={headers:oe.privHeaders,perMessageDeflate:oe.privEnableCompression};oe.privCertificateValidatedDeferral.resolve();var k=new Ee.a(oe.proxyInfo);C.agent=k.GetAgent();var O=new URL(oe.privUri).protocol;"wss:"===(null===O||void 0===O?void 0:O.toLocaleLowerCase())?O="https:":"ws:"===(null===O||void 0===O?void 0:O.toLocaleLowerCase())&&(O="http:"),C.agent.protocol=O,oe.privWebsocketClient=new Oe.a(oe.privUri,C)}else oe.privCertificateValidatedDeferral.resolve(),oe.privWebsocketClient=new WebSocket(oe.privUri);oe.privWebsocketClient.binaryType="arraybuffer",oe.privReceivingMessageQueue=new ve.a,oe.privDisconnectDeferral=new pe.a,oe.privSendMessageQueue=new ve.a,oe.processSendQueue().catch((function(C){de.a.instance.onEvent(new he.a(C))}))}catch(P){return oe.privConnectionEstablishDeferral.resolve(new fe(500,P)),oe.privConnectionEstablishDeferral.promise}return oe.onEvent(new ge.g(oe.privConnectionId,oe.privUri)),oe.privWebsocketClient.onopen=function(C){oe.privCertificateValidatedDeferral.promise.then((function(){oe.privConnectionState=ue.a.Connected,oe.onEvent(new ge.d(oe.privConnectionId)),oe.privConnectionEstablishDeferral.resolve(new fe(200,""))}),(function(C){oe.privConnectionEstablishDeferral.reject(C)}))},oe.privWebsocketClient.onerror=function(C){oe.onEvent(new ge.b(oe.privConnectionId,C.message,C.type)),oe.privLastErrorReceived=C.message},oe.privWebsocketClient.onclose=function(C){oe.privConnectionState===ue.a.Connecting?(oe.privConnectionState=ue.a.Disconnected,oe.privConnectionEstablishDeferral.resolve(new fe(C.code,C.reason+" "+oe.privLastErrorReceived))):(oe.privConnectionState=ue.a.Disconnected,oe.privWebsocketClient=null,oe.onEvent(new ge.a(oe.privConnectionId,C.code,C.reason))),oe.onClose(C.code,C.reason).catch((function(C){de.a.instance.onEvent(new he.a(C))}))},oe.privWebsocketClient.onmessage=function(C){var k=(new Date).toISOString();if(oe.privConnectionState===ue.a.Connected){var O=new pe.a;if(oe.privReceivingMessageQueue.enqueueFromPromise(O.promise),C.data instanceof ArrayBuffer){var P=new me.a(ye.b.Binary,C.data);oe.privMessageFormatter.toConnectionMessage(P).then((function(C){oe.onEvent(new ge.e(oe.privConnectionId,k,C)),O.resolve(C)}),(function(C){O.reject("Invalid binary message format. Error: ".concat(C))}))}else{var M=new me.a(ye.b.Text,C.data);oe.privMessageFormatter.toConnectionMessage(M).then((function(C){oe.onEvent(new ge.e(oe.privConnectionId,k,C)),O.resolve(C)}),(function(C){O.reject("Invalid text message format. Error: ".concat(C))}))}}},oe.privConnectionEstablishDeferral.promise},this.send=function(C){if(oe.privConnectionState!==ue.a.Connected)return Promise.reject("Cannot send on connection that is in ".concat(ue.a[oe.privConnectionState]," state"));var k=new pe.a,O=new pe.a;return oe.privSendMessageQueue.enqueueFromPromise(O.promise),oe.privMessageFormatter.fromConnectionMessage(C).then((function(P){O.resolve({Message:C,RawWebsocketMessage:P,sendStatusDeferral:k})}),(function(C){O.reject("Error formatting the message. ".concat(C))})),k.promise},this.read=function(){return oe.privConnectionState!==ue.a.Connected?Promise.reject("Cannot read on connection that is in ".concat(oe.privConnectionState," state")):oe.privReceivingMessageQueue.dequeue()},this.close=function(C){return oe.privWebsocketClient?(oe.privConnectionState!==ue.a.Disconnected&&oe.privWebsocketClient.close(1e3,C||"Normal closure by client"),oe.privDisconnectDeferral.promise):Promise.resolve()},this.sendRawMessage=function(C){try{return C?(oe.onEvent(new ge.f(oe.privConnectionId,(new Date).toISOString(),C.Message)),oe.isWebsocketOpen?(oe.privWebsocketClient.send(C.RawWebsocketMessage.payload),Promise.resolve()):Promise.reject("websocket send error: Websocket not ready "+oe.privConnectionId+" "+C.Message.id+" "+(new Error).stack)):Promise.resolve()}catch(k){return Promise.reject("websocket send error: ".concat(k))}},this.onEvent=function(C){oe.privConnectionEvents.onEvent(C),de.a.instance.onEvent(C)},!C)throw new re.a("uri");if(!O)throw new re.a("messageFormatter");this.proxyInfo=P,this.privConnectionEvents=new be.a,this.privConnectionId=k,this.privMessageFormatter=O,this.privConnectionState=ue.a.None,this.privUri=C,this.privHeaders=M,this.privEnableCompression=ne,this.privHeaders[se.a.ConnectionId]=this.privConnectionId,this.privLastErrorReceived=""}return Object(ne.a)(WebsocketMessageAdapter,[{key:"state",get:function get(){return this.privConnectionState}},{key:"events",get:function get(){return this.privConnectionEvents}},{key:"onClose",value:function onClose(C,k){return __awaiter(this,void 0,void 0,M.a.mark((function _callee(){var O;return M.a.wrap((function _callee$(P){for(;;)switch(P.prev=P.next){case 0:return O="Connection closed. ".concat(C,": ").concat(k),this.privConnectionState=ue.a.Disconnected,this.privDisconnectDeferral.resolve(),P.next=5,this.privReceivingMessageQueue.drainAndDispose((function(C){}),O);case 5:return P.next=7,this.privSendMessageQueue.drainAndDispose((function(C){C.sendStatusDeferral.reject(O)}),O);case 7:case"end":return P.stop()}}),_callee,this)})))}},{key:"processSendQueue",value:function processSendQueue(){return __awaiter(this,void 0,void 0,M.a.mark((function _callee2(){var C,k;return M.a.wrap((function _callee2$(O){for(;;)switch(O.prev=O.next){case 0:return C=this.privSendMessageQueue.dequeue(),O.next=4,C;case 4:if(k=O.sent){O.next=7;break}return O.abrupt("return");case 7:return O.prev=7,O.next=10,this.sendRawMessage(k);case 10:k.sendStatusDeferral.resolve(),O.next=16;break;case 13:O.prev=13,O.t0=O.catch(7),k.sendStatusDeferral.reject(O.t0);case 16:O.next=0;break;case 18:case"end":return O.stop()}}),_callee2,this,[[7,13]])})))}},{key:"isWebsocketOpen",get:function get(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}}]),WebsocketMessageAdapter}();Re.forceNpmWebSocket=!1;var WebsocketConnection_awaiter=function(C,k,O,P){return new(O||(O=Promise))((function(M,F){function fulfilled(C){try{step(P.next(C))}catch(k){F(k)}}function rejected(C){try{step(P.throw(C))}catch(k){F(k)}}function step(C){C.done?M(C.value):function adopt(C){return C instanceof O?C:new O((function(k){k(C)}))}(C.value).then(fulfilled,rejected)}step((P=P.apply(C,k||[])).next())}))},Ie=function(){function WebsocketConnection(C,k,O,P,M){var ne=this,se=arguments.length>5&&void 0!==arguments[5]&&arguments[5],ue=arguments.length>6?arguments[6]:void 0;if(Object(F.a)(this,WebsocketConnection),this.privIsDisposed=!1,this.isDisposed=function(){return ne.privIsDisposed},this.state=function(){return ne.privConnectionMessageAdapter.state},this.open=function(){return ne.privConnectionMessageAdapter.open()},this.send=function(C){return ne.privConnectionMessageAdapter.send(C)},this.read=function(){return ne.privConnectionMessageAdapter.read()},!C)throw new re.a("uri");if(!P)throw new re.a("messageFormatter");this.privMessageFormatter=P;var pe="",ve=0;if(k)for(var de in k)if(de){pe+=0===ve&&-1===C.indexOf("?")?"?":"&";var he=encodeURIComponent(k[de]);pe+="".concat(de,"=").concat(he),ve++}if(O)for(var fe in O)if(fe){pe+=0===ve&&-1===C.indexOf("?")?"?":"&";var ge=encodeURIComponent(O[fe]);pe+="".concat(fe,"=").concat(ge),ve++}this.privUri=C+pe,this.privId=ue||Object(oe.b)(),this.privConnectionMessageAdapter=new Re(this.privUri,this.id,this.privMessageFormatter,M,O,se)}return Object(ne.a)(WebsocketConnection,[{key:"dispose",value:function dispose(){return WebsocketConnection_awaiter(this,void 0,void 0,M.a.mark((function _callee(){return M.a.wrap((function _callee$(C){for(;;)switch(C.prev=C.next){case 0:if(this.privIsDisposed=!0,!this.privConnectionMessageAdapter){C.next=4;break}return C.next=4,this.privConnectionMessageAdapter.close();case 4:case"end":return C.stop()}}),_callee,this)})))}},{key:"id",get:function get(){return this.privId}},{key:"events",get:function get(){return this.privConnectionMessageAdapter.events}}]),WebsocketConnection}()}])]);
//# sourceMappingURL=5.4af5264f.chunk.js.map