(this.webpackJsonpreshell=this.webpackJsonpreshell||[]).push([[4],{152:function(e,t,n){e.exports={layout:"Layout_layout__3PvPc",header:"Layout_header__3EItT",content:"Layout_content__1t8Hf",footer:"Layout_footer__3EMQb"}},157:function(e,t,n){e.exports={"window-outer-border":"Window_window-outer-border__3TebC",hidden:"Window_hidden__3nppO",maximized:"Window_maximized__1kLcW",minimized:"Window_minimized__10t2-",dragging:"Window_dragging__2Ctk1",window:"Window_window__uDx5P",active:"Window_active__eAyll",titlebar:"Window_titlebar__yB8Zx",title:"Window_title__3FnAS","window-controls":"Window_window-controls__1ACD5",maximize:"Window_maximize__2aW7z",minimize:"Window_minimize__hemKn",close:"Window_close__38hm-"}},183:function(e,t,n){e.exports={"stacking-context":"StackingContext_stacking-context__3KDjJ",accelerated:"StackingContext_accelerated__E4pfU"}},184:function(e,t,n){e.exports={full:"Full_full__3xUwm"}},185:function(e,t,n){e.exports={cover:"Cover_cover__3qNO7","no-display":"Cover_no-display__vixgE"}},187:function(e,t,n){e.exports={row:"RowColumn_row__2MIpa",column:"RowColumn_column__3aAA3"}},188:function(e,t,n){e.exports={"no-wrap":"NoWrap_no-wrap__2b0bc"}},190:function(e,t,n){e.exports={led:"LED_led__1cyGI",gray:"LED_gray__3hMZV",grey:"LED_grey__1_Ool",red:"LED_red__2O1gd",orange:"LED_orange__1Asac",yellow:"LED_yellow__H5_0O",green:"LED_green__5BS9Y",blue:"LED_blue__fOsqG"}},191:function(e,t,n){e.exports={"auto-scaler":"AutoScaler_auto-scaler__zdzsp","content-wrap":"AutoScaler_content-wrap__2tFDr"}},196:function(e,t,n){},197:function(e,t,n){e.exports={padding:"Padding_padding__3cEtV","no-siblings":"Padding_no-siblings__1nLrM"}},199:function(e,t,n){e.exports={animation:"Animation_animation__1HH_d",inline:"Animation_inline__3Lb1U"}},200:function(e,t,n){e.exports={"button-transparent":"ButtonTransparent_button-transparent__nu1PF"}},201:function(e,t,n){e.exports={notification:"Notification_notification__1C7Ma","main-image-wrap":"Notification_main-image-wrap__30_l1","main-image":"Notification_main-image__fpW0x","main-button":"Notification_main-button__3XiPY","body-outer-wrap":"Notification_body-outer-wrap__2RNF3","body-inner-wrap":"Notification_body-inner-wrap__2Kjzr",body:"Notification_body__1iO2i",title:"Notification_title__3IJtT","close-button":"Notification_close-button__3j56e"}},202:function(e,t,n){e.exports={"notifications-stack":"NotificationsStack_notifications-stack__1ecNs","inner-wrap":"NotificationsStack_inner-wrap__2pUR5"}},203:function(e,t,n){e.exports={"virtual-link":"VirtualLink_virtual-link__76t27"}},204:function(e,t,n){e.exports={center:"Center_center__PZFg8","inner-wrap":"Center_inner-wrap__2OIMV",overflown:"Center_overflown__LMy0-"}},205:function(e,t,n){e.exports={"color-adjuster":"ColorAdjuster_color-adjuster__J_S1V"}},207:function(e,t,n){e.exports={"object-viewer":"ObjectViewer_object-viewer__8k3ak"}},208:function(e){e.exports=JSON.parse('{"name":"reshell","version":"0.0.1-alpha","private":true,"dependencies":{"@craco/craco":"^6.2.0","@react-spring/web":"^9.2.4","@szhsin/react-menu":"^2.1.0","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","animate.css":"^4.1.1","axios":"^0.23.0","classnames":"^2.3.1","concurrently":"^6.2.1","dayjs":"^1.10.7","debounce":"^1.2.1","media-stream-track-controller":"github:zenosmosis/media-stream-track-controller#feature/phantom-core-2.0.0-alpha","phantom-core":"github:zenosmosis/phantom-core#v2/feature--core-utils","preload-it":"^1.4.0","query-string":"^7.0.1","react":"^17.0.2","react-dom":"^17.0.2","react-json-view":"^1.21.3","react-router-dom":"^5.3.0","react-scripts":"4.0.3","react-use-gesture":"^9.1.3","resize-observer":"^1.0.2","secure-ls":"^1.2.6","socket.io-client":"^4.3.0","web-vitals":"^1.0.1","xterm":"^4.14.1","xterm-addon-fit":"^0.5.0","xterm-addon-web-links":"^0.4.0"},"scripts":{"start":"HTTPS=true craco start","start:no-ssl":"craco start","start:docker.dev":"npm run stop:docker.dev && docker-compose -f docker-compose.dev.yml up","stop:docker.dev":"docker-compose -f docker-compose.dev.yml down --remove-orphans","build:docker.dev":"docker-compose -f docker-compose.dev.yml build","start:frontend-with-hostbridge-proxy":"concurrently \\"npm run start:host-bridge\\" \\"npm run start\\"","start:host-bridge":"cd host.bridge-prototype && npm install node-pty && npm run start:dev","build":"craco build","build:with-profiling":"craco build --profile","test":"craco test","eject":"craco eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},222:function(e,t,n){e.exports={levels:"AudioLevelMeter_levels__3baNN","level-container":"AudioLevelMeter_level-container__12piT",level:"AudioLevelMeter_level__2fRqJ","level-animation":"AudioLevelMeter_level-animation__251Dc"}},223:function(e,t,n){e.exports={"loading-wrapper":"StaggeredWaveLoading_loading-wrapper__35kvv",loading:"StaggeredWaveLoading_loading__9ah1x",dot:"StaggeredWaveLoading_dot__1cWhz",wave:"StaggeredWaveLoading_wave__Du7Gv"}},224:function(e,t,n){e.exports={vu:"VUMeter_vu__Xlt7R",mask:"VUMeter_mask__2OXhL",needle:"VUMeter_needle__AmMsB","vu-label":"VUMeter_vu-label__3kDDJ"}},225:function(e,t,n){e.exports={video:"Video_video__2GgL9"}},226:function(e,t,n){},229:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),c=n(13),a=n(24),o=n(53),s=n(11),l=n(1),u=n.n(l),d=n(81);function j(){return Object(l.useContext)(d.a)}var b=n(80);function O(){return Object(l.useContext)(b.a)}var h=n(148),f=n(7),v=u.a.createContext({});function m(e){var t,n=e.children,r=Object(h.e)(),i=O().getAppRuntimesWithRegistrationID,c=Object(l.useState)([]),a=Object(s.a)(c,2),o=a[0],u=a[1];Object(l.useEffect)((function(){var e,t=null===(e=r.pathname)||void 0===e?void 0:e.substring(1),n=i(t);u(n)}),[r,i]);var d=j().activeWindowController,b=null===d||void 0===d||null===(t=d.getAppRuntime())||void 0===t?void 0:t.getRegistrationID(),m=Object(h.d)();return Object(l.useEffect)((function(){m.push(b?"/".concat(b):"/")}),[b,m]),Object(f.jsx)(v.Provider,{value:{locationAppRuntimes:o},children:n})}var p=n(4),x=n(8),g=n(6),y=n(5),w=n(54),k=n.n(w),S=n(183),C=n.n(S),A=["className","children","isAccelerated","onMount","onDOMMatrix"],_=function(e){var t=e.className,n=e.children,r=e.isAccelerated,i=void 0!==r&&r,a=e.onMount,s=void 0===a?function(){return null}:a,u=e.onDOMMatrix,d=void 0===u?function(){return null}:u,j=Object(o.a)(e,A),b=Object(l.useRef)(s),O=Object(l.useRef)(d),h=Object(l.useRef)(i),v=Object(l.useRef)(null);return Object(l.useEffect)((function(){var e=v.current;if(e){var t=b.current,n=O.current;h.current&&setTimeout((function(){var t=window.getComputedStyle(e),r=new DOMMatrix(t.transform);r.is2D&&console.warn("Unable to apply, or detect, added 3D space to accelerated element",e),n(r)})),t(e)}}),[]),Object(f.jsx)("div",Object(c.a)(Object(c.a)({ref:v},j),{},{className:k()(C.a["stacking-context"],i&&C.a.accelerated,t),children:n}))},N=n(184),E=n.n(N),T=["children","className"],D=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=Object(o.a)(e,T);return Object(f.jsx)(_,Object(c.a)(Object(c.a)({},r),{},{className:k()(E.a.full,n),children:t}))}}]),n}(l.Component),M=n(185),R=n.n(M),z=["isVisible","children","className"],I=u.a.forwardRef((function(e,t){var n=e.isVisible,r=void 0===n||n,i=e.children,a=(e.className,Object(o.a)(e,z));return Object(f.jsx)(D,Object(c.a)(Object(c.a)({ref:t},a),{},{className:k()(R.a.cover,r?"":R.a["no-display"]),children:i}))})),P=n(0),L=n.n(P),W=n(3),U=n(16),V=n(12),B=n(9),H=n(186),F="render-profile",K="resized",Y=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0,a=c.onBringToTop;Object(p.a)(this,n);var o={isMaximized:!1,isMinimized:!1,title:(e=t.call(this)).getTitle()};return e._state=Object.seal(Object(r.deepMerge)(o,i)),e._appRuntime=null,e._windowEl=null,e._windowManagerEl=null,e._handleBringToTop=a,e._emitDebouncedResized=Object(H.debounce)(e._emitDebouncedResized.bind(Object(U.a)(e)),500),e._emitDebouncedMoved=Object(H.debounce)(e._emitDebouncedMoved.bind(Object(U.a)(e)),500),e._centerHandler=null,e._scatterHandler=null,e}return Object(x.a)(n,[{key:"destroy",value:function(){var e=Object(W.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._emitDebouncedResized.clear(),!this._appRuntime){e.next=4;break}return e.next=4,this._appRuntime.destroy();case 4:return this._state={},this._appRuntime=null,this._windowEl=null,this._windowManagerEl=null,e.abrupt("return",Object(V.a)(Object(B.a)(n.prototype),"destroy",this).call(this));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"__INTERNAL__setCenterHandler",value:function(e){this._centerHandler=e}},{key:"center",value:function(){return this._centerHandler()}},{key:"__INTERNAL__setScatterHandler",value:function(e){this._scatterHandler=e}},{key:"scatter",value:function(){return this._scatterHandler()}},{key:"bringToTop",value:function(){this._handleBringToTop(this)}},{key:"captureRenderProfile",value:function(e){this.emit(F,e)}},{key:"attachWindowElement",value:function(e){this._windowEl=e}},{key:"attachWindowManagerElement",value:function(e){this._windowManagerEl=e}},{key:"setAppRuntime",value:function(e){this._appRuntime=e,this._appRuntime.setTitle(this.getTitle())}},{key:"getAppRuntime",value:function(){return this._appRuntime}},{key:"getAppRegistration",value:function(){var e=this.getAppRuntime();if(e)return e.getRegistration()}},{key:"setSize",value:function(e){var t=this,n=e.width,r=e.height,i=this._windowEl;i&&window.requestAnimationFrame((function(){void 0!==n&&(i.style.width="".concat(n,"px")),void 0!==r&&(i.style.height="".concat(r,"px")),t._emitDebouncedResized()}))}},{key:"_emitDebouncedResized",value:function(){this.emit(K)}},{key:"getSize",value:function(){var e=this._windowEl;if(e)return{width:e.offsetWidth,height:e.offsetHeight};console.warn("Unable to acquire windowEl")}},{key:"getWindowManagerSize",value:function(){var e=this._windowManagerEl;if(e)return{width:parseInt(e.offsetWidth,10),height:parseInt(e.offsetHeight,10)};console.warn("Unable to acquire windowManagerEl")}},{key:"setPosition",value:function(e){var t=this,n=e.x,r=e.y,i=this._windowEl;i&&window.requestAnimationFrame((function(){void 0!==n&&(i.style.left="".concat(n,"px"),delete i.style.right),void 0!==r&&(i.style.top="".concat(r,"px"),delete i.style.bottom),t._emitDebouncedMoved()}))}},{key:"_emitDebouncedMoved",value:function(){this.emit("moved")}},{key:"getPosition",value:function(){var e=this._windowEl;if(e)return{x:parseInt(e.offsetLeft,10),y:parseInt(e.offsetTop,10)}}},{key:"getIsBorderDisabled",value:function(){return this.getIsMaximized()||this.getIsMinimized()}},{key:"setState",value:function(e){if("object"!==typeof e)throw new TypeError("partialNextState is not an object");void 0!==e.title&&this._appRuntime&&this._appRuntime.setTitle(e.title),e.isMaximized?e.isMinimized=!1:e.isMinimized&&(e.isMaximized=!1),this._state=Object(r.deepMerge)(this._state,e),this.emit(r.EVT_UPDATED,e)}},{key:"setTitle",value:function(e){this.setState({title:e}),Object(V.a)(Object(B.a)(n.prototype),"setTitle",this).call(this,e)}},{key:"getState",value:function(){return this._state}},{key:"setIsMaximized",value:function(e){return this.setState({isMaximized:e})}},{key:"maximize",value:function(){return this.setIsMaximized(!0)}},{key:"getIsMaximized",value:function(){return this._state.isMaximized}},{key:"setIsMinimized",value:function(e){return this.setState({isMinimized:e})}},{key:"minimize",value:function(){return this.setIsMinimized(!0)}},{key:"getIsMinimized",value:function(){return this._state.isMinimized}},{key:"restore",value:function(){this.setState({isMaximized:!1,isMinimized:!1})}}]),n}(i.a),Q=n(152),G=n.n(Q),Z=["className","children"];function q(e){var t=e.className,n=e.children,r=Object(o.a)(e,Z);return Object(f.jsx)("div",Object(c.a)(Object(c.a)({},r),{},{className:k()(G.a.header,t),children:Object(f.jsx)(D,{children:n})}))}var J=["className","children"];function X(e){var t=e.className,n=e.children,r=Object(o.a)(e,J);return Object(f.jsx)("div",Object(c.a)(Object(c.a)({},r),{},{className:k()(G.a.content,t),children:Object(f.jsx)(D,{children:n})}))}var $=["className","children"];function ee(e){var t=e.className,n=e.children,r=Object(o.a)(e,$);return Object(f.jsx)("div",Object(c.a)(Object(c.a)({},r),{},{className:k()(G.a.footer,t),children:Object(f.jsx)(D,{children:n})}))}var te=n(187),ne=n.n(te),re=["children","className"],ie=["children","className"];function ce(e){var t=e.children,n=e.className,r=Object(o.a)(e,re);return Object(f.jsx)("div",Object(c.a)(Object(c.a)({},r),{},{className:k()(ne.a.row,n),children:t}))}function ae(e){var t=e.children,n=e.className,r=Object(o.a)(e,ie);return Object(f.jsx)("div",Object(c.a)(Object(c.a)({},r),{},{className:k()(ne.a.column,n),children:t}))}var oe=["className","children"];var se=function(e){var t=e.className,n=e.children,r=Object(o.a)(e,oe);return Object(f.jsx)(D,Object(c.a)(Object(c.a)({},r),{},{className:k()(G.a.layout,t),children:n}))},le=n(166),ue=["children","onBorderDrag","borderWidth","isDisabled"],de="SE",je="SW";var be=n(188),Oe=n.n(be),he=["children","className"];var fe=function(e){var t=e.children,n=e.className,r=Object(o.a)(e,he);return Object(f.jsx)("span",Object(c.a)(Object(c.a)({},r),{},{className:k()(Oe.a["no-wrap"],n),children:t}))},ve=n(157),me=n.n(ve);function pe(e){var t=Object.assign({},e);return Object(f.jsx)(ye,Object(c.a)(Object(c.a)({},t),{},{className:me.a.maximize}))}function xe(e){var t=Object.assign({},e);return Object(f.jsx)(ye,Object(c.a)(Object(c.a)({},t),{},{className:me.a.minimize}))}function ge(e){var t=Object.assign({},e);return Object(f.jsx)(ye,Object(c.a)(Object(c.a)({},t),{},{className:me.a.close}))}function ye(e){var t=Object.assign({},e);return Object(f.jsx)("button",Object(c.a)({},t))}var we=function(e){var t=e.onElTitlebar,n=e.title,r=e.onRestoreOrMaximize,i=e.onMinimize,c=e.onClose,a=e.titleBarView;return Object(f.jsxs)("div",{ref:t,className:me.a.titlebar,onDoubleClick:r,children:[a?Object(f.jsx)(D,{children:a}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(fe,{style:{width:80}}),Object(f.jsx)(fe,{className:me.a.title,children:n})]}),Object(f.jsxs)(fe,{className:me.a["window-controls"],children:[Object(f.jsx)(pe,{onClick:r}),Object(f.jsx)(xe,{onClick:i}),Object(f.jsx)(ge,{onClick:c})]})]})};function ke(e){return{x:e.offsetLeft+e.offsetWidth/2,y:e.offsetTop+e.offsetHeight/2}}function Se(e){return{width:e.offsetWidth,height:e.offsetHeight}}n(189);function Ce(e){var t=e.domElement,n=e.animationName,r=e.animationDuration,i=void 0===r?"1s":r,c=e.animationDelay,a=void 0===c?"0s":c,o=e.onAnimationEnd,s=e.animationEngine,u=void 0===s?"animate.css":s,d=e.isDisabled,j=void 0!==d&&d,b=e.shouldRun,O=void 0===b||b;"string"!==typeof i&&console.warn('animationDuration should be a string (i.e. "1s")'),"string"!==typeof a&&console.warn('animationDelay should be a string (i.e. "0s")');var h=Object(l.useRef)(o);Object(l.useEffect)((function(){if(O&&t){if(!j){var e=t.classList;switch(t.style.visibility="visible",t.style.animationDuration=i,t.style.animationDelay=a,u){case"animate.css":!function(){var r="animate__animated";e.contains(r)||t.classList.add(r),e.contains("animate__"+n)||t.classList.add("animate__"+n)}();break;default:throw new Error("Unsupported animation engine: ".concat(u))}var r=h.current;return t.addEventListener("animationend",r),function(){t.removeEventListener("animationend",r)}}t.style.visibility="visible"}}),[u,n,i,a,t,j,O])}var Ae=["children","elWindowManager","windowController","isActive","isProfiling","titleBarView","style"],_e=function e(t){var n=t.children,i=t.elWindowManager,a=t.windowController,d=t.isActive,j=t.isProfiling,b=void 0===j||j,h=t.titleBarView,v=void 0===h?null:h,m=t.style,p=void 0===m?{}:m,x=Object(o.a)(t,Ae),g=Object(l.useState)(null),y=Object(s.a)(g,2),w=y[0],S=y[1],C=function(e){var t=Object(l.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1];return Ce({domElement:e,animationName:"zoomInUp",animationDuration:".5s",shouldRun:Boolean(e),onAnimationEnd:function(){return i(!0)}}),{isOpenAnimationEnded:r}}(w).isOpenAnimationEnded;!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return null},i=Object(l.useRef)(null);t&&(i.current=r);var c=Object(l.useCallback)((function(){var r=ke(e),i=Se(t),c=r.x-i.width/2,a=r.y-i.height/2;n.setPosition({x:c,y:a})}),[e,t,n]),a=Object(l.useCallback)((function(){if(n){var r=Se(e),i=Se(t),c=Math.floor(Math.random()*(r.width-i.width)),a=Math.floor(Math.random()*(r.height-i.height));n.setPosition({x:c,y:a})}}),[e,t,n]),o=O().appRuntimes,s=Object(l.useRef)(o);Object(l.useEffect)((function(){e&&t&&n&&(n.__INTERNAL__setCenterHandler(c),n.__INTERNAL__setScatterHandler(a),requestAnimationFrame((function(){s.current.length<2?c():a(),requestAnimationFrame((function(){i.current()}))})))}),[e,t,n,c,a])}(i,w,a);var A=Object(l.useState)(null),N=Object(s.a)(A,2),E=N[0],T=N[1],M=Object(l.useState)(0),R=Object(s.a)(M,2),z=R[0],I=R[1],P=Object(l.useState)(null),L=Object(s.a)(P,2),W=L[0],U=L[1];Object(l.useEffect)((function(){a&&w&&a.attachWindowElement(w)}),[a,w]);var V=Object(l.useState)(!1),B=Object(s.a)(V,2),H=B[0],F=B[1],K=Object(l.useRef)(null);K.current=H;var Y=Object(l.useState)(!1),Q=Object(s.a)(Y,2),G=Q[0],Z=Q[1],J=Object(l.useState)(!1),$=Object(s.a)(J,2),ee=$[0],te=$[1];Object(l.useEffect)((function(){if(a){var e=function(e){e||(e=a.getState()||{}),void 0!==e.title&&e.title!==W&&U(e.title),void 0!==e.stackingIndex&&e.stackingIndex!==z&&I(e.stackingIndex),void 0!==e.isMaximized&&Z(e.isMaximized),void 0!==e.isMinimized&&te(e.isMinimized);var t=a.getIsBorderDisabled();K.current!==t&&F(t)};return e(),a.on(r.EVT_UPDATED,e),function(){a.off(r.EVT_UPDATED,e)}}}),[a,W,z]);var ne=function(e){return{onRestoreOrMaximize:Object(l.useCallback)((function(){e.getIsMaximized()?e.restore():e.maximize()}),[e]),onMinimize:Object(l.useCallback)((function(){e.minimize()}),[e]),onClose:Object(l.useCallback)((function(){e.destroy()}),[e])}}(a),re=ne.onRestoreOrMaximize,ie=ne.onMinimize,ce=ne.onClose,ae=function(e){var t=e.windowController,n=e.elTitlebar,r=e.isDisabled,i=Object(l.useRef)(null),c=Object(l.useRef)(null),a=Object(l.useState)(!1),o=Object(s.a)(a,2),u=o[0],d=o[1];return[Object(le.a)((function(e){var a=e.down,o=Object(s.a)(e.movement,2),l=o[0],j=o[1],b=e.xy,O=e.event;if(!r&&"BUTTON"!==O.target.tagName.toUpperCase()&&(a!==u&&d(a),n.contains(O.target)))if(a){i.current||(i.current=t.getPosition()),c.current||(c.current=t.getWindowManagerSize());var h=i.current.x+l,f=i.current.y+j,v=c.current.width,m=c.current.height;f<0&&(f=0),f>m-58&&(f=m-58),b[0]<0&&(h=null),b[0]>v-0&&(h=null),t.setPosition({x:h,y:f})}else i.current=null,c.current=null})),u]}({windowController:a,elTitlebar:E,isDisabled:H}),oe=Object(s.a)(ae,2),ue=oe[0],be=oe[1],Oe=function(e){var t=e.windowController,n=Object(l.useRef)(null),r=Object(l.useRef)(null),i=Object(l.useState)(!1),a=Object(s.a)(i,2),o=a[0],u=a[1];return[Object(l.useCallback)((function(e,i){var a=i.mx,s=i.my,l=i.isDragging;if(l!==o&&u(l),l){n.current||(n.current=Object(c.a)(Object(c.a)({},t.getSize()),t.getPosition())),r.current||(r.current=t.getWindowManagerSize());var d=n.current.width,j=n.current.height,b=n.current.x,O=n.current.y,h=r.current.width,f=r.current.height;switch(e){case"NW":d-=a,j-=s,b+=a,O+=s;break;case"N":j-=s,O+=s;break;case"NE":j-=s,d+=a,O+=s;break;case"E":d+=a;break;case de:d+=a,j+=s;break;case"S":j+=s;break;case je:d-=a,j+=s,b+=a;break;case"W":d-=a,b+=a;break;default:throw new ReferenceError("Unknown direction: ".concat(e))}if(b<0){var v=0-b;b=0,d-=v}if(O<0){var m=0-O;O=0,j-=m}if(d+b>h&&(d=h-b,b=null),j+O>f&&("S"!==e&&e!==de&&e!==je||(j=f-O,O=null)),f-O<58)return;t.setSize({width:d,height:j}),t.setPosition({x:b,y:O})}else n.current=null,r.current=null}),[t,o]),o]}({windowController:a}),he=Object(s.a)(Oe,2),fe=he[0],ve=he[1],pe=Object(l.useMemo)((function(){return function(e){var t=Object.assign({},e);return b?Object(f.jsx)(u.a.Profiler,Object(c.a)(Object(c.a)({},t),{},{id:a.getUUID(),onRender:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.captureRenderProfile(t)}})):Object(f.jsx)(u.a.Fragment,Object(c.a)({},t))}}),[b,a]),xe=function(e){var t=e.style,n=e.isMaximized,r=e.isMinimized;return{outerBorderStyle:Object(l.useMemo)((function(){return n||r?{}:{width:t.width,height:t.height}}),[t.width,t.height,n,r]),windowStyle:Object(l.useMemo)((function(){return{backgroundColor:t.backgroundColor}}),[t.backgroundColor]),bodyStyle:Object(l.useMemo)((function(){return{padding:t.padding}}),[t.padding])}}({style:p,isMaximized:G,isMinimized:ee}),ge=xe.outerBorderStyle,ye=xe.windowStyle,_e=xe.bodyStyle;return Object(f.jsx)(pe,{children:Object(f.jsx)(_,Object(c.a)(Object(c.a)({onMount:S},x),{},{style:Object(c.a)(Object(c.a)({},ge),{},{zIndex:z}),className:k()(me.a["window-outer-border"],!C&&me.a.hidden,d&&me.a.active,G&&me.a.maximized,ee&&me.a.minimized,(be||ve)&&me.a.dragging),isAccelerated:!0,children:Object(f.jsx)(e.Border,{isDisabled:H,onBorderDrag:fe,children:Object(f.jsx)(D,Object(c.a)(Object(c.a)({},ue()),{},{className:k()(me.a.window,d&&me.a.active,be&&me.a.dragging),style:ye,children:Object(f.jsxs)(se,{children:[Object(f.jsx)(q,{children:Object(f.jsx)(we,{onElTitlebar:T,title:W,onRestoreOrMaximize:re,onMinimize:ie,onClose:ce,titleBarView:v})}),Object(f.jsx)(X,{className:me.a.body,style:_e,children:n})]})}))})}))})};_e.Border=function(e){var t=e.children,n=e.onBorderDrag,r=e.borderWidth,i=void 0===r?3:r,a=e.isDisabled,l=void 0!==a&&a,u=Object(o.a)(e,ue),d=Object(le.a)((function(e){var t=e.down,r=Object(s.a)(e.movement,2),i=r[0],c=r[1];n("NW",{mx:i,my:c,isDragging:t})})),j=Object(le.a)((function(e){var t=e.down,r=Object(s.a)(e.movement,2),i=r[0],c=r[1];n("N",{mx:i,my:c,isDragging:t})})),b=Object(le.a)((function(e){var t=e.down,r=Object(s.a)(e.movement,2),i=r[0],c=r[1];n("NE",{mx:i,my:c,isDragging:t})})),O=Object(le.a)((function(e){var t=e.down,r=Object(s.a)(e.movement,2),i=r[0],c=r[1];n("E",{mx:i,my:c,isDragging:t})})),h=Object(le.a)((function(e){var t=e.down,r=Object(s.a)(e.movement,2),i=r[0],c=r[1];n(de,{mx:i,my:c,isDragging:t})})),v=Object(le.a)((function(e){var t=e.down,r=Object(s.a)(e.movement,2),i=r[0],c=r[1];n("S",{mx:i,my:c,isDragging:t})})),m=Object(le.a)((function(e){var t=e.down,r=Object(s.a)(e.movement,2),i=r[0],c=r[1];n(je,{mx:i,my:c,isDragging:t})})),p=Object(le.a)((function(e){var t=e.down,r=Object(s.a)(e.movement,2),i=r[0],c=r[1];n("W",{mx:i,my:c,isDragging:t})}));return Object(f.jsxs)(se,Object(c.a)(Object(c.a)({},u),{},{children:[Object(f.jsx)(q,{children:!l&&Object(f.jsxs)(ce,{style:{maxHeight:i,height:i},children:[Object(f.jsx)(ae,Object(c.a)(Object(c.a)({},d()),{},{style:{maxWidth:i,cursor:"nwse-resize"}})),Object(f.jsx)(ae,Object(c.a)(Object(c.a)({},j()),{},{style:{cursor:"ns-resize"}})),Object(f.jsx)(ae,Object(c.a)(Object(c.a)({},b()),{},{style:{maxWidth:i,cursor:"nesw-resize"}}))]})}),Object(f.jsx)(X,{children:Object(f.jsxs)(ce,{children:[!l&&Object(f.jsx)(ae,Object(c.a)(Object(c.a)({},p()),{},{style:{maxWidth:i,cursor:"ew-resize"}})),Object(f.jsx)(ae,{children:t}),!l&&Object(f.jsx)(ae,Object(c.a)(Object(c.a)({},O()),{},{style:{maxWidth:i,cursor:"ew-resize"}}))]})}),Object(f.jsx)(ee,{children:!l&&Object(f.jsxs)(ce,{style:{maxHeight:i,height:i},children:[Object(f.jsx)(ae,Object(c.a)(Object(c.a)({},m()),{},{style:{maxWidth:i,cursor:"nesw-resize"}})),Object(f.jsx)(ae,Object(c.a)(Object(c.a)({},v()),{},{style:{cursor:"ns-resize"}})),Object(f.jsx)(ae,Object(c.a)(Object(c.a)({},h()),{},{style:{maxWidth:i,cursor:"nwse-resize"}}))]})})]}))};var Ne=_e,Ee=["children","elWindowManager","isActive","titleBarView","style"],Te=u.a.forwardRef((function(e,t){var n=e.children,r=e.elWindowManager,i=e.isActive,a=e.titleBarView,u=e.style,d=void 0===u?{}:u,j=Object(o.a)(e,Ee),b=Object(l.useState)(null),O=Object(s.a)(b,2),h=O[0],v=O[1];return Object(l.useImperativeHandle)(t,(function(){return{attachWindowController:v}})),h?Object(f.jsx)(Ne,Object(c.a)(Object(c.a)({},j),{},{style:d,elWindowManager:r,windowController:h,isActive:i,titleBarView:a,children:n})):null}));var De=u.a.createContext({});function Me(e){var t=e.children,n=e.initialSharedState,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(l.useState)(e),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(l.useRef)(r);a.current=r;var o=Object(l.useCallback)((function(e){switch(typeof e){case"string":try{e=JSON.parse(e)}catch(t){console.error("Unable to parse string.  Did you forget to use an Object when setting object state?",{err:t})}break;case"function":e=e(a.current);break;case"object":break;default:console.warn("Unhandled updatedState type: ".concat(typeof e))}return i((function(t){return Object(c.a)(Object(c.a)({},t),e)}))}),[]);return[r,o]}(void 0===n?{}:n),i=Object(s.a)(r,2),a=i[0],o=i[1];return Object(f.jsx)(De.Provider,{value:{setSharedState:o,sharedState:a},children:t})}var Re=n(41);function ze(){return Object(l.useContext)(Re.a)}var Ie=n(42);function Pe(){return Object(l.useContext)(Ie.a)}var Le=n(28);var We=["view","titleBarView","initialSharedState","id","title","serviceClasses","isPinned","isPinnedToDock","isAutoStart"],Ue=["titleBarView"],Ve=0;function Be(e){var t=e.appDescriptors,n=void 0===t?[]:t,i=e.children,u=Pe().addOrUpdateAppRegistration,d=O().appRuntimes,b=Object(l.useState)(null),h=Object(s.a)(b,2),v=h[0],m=h[1];Object(l.useEffect)((function(){n.forEach((function(e){return u(e)}))}),[n,u]);var p=j(),x=p.activeWindowController,g=p.setActiveWindowController,y=Object(l.useState)({}),w=Object(s.a)(y,2),k=w[0],S=w[1],C=Object(l.useCallback)((function(e){return k[e]}),[k]),A=Object(l.useRef)(null);A.current=x;var _=Object(l.useCallback)((function(e){(null===e||void 0===e?void 0:e.getIsMinimized())&&e.setIsMinimized(!1),Object.is(e,A.current)||(g(e),e&&e.setState({stackingIndex:++Ve}))}),[g]),N=Object(l.useCallback)((function(e){return Object.is(x,e)}),[x]),E=ze().startService,T=Object(l.useRef)(_);T.current=_,Object(l.useEffect)((function(){if(v){var e=function(e){e.target===v&&T.current(null)};return v.addEventListener("mousedown",e),v.addEventListener("touchstart",e,{passive:!0}),function(){v.removeEventListener("mousedown",e),v.removeEventListener("touchstart",e,{passive:!0})}}}),[v]);var D=d.map((function(e){var t=e.getUUID(),n=e.getAppDescriptor(),i=n.view,s=n.titleBarView,l=n.initialSharedState,u=(n.id,n.title),d=n.serviceClasses,j=void 0===d?[]:d,b=(n.isPinned,n.isPinnedToDock,n.isAutoStart,Object(o.a)(n,We));if(!i)return null;var O=C(t),h=O&&O.windowController;if(O&&!O.windowController)return null;var m,p={},x=Object(a.a)(j);try{for(x.s();!(m=x.n()).done;){var g=m.value,y=E(g);p[g]=y}}catch(w){x.e(w)}finally{x.f()}return Object(f.jsx)(Me,{initialSharedState:l,children:Object(f.jsx)(Te,Object(c.a)(Object(c.a)({},b),{},{elWindowManager:v,isActive:N(h),onMouseDown:function(){return _(h)},onTouchStart:function(){return _(h)},titleBarView:s?Object(f.jsx)(He,{titleBarView:s,appServices:p,windowController:h,appRuntime:e}):null,ref:function(n){if(n&&!h){var i=new Y({},{onBringToTop:_});i.setTitle(u),i.attachWindowManagerElement(v),i.setAppRuntime(e),e.setWindowController(i),n.attachWindowController(i),S((function(e){var n=Object(c.a)({},e);return n[t]={windowController:i,key:t},n})),i.once(r.EVT_DESTROYED,(function(){S((function(e){var n=Object(c.a)({},e);return n[t].windowController=null,n}))})),_(i)}},children:h&&Object(f.jsx)(Fe,{appServices:p,windowController:h,appRuntime:e,view:i})}))},t)})).filter((function(e){return Boolean(e)}));return Object(f.jsx)(I,{children:Object(f.jsxs)("div",{ref:m,style:{width:"100%",height:"100%",position:"relative"},children:[i,D]})})}var He=function(e){var t=e.titleBarView,n=Object(o.a)(e,Ue);return Object(f.jsx)(Fe,Object(c.a)(Object(c.a)({},n),{},{view:t}))},Fe=function(e){var t=e.appServices,n=e.windowController,i=e.appRuntime,c=e.view,a=Object(Le.a)(),o=Object(l.useContext)(De),s=o.sharedState,u=o.setSharedState;Object(l.useEffect)((function(){for(var e=function(){a()},n=0,i=Object.values(t);n<i.length;n++){i[n].on(r.EVT_UPDATED,e)}return function(){for(var n=0,i=Object.values(t);n<i.length;n++){i[n].off(r.EVT_UPDATED,e)}}}),[t,a]);var d=function(e){var t=Object(l.useRef)(null),n=Object(l.useCallback)((function(e){t.current=e}),[]);return Object(l.useEffect)((function(){if(e){if(!(e instanceof Y))throw new TypeError("windowController is not a WindowController");var n=function(){var e=t.current;"function"===typeof e&&e()};return e.on(K,n),function(){e.off(K,n)}}}),[e]),n}(n);return Object(f.jsx)(c,{windowController:n,appServices:t,appRuntime:i,setResizeHandler:d,sharedState:s,setSharedState:u})},Ke=function(e){var t=e.appDescriptors,n=void 0===t?[]:t,r=e.children;return Object(f.jsx)(m,{children:Object(f.jsx)(Be,{appDescriptors:n,children:r})})},Ye=n(190),Qe=n.n(Ye),Ge=["color"];var Ze=function(e){var t=e.color,n=void 0===t?null:t,r=Object(o.a)(e,Ge);return Object(f.jsx)("div",Object(c.a)(Object(c.a)({},r),{},{className:k()(Qe.a.led,Qe.a[n])}))},qe=n(23);var Je=function(){var e=j().activeWindowController,t=O(),n=t.runningRegistrations,r=t.bringToFrontOrStartAppRuntime,i=Pe().appRegistrations,c=Object(l.useMemo)((function(){return Object(qe.a)(new Set([].concat(Object(qe.a)(i.filter((function(e){return e.getIsPinnedToDock()}))),Object(qe.a)(n))))}),[i,n]),a=Object(l.useMemo)((function(){return null===e||void 0===e?void 0:e.getAppRegistration()}),[e]);return Object(f.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",textAlign:"center",isolation:"isolate",zIndex:99999999},children:Object(f.jsx)("div",{style:{display:"inline-block",color:"black",whiteSpace:"nowrap",maxWidth:"100%",overflowX:"auto"},className:"button-group",children:c.map((function(e){return Object(f.jsxs)("button",{style:e===a?{backgroundColor:"rgba(38, 157, 255, .8)",color:"#000"}:{backgroundColor:"#000"},onClick:function(){return r(e)},children:[e.getTitle()," "]},e.getUUID())}))})})},Xe=n(191),$e=n.n(Xe),et=n(167),tt=["children","className"];window.ResizeObserver||Object(et.install)();var nt=function(e){var t=e.children,n=e.className,r=Object(o.a)(e,tt),i=Object(l.useState)(null),u=Object(s.a)(i,2),d=u[0],j=u[1],b=Object(l.useState)(null),O=Object(s.a)(b,2),h=O[0],v=O[1];return Object(l.useEffect)((function(){if(d&&h){var e={width:0,height:0},t={width:0,height:0};h.style.visibility="hidden";var n=new ResizeObserver((function(n){requestAnimationFrame((function(){var r,i=Object(a.a)(n);try{for(i.s();!(r=i.n()).done;){var c=r.value,o={width:c.target.offsetWidth,height:c.target.offsetHeight};c.target===d?e=o:t=o}}catch(j){i.e(j)}finally{i.f()}var s=e.width/t.width,l=e.height/t.height,u=Math.min(s,l);h.style.transform="scale(".concat(u,", ").concat(u,")"),"hidden"===h.style.visibility&&setTimeout((function(){h.style.visibility="visible"}),4)}))}));return n.observe(d),n.observe(h),function(){n.unobserve(d),n.unobserve(h)}}}),[d,h]),Object(f.jsx)("div",Object(c.a)(Object(c.a)({},r),{},{ref:j,className:k()($e.a["auto-scaler"],n),children:Object(f.jsx)("div",{ref:v,className:$e.a["content-wrap"],children:t})}))},rt=n(169),it=n(55),ct=n(150),at=(n(194),n(195),n(196),{overflow:"auto"}),ot=Object(ct.g)((function(e){var t=Object.assign({},e);return Object(f.jsx)(ct.a,Object(c.a)(Object(c.a)({},t),{},{portal:!0},at))}),ct.a),st=Object(ct.h)(ct.f)((function(e){var t=Object.assign({},e);return Object(f.jsx)(ct.f,Object(c.a)(Object(c.a)({},t),at))})),lt=ot;function ut(e){var t=Pe().getAppRegistrationTitle,n=O().switchToAppRegistrationID;return{title:Object(l.useMemo)((function(){return t(e)}),[t,e]),link:Object(l.useCallback)((function(){return n(e)}),[n,e])}}var dt=n(197),jt=n.n(dt),bt=["children","className"];var Ot=function(e){var t=e.children,n=e.className,r=Object(o.a)(e,bt),i=Object(l.useState)(null),a=Object(s.a)(i,2),u=a[0],d=a[1],j=Object(l.useState)(!1),b=Object(s.a)(j,2),O=b[0],h=b[1];return Object(l.useEffect)((function(){if(u){var e=Boolean(Object(qe.a)(u.parentNode.children).length>1);h(e)}}),[u]),Object(f.jsx)("div",Object(c.a)(Object(c.a)({},r),{},{ref:d,className:k()(jt.a.padding,!O&&jt.a["no-siblings"],n),children:t}))},ht=["onTick","className"];var ft=function(e){var t,n=e.onTick,r=(e.className,Object(o.a)(e,ht)),i=Object(l.useState)(n()),a=Object(s.a)(i,2),u=a[0],d=a[1],j=Object(l.useCallback)((function(){return n()}),[n]);return Object(l.useEffect)((function(){var e=function(){return d(j())};e();var t=setInterval(e,1e3);return function(){clearInterval(t)}}),[j]),Object(f.jsx)(fe,Object(c.a)(Object(c.a)({},r),{},{children:(t=u,new Date(t%86400*1e3).toISOString().substr(11,8))}))},vt="service-monitor",mt={id:vt,title:"Service Monitor",style:{width:640,height:480},isPinned:!0,view:function(){var e=Object(l.useContext)(Re.a).services;return Object(f.jsx)(Ot,{style:{overflowY:"auto"},children:Object(f.jsxs)("table",{style:{width:"100%"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Service Name"}),Object(f.jsx)("td",{children:"Uptime"}),Object(f.jsx)("td",{children:"f(x)"})]})}),Object(f.jsx)("tbody",{children:e.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.getTitle()||"[Untitled]"}),Object(f.jsx)("td",{className:"center",children:Object(f.jsx)(ft,{onTick:function(){return e.getInstanceUptime()}})}),Object(f.jsx)("td",{className:"center",children:Object(f.jsx)("button",{onClick:function(){return e.log(e.getState())},children:Object(f.jsx)(fe,{children:"log(state)"})})})]},e.getUUID())}))})]})})}},pt=n(63),xt=n(198),gt=n.n(xt);function yt(e){var t=Object(l.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],c=Object(l.useState)(0),a=Object(s.a)(c,2),o=a[0],u=a[1],d=Object(l.useRef)(e);return Object(l.useEffect)((function(){var e=d;if(e.length){var t=new gt.a;t.onprogress=function(e){u(e.progress)},t.oncomplete=function(){i(!0)},t.fetch(e)}else i(!0),u(100)}),[]),{isPreloaded:r,progress:o}}var wt=n(199),kt=n.n(wt),St=["className","children","animationName","animationDuration","animationDelay","animationEngine","preloadResources","onAnimationEnd","tag","inline","disabled"];var Ct=function(e){var t=e.className,n=e.children,r=e.animationName,i=e.animationDuration,a=e.animationDelay,u=e.animationEngine,d=void 0===u?"animate.css":u,j=e.preloadResources,b=void 0===j?[]:j,O=e.onAnimationEnd,h=void 0===O?function(){return null}:O,v=e.tag,m=void 0===v?"div":v,p=e.inline,x=void 0!==p&&p,g=e.disabled,y=void 0!==g&&g,w=Object(o.a)(e,St),S=Object(l.useState)(null),C=Object(s.a)(S,2),A=C[0],_=C[1],N=yt(b).isPreloaded;Ce({domElement:A,animationName:r,animationDuration:i,animationDelay:a,animationEngine:d,onAnimationEnd:h,isDisabled:y});var E=Object(l.useMemo)((function(){return m}),[m]);return N?Object(f.jsx)(E,Object(c.a)(Object(c.a)({},w),{},{ref:_,className:k()(kt.a.animation,x?kt.a.inline:null,t),children:n})):null},At=n(200),_t=n.n(At),Nt=["children","className"];var Et=function(e){var t=e.children,n=e.className,r=Object(o.a)(e,Nt);return Object(f.jsx)("button",Object(c.a)(Object(c.a)({className:k()(_t.a["button-transparent"],n)},r),{},{children:t}))},Tt=n(201),Dt=n.n(Tt),Mt=["body","image","title","uuid","onClose","onClick","autoCloseTime"];function Rt(e){var t=e.body,n=e.image,r=e.title,i=e.uuid,a=e.onClose,d=e.onClick,j=e.autoCloseTime,b=void 0===j?4e3:j,O=Object(o.a)(e,Mt),h=Object(l.useState)(!1),v=Object(s.a)(h,2),m=v[0],p=v[1],x=Object(l.useRef)(a),g=Object(l.useCallback)((function(e){e&&e.stopPropagation(),p(!0),setTimeout((function(){x.current(i)}),500)}),[i]),y=Object(l.useState)(null),w=Object(s.a)(y,2),k=w[0],S=w[1];Object(l.useEffect)((function(){if(k){var e=null,t=function(){e=setTimeout(g,b)};t();var n=function(){clearInterval(e)};return k.addEventListener("mouseover",n,{passive:!0}),k.addEventListener("mouseout",t,{passive:!0}),k.addEventListener("touchstart",n,{passive:!0}),function(){k.removeEventListener("mouseover",n,{passive:!0}),k.removeEventListener("mouseout",t,{passive:!0}),k.removeEventListener("touchstart",n,{passive:!0}),n()}}}),[k,b,g]);var C=Object(l.useMemo)((function(){return function(){switch(typeof n){case"string":return Object(f.jsx)("img",{alt:r,src:n,className:Dt.a["main-image"]});case"function":return n();default:return n||null}}}),[n,r]),A=Object(l.useMemo)((function(){return function(e){var t=Object.assign({},e);return"function"===typeof d?Object(f.jsx)(Et,Object(c.a)(Object(c.a)({},t),{},{onClick:d,className:Dt.a["main-button"]})):Object(f.jsx)(u.a.Fragment,Object(c.a)({},t))}}),[d]);return Object(f.jsx)("div",Object(c.a)(Object(c.a)({ref:S,onTouchEnd:g,onMouseUp:g,className:Dt.a.notification},O),{},{children:Object(f.jsx)(Ct,{animationName:m?"slideOutRight":"slideInRight",animationDuration:".5s",children:Object(f.jsxs)("div",{className:Dt.a["body-outer-wrap"],children:[Object(f.jsx)(A,{children:Object(f.jsxs)("div",{className:Dt.a["body-inner-wrap"],children:[Object(f.jsx)("div",{className:Dt.a.title,children:r}),Object(f.jsx)("div",{className:Dt.a["main-image-wrap"],children:Object(f.jsx)(C,{})}),Object(f.jsx)("div",{className:Dt.a.body,children:t})]})}),Object(f.jsx)(Et,{onClick:g,className:Dt.a["close-button"],children:"X"})]})})}))}var zt=n(202),It=n.n(zt);var Pt=function(e){var t=e.notifications,n=void 0===t?[]:t,r=e.onNotificationClose;return Object(f.jsx)("div",{className:It.a["notifications-stack"],children:Object(f.jsx)("div",{className:It.a["inner-wrap"],children:n.map((function(e){var t=e.body,n=e.image,i=e.onClick,c=e.title,a=e.uuid;return Object(f.jsx)("div",{children:Object(f.jsx)(Rt,{body:t,image:n,onClick:i,title:c,uuid:a,onClose:function(){return r(a)}})},a)}))})})},Lt=u.a.createContext({});function Wt(e){var t=e.children,n=Object(l.useState)([]),r=Object(s.a)(n,2),i=r[0],c=r[1],a=Object(l.useCallback)((function(e){var t=e.image,n=e.title,r=e.body,i=e.onClick,a=e.onClose,o=void 0===a?function(){return null}:a;c((function(e){return[].concat(Object(qe.a)(e),[{image:t,title:n,body:r,uuid:Object(pt.a)(),onClick:i,onClose:o}])}))}),[]),o=Object(l.useCallback)((function(e){c((function(t){return t.filter((function(t){var n=t.uuid,r=t.onClose,i=e!==n;return i||r(),i}))}))}),[]);return Object(f.jsxs)(Lt.Provider,{value:{showNotification:a},children:[t,Object(f.jsx)(Pt,{notifications:i,onNotificationClose:o})]})}var Ut=function(e){var t=e.backgroundView,n=void 0===t?Object(f.jsx)("div",{style:{backgroundColor:"#ccc"}}):t,r=e.appDescriptors,c=ut(vt).link,a=ze().services,o=j().activeWindowController,s=Pe().appRegistrations,l=O(),u=l.bringToFrontOrStartAppRuntime,d=l.appRuntimes;return Object(f.jsx)(rt.a,{children:Object(f.jsxs)(Wt,{children:[Object(f.jsx)(I,{children:n}),Object(f.jsx)(I,{children:Object(f.jsxs)(se,{children:[Object(f.jsx)(q,{style:{whiteSpace:"nowrap",backgroundColor:"rgba(0,0,0,.5)"},children:Object(f.jsxs)(ce,{children:[Object(f.jsx)(ae,{style:{width:"100%"},children:Object(f.jsxs)("div",{children:[Object(f.jsxs)(lt,{menuButton:Object(f.jsx)(ct.b,{children:"Desktop"}),children:[Object(f.jsx)(st,{label:"Applications",children:s.sort((function(e,t){var n=e.getTitle(),r=t.getTitle();return n<r?-1:r>n?1:0})).map((function(e){return Object(f.jsx)(ct.e,{onClick:function(){return u(e)},children:e.getTitle()},e.getUUID())}))}),s.filter((function(e){return e.getIsPinned()})).map((function(e){return Object(f.jsx)(ct.e,{onClick:function(){return u(e)},children:e.getTitle()},e.getUUID())})),Object(f.jsx)(ct.c,{}),Object(f.jsx)(ct.d,{children:"Global Window Management"}),Object(f.jsx)(ct.e,{onClick:function(){return d.forEach((function(e){var t=e.getWindowController();t&&t.scatter()}))},children:"Scatter Windows"}),Object(f.jsx)(ct.e,{onClick:function(){return d.forEach((function(e){var t=e.getWindowController();t&&t.center()}))},children:"Center Windows"}),Object(f.jsx)(ct.c,{}),Object(f.jsx)(ct.d,{children:"Desktop Operations"}),Object(f.jsx)(ct.e,{onClick:function(){return window.confirm("Are you sure you wish to close the desktop?")&&it.a.destroy()},children:"Close"}),Object(f.jsx)(ct.e,{onClick:function(){return window.confirm("Are you sure you wish to reload?")&&it.a.reload()},children:"Reload"})]}),o&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(lt,{portal:!0,menuButton:Object(f.jsx)(ct.b,{children:Object(f.jsx)("span",{style:{fontWeight:"bold"},children:o.getTitle()})}),children:Object(f.jsx)(ct.e,{onClick:function(){return o.destroy()},children:"Close"})}),Object(f.jsxs)(lt,{portal:!0,menuButton:Object(f.jsx)(ct.b,{children:"Window"}),children:[Object(f.jsx)(ct.e,{onClick:function(){return o.setIsMinimized(!0)},children:"Minimize"}),Object(f.jsx)(ct.e,{onClick:function(){return o.setIsMaximized(!0)},children:"Maximize"}),Object(f.jsx)(ct.e,{onClick:function(){return o.restore()},children:"Restore"}),Object(f.jsx)(ct.c,{}),Object(f.jsx)(ct.e,{onClick:function(){return o.center()},children:"Center"}),Object(f.jsx)(ct.e,{onClick:function(){return o.scatter()},children:"Scatter"})]})]})]})}),Object(f.jsx)(ae,{style:{maxWidth:110},children:Object(f.jsx)("div",{style:{textAlign:"right"},children:Object(f.jsx)(lt,{portal:!0,menuButton:Object(f.jsxs)(ct.b,{children:["Service Core"," ",Object(f.jsx)(Ze,{color:a.length>0?"green":"gray"})]}),children:0===a.length?Object(f.jsx)(ct.e,{children:Object(f.jsx)("span",{style:{fontStyle:"italic"},children:"No running services"})}):a.map((function(e){return Object(f.jsx)(ct.e,{onClick:c,children:e.getTitle()},e.getUUID())}))})})})]})}),Object(f.jsxs)(X,{children:[Object(f.jsx)("div",{style:{maxWidth:"50%",position:"absolute",bottom:28,right:10,color:"rgba(255,255,255,.2)",fontSize:"2rem"},children:Object(f.jsx)(nt,{style:{whiteSpace:"nowrap"},children:Object(f.jsxs)("div",{style:{textAlign:"left",fontSize:".7em"},children:[Object(f.jsx)("div",{children:"ReShell 0.0.1-alpha"}),Object(f.jsxs)("div",{children:["PhantomCore ",i.a.getPhantomCoreVersion()]}),Object(f.jsxs)("div",{children:["Portal: ",it.a.getPortalName()]}),Object(f.jsxs)("div",{children:["Env: ","production"]})]})})}),Object(f.jsx)(Ke,{appDescriptors:r,children:Object(f.jsx)(Je,{})})]})]})})]})})},Vt=n(203),Bt=n.n(Vt),Ht=["children","className","onClick"];var Ft=function(e){var t=e.children,n=e.className,r=e.onClick,i=Object(o.a)(e,Ht);return Object(f.jsx)(Et,Object(c.a)(Object(c.a)({},i),{},{className:k()("link",Bt.a["virtual-link"],n),onClick:r,children:t}))},Kt=n(204),Yt=n.n(Kt);window.ResizeObserver||Object(et.install)();var Qt=["children","className","canOverflow"];var Gt=function(e){var t=e.children,n=e.className,r=e.canOverflow,i=void 0!==r&&r,a=Object(o.a)(e,Qt),u=Object(l.useState)(null),d=Object(s.a)(u,2),j=d[0],b=d[1],O=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(l.useRef)(null),r=Object(l.useCallback)((function(){if(e){var t=e.offsetHeight,n=e.offsetWidth,r=e.parentNode,i=null===r||void 0===r?void 0:r.clientHeight,c=null===r||void 0===r?void 0:r.clientWidth;return i<t||c<n}return!1}),[e]),i=Object(l.useState)((function(){return r()})),c=Object(s.a)(i,2),a=c[0],o=c[1];return n.current=a,Object(l.useEffect)((function(){if(t&&e){var i=!1,c=function(){if(!i){var e=n.current,t=r();e!==t&&o(t)}},a=new ResizeObserver((function(){window.requestAnimationFrame(c)}));return a.observe(e),a.observe(e.parentNode),function(){i=!0,a.observe(e),a.unobserve(e.parentNode)}}}),[t,e,r]),a}(j,i);return Object(f.jsx)("div",{className:k()(Yt.a.center,i&&O&&Yt.a.overflown,n),children:Object(f.jsx)("div",Object(c.a)(Object(c.a)({ref:b},a),{},{className:Yt.a["inner-wrap"],children:t}))})};function Zt(e){return Boolean(e),null}function qt(e){var t=e.searchQuery,n=void 0===t?"":t,r=e.onResetSearchQuery,i=Pe().appRegistrations,c=O(),a=c.appRuntimes,o=c.bringToFrontOrStartAppRuntime,s=Object(l.useMemo)((function(){return a.map((function(e){return e.getRegistration()}))}),[a]),u=Object(l.useMemo)((function(){return i.filter((function(e){return!Boolean(n)||e.getTitle().toUpperCase().includes(n.toUpperCase())}))}),[i,n]);return(null===n||void 0===n?void 0:n.length)&&!u.length?Object(f.jsxs)(Gt,{children:[Object(f.jsx)(Ot,{style:{fontWeight:"bold"},children:"No applications found for search."}),Object(f.jsx)(Ot,{children:Object(f.jsx)("button",{onClick:r,children:"Reset Search Query"})})]}):Object(f.jsx)(Gt,{canOverflow:!0,children:Object(f.jsx)(Ot,{children:u.map((function(e){var t=s.filter((function(t){return t===e})).length;return Object(f.jsxs)("button",{style:{width:100,height:100,overflow:"hidden",backgroundColor:"transparent",borderColor:t>0?"green":""},onClick:function(){return o(e)},children:[e.getTitle(),Object(f.jsx)("div",{style:{position:"absolute",bottom:0,right:0},children:Object(qe.a)(new Array(t)).map((function(e,n){return Zt(e),Object(f.jsx)(Ze,{color:t>0?"green":"gray",style:{margin:"0px 2px"}},n)}))})]},e.getUUID())}))})})}function Jt(){return Object(f.jsx)(Gt,{canOverflow:!0,children:Object.entries(it.a.getPortals()).map((function(e){var t=Object(s.a)(e,1)[0];return Object(f.jsx)("button",{onClick:function(){return it.a.switchToPortal(t)},children:t},t)}))})}var Xt=Object.keys(it.a.getPortals()).length,$t={id:"applications",title:"Applications",style:{width:640,height:400},isAutoStart:!0,isPinnedToDock:!0,initialSharedState:{searchQuery:""},titleBarView:function(e){var t=e.sharedState,n=e.setSharedState,r=Object(l.useCallback)((function(e){return n({searchQuery:e.target.value})}),[n]),i=Object(l.useCallback)((function(e){Boolean(t.searchQuery)&&e.stopPropagation()}),[t]);return Object(f.jsx)(Ot,{children:Object(f.jsx)("input",{placeholder:"Search Applications",onChange:r,value:t.searchQuery,style:{width:"100%"},onDoubleClick:i})})},view:function(e){var t=e.windowController,n=e.sharedState,r=e.setSharedState,i=Object(l.useState)(!1),c=Object(s.a)(i,2),a=c[0],o=c[1];Object(l.useEffect)((function(){t.setTitle(a?"Portals":"Applications")}),[t,a]);var u=null===n||void 0===n?void 0:n.searchQuery,d=Object(l.useCallback)((function(){return r({searchQuery:""})}),[r]);return Object(f.jsxs)(se,{children:[Object(f.jsx)(X,{children:a?Object(f.jsx)(Jt,{}):Object(f.jsx)(qt,{searchQuery:u,onResetSearchQuery:d})}),Boolean(Xt>1)&&Object(f.jsx)(ee,{children:Object(f.jsxs)(Ot,{children:[Object(f.jsx)("button",{onClick:function(){return o((function(e){return!e}))},children:a?"Applications":"Portals"})," ",Object(f.jsx)("span",{className:"note",children:a?Object(f.jsxs)(f.Fragment,{children:["Return to"," ",Object(f.jsx)(Ft,{onClick:function(){return o(!1)},children:"application list"}),"."]}):Object(f.jsxs)(f.Fragment,{children:["Other applications may be available in"," ",Object(f.jsx)(Ft,{onClick:function(){return o(!0)},children:"another portal"}),"."]})})]})})]})}},en=Object(c.a)(Object(c.a)({},$t),{},{isAutoStart:!1});function tn(e){var t=e.appRuntime,n=j().activeWindowController,r=t.getWindowController(),i=!r||r===n,c=Object(l.useState)(null),a=Object(s.a)(c,2),o=a[0],u=a[1],d=Object(l.useState)(null),b=Object(s.a)(d,2),O=b[0],h=b[1],v=Object(l.useState)(null),m=Object(s.a)(v,2),p=m[0],x=m[1],g=Object(l.useState)(null),y=Object(s.a)(g,2),w=y[0],k=y[1],S=Object(l.useState)(null),C=Object(s.a)(S,2),A=C[0],_=C[1],N=Object(l.useState)(null),E=Object(s.a)(N,2),T=E[0],D=E[1];return Object(l.useEffect)((function(){if(r&&o){var e=function(e){var t=Object(s.a)(e,7),n=t[0],r=t[1],i=t[2],c=t[3],a=t[4],l=t[5],u=t[6];Zt(n),o.innerHTML=r,O.innerHTML=parseFloat(i).toFixed(2),p.innerHTML=parseFloat(c).toFixed(2),w.innerHTML=parseFloat(a/1e3).toFixed(2),A.innerHTML=parseFloat(l/1e3).toFixed(2),T.innerHTML=Object.values(u).length};return r.on(F,e),function(){r.off(F,e)}}}),[r,o,O,p,w,A,T]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("tr",{style:{textAlign:"center"},children:[Object(f.jsx)("td",{children:t.getTitle()||"[Untitled]"}),Object(f.jsx)("td",{style:{backgroundColor:"purple"},children:Object(f.jsx)("span",{ref:u,children:"N/A"})}),Object(f.jsx)("td",{style:{backgroundColor:"purple"},children:Object(f.jsx)("span",{ref:h,children:"N/A"})}),Object(f.jsx)("td",{style:{backgroundColor:"purple"},children:Object(f.jsx)("span",{ref:x,children:"N/A"})}),Object(f.jsx)("td",{style:{backgroundColor:"purple"},children:Object(f.jsx)("span",{ref:k,children:"N/A"})}),Object(f.jsx)("td",{style:{backgroundColor:"purple"},children:Object(f.jsx)("span",{ref:_,children:"N/A"})}),Object(f.jsx)("td",{style:{backgroundColor:"purple"},children:Object(f.jsx)("span",{ref:D,children:"N/A"})})]},t.getUUID()),Object(f.jsxs)("tr",{style:{textAlign:"center"},children:[Object(f.jsxs)("td",{style:{fontStyle:"italic"},children:["Uptime: ",Object(f.jsx)(ft,{onTick:function(){return t.getInstanceUptime()}})]}),Object(f.jsxs)("td",{colSpan:"3",children:[Object(f.jsx)("button",{onClick:function(){return console.log({appRuntime:t})},disabled:!0,children:"Process"}),Object(f.jsx)("span",{children:" | "}),Object(f.jsx)("button",{onClick:function(){return console.log({environment:t.getEnvironment()})},disabled:!0,children:"Environment"})]}),Object(f.jsx)("td",{children:Object(f.jsx)(Ze,{color:i?"green":"gray"})}),Object(f.jsxs)("td",{colSpan:"2",children:[Object(f.jsx)("button",{onClick:function(){return r.bringToTop()},style:{backgroundColor:"blue"},disabled:i,children:"Bring to Top"}),Object(f.jsx)("span",{children:" | "}),Object(f.jsx)("button",{onClick:function(){return t.destroy()},style:{backgroundColor:"red"},children:"Close"})]})]}),Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:"7",style:{backgroundColor:"gray",height:4}})})]})}function nn(e){var t=e.appRuntimes;return Object(f.jsxs)("table",{style:{width:"100%"},children:[Object(f.jsxs)("thead",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{rowSpan:"2",children:"Name"}),Object(f.jsx)("td",{colSpan:"6",style:{backgroundColor:"purple"},children:"Profiler"}),Object(f.jsx)("td",{colSpan:"2"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{style:{backgroundColor:"purple"},children:"Phase"}),Object(f.jsxs)("td",{style:{backgroundColor:"purple"},children:["Actual",Object(f.jsx)("br",{}),"Duration"]}),Object(f.jsxs)("td",{style:{backgroundColor:"purple"},children:["Base",Object(f.jsx)("br",{}),"Duration"]}),Object(f.jsxs)("td",{style:{backgroundColor:"purple"},children:["Start",Object(f.jsx)("br",{}),"Time"]}),Object(f.jsxs)("td",{style:{backgroundColor:"purple"},children:["Commit",Object(f.jsx)("br",{}),"Time"]}),Object(f.jsx)("td",{style:{backgroundColor:"purple"},children:"Interactions"})]})]}),Object(f.jsx)("tbody",{children:t.map((function(e){return Object(f.jsx)(tn,{appRuntime:e},e.getUUID())}))})]})}var rn={id:"application-monitor",title:"Application Monitor",style:{width:640,height:480},isPinned:!0,view:function(){var e=O().appRuntimes;return Object(f.jsxs)(se,{children:[Object(f.jsx)(X,{children:Object(f.jsx)(Ot,{style:{overflowY:"auto"},children:Object(f.jsx)(nn,{appRuntimes:e})})}),Object(f.jsx)(ee,{style:{fontSize:".8rem"},children:Object(f.jsxs)(Ot,{children:["Phantom Core uptime:"," ",Object(f.jsx)(ft,{onTick:function(){return i.a.getUptime()}})]})})]})}},cn=["buttons","className"],an=["content","onClick","disabled","isSelected","style","className"];var on=function(e){var t=e.buttons,n=e.className,r=Object(o.a)(e,cn),i=Object(l.useState)((function(){var e=0;return t.forEach((function(t,n){t.isSelected&&(e=n)})),e})),a=Object(s.a)(i,2),u=a[0],d=a[1],j=Object(l.useRef)(-1);return++j.current,Object(f.jsx)("div",Object(c.a)(Object(c.a)({className:k()("button-group",n)},r),{},{children:t.map((function(e,t){var n=e.content,r=e.onClick,i=e.disabled,a=(e.isSelected,e.style),s=e.className,b=Object(o.a)(e,an);return 0===j.current&&u===t&&setTimeout((function(){r()})),Object(l.createElement)("button",Object(c.a)(Object(c.a)({},b),{},{key:t,onClick:function(){d(t),r()},disabled:i,style:a,className:k()([u===t&&"active",s])}),"string"===typeof n?n:"function"===typeof n?Object(f.jsx)(n,{}):{Content:n})}))}))},sn=["children","target"];var ln=function(e){var t=e.children,n=e.target,r=void 0===n?"_blank":n,i=Object(o.a)(e,sn);return Object(f.jsx)("a",Object(c.a)(Object(c.a)({},i),{},{target:r,children:t}))},un=["children","className","onClick"];var dn=function(e){var t=e.children,n=(e.className,e.onClick),r=Object(o.a)(e,un);return Object(f.jsx)("button",Object(c.a)(Object(c.a)({},r),{},{onClick:n,children:t}))},jn=["href","target"];var bn=function(e){var t=e.href,n=e.target,r=void 0===n?"_blank":n,i=Object(o.a)(e,jn);return Object(f.jsx)(dn,Object(c.a)(Object(c.a)({},i),{},{onClick:function(){return window.open(t,r)}}))},On={"Phantom Core":"https://github.com/zenOSmosis/phantom-core","Phantom Collection":"https://github.com/zenOSmosis/phantom-core/tree/main/src/PhantomCollection","ReShell Core":"https://github.com/zenOSmosis/reshell.org-static","Sync Object":"https://github.com/zenOSmosis/sync-object","MediaStream Controller":"https://github.com/zenOSmosis/media-stream-track-controller","webrtc-peer":"https://github.com/zenOSmosis/webrtc-peer"},hn={minHeight:"4em",whiteSpace:"wrap",width:"100%",height:"100%"};var fn=function(){return Object(f.jsxs)(D,{style:{overflowY:"auto"},children:[Object(f.jsxs)("p",{children:["ReShell is a browser-based layout framework and UI services engine composed of various"," ",Object(f.jsx)("a",{href:"https://github.com/zenosmosis",target:"_blank",rel:"noreferrer",children:"open-source components"}),"."]}),Object(f.jsx)("p",{children:"It is currently in an alpha phase, and other builds may have other built-in applications."}),Object(f.jsxs)("p",{children:["Leveraged off of the core code for"," ",Object(f.jsx)(ln,{href:"https://speaker.app",children:"Speaker.app"})," and other"," ",Object(f.jsx)(ln,{href:"https://zenosmosis.com",children:"zenOSmosis"})," ","projects based on"," ",Object(f.jsx)(ln,{href:"https://github.com/zenOSmosis/phantom-core",children:"PhantomCore"}),", a library for managing the JavaScript application lifecycle."]}),Object(f.jsx)("p",{style:{fontWeight:"bold"},children:"Some included technologies:"}),Object(f.jsx)("div",{style:{textAlign:"center"},children:Object(f.jsx)("div",{style:{display:"inline-grid",gridTemplateColumns:"1fr 1fr 1fr"},children:Object.entries(On).map((function(e,t){var n=Object(s.a)(e,2),r=n[0],i=n[1];return Object(f.jsx)(Ot,{children:"string"===typeof i?Object(f.jsx)(bn,{href:i,style:hn,children:r}):Object(f.jsx)(dn,{onClick:i,style:hn,children:r})},t)}))})})]})},vn={zenOSmosis:"https://zenOSmosis.com",GitHub:"https://github.com/zenosmosis","Speaker.app":"https://speaker.app"};var mn=function(){return Object(f.jsxs)(Gt,{canOverflow:!0,children:[Object(f.jsx)("p",{style:{fontWeight:"bold"},children:"Additional resources:"}),Object(f.jsx)("div",{style:{display:"inline-block",textAlign:"left"},children:Object.entries(vn).map((function(e,t){var n=Object(s.a)(e,2),r=n[0],i=n[1];return Object(f.jsxs)(Ot,{children:[r,":"," ",Object(f.jsx)(ln,{href:i,children:i})]},t)}))}),Object(f.jsx)("hr",{}),Object(f.jsxs)("p",{children:["To contact us directly, email:"," ",Object(f.jsx)(ln,{href:"mailto:info@zenosmosis.com",children:"info@zenosmosis.com"}),"."]})]})},pn=(new Date).getFullYear();var xn={id:"about-reshell",title:"About ReShell",style:{width:640,height:480},initialSharedState:{screen:"overview"},titleBarView:function(e){var t=e.sharedState,n=e.setSharedState;return Object(f.jsx)(Ot,{className:"button-group",children:Object(f.jsx)(on,{buttons:[{content:"Overview",onClick:function(){return n({screen:"overview"})},isSelected:"overview"===t.screen},{content:"Details",onClick:function(){return n({screen:"details"})},isSelected:"details"===t.screen},{content:"Resources",onClick:function(){return n({screen:"resources"})},isSelected:"resources"===t.screen}]},t.screen)})},view:function(e){var t=e.sharedState,n=e.setSharedState;return Object(f.jsx)(Ot,{children:Object(f.jsxs)(se,{children:[Object(f.jsxs)(X,{children:["overview"===t.screen&&Object(f.jsx)(nt,{children:Object(f.jsxs)(Gt,{children:[Object(f.jsx)("div",{style:{fontSize:"8rem",fontStyle:"italic"},children:"ReShell"}),Object(f.jsx)(fe,{style:{fontSize:"1.5rem"},children:"App layout framework and UI services engine"})]})}),"details"===t.screen&&Object(f.jsx)(fn,{}),"resources"===t.screen&&Object(f.jsx)(mn,{})]}),Object(f.jsxs)(ee,{style:{textAlign:"center"},children:["overview"===t.screen&&Object(f.jsxs)("p",{children:[Object(f.jsx)(Ft,{onClick:function(){return n({screen:"details"})},children:"Details"})," ","|"," ",Object(f.jsx)(Ft,{onClick:function(){return n({screen:"resources"})},children:"Resources"})]}),Object(f.jsx)("div",{style:{opacity:.5},children:"Copyright \xa9 2010 - ".concat(pn," zenOSmosis. All rights reserved.")})]})]})})}},gn=Object(c.a)(Object(c.a)({},xn),{},{isAutoStart:!0}),yn=n(71),wn=n(56),kn=n.n(wn),Sn="check-for-updates",Cn={id:Sn,title:"Check for Updates",style:{width:320,height:240},isPinned:!0,view:function(){var e=Object(l.useState)(!0),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(l.useState)(!1),c=Object(s.a)(i,2),a=c[0],o=c[1],u=Object(l.useState)(!1),d=Object(s.a)(u,2),j=d[0],b=d[1],O=Object(l.useState)(null),h=Object(s.a)(O,2),v=h[0],m=h[1],p=Object(l.useRef)(null);p.current=a;var x=Object(l.useCallback)(Object(W.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.current){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,b(!1),o(!0),e.next=8,Object(yn.a)();case 8:t=e.sent,r(t),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0),b(!0),r(!1);case 17:return e.prev=17,o(!1),m((new Date).getTime()),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[3,12,17,21]])}))),[]);return Object(l.useEffect)((function(){x()}),[x]),Object(f.jsxs)(se,{children:[Object(f.jsx)(q,{children:Object(f.jsx)(Ot,{style:{textAlign:"center"},children:Object(f.jsx)("button",{onClick:x,disabled:a,children:"Check for Updates"})})}),Object(f.jsx)(X,{children:Object(f.jsx)(Gt,{canOverflow:!0,children:j?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("p",{children:["There was an error checking for updates."," ",Object(f.jsx)("button",{onClick:x,children:"Try again?"})]})}):n?Object(f.jsx)("p",{children:"You appear to be running the latest version of ReShell."}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("p",{children:["Your version of ReShell appears out of date."," ",Object(f.jsx)("button",{onClick:function(){return it.a.forceUpdate()},children:"Refresh?"})]})})})}),Object(f.jsx)(ee,{children:Object(f.jsx)(Ot,{children:Object(f.jsxs)("div",{className:"note",children:["Last checked:"," ",v?kn()(v).format("LLL"):"N/A"]})})})]})}},An=n(205),_n=n.n(An),Nn={id:"color-adjuster",title:"Color Adjuster",style:{width:640,height:400},view:function(e){e.windowController,e.appServices;var t=Object(l.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(l.useEffect)((function(){r?document.body.classList.add("grayscale"):document.body.classList.remove("grayscale")}),[r]),Object(f.jsxs)(se,{className:_n.a["color-adjuster"],children:[Object(f.jsx)(X,{children:Object(f.jsx)(Gt,{children:Object(f.jsxs)("button",{onClick:function(){return i((function(e){return!e}))},children:[r?"Disable":"Enable"," Grayscale"]})})}),Object(f.jsx)(ee,{children:["#B04628","#B9FC6D","#FC7853","#3A65FC","#314EB0"].map((function(e,t){return Object(f.jsx)("div",{style:{backgroundColor:e,height:100,width:"20%",display:"inline-block"},children:Object(f.jsx)(Gt,{children:Object(f.jsx)("span",{style:{padding:4,backgroundColor:"rgba(0,0,0,.4)",borderRadius:4},children:e})})},t)}))})]})}},En=n(206),Tn=n.n(En),Dn=n(207),Mn=n.n(Dn),Rn=["className","src"];var zn=function(e){var t=e.className,n=e.src,r=Object(o.a)(e,Rn);return Object(f.jsx)(D,Object(c.a)(Object(c.a)({},r),{},{className:k()(Mn.a["object-viewer"],t),children:Object(f.jsx)(Tn.a,{src:n,theme:"monokai",style:{width:"100%",height:"100%"}})}))},In="environment",Pn={id:In,title:"Environment",style:{width:512,height:384},view:function(){return Object(f.jsx)(se,{children:Object(f.jsx)(X,{children:Object(f.jsx)(zn,{src:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})})})})}},Ln=["id","title"];var Wn=function(e){var t=e.id,n=e.title,r=void 0===n?null:n,i=Object(o.a)(e,Ln),a=ut(t),s=a.title,l=a.link;return l?Object(f.jsx)(dn,Object(c.a)(Object(c.a)({},i),{},{onClick:l,children:r||s})):null},Un=n(208),Vn={id:"software-info",title:"Software Info",style:{width:640,height:480},view:function(){return Object(f.jsxs)(se,{children:[Object(f.jsx)(q,{children:Object(f.jsx)(Ot,{children:"Package.json content"})}),Object(f.jsx)(X,{children:Object(f.jsx)(zn,{src:Un})}),Object(f.jsx)(ee,{children:Object(f.jsx)(Ot,{children:Object(f.jsxs)(ce,{children:[Object(f.jsx)(ae,{children:Object(f.jsx)(Gt,{children:Object(f.jsxs)("div",{style:{float:"left",textAlign:"left"},className:"note",children:["ReShell version: ",Un.version,Object(f.jsx)("br",{}),"Phantom Core version: ",i.a.getPhantomCoreVersion(),Object(f.jsx)("br",{}),"Portal: ",it.a.getPortalName()]})})}),Object(f.jsx)(ae,{children:Object(f.jsxs)(Gt,{style:{textAlign:"right"},children:[Object(f.jsx)(Wn,{id:Sn})," ",Object(f.jsx)(Wn,{id:In})]})})]})})})]})}},Bn=n(27),Hn=n(158),Fn=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(r.PhantomCollection),Kn=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).setTitle("Media Devices Service"),e.fetchAudioInputDevices(),e.bindCollectionClass(Fn),e}return Object(x.a)(n,[{key:"fetchAudioInputDevices",value:function(e){var t=this;Hn.utils.fetchMediaDevices(e).then(Hn.utils.fetchMediaDevices.filterAudioInputDevices).then((function(e){return t.setState({devices:e})})).catch((function(e){return console.error(e)}))}},{key:"getMediaDevices",value:function(){return this.getState().devices||[]}},{key:"getCaptureFactories",value:function(){return this.getCollectionInstance(Fn).getChildren()}},{key:"getIsAudioMediaDeviceBeingCaptured",value:function(e){return Boolean(Hn.MediaStreamTrackControllerFactory.getFactoriesWithInputMediaDevice(e,"audio").length)}},{key:"captureDefaultAudioInputDevice",value:function(){var e=Object(W.a)(L.a.mark((function e(){var t,n,r,i=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=4,Hn.utils.captureMediaDevice(t,n);case 4:return r=e.sent,this.getCollectionInstance(Fn).addChild(r),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"captureSpecificAudioInputDevice",value:function(){var e=Object(W.a)(L.a.mark((function e(t){var n,r,i,c=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,Hn.utils.captureMediaDevice.captureSpecificMediaDevice(t,n,r);case 4:return i=e.sent,this.getCollectionInstance(Fn).addChild(i),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"uncaptureSpecificAudioInputDevice",value:function(){var e=Object(W.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hn.utils.captureMediaDevice.uncaptureSpecificMediaDevice(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Bn.b),Yn=n(222),Qn=n.n(Yn),Gn=["className","percent","percents"];function Zn(e){var t=e.className,n=e.percent,r=e.percents,i=void 0===r?[]:r,a=Object(o.a)(e,Gn),s=Object(l.useMemo)((function(){var e=Object(qe.a)(i);return void 0!==n&&e.push(n),e=e.map((function(e){return 100-e}))}),[n,i]);return Object(f.jsx)("div",Object(c.a)(Object(c.a)({className:k()(Qn.a.levels,t)},a),{},{children:s.map((function(e,t){return Object(f.jsx)("div",{className:Qn.a["level-container"],children:Object(f.jsx)("div",{className:Qn.a.level,style:{clipPath:"inset(".concat(e,"% 0 0 0)"),WebkitClipPath:"inset(".concat(e,"% 0 0 0)")}})},t)}))}))}function qn(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(l.useRef)(t);return Object(l.useEffect)((function(){n.current=e}),[e]),n.current}(e,[]),n=Object(l.useState)({added:[],removed:[]}),i=Object(s.a)(n,2),c=i[0],a=i[1];return Object(l.useEffect)((function(){if(!Array.isArray(e))throw new Error("next should be an array");var n=r.PhantomCollection.getChildrenDiff(t,e),i=n.added,c=n.removed;(i.length||c.length)&&a({added:i,removed:c})}),[t,e]),{added:c.added,removed:c.removed}}var Jn=Hn.MultiAudioMediaStreamTrackLevelMonitorEvents.EVT_DEBOUNCED_PEAK_AUDIO_LEVEL_TICK;function Xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(l.useMemo)((function(){return(e?Array.isArray(e)?e:[e]:[]).filter((function(e){return e instanceof MediaStreamTrack&&"audio"===e.kind}))}),[e]),n=Object(l.useState)(null),r=Object(s.a)(n,2),i=r[0],c=r[1],o=Object(l.useState)(null),u=Object(s.a)(o,2),d=u[0],j=u[1];Object(l.useEffect)((function(){var e=new Hn.MultiAudioMediaStreamTrackLevelMonitor;return e.on(Jn,(function(e){var t=e.rms;j(.8*t)})),c(e),function(){e.destroy()}}),[]);var b=qn(t),O=b.added,h=b.removed;return Object(l.useEffect)((function(){if(i){var e,t=Object(a.a)(O);try{for(t.s();!(e=t.n()).done;){var n=e.value;i.addMediaStreamTrack(n)}}catch(s){t.e(s)}finally{t.f()}var r,c=Object(a.a)(h);try{for(c.s();!(r=c.n()).done;){var o=r.value;i.removeMediaStreamTrack(o)}}catch(s){c.e(s)}finally{c.f()}}}),[i,O,h]),d}var $n=["mediaStreamTracks","mediaStreamTrack"];function er(e){var t=e.mediaStreamTracks,n=e.mediaStreamTrack,r=Object(o.a)(e,$n),i=Xn(n||t);return Object(f.jsx)(Zn,Object(c.a)({percent:i},r))}var tr=n(223),nr=n.n(tr);var rr=function(e){var t=Object.assign({},e);return Object(f.jsx)("div",Object(c.a)(Object(c.a)({className:nr.a["loading-wrapper"]},t),{},{children:Object(f.jsxs)("div",{className:nr.a.loading,children:[Object(f.jsx)("div",{className:nr.a.dot}),Object(f.jsx)("div",{className:nr.a.dot}),Object(f.jsx)("div",{className:nr.a.dot}),Object(f.jsx)("div",{className:nr.a.dot}),Object(f.jsx)("div",{className:nr.a.dot})]})}))},ir=["children","preloadResources","onError"];var cr=function(e){var t=e.children,n=e.preloadResources,r=(e.onError,Object(o.a)(e,ir));return yt(n).isPreloaded?Object(f.jsx)(u.a.Fragment,{children:t}):Object(f.jsx)("div",Object(c.a)(Object(c.a)({},r),{},{children:Object(f.jsx)(rr,{})}))},ar=n(224),or=n.n(ar),sr=n.p+"static/media/vu.8cb21748.png",lr="data:image/png;base64,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",ur=["label","percent","className"];function dr(e){var t=e.label,n=void 0===t?"Mono":t,r=e.percent,i=void 0===r?0:r,a=e.className,u=Object(o.a)(e,ur);i<0&&(i=0),i>100&&(i=100);var d=Object(l.useState)(null),j=Object(s.a)(d,2),b=j[0],O=j[1],h=Object(l.useState)(null),v=Object(s.a)(h,2),m=v[0],p=v[1];return Object(l.useEffect)((function(){b&&m&&(b.style.backgroundImage="url(".concat(sr,")"),b.style.backgroundPosition="top left",b.style.backgroundRepeat="no-repeat",m.style.backgroundImage="url(".concat(lr,")"),m.style.backgroundPosition="top left",m.style.backgroundRepeat="no-repeat")}),[b,m]),Object(l.useEffect)((function(){m&&(m.style.transform="rotateZ(".concat(Math.min(i/100*87),"deg)"))}),[m,i]),Object(f.jsx)(cr,{preloadResources:[sr,lr],children:Object(f.jsxs)("div",Object(c.a)(Object(c.a)({ref:O,className:k()(or.a.vu,a)},u),{},{children:[Object(f.jsx)("div",{className:or.a.mask,children:Object(f.jsx)("div",{ref:p,className:or.a.needle,style:{transform:"rotateZ(0deg)"}})}),Object(f.jsx)("p",{className:or.a["vu-label"],children:n})]}))})}var jr=["mediaStreamTracks","mediaStreamTrack"];function br(e){var t=e.mediaStreamTracks,n=e.mediaStreamTrack,r=Object(o.a)(e,jr),i=Xn(n||t);return Object(f.jsx)(dr,Object(c.a)({percent:i},r))}var Or="vu-meter",hr={id:Or,title:"VU Meter",style:{width:360,height:360,backgroundColor:"rgba(0,0,0,.4)"},serviceClasses:[Kn],view:function(e){var t=e.appServices[Kn],n=t.getCaptureFactories(),r=Boolean(n.length),i=n.map((function(e){return e.getAudioTrackControllers().map((function(e){return e.getOutputMediaStreamTrack()}))})).flat();return Object(f.jsxs)(se,{children:[Object(f.jsx)(X,{children:Object(f.jsxs)(Gt,{canOverflow:!0,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(br,{mediaStreamTracks:i}),Object(f.jsx)(er,{style:{marginLeft:20,height:160,width:40},mediaStreamTracks:i})]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){r?n.forEach((function(e){return e.destroy()})):t.captureDefaultAudioInputDevice()},style:{backgroundColor:r?"red":null},children:r?"Stop Capturing":"Start Microphone"})})]})}),Object(f.jsx)(ee,{children:Object(f.jsx)(Ot,{children:Object(f.jsx)(Wn,{id:Cr})})})]})}},fr=["mediaStreamTrack","mediaType","onEl"];function vr(e){var t=e.mediaStreamTrack,n=e.mediaType,r=void 0===n?"video":n,i=e.onEl,a=void 0===i?function(e){return null}:i,d=Object(o.a)(e,fr),j=Object(l.useState)(null),b=Object(s.a)(j,2),O=b[0],h=b[1],f=Object(l.useMemo)((function(){return t&&new MediaStream([t])}),[t]);Object(l.useEffect)((function(){O&&(f?(O.srcObject=f,O.play().then((function(){return O.muted=!1})).catch((function(e){return console.warn("Caught",e)}))):O.srcObject=null)}),[O,f]);var v=Object(l.useRef)(a);return Object(l.useEffect)((function(){var e=v.current;O&&"function"===typeof e&&e(O)}),[O]),u.a.createElement(r,Object(c.a)({ref:h,autoPlay:!1,muted:!0,playsInline:!0,controls:!1},d))}var mr=n(225),pr=n.n(mr),xr=["className"];function gr(e){var t=e.className,n=Object(o.a)(e,xr);return Object(f.jsx)(vr,Object(c.a)({className:k()(pr.a.video,t)},n))}var yr=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(r.PhantomCollection),wr=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).setTitle("Screen Capturer Service"),e.bindCollectionClass(yr),e}return Object(x.a)(n,[{key:"startScreenCapture",value:function(){var e=Object(W.a)(L.a.mark((function e(){var t,n,r,i=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=4,Hn.utils.captureScreen(t,n);case 4:return r=e.sent,this.getCollectionInstance(yr).addChild(r),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMediaStreamTracks",value:function(){return this.getCollectionInstance(yr).getChildren().map((function(e){return e.getTrackControllers().map((function(e){return e.getOutputMediaStreamTrack()}))})).flat()}}]),n}(Bn.b),kr="screen-capture-window",Sr={id:kr,title:"Screen Capture",style:{width:512,height:384},serviceClasses:[wr],view:function(e){var t,n=e.appServices[wr],i=Object(l.useState)(null),c=Object(s.a)(i,2),a=c[0],o=c[1],u=function(){var e=Object(l.useRef)(!1);return Object(l.useEffect)((function(){return function(){e.current=!0}}),[]),Object(l.useCallback)((function(){return e.current}),[])}(),d=Object(l.useCallback)(Object(W.a)(L.a.mark((function e(){var t,i,c,a=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},i=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,n.startScreenCapture(t,i);case 4:return c=e.sent,o(c),c.once(r.EVT_DESTROYED,(function(){u()||o(null)})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)}))),[n,u]);Object(l.useEffect)((function(){if(a)return function(){a.destroy()}}),[a]);var j=null===a||void 0===a||null===(t=a.getVideoTrackControllers()[0])||void 0===t?void 0:t.getOutputTrack();return Object(f.jsxs)(se,{style:{backgroundColor:"#424242",color:"#999"},children:[Object(f.jsxs)(X,{children:[Object(f.jsx)(gr,{mediaStreamTrack:j}),!a&&Object(f.jsx)(I,{children:Object(f.jsx)(Gt,{children:Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){return d()},style:{backgroundColor:"green",width:200,height:200,borderRadius:200,fontWeight:"bold",fontSize:"1.4rem",border:"8px #ccc solid"},children:"Start Screen Capture"})})})})]}),Object(f.jsx)(ee,{children:Object(f.jsx)(Ot,{children:Object(f.jsxs)(ce,{children:[Object(f.jsx)(ae,{children:Object(f.jsx)(Gt,{children:Object(f.jsx)(Wn,{id:Cr})})}),Object(f.jsx)(ae,{children:Object(f.jsx)(Gt,{children:Object(f.jsx)("button",{style:{backgroundColor:a?"red":"green",whiteSpace:"nowrap"},onClick:function(){a?a.destroy():d()},children:a?"Stop":"Capture"})})}),Object(f.jsx)(ae,{children:Object(f.jsxs)(ce,{children:[Object(f.jsx)(ae,{children:Object(f.jsx)(Gt,{children:Object(f.jsx)(Ze,{color:a?"green":"gray",style:{float:"left",marginLeft:8}})})}),Object(f.jsx)(ae,{children:Object(f.jsx)(Gt,{children:Object(f.jsx)("button",{disabled:!0,style:{whiteSpace:"nowrap"},children:"Video Stats"})})})]})})]})})})]})}},Cr="input-media-devices",Ar={id:Cr,title:"Input Media Devices",style:{width:640,height:300},serviceClasses:[Kn],view:function(e){var t=e.appServices[Kn],n=t.getMediaDevices();return Object(f.jsx)(Ot,{children:Object(f.jsxs)(se,{children:[Object(f.jsx)(X,{children:Object(f.jsx)("div",{style:{width:"100%",height:"100%",overflowY:"auto"},children:Object(f.jsxs)("table",{style:{width:"100%"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Label"}),Object(f.jsx)("td",{children:"Kind"}),Object(f.jsx)("td",{children:"f(x)"}),Object(f.jsx)("td",{children:"State"})]})}),Object(f.jsx)("tbody",{children:n.map((function(e,n){var r=t.getIsAudioMediaDeviceBeingCaptured(e);return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.label||"[Unknown Label]"}),Object(f.jsx)("td",{className:"center",children:e.kind}),Object(f.jsx)("td",{className:"center",children:Object(f.jsx)("button",{onClick:function(){return r?t.uncaptureSpecificAudioInputDevice(e):t.captureSpecificAudioInputDevice(e)},style:{backgroundColor:r?"red":"green",width:"100%"},children:r?"Stop":"Start"})}),Object(f.jsxs)("td",{className:"center",children:[Object(f.jsx)(Ze,{color:r?"green":"gray"})," ",r?"on":"off"]})]},n)}))})]})})}),Object(f.jsxs)(ee,{children:[Object(f.jsx)("button",{onClick:function(){return t.fetchAudioInputDevices(!0)},style:{float:"right"},children:"Refetch"}),Object(f.jsxs)("span",{className:"button-group",children:[Object(f.jsx)(Wn,{id:Or}),Object(f.jsx)(Wn,{id:kr})]})]})]})})}},_r=function(e){var t=["bytes","kB","MB","GB","TB"];if(0===e)return"0 ".concat(t[0]);var n=parseInt(Math.floor(Math.log(Math.abs(e))/Math.log(1024)),10);return 0===n?"".concat(e," ").concat(t[n]):"".concat((e/Math.pow(1024,n)).toFixed(1)," ").concat(t[n])},Nr={id:"memory-info",title:"Memory Info",style:{width:280,height:150},view:function(){var e=Object(l.useState)({jsHeapSizeLimit:"N/A",totalJSHeapSize:"N/A",usedJSHeapSize:"N/A"}),t=Object(s.a)(e,2),n=t[0],r=n.jsHeapSizeLimit,i=n.totalJSHeapSize,c=n.usedJSHeapSize,a=t[1],o=Object(l.useCallback)((function(){if(window.performance.memory){var e=window.performance.memory,t=e.jsHeapSizeLimit,n=e.totalJSHeapSize,r=e.usedJSHeapSize,i={jsHeapSizeLimit:_r(t),totalJSHeapSize:_r(n),usedJSHeapSize:_r(r)};return a(i),i}}),[]);return Object(l.useEffect)((function(){if(o()){var e=setInterval((function(){o()}),1e3);return function(){clearInterval(e)}}}),[o]),Object(f.jsxs)(se,{style:{backgroundColor:"#424242",color:"#999"},children:[Object(f.jsx)(X,{children:Object(f.jsx)(Gt,{children:Object(f.jsxs)("table",{style:{display:"inline-block"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Heap Size Limit"}),Object(f.jsx)("td",{children:"Total Heap Size"}),Object(f.jsx)("td",{children:"Used Heap Size"})]})}),Object(f.jsx)("tbody",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:r}),Object(f.jsx)("td",{children:i}),Object(f.jsx)("td",{children:c})]})})]})})}),Object(f.jsxs)(ee,{style:{fontSize:".8rem"},children:[Object(f.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Performance/memory",target:"_blank",rel:"noreferrer",style:{float:"left"},children:"MDN Documentation"}),Object(f.jsx)("span",{style:{float:"right"},children:"Only supported in Chromium-based browsers."})]})]})}};var Er=function(e){var t=e.keyStorageEngineMaps,n=void 0===t?[]:t,r=e.onGetValue,i=e.onEmpty,c=e.onNewItem;return n.length?Object(f.jsx)(Ot,{children:Object(f.jsxs)(se,{children:[Object(f.jsx)(X,{children:Object(f.jsx)(Ot,{style:{overflowY:"auto"},children:Object(f.jsxs)("table",{style:{width:"100%"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{}),Object(f.jsx)("td",{children:"Key"}),Object(f.jsx)("td",{children:"Value"}),Object(f.jsx)("td",{children:"Encryption"}),Object(f.jsx)("td",{children:"Storage Engine"})]})}),Object(f.jsx)("tbody",{children:n.map((function(e,t){var n=e.key,i=(e.kind,e.storageEngine);return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"center",children:Object(f.jsx)("input",{type:"checkbox"})}),Object(f.jsx)("td",{children:n}),Object(f.jsx)("td",{className:"center",children:Object(f.jsx)("button",{onClick:function(){return r(n,i)},children:"Get"})}),Object(f.jsx)("td",{className:"center",children:i.getEncryptionType()||"Not Encrypted"}),Object(f.jsx)("td",{className:"center",children:i.getTitle()})]},t)}))})]})})}),Object(f.jsx)(ee,{children:Object(f.jsx)(Ot,{children:Object(f.jsx)("button",{onClick:i,children:"Empty"})})})]})}):Object(f.jsx)(Gt,{children:Object(f.jsxs)(Ot,{children:[Object(f.jsx)(Ot,{style:{fontWeight:"bold"},children:"No Key Vault items."}),Object(f.jsx)(Ot,{className:"note",children:"These may be automatically managed by other applications as needed, in order to perform key / value pair storage operations."}),Object(f.jsx)(Ot,{className:"note",children:"You have the ability to clear all local / session storage via this utility."}),Object(f.jsx)(Ot,{children:Object(f.jsx)("button",{onClick:c,children:"Add new item..."})})]})})};function Tr(e){for(var t=e.elements,n={},r=0,i=Object(qe.a)(t);r<i.length;r++){var c=i[r],a=c.name||c.id;a&&(n[a]=c.value)}return n}var Dr=["children","onSubmit","onChange","autoComplete"];var Mr=function(e){var t=e.children,n=e.onSubmit,r=e.onChange,i=void 0===r?function(){return null}:r,a=e.autoComplete,u=void 0===a?"off":a,d=Object(o.a)(e,Dr),j=function(e){var t=e.onSubmit,n=e.onChange,r=void 0===n?function(){return null}:n,i=e.validator,c=void 0===i?function(){return null}:i,a=Object(l.useState)(null),o=Object(s.a)(a,2),u=o[0],d=o[1],j=Object(l.useState)(!1),b=Object(s.a)(j,2),O=b[0],h=b[1],f=Object(l.useState)({}),v=Object(s.a)(f,2),m=v[0],p=v[1],x=Object(l.useCallback)((function(e){var t=!1,n=Object.fromEntries(Object.entries(c(e)||{}).filter((function(e){var n=Boolean(e[1]);return n&&(t=!0),n}))),r=!t;return h(r),p(n),r}),[c]),g=Object(l.useCallback)((function(e){var t=Tr(u);x(t),r()}),[x,u,r]),y=Object(l.useCallback)((function(e){e.preventDefault();var n=Tr(u);x(n)&&t(n)}),[x,u,t]);return{isValid:O,validate:x,handleFormChange:g,handleFormSubmit:y,errors:m,setFormRef:d}}({onSubmit:n,onChange:i,validator:function(e){return{key:e.key.length<1&&"Key must contain at least one character"}}}),b=j.setFormRef,O=j.handleFormChange,h=j.handleFormSubmit,v=j.errors,m=j.isValid;return Object(f.jsx)("form",Object(c.a)(Object(c.a)({},d),{},{ref:b,autoComplete:u,onChange:O,onSubmit:h,children:t({errors:v,isValid:m})}))};function Rr(e){var t=e.initialKey,n=e.initialValue,r=e.initialStorageEngine,i=e.storageEngines,c=e.onSubmit;return Object(f.jsx)(Gt,{canOverflow:!0,children:Object(f.jsx)(Mr,{onSubmit:c,children:function(e){var c=e.errors,a=e.isValid;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ot,{children:Object(f.jsx)("input",{name:"key",type:"text",placeholder:"Key",defaultValue:t,required:!0})}),(null===c||void 0===c?void 0:c.key)&&Object(f.jsx)("div",{className:"note",style:{color:"red"},children:c.key}),Object(f.jsx)(Ot,{children:Object(f.jsx)("textarea",{name:"value",placeholder:"Value",defaultValue:n})}),Object(f.jsxs)(Ot,{style:{marginTop:20,textAlign:"left"},children:[Object(f.jsx)("label",{children:"Storage Engine"}),Object(f.jsx)("select",{name:"storageEngineShortUUID",defaultValue:null===r||void 0===r?void 0:r.getShortUUID(),required:!0,children:i.map((function(e){var t=e.getTitle(),n=e.getShortUUID();return Object(f.jsx)("option",{value:n,children:t},t)}))})]}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"submit",value:"Submit",disabled:!a})})]})}})})}n(226);var zr=["className"],Ir=function(e){var t=e.className,n=Object(o.a)(e,zr);return Object(f.jsx)("i",Object(c.a)(Object(c.a)({},n),{},{className:"id0d6dd5d02e64b979154a770ab790dba-icon".concat(t?" ".concat(t):"")}))},Pr=n(44),Lr={id:"key-vault",title:"Key Vault",style:{width:640,height:480},serviceClasses:[Pr.a],view:function(e){var t=e.appServices[Pr.a],n=Object(l.useState)([]),r=Object(s.a)(n,2),i=r[0],c=r[1],o=Object(l.useCallback)(Object(W.a)(L.a.mark((function e(){var n,r,i,o,s,l,u,d;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchKeyStorageEngineMaps();case 2:n=e.sent,r=[],i=Object(a.a)(n),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=17;break}return s=o.value,l=s[0],u=s[1],e.next=13,u.fetchItem(l);case 13:d=e.sent,r.push({key:l,storageEngine:u,value:d});case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:c(r);case 26:case"end":return e.stop()}}),e,null,[[5,19,22,25]])}))),[t]),u=Object(l.useState)(!1),d=Object(s.a)(u,2),j=d[0],b=d[1];Object(l.useEffect)((function(){o()}),[o]);var O=Object(l.useCallback)(function(){var e=Object(W.a)(L.a.mark((function e(t,n){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchItem(t);case 2:r=e.sent,console.log({key:t,value:r}),alert("TODO: Implement get value");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),h=Object(l.useCallback)((function(e){t.getStorageEngineWithShortUUID(e.storageEngineShortUUID).setItem(e.key,e.value).then((function(){o(),b(!1)}))}),[t,o]),v=Object(l.useCallback)((function(){window.confirm("Are you sure you wish to empty the Key Vault?")&&t.clearAllStorageEngines().then(o)}),[t,o]);return Object(f.jsxs)(se,{children:[Object(f.jsx)(q,{children:Object(f.jsx)(Ot,{children:Object(f.jsx)("button",{onClick:function(){return b((function(e){return!e}))},children:j?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ir,{})," Back"]}):Object(f.jsx)(f.Fragment,{children:"(+) New Item"})})})}),Object(f.jsx)(X,{children:j?Object(f.jsx)(Rr,{storageEngines:t.getStorageEngines(),onSubmit:h}):Object(f.jsx)(Er,{keyStorageEngineMaps:i,onGetValue:O,onEmpty:v,onNewItem:function(){return b(!0)}})})]})}};t.default=function(){return Object(f.jsx)(Ut,{appDescriptors:[en,rn,gn,Cn,Nn,Pn,Ar,Nr,Sr,mt,Vn,hr,Lr]})}}}]);
//# sourceMappingURL=4.9e478f47.chunk.js.map