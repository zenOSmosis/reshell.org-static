(this.webpackJsonpreshell=this.webpackJsonpreshell||[]).push([[6],{562:function(e,t,n){e.exports={layout:"Layout_layout__3PvPc",header:"Layout_header__3EItT",content:"Layout_content__1t8Hf",footer:"Layout_footer__3EMQb"}},577:function(e,t,n){e.exports={"window-outer-border":"Window_window-outer-border__3TebC",hidden:"Window_hidden__3nppO",maximized:"Window_maximized__1kLcW",minimized:"Window_minimized__10t2-",dragging:"Window_dragging__2Ctk1",window:"Window_window__uDx5P",active:"Window_active__eAyll","title-bar":"Window_title-bar__376LO",title:"Window_title__3FnAS","window-controls":"Window_window-controls__1ACD5",maximize:"Window_maximize__2aW7z",minimize:"Window_minimize__hemKn",close:"Window_close__38hm-"}},626:function(e,t,n){e.exports={dock:"Dock_dock__XYNmR",overflown:"Dock_overflown__1vLoU","horizontal-orientation":"Dock_horizontal-orientation__32KfK","content-wrapper":"Dock_content-wrapper__3sQLP","dock-item":"Dock_dock-item__2wvel",active:"Dock_active__1Zqia"}},629:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return g}));var i=n(1),r=n.n(i),c=n(10),a=n(3),o=n(4),s=n(5),l=n(6),u=n(15),d=n.n(u),b=n(809),j="connecting",h="connected",O="begin-recognize",f="end-recognize",p="transcription-recognizing",v="transcription-finalized",g=function(t){Object(s.a)(MesaSpeechRecognizer,t);var n=Object(l.a)(MesaSpeechRecognizer);function MesaSpeechRecognizer(t,i,r){var c;return Object(a.a)(this,MesaSpeechRecognizer),(c=n.call(this,r))._subscriptionKey=i,c._isConnected=!1,c._locationRegion="eastus",c._speechRecognitionLanguage="en-US",c._mediaStream=t,e((function(){c._startRecognizing()})),c}return Object(o.a)(MesaSpeechRecognizer,[{key:"getLocationRegion",value:function getLocationRegion(){return this._locationRegion}},{key:"getRecognitionLanguage",value:function getRecognitionLanguage(){return this._recognitionLanguage}},{key:"_setIsRecognizing",value:function _setIsRecognizing(e){e?this.emit(O):this.emit(f)}},{key:"_setFinalizedTranscription",value:function _setFinalizedTranscription(e){this._setIsRecognizing(!1),this.emit(v,e)}},{key:"_startRecognizing",value:function _startRecognizing(){var e=this,t=this._mediaStream;this.emit(j);var n=b.SpeechConfig.fromSubscription(this._subscriptionKey,this._locationRegion);n.speechRecognitionLanguage=this._speechRecognitionLanguage;var i=b.AudioConfig.fromStreamInput(t),a=new b.SpeechRecognizer(n,i);this.once(u.EVT_BEFORE_DESTROY,(function(){a.stopContinuousRecognitionAsync(),a.close()})),console.log({recognizer:a}),a.recognizing=function(t,n){e._isConnected||(e._isConnected=!0,e.emit(h)),e._setIsRecognizing(!0),console.log("RECOGNIZING: Text=".concat(n.result.text)),e.emit(p,n.result.text)},a.recognized=function(t,n){n.result.reason===b.ResultReason.RecognizedSpeech?(e._setFinalizedTranscription(n.result.text),console.log("RECOGNIZED: Text=".concat(n.result.text))):n.result.reason===b.ResultReason.NoMatch&&(e._setIsRecognizing(!1),console.log("NOMATCH: Speech could not be recognized."))},a.canceled=function(){var t=Object(c.a)(r.a.mark((function _callee(t,n){return r.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e._setIsRecognizing(!1),console.log("CANCELED: Reason=".concat(n.reason)),n.reason===b.CancellationReason.Error&&(console.log('"CANCELED: ErrorCode='.concat(n.errorCode)),console.log('"CANCELED: ErrorDetails='.concat(n.errorDetails)),console.log("CANCELED: Did you update the key and location/region info?")),a.stopContinuousRecognitionAsync(),t.abrupt("return",e.destroy());case 5:case"end":return t.stop()}}),_callee)})));return function(e,n){return t.apply(this,arguments)}}(),a.sessionStopped=function(t,n){e._isConnected=!1,e._setIsRecognizing(!1),console.log("\n    Session stopped event."),a.stopContinuousRecognitionAsync()},a.startContinuousRecognitionAsync()}}]),MesaSpeechRecognizer}(d.a)}).call(this,n(108).setImmediate)},716:function(e,t,n){e.exports={row:"RowColumn_row__2MIpa","disable-vertical-fill":"RowColumn_disable-vertical-fill__YiYeg",column:"RowColumn_column__3aAA3"}},718:function(e,t,n){e.exports={"no-wrap":"NoWrap_no-wrap__2b0bc"}},728:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Menu}));var i=n(75),r=n(84),c=n(524),a=n(27),o=n(729),s=n(528),l=n.n(s),u=n(44),d=["menuStructure","opened","onOpen","onClose"];function Menu(t){var n=t.menuStructure,i=t.opened,s=void 0!==i&&i,b=t.onOpen,j=void 0===b?function(){return null}:b,h=t.onClose,O=void 0===h?function(){return null}:h,f=Object(c.a)(t,d),p=Object(a.useRef)(null);return Object(a.useEffect)((function(){return window.addEventListener("resize",O),function(){window.removeEventListener("resize",O)}}),[O]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",Object(r.a)(Object(r.a)({ref:p},f),{},{className:l()("szh-menu-button",s&&"szh-menu-button--open"),onMouseDown:function onMouseDown(){e((function(){s?O():j()}))},disabled:n.disabled,children:n.label||n.role})),Object(u.jsx)(o.e,{anchorRef:p,state:p.current&&s?"open":"closed",onClose:O,portal:!0,children:xChildren(n)})]})}function xChildren(e){var t,n=[],r=Object(i.a)(e.submenu);try{for(r.s();!(t=r.n()).done;){var c=t.value;"separator"===c.type?(n.push(Object(u.jsx)(o.a,{},n.length)),c.label&&n.push(Object(u.jsx)(o.b,{children:c.label},n.length))):c.submenu?n.push(Object(u.jsx)(o.d,{label:c.label,children:xChildren(c)},n.length)):n.push(Object(u.jsx)(o.c,{onClick:c.click,disabled:c.disabled,checked:c.checked,type:c.type,children:c.role||c.label},n.length))}}catch(a){r.e(a)}finally{r.f()}return n}}).call(this,n(108).setImmediate)},729:function(e,t,n){"use strict";n.d(t,"d",(function(){return j}));var i=n(84),r=n(538),c=n(816),a=n(832),o=n(811);n.d(t,"c",(function(){return o.a}));var s=n(733);n.d(t,"b",(function(){return s.a}));var l=n(734);n.d(t,"a",(function(){return l.a}));n(730),n(731),n(732);var u=n(44),d={overflow:"auto"},b=Object(r.a)((function Menu(e){var t=Object.assign({},e);return Object(u.jsx)(c.a,Object(i.a)(Object(i.a)({},t),{},{portal:!0},d))}),c.a),j=Object(r.b)(a.a)((function SubMenu(e){var t=Object.assign({},e);return Object(u.jsx)(a.a,Object(i.a)(Object(i.a)({},t),d))}));t.e=b},732:function(e,t,n){},738:function(e,t,n){e.exports={padding:"Padding_padding__3cEtV","no-siblings":"Padding_no-siblings__1nLrM"}},739:function(e,t,n){},740:function(e,t,n){e.exports={"system-modal":"SystemModal_system-modal__3GtOL","outer-wrap":"SystemModal_outer-wrap__1fPfM","inner-wrap":"SystemModal_inner-wrap__1k8mt","small-viewport":"SystemModal_small-viewport__3gvyy",header:"SystemModal_header__37UXg"}},741:function(e,t,n){},742:function(e,t,n){e.exports={"button-transparent":"ButtonTransparent_button-transparent__nu1PF"}},743:function(e,t,n){e.exports={levels:"AudioLevelMeter_levels__3baNN","level-container":"AudioLevelMeter_level-container__12piT",level:"AudioLevelMeter_level__2fRqJ"}},766:function(e,t,n){},767:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return FullViewport}));var i=n(84),r=n(153),c=n(524),a=n(27),o=n(528),s=n.n(o),l=n(768),u=n.n(l),d=n(44),b=["className","children"];function FullViewport(t){var n=t.className,o=t.children,l=Object(c.a)(t,b),j=Object(a.useState)(null),h=Object(r.a)(j,2),O=h[0],f=h[1];return Object(a.useEffect)((function(){if(O){document.documentElement.classList.add(u.a["html-full-viewport"]),document.body.classList.add(u.a["body-full-viewport"]);var t=function handleResize(){e((function(){O.style.height=window.innerHeight+"px",document.body.scrollTop=0}))};return t(),window.addEventListener("resize",t),function(){document.documentElement.classList.remove(u.a["html-full-viewport"]),document.body.classList.remove(u.a["body-full-viewport"]),window.removeEventListener("resize",t)}}}),[O]),Object(d.jsx)("div",Object(i.a)(Object(i.a)({},l),{},{ref:f,className:s()(u.a["full-viewport"],n),children:o}))}}).call(this,n(108).setImmediate)},768:function(e,t,n){e.exports={"html-full-viewport":"FullViewport_html-full-viewport__2FFOO","body-full-viewport":"FullViewport_body-full-viewport__2_xlv","full-viewport":"FullViewport_full-viewport__2RwSj"}},769:function(e,t,n){e.exports={"auto-scaler":"AutoScaler_auto-scaler__zdzsp","content-wrap":"AutoScaler_content-wrap__2tFDr"}},770:function(e,t,n){e.exports={"notification-stack":"NotificationStack_notification-stack__1UiWO","inner-wrap":"NotificationStack_inner-wrap__2Mc0d"}},773:function(e,t,n){},774:function(e,t,n){e.exports={notification:"Notification_notification__3v54G",action:"Notification_action__3RBsB","main-image-wrap":"Notification_main-image-wrap__eqHez","main-image":"Notification_main-image__1PfuN",title:"Notification_title__2OHSD","body-outer-wrap":"Notification_body-outer-wrap__3eJfO",body:"Notification_body__1eZc4",close:"Notification_close__1O8FQ"}},775:function(e,t,n){e.exports={"virtual-link":"VirtualLink_virtual-link__76t27"}},776:function(e,t,n){e.exports={led:"LED_led__1cyGI",gray:"LED_gray__3hMZV",grey:"LED_grey__1_Ool",red:"LED_red__2O1gd",orange:"LED_orange__1Asac",yellow:"LED_yellow__H5_0O",green:"LED_green__5BS9Y",blue:"LED_blue__fOsqG"}},777:function(e,t,n){e.exports={"toggle-wrapper":"Toggle_toggle-wrapper__1K_Qn",disabled:"Toggle_disabled__3_Ejj",toggle:"Toggle_toggle__2zmhC",checkbox:"Toggle_checkbox__2zOQF"}},778:function(e,t,n){e.exports={"labeled-toggle":"LabeledToggle_labeled-toggle__14B6D",disabled:"LabeledToggle_disabled__11klv",cell:"LabeledToggle_cell__2ahlq",right:"LabeledToggle_right__3UVvj",active:"LabeledToggle_active__vC7cP",left:"LabeledToggle_left__V16KX","title-row":"LabeledToggle_title-row__2_m3u"}},779:function(e,t,n){e.exports={"color-adjuster":"ColorAdjuster_color-adjuster__2X490"}},780:function(e,t,n){e.exports={"object-viewer":"ObjectViewer_object-viewer__8k3ak"}},781:function(e,t,n){e.exports={"loading-wrapper":"StaggeredWaveLoading_loading-wrapper__35kvv",loading:"StaggeredWaveLoading_loading__9ah1x",dot:"StaggeredWaveLoading_dot__1cWhz",wave:"StaggeredWaveLoading_wave__Du7Gv"}},782:function(e,t,n){e.exports={vu:"VUMeter_vu__Xlt7R",mask:"VUMeter_mask__2OXhL",needle:"VUMeter_needle__AmMsB","vu-label":"VUMeter_vu-label__3kDDJ"}},783:function(e,t,n){e.exports={video:"Video_video__2GgL9"}},784:function(e,t,n){},785:function(e,t,n){e.exports={"labeled-led":"LabeledLED_labeled-led__wOicI","led-wrap":"LabeledLED_led-wrap__1c0-2","label-wrap":"LabeledLED_label-wrap__1FyWJ"}},786:function(e,t,n){e.exports={"button-group":"ButtonGroup_button-group__3JQ0y"}},789:function(e,t){},790:function(e,t){},792:function(e,t){},796:function(e,t){},797:function(e,t){},798:function(e,t){},799:function(e,t){},800:function(e,t){},831:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"CMD_OPEN_APPLICATIONS",(function(){return ir})),n.d(i,"CMD_ACTIVATE_NEXT_WINDOW",(function(){return rr})),n.d(i,"CMD_ACTIVATE_PREVIOUS_WINDOW",(function(){return cr})),n.d(i,"CMD_MOVE_WINDOW_UP",(function(){return ar})),n.d(i,"CMD_MOVE_WINDOW_UP_AND_RIGHT",(function(){return or})),n.d(i,"CMD_MOVE_WINDOW_UP_AND_LEFT",(function(){return sr})),n.d(i,"CMD_MOVE_WINDOW_RIGHT",(function(){return lr})),n.d(i,"CMD_MOVE_WINDOW_DOWN",(function(){return ur})),n.d(i,"CMD_MOVE_WINDOW_DOWN_AND_RIGHT",(function(){return dr})),n.d(i,"CMD_MOVE_WINDOW_DOWN_AND_LEFT",(function(){return br})),n.d(i,"CMD_MOVE_WINDOW_LEFT",(function(){return jr})),n.d(i,"CMD_CENTER_WINDOW",(function(){return hr})),n.d(i,"CMD_CENTER_ALL_WINDOWS",(function(){return Or})),n.d(i,"CMD_SCATTER_WINDOW",(function(){return fr})),n.d(i,"CMD_SCATTER_ALL_WINDOWS",(function(){return pr})),n.d(i,"CMD_MAXIMIZE_WINDOW",(function(){return vr})),n.d(i,"CMD_MINIMIZE_WINDOW",(function(){return gr})),n.d(i,"CMD_RESTORE_WINDOW",(function(){return mr})),n.d(i,"CLOSE_APPLICATION",(function(){return xr})),n.d(i,"SWITCH_TO_DESKTOP_PARADIGM",(function(){return wr})),n.d(i,"SWITCH_TO_MOBILE_PARADIGM",(function(){return Cr})),n.d(i,"SWITCH_TO_AUTO_DETECT_PARADIGM",(function(){return yr}));var r=n(15),c=n.n(r),a=n(155),o=n(84),s=n(75),l=n(524),u=n(153),d=n(27),b=n.n(d),j=n(543);var h=n(552),O=n(698),f=n(532),p=n(528),v=n.n(p),g=n(562),m=n.n(g),x=n(44),w=["className","children"];function Header(e){var t=e.className,n=e.children,i=Object(l.a)(e,w);return Object(x.jsx)("div",Object(o.a)(Object(o.a)({},i),{},{className:v()(m.a.header,t),children:Object(x.jsx)(f.a,{children:n})}))}var C=["className","children"];function Content_Content(e){var t=e.className,n=e.children,i=Object(l.a)(e,C);return Object(x.jsx)("div",Object(o.a)(Object(o.a)({},i),{},{className:v()(m.a.content,t),children:Object(x.jsx)(f.a,{children:n})}))}var y=["className","children"];function Footer(e){var t=e.className,n=e.children,i=Object(l.a)(e,y);return Object(x.jsx)("div",Object(o.a)(Object(o.a)({},i),{},{className:v()(m.a.footer,t),children:Object(x.jsx)(f.a,{children:n})}))}var S=n(716),k=n.n(S),_=["children","className","disableVerticalFill"],A=["children","className"];function Row(e){var t=e.children,n=e.className,i=e.disableVerticalFill,r=void 0!==i&&i,c=Object(l.a)(e,_);return Object(x.jsx)("div",Object(o.a)(Object(o.a)({},c),{},{className:v()(k.a.row,r&&k.a["disable-vertical-fill"],n),children:t}))}function Column(e){var t=e.children,n=e.className,i=Object(l.a)(e,A);return Object(x.jsx)("div",Object(o.a)(Object(o.a)({},i),{},{className:v()(k.a.column,n),children:t}))}var M=["className","children"];var D=function Layout(e){var t=e.className,n=e.children,i=Object(l.a)(e,M);return Object(x.jsx)(f.a,Object(o.a)(Object(o.a)({},i),{},{className:v()(m.a.layout,t),children:n}))},I=n(598),T=["children","onBorderDrag","borderWidth","isDisabled"],N="NW",R="NE",E="E",z="SE",W="SW",P="W",L=function useDirectionalDragger(e,t){return Object(I.useDrag)((function(n){var i=n.down,r=Object(u.a)(n.movement,2),c=r[0],a=r[1];t(e,{mx:c,my:a,isDragging:i})}),{pointer:{touch:!0}})};var U=n(718),F=n.n(U),V=["children","className"];var B=function NoWrap(e){var t=e.children,n=e.className,i=Object(l.a)(e,V);return Object(x.jsx)("div",Object(o.a)(Object(o.a)({},i),{},{className:v()(F.a["no-wrap"],n),children:t}))},K=n(577),H=n.n(K),Q=n(696);function useDesktopContext(){return Object(d.useContext)(Q.a)}var Y=n(546);function useUIParadigm(){var e=useDesktopContext();return{uiParadigm:e.uiParadigm,isUIParadigmAutoSet:e.isUIParadigmAutoSet,setStaticUIParadigm:e.setStaticUIParadigm}}function WindowTitleBarMaximizeButton(e){var t=Object.assign({},e);return Object(x.jsx)(WindowTitleBarButton,Object(o.a)(Object(o.a)({},t),{},{className:H.a.maximize}))}function WindowTitleBarMinimizeButton(e){var t=Object.assign({},e);return Object(x.jsx)(WindowTitleBarButton,Object(o.a)(Object(o.a)({},t),{},{className:H.a.minimize}))}function WindowTitleBarCloseButton(e){var t=Object.assign({},e);return Object(x.jsx)(WindowTitleBarButton,Object(o.a)(Object(o.a)({},t),{},{className:H.a.close}))}function WindowTitleBarButton(e){var t=Object.assign({},e);return Object(x.jsx)("button",Object(o.a)({},t))}var G=["title","onRestoreOrMaximize","onMinimize","onClose","titleBarView"];var Z=function WindowTitleBar(e){var t=e.title,n=e.onRestoreOrMaximize,i=e.onMinimize,r=e.onClose,c=e.titleBarView,a=Object(l.a)(e,G),s=Object(d.useRef)(null),u=useUIParadigm().uiParadigm,b=u===Y.b||c,j=Object(d.useMemo)((function(){return u===Y.b?{onDoubleClick:function onDoubleClick(e){"DIV"===e.target.tagName&&n(e)}}:{}}),[u,n]);return b?Object(x.jsxs)("div",Object(o.a)(Object(o.a)(Object(o.a)({},a),{},{ref:s,className:H.a["title-bar"]},j),{},{children:[c?Object(x.jsx)(f.a,{children:c}):Object(x.jsx)(B,{className:H.a.title,children:t}),u===Y.b&&Object(x.jsxs)(B,{className:H.a["window-controls"],children:[Object(x.jsx)(WindowTitleBarMaximizeButton,{onClick:n}),Object(x.jsx)(WindowTitleBarMinimizeButton,{onClick:i}),Object(x.jsx)(WindowTitleBarCloseButton,{onClick:r})]})]})):null};var X=n(575),q=n(561),J=n.n(q),$=n(597),ee=n(808);function useObjectState(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(d.useState)(e),n=Object(u.a)(t,2),i=n[0],r=n[1],c=Object(d.useRef)(i);c.current=i;var a=Object(d.useCallback)((function(e){switch(typeof e){case"string":try{e=JSON.parse(e)}catch(t){throw console.error("Unable to parse string into JSON.  Did you forget to use an Object when setting object state?"),t}break;case"function":e=e(c.current);break;case"object":break;default:throw new TypeError("Unhandled useObjectState type: ".concat(typeof e))}r((function(t){var n=Object(o.a)(Object(o.a)({},t),e);return Object.keys(Object(ee.a)(t,n)).length?n:t}))}),[]);return[i,a]}var te=n(699);function useAppOrchestrationContext(){return Object(d.useContext)(te.a)}var ne=function useWindowAutoPositioner(e){var t=e.elWindow,n=e.elWindowManager,i=e.windowController,r=e.onInitialAutoPosition,c=void 0===r?function(){return null}:r,a=Object(d.useRef)(null);t&&(a.current=c);var o=function useWindowOutOfBoundsPositionCorrection(e){var t=e.elWindow,n=e.elWindowManager,i=e.windowController,r=useObjectState({x:null,y:null}),c=Object(u.a)(r,2),a=c[0],o=c[1],s=Object(d.useCallback)((function(e,t){var n=Object(X.a)(t),i=Object(X.a)(e),r=Object($.a)(e),c=r.x,a=r.y,o=r.x+i.width,s=r.y,l={x:null,y:null};return o<58&&(l.x=58-i.width),s<0&&(l.y=0),c>n.width-58&&(l.x=n.width-58),a>n.height-58&&(l.y=n.height-58),l}),[]),l=useUIParadigm().uiParadigm;return Object(d.useEffect)((function(){if(l===Y.b&&t&&n&&i){var e=J()((function(){if(!i.getIsMinimized()){var e=s(t,n);o(e)}}),100,!1);return i.on(j.c,e),i.on(j.a,e),window.addEventListener("resize",e),e(),function unmount(){i.off(j.c,e),i.off(j.a,e),window.removeEventListener("resize",e)}}}),[l,t,n,i,s,o]),a}({elWindow:t,elWindowManager:n,windowController:i});Object(d.useEffect)((function(){if(i&&(null!==o.x||null!==o.y)){var e=i.getPosition(),t={x:null!==o.x?o.x:e.x,y:null!==o.y?o.y:e.y};i.setPosition(t)}}),[i,o]);var s=Object(d.useCallback)((function(){var e=function getElCenterPoint(e){return{x:e.offsetLeft+e.offsetWidth/2,y:e.offsetTop+e.offsetHeight/2}}(n),r=Object(X.a)(t),c=e.x-r.width/2,a=e.y-r.height/2;i.setPosition({x:c,y:a})}),[n,t,i]),l=Object(d.useCallback)((function(){if(i){var e=Object(X.a)(n),r=Object(X.a)(t),c=Math.floor(Math.random()*(e.width-r.width)),a=Math.floor(Math.random()*(e.height-r.height));i.setPosition({x:c,y:a})}}),[n,t,i]),b=useAppOrchestrationContext().appRuntimes,h=Object(d.useRef)(b);Object(d.useEffect)((function(){n&&t&&i&&(i.__INTERNAL__setCenterHandler(s),i.__INTERNAL__setScatterHandler(l),window.requestAnimationFrame((function(){h.current.length<2?s():l(),window.requestAnimationFrame((function(){a.current()}))})))}),[n,t,i,s,l])};var ie=n(607);var re=["children","elWindowManager","windowController","isActive","titleBarView","style"],ce=function WindowView(e){var t=e.children,n=e.elWindowManager,i=e.windowController,r=e.isActive,c=e.titleBarView,a=void 0===c?null:c,s=e.style,h=void 0===s?{}:s,p=Object(l.a)(e,re),g=Object(d.useState)(null),m=Object(u.a)(g,2),w=m[0],C=m[1],y=function useWindowOpenAnimation(e){var t=Object(d.useState)(!1),n=Object(u.a)(t,2),i=n[0],r=n[1];return Object(ie.a)({domElement:e,animationName:"zoomInUp",animationDuration:".5s",shouldRun:Boolean(e),onAnimationEnd:function onAnimationEnd(){return r(!0)}}),{isOpenAnimationEnded:i}}(w),S=y.isOpenAnimationEnded;ne({elWindow:w,elWindowManager:n,windowController:i}),function useWindowAutoSizer(e){var t=e.windowController,n=useUIParadigm().uiParadigm;Object(d.useEffect)((function(){if(t&&!t.getIsMinimized())switch(n){case Y.c:t.maximize();break;case Y.b:t.restore()}}),[t,n])}({windowController:i});var k=Object(d.useState)(0),_=Object(u.a)(k,2),A=_[0],M=_[1],T=Object(d.useState)(null),L=Object(u.a)(T,2),U=L[0],F=L[1],V=Object(d.useRef)(null);V.current=U,Object(d.useEffect)((function(){i&&w&&i.__INTERNAL__attachWindowElement(w)}),[i,w]);var B=Object(d.useState)(!1),K=Object(u.a)(B,2),Q=K[0],G=K[1],X=Object(d.useRef)(null);X.current=Q;var q=Object(d.useState)(!1),J=Object(u.a)(q,2),$=J[0],ee=J[1],te=Object(d.useState)(!1),ce=Object(u.a)(te,2),ae=ce[0],oe=ce[1];Object(d.useEffect)((function(){if(i){var e=function _handleWindowControllerUpdate(e){e||(e=i.getState()||{});var t=i.getTitle();t!==V.current&&F(t),void 0!==e.stackingIndex&&e.stackingIndex!==A&&M(e.stackingIndex),void 0!==e.isMaximized&&ee(e.isMaximized),void 0!==e.isMinimized&&oe(e.isMinimized);var n=i.getIsBorderDisabled();X.current!==n&&G(n)};return e(),i.on(j.d,e),function unmount(){i.off(j.d,e)}}}),[i,U,A]);var se=function useWindowControls(e){var t=e.windowController;return{onRestoreOrMaximize:Object(d.useCallback)((function(){t.getIsMaximized()?t.restore():t.maximize()}),[t]),onMinimize:Object(d.useCallback)((function(){t.minimize()}),[t]),onClose:Object(d.useCallback)((function(){t.getIsDestroying()||t.destroy()}),[t])}}({windowController:i}),le=se.onRestoreOrMaximize,ue=se.onMinimize,de=se.onClose,be=function useWindowDragger(e){var t=e.windowController,n=e.isDisabled,i=Object(d.useRef)(null),r=Object(d.useRef)(null),c=Object(d.useState)(!1),a=Object(u.a)(c,2),o=a[0],s=a[1];return[Object(I.useDrag)((function(e){var c=e.down,a=Object(u.a)(e.movement,2),l=a[0],d=a[1],b=e.xy;if(e.event,n)o&&s(!1);else if(c!==o&&s(c),c){i.current||(i.current=t.getPosition()),r.current||(r.current=t.getWindowManagerSize());var j=i.current.x+l,h=i.current.y+d,O=r.current.width,f=r.current.height;h<0&&(h=0),h>f-58&&(h=f-58),b[0]<0&&(j=null),b[0]>O-0&&(j=null),t.setPosition({x:j,y:h})}else i.current=null,r.current=null})),o]}({windowController:i,isDisabled:Q}),je=Object(u.a)(be,2),he=je[0],Oe=je[1],fe=function useWindowDragResizer(e){var t=e.windowController,n=Object(d.useRef)(null),i=Object(d.useRef)(null),r=Object(d.useState)(!1),c=Object(u.a)(r,2),a=c[0],s=c[1];return[Object(d.useCallback)((function(e,r){var c=r.mx,l=r.my,u=r.isDragging;if(u!==a&&s(u),u){n.current||(n.current=Object(o.a)(Object(o.a)({},t.getSize()),t.getPosition())),i.current||(i.current=t.getWindowManagerSize());var d=n.current,b=d.width,j=d.height,h=d.x,O=d.y,f=i.current.width,p=i.current.height;switch(e){case N:b-=c,j-=l,h+=c,O+=l;break;case"N":j-=l,O+=l;break;case R:j-=l,b+=c,O+=l;break;case E:b+=c;break;case z:b+=c,j+=l;break;case"S":j+=l;break;case W:b-=c,j+=l,h+=c;break;case P:b-=c,h+=c;break;default:throw new ReferenceError("Unknown direction: ".concat(e))}if(![R,E,z].includes(e)&&h<0){var v=0-h;h=0,b-=v}if(O<0){var g=0-O;O=0,j-=g}if([N,P,W].includes(e)||b+h>f&&(b=f-h,h=null),j+O>p&&("S"!==e&&e!==z&&e!==W||(j=p-O,O=null)),p-O<58)return;t.setSize({width:b,height:j}),t.setPosition({x:h,y:O})}else n.current=null,i.current=null}),[t,a]),a]}({windowController:i}),pe=Object(u.a)(fe,2),ve=pe[0],ge=pe[1],me=useDesktopContext().isProfiling,xe=Object(d.useMemo)((function(){return function(e){var t=Object.assign({},e);return me?Object(x.jsx)(b.a.Profiler,Object(o.a)(Object(o.a)({},t),{},{id:i.getUUID(),onRender:function onRender(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.captureRenderProfile(t)}})):Object(x.jsx)(b.a.Fragment,Object(o.a)({},t))}}),[me,i]),we=function useWindowStyles(e){var t=e.style,n=e.isMaximized,i=e.isMinimized;return{outerBorderStyle:Object(d.useMemo)((function(){return n||i?{}:{width:t.width,height:t.height}}),[t.width,t.height,n,i]),windowStyle:Object(d.useMemo)((function(){return{backgroundColor:t.backgroundColor}}),[t.backgroundColor]),bodyStyle:Object(d.useMemo)((function(){return{padding:t.padding}}),[t.padding])}}({style:h,isMaximized:$,isMinimized:ae}),Ce=we.outerBorderStyle,ye=we.windowStyle,Se=we.bodyStyle;return Object(x.jsx)(O.a,Object(o.a)(Object(o.a)({onMount:C},p),{},{style:Object(o.a)(Object(o.a)({},Ce),{},{zIndex:A}),className:v()(H.a["window-outer-border"],!S&&H.a.hidden,r&&H.a.active,$&&H.a.maximized,ae&&H.a.minimized,(Oe||ge)&&H.a.dragging),isAccelerated:Oe||ge,"data-reshell-window-title":i.getTitle(),children:Object(x.jsx)(xe,{children:Object(x.jsx)(WindowView.Border,{isDisabled:Q,onBorderDrag:ve,children:Object(x.jsx)(f.a,{className:v()(H.a.window,r&&H.a.active,Oe&&H.a.dragging),style:ye,children:Object(x.jsxs)(D,{children:[Object(x.jsx)(Header,{children:Object(x.jsx)(Z,Object(o.a)(Object(o.a)({},he()),{},{title:U,onRestoreOrMaximize:le,onMinimize:ue,onClose:de,titleBarView:a}))}),Object(x.jsx)(Content_Content,{className:H.a.body,style:Se,children:t})]})})})})}))};ce.Border=function WindowBorder(e){var t=e.children,n=e.onBorderDrag,i=e.borderWidth,r=void 0===i?3:i,c=e.isDisabled,a=void 0!==c&&c,s=Object(l.a)(e,T),u=L(N,n),d=L("N",n),b=L(R,n),j=L(E,n),h=L(z,n),O=L("S",n),f=L(W,n),p=L(P,n);return Object(x.jsxs)(D,Object(o.a)(Object(o.a)({},s),{},{children:[Object(x.jsx)(Header,{children:!a&&Object(x.jsxs)(Row,{style:{maxHeight:r,height:r},children:[Object(x.jsx)(Column,Object(o.a)(Object(o.a)({},u()),{},{style:{maxWidth:r,cursor:"nwse-resize"}})),Object(x.jsx)(Column,Object(o.a)(Object(o.a)({},d()),{},{style:{cursor:"ns-resize"}})),Object(x.jsx)(Column,Object(o.a)(Object(o.a)({},b()),{},{style:{maxWidth:r,cursor:"nesw-resize"}}))]})}),Object(x.jsx)(Content_Content,{children:Object(x.jsxs)(Row,{children:[!a&&Object(x.jsx)(Column,Object(o.a)(Object(o.a)({},p()),{},{style:{maxWidth:r,cursor:"ew-resize"}})),Object(x.jsx)(Column,{children:t}),!a&&Object(x.jsx)(Column,Object(o.a)(Object(o.a)({},j()),{},{style:{maxWidth:r,cursor:"ew-resize"}}))]})}),Object(x.jsx)(Footer,{children:!a&&Object(x.jsxs)(Row,{style:{maxHeight:r,height:r},children:[Object(x.jsx)(Column,Object(o.a)(Object(o.a)({},f()),{},{style:{maxWidth:r,cursor:"nesw-resize"}})),Object(x.jsx)(Column,Object(o.a)(Object(o.a)({},O()),{},{style:{cursor:"ns-resize"}})),Object(x.jsx)(Column,Object(o.a)(Object(o.a)({},h()),{},{style:{maxWidth:r,cursor:"nwse-resize"}}))]})})]}))};var ae=ce,oe=["children","elWindowManager","isActive","titleBarView","style"],se=b.a.forwardRef((function(e,t){var n=e.children,i=e.elWindowManager,r=e.isActive,c=e.titleBarView,a=e.style,s=void 0===a?{}:a,b=Object(l.a)(e,oe),j=Object(d.useState)(null),h=Object(u.a)(j,2),O=h[0],f=h[1];return Object(d.useImperativeHandle)(t,(function(){return{attachWindowController:f}})),O?Object(x.jsx)(ae,Object(o.a)(Object(o.a)({},b),{},{style:s,elWindowManager:i,windowController:O,isActive:r,titleBarView:c,children:n})):null})),le=b.a.createContext({});function WindowProvider(e){var t=e.children,n=e.initialSharedState,i=useObjectState(void 0===n?{}:n),r=Object(u.a)(i,2),c=r[0],a=r[1];return Object(x.jsx)(le.Provider,{value:{setSharedState:a,sharedState:c},children:t})}var ue=n(604),de=n(530),be=b.a.createContext({});function WindowManagerRouteProvider(e){var t,n=e.children,i=useAppOrchestrationContext(),r=i.getAppRuntimesWithRegistrationID,c=i.activateAppRegistrationWithID,a=useDesktopContext(),o=a.activeWindowController,s=a.setActiveWindowController,l=Object(ue.a)();Object(d.useEffect)((function(){l?c(l):s(null)}),[l,r,s,c]);var u=null===o||void 0===o||null===(t=o.getAppRuntime())||void 0===t?void 0:t.getRegistrationID(),b=Object(de.d)();return Object(d.useEffect)((function(){if(u!==l){var e=J()((function(){return b.push(u?"/".concat(u):"/")}),50,!1);return e(),function(){return e.clear()}}}),[u,l,b]),Object(x.jsx)(be.Provider,{value:{},children:n})}var je=n(601),he=n(555),Oe=["view","titleBarView","initialSharedState","id","title","serviceClasses","isPinned","isPinnedToDock","isAutoStart"],fe=["titleBarView"],pe=0;function WindowManagerView(e){var t=e.children,n=useAppOrchestrationContext().appRuntimes,i=Object(d.useState)(null),c=Object(u.a)(i,2),a=c[0],b=c[1],O=useDesktopContext(),f=O.activeWindowController,p=O.setActiveWindowController,v=Object(d.useState)({}),g=Object(u.a)(v,2),m=g[0],w=g[1],C=Object(d.useCallback)((function(e){return m[e]}),[m]),y=Object(d.useRef)(null);y.current=f;var S=Object(d.useCallback)((function(e){(null===e||void 0===e?void 0:e.getIsMinimized())&&e.setIsMinimized(!1),Object.is(e,y.current)||(p(e),e&&e.setState({stackingIndex:++pe}))}),[p]),k=Object(d.useCallback)((function(e){return Object.is(f,e)}),[f]),_=Object(je.a)().startServiceClass,A=Object(d.useRef)(S);A.current=S,Object(d.useEffect)((function(){if(a){var e=function _handleElBaseTouch(e){e.target===a&&A.current(null)};return a.addEventListener("mousedown",e),a.addEventListener("touchstart",e,{passive:!0}),function unmount(){a.removeEventListener("mousedown",e),a.removeEventListener("touchstart",e,{passive:!0})}}}),[a]);var M=n.map((function(e){var t=e.getAppDescriptor();if(!t)return null;var n=e.getUUID(),i=t.view,c=t.titleBarView,u=t.initialSharedState,d=(t.id,t.title),b=t.serviceClasses,h=void 0===b?[]:b,O=(t.isPinned,t.isPinnedToDock,t.isAutoStart,Object(l.a)(t,Oe));if(!i)return null;var f=C(n),p=f&&f.windowController;if(f&&!f.windowController)return null;var v,g={},m=Object(s.a)(h);try{for(m.s();!(v=m.n()).done;){var y=v.value,A=_(y);g[y]=A}}catch(M){m.e(M)}finally{m.f()}return Object(x.jsx)(WindowProvider,{initialSharedState:u,children:Object(x.jsx)(se,Object(o.a)(Object(o.a)({},O),{},{elWindowManager:a,isActive:k(p),onMouseDown:function onMouseDown(){return S(p)},onTouchStart:function onTouchStart(){return S(p)},titleBarView:c?Object(x.jsx)(ve,{titleBarView:c,appServices:g,windowController:p,appRuntime:e}):null,ref:function ref(t){if(t&&!p){var i=new j.e({},{onBringToTop:S});i.setTitle(d),i.__INTERNAL__attachWindowManagerElement(a),i.setAppRuntime(e),e.__INTERNAL__setWindowController(i),t.attachWindowController(i),w((function(e){var t=Object(o.a)({},e);return t[n]={windowController:i,key:n},t})),i.once(r.EVT_DESTROYED,(function(){w((function(e){var t=Object(o.a)({},e);return t[n].windowController=null,t}))})),S(i)}},children:p&&Object(x.jsx)(WrappedWindowView,{appServices:g,windowController:p,appRuntime:e,view:i})}))},n)})).filter((function(e){return Boolean(e)}));return Object(x.jsx)(h.a,{children:Object(x.jsxs)("div",{ref:b,style:{width:"100%",height:"100%",position:"relative"},children:[t,M]})})}var ve=function WrappedTitleBarView(e){var t=e.titleBarView,n=Object(l.a)(e,fe);return Object(x.jsx)(WrappedWindowView,Object(o.a)(Object(o.a)({},n),{},{view:t}))};function WrappedWindowView(e){var t=e.appServices,n=e.windowController,i=e.appRuntime,c=e.view,a=Object(he.a)(),o=function useWindowContext(){return Object(d.useContext)(le)}(),s=o.sharedState,l=o.setSharedState;Object(d.useEffect)((function(){for(var e=function _handleServiceUpdate(){a()},n=0,i=Object.values(t);n<i.length;n++){i[n].on(r.EVT_UPDATED,e)}return function unmount(){for(var n=0,i=Object.values(t);n<i.length;n++){i[n].off(r.EVT_UPDATED,e)}}}),[t,a]);var u=function useRegistrationViewOnResized(e){var t=Object(d.useRef)(null),n=Object(d.useCallback)((function(e){t.current=e}),[]);return Object(d.useEffect)((function(){if(e){if(!(e instanceof j.e))throw new TypeError("windowController is not a WindowController");var n=function _handleExecResizedCallback(){var e=t.current;"function"===typeof e&&e()};return e.on(j.c,n),function unmount(){e.off(j.c,n)}}}),[e]),n}(n);return Object(x.jsx)(c,{windowController:n,appServices:t,appRuntime:i,setResizeHandler:u,sharedState:s,setSharedState:l})}var ge=function WindowManager(e){var t=e.appDescriptors,n=void 0===t?[]:t,i=e.children,r=useAppOrchestrationContext().addOrUpdateAppRegistration;return Object(d.useEffect)((function(){n.forEach((function(e){return r(e)}))}),[n,r]),Object(x.jsx)(WindowManagerRouteProvider,{children:Object(x.jsx)(WindowManagerView,{children:i})})},me=n(1),xe=n.n(me),we=n(10),Ce=n(45),ye=n(728).a;var Se=function MenuBar(e){var t=e.menuStructures,n=void 0===t?[]:t,i=Object(d.useState)([]),r=Object(u.a)(i,2),c=r[0],a=r[1],o=Object(d.useState)(!1),l=Object(u.a)(o,2),b=l[0],j=l[1];return Object(d.useEffect)((function(){var e=Boolean(c.length);b!==e&&(j(e),e||a([]))}),[b,c]),Object(d.useEffect)((function(){var e,t=Object(s.a)(c);try{for(t.s();!(e=t.n()).done;){var i=e.value;if(!n[i]){a([]),j(!1);break}}}catch(r){t.e(r)}finally{t.f()}}),[c,n]),Object(x.jsx)(B,{children:n.map((function(e,t){return e&&Object(x.jsx)(ye,{menuStructure:e,onOpen:function onOpen(){return a((function(e){return Object(Ce.a)(new Set([].concat(Object(Ce.a)(e),[t])))}))},onClose:function onClose(){return a((function(e){return e.filter((function(e){return e!==t}))}))},opened:Boolean(c.includes(t)),onMouseOver:function onMouseOver(){b&&(c.includes(t)||a([t]))}},t)}))})},ke=n(547),_e=n(3),Ae=n(4),Me=n(5),De=n(6),Ie=n(58),Te=n(169),Ne=function(e){Object(Me.a)(UIModalService,e);var t=Object(De.a)(UIModalService);function UIModalService(){var e;Object(_e.a)(this,UIModalService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("UI Modal Service"),e.setState({modals:[]}),e}return Object(Ae.a)(UIModalService,[{key:"showModal",value:function showModal(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(Te.a)(),r=null,c=function _handleClose(){clearTimeout(r),t.closeModalWithUUID(i)};this.setState({modals:[].concat(Object(Ce.a)(this.getState().modals),[{view:e,uuid:i,onClose:c,onCancel:c}])}),n.duration&&(r=setTimeout((function(){t.closeModalWithUUID(i)}),n.duration))}},{key:"closeModalWithUUID",value:function closeModalWithUUID(e){var t=this.getState().modals.filter((function(t){var n=t.uuid;return e!==n}));this.setState({modals:t})}}]),UIModalService}(Ie.c),Re=n(529),Ee=n(738),ze=n.n(Ee),We=["children","className"];var Pe=function Padding(e){var t=e.children,n=e.className,i=Object(l.a)(e,We),r=Object(d.useState)(null),c=Object(u.a)(r,2),a=c[0],s=c[1],b=Object(d.useState)(!1),j=Object(u.a)(b,2),h=j[0],O=j[1];return Object(d.useEffect)((function(){if(a){var e=Boolean(Object(Ce.a)(a.parentNode.children).length>1);O(e)}}),[a]),Object(x.jsx)("div",Object(o.a)(Object(o.a)({},i),{},{ref:s,className:v()(ze.a.padding,!h&&ze.a["no-siblings"],n),children:t}))},Le=(n(739),["className"]),Ue=function DynamicIcon(e){var t=e.className,n=Object(l.a)(e,Le);return Object(x.jsx)("i",Object(o.a)(Object(o.a)({},n),{},{className:"id92dd65b22cd4a62996cb3b8e0f579db-icon".concat(t?" ".concat(t):"")}))},Fe=n(740),Ve=n.n(Fe);var Be={onKeyDown:function onKeyDown(e){return null},onKeyUp:function onKeyUp(e){return null},onEnter:function onEnter(){return null},onEscape:function onEscape(){return null},isEnabled:!0};function useKeyboardEvents(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(d.useMemo)((function(){return Object(o.a)(Object(o.a)({},Be),t)}),[t]),i=n.onKeyDown,r=n.onKeyUp,c=n.onEnter,a=n.onEscape,s=n.isEnabled;Object(d.useEffect)((function(){if(e&&s){var t=function _handleKeyDown(e){if(!e.repeat)switch(i(e.which),e.which){case 13:c();break;case 27:a()}},n=function _handleKeyUp(e){e.preventDefault(),r(e.which)};return e.addEventListener("keydown",t),e.addEventListener("keyup",n),function(){e.removeEventListener("keydown",t),e.removeEventListener("keyup",n)}}}),[e,i,r,c,a,s])}var Ke=!1;var He=function SystemModal(e){var t=e.children,n=e.className,i=e.onClose,r=e.onCancel,c=e.headerView,a=void 0===c?null:c,o=e.footerView,s=void 0===o?function(e){var t=e.onCancel;return Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)(Pe,{children:Object(x.jsxs)("button",{onClick:t,style:{backgroundColor:"red"},children:[Object(x.jsx)(Ue,{})," Cancel"]})})})}:o,l=Object(d.useState)(Ke),b=Object(u.a)(l,2),j=b[0],h=b[1];return Ke=j,function useViewportSize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=Object(d.useCallback)((function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}),[]),i=Object(d.useRef)(e);i.current=e,Object(d.useEffect)((function(){if("function"===typeof i.current){var e=Object(q.debounce)((function(){(0,i.current)(n())}),t,!1);return e(),window.addEventListener("resize",e),function unmount(){window.removeEventListener("resize",e)}}}),[t,n])}((function(e){var t=e.width,n=e.height;h(t<500||n<600)})),useKeyboardEvents(window,{onEscape:r}),Object(x.jsx)(f.a,{className:v()(Ve.a["system-modal"],j?Ve.a["small-viewport"]:null,n),children:Object(x.jsx)("div",{className:Ve.a["outer-wrap"],children:Object(x.jsx)("div",{className:Ve.a["inner-wrap"],children:Object(x.jsxs)(D,{children:[a&&Object(x.jsx)(Header,{className:Ve.a.header,children:"function"===typeof a?a({onCancel:r,onClose:i}):a}),Object(x.jsx)(Content_Content,{children:t}),s&&Object(x.jsx)(Footer,{className:Ve.a.footer,children:"function"===typeof s?s({onCancel:r,onClose:i}):s})]})})})})},Qe=["text","onCancel","onClose","footerView"];var Ye=function ConfirmModal(e){var t=e.text,n=e.onCancel,i=e.onClose,r=e.footerView,c=void 0===r?function(e){var t=e.onCancel,n=e.onClose;return Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsxs)(Pe,{children:[Object(x.jsx)("button",{onClick:n,style:{backgroundColor:"#347fe8"},children:"Accept"}),Object(x.jsx)("div",{style:{display:"inline-block",width:"1em"}}),Object(x.jsx)("button",{onClick:t,style:{backgroundColor:"red"},children:"Reject"})]})})}:r,a=Object(l.a)(e,Qe);return Object(x.jsx)(He,Object(o.a)(Object(o.a)({},a),{},{onCancel:n,onClose:i,footerView:c,children:Object(x.jsx)(Re.a,{canOverflow:!0,style:{fontWeight:"bold"},children:t})}))},Ge=(n(741),["className"]),Ze=function DynamicIcon(e){var t=e.className,n=Object(l.a)(e,Ge);return Object(x.jsx)("i",Object(o.a)(Object(o.a)({},n),{},{className:"i91eec2200f934fc6a4087e250fa26340-icon".concat(t?" ".concat(t):"")}))},Xe=n(742),qe=n.n(Xe),Je=["children","className"];var $e=function ButtonTransparent(e){var t=e.children,n=e.className,i=Object(l.a)(e,Je);return Object(x.jsx)("button",Object(o.a)(Object(o.a)({className:v()(qe.a["button-transparent"],n)},i),{},{children:t}))},et=n(743),tt=n.n(et),nt=n(553),it=n.n(nt),rt=n(558);function useArrayDiff(e){var t=function usePrevious(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(d.useRef)(t);return Object(d.useEffect)((function(){n.current=e}),[e]),n.current}(e,[]),n=Object(d.useState)({added:[],removed:[]}),i=Object(u.a)(n,2),c=i[0],a=i[1];return Object(d.useEffect)((function(){if(!Array.isArray(e))throw new Error("next should be an array");var n=r.PhantomCollection.getChildrenDiff(t,e),i=n.added,c=n.removed;(i.length||c.length)&&a({added:i,removed:c})}),[t,e]),{added:c.added,removed:c.removed}}var ct=rt.MultiAudioMediaStreamTrackLevelMonitor.EVT_AUDIO_LEVEL_UPDATED;function useMultiAudioMediaStreamTrackLevelMonitor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Object(d.useMemo)((function(){return(e?Array.isArray(e)?e:[e]:[]).filter((function(e){return e instanceof MediaStreamTrack&&"audio"===e.kind}))}),[e]),i=Object(d.useState)(null),r=Object(u.a)(i,2),c=r[0],a=r[1],o=Object(d.useRef)(t);o.current=t,Object(d.useEffect)((function(){var e=new rt.MultiAudioMediaStreamTrackLevelMonitor;return e.on(ct,(function(e){o.current(e)})),a(e),function unmount(){e.getIsDestroying()||e.destroy()}}),[]);var l=useArrayDiff(n),b=l.added,j=l.removed;Object(d.useEffect)((function(){if(c){var e,t=Object(s.a)(b);try{for(t.s();!(e=t.n()).done;){var n=e.value;c.addMediaStreamTrack(n)}}catch(o){t.e(o)}finally{t.f()}var i,r=Object(s.a)(j);try{for(r.s();!(i=r.n()).done;){var a=i.value;c.removeMediaStreamTrack(a)}}catch(o){r.e(o)}finally{r.f()}}}),[c,b,j])}var at=["className","mediaStreamTrack","mediaStreamTracks"];var ot=function AudioLevelMeter(e){var t=e.className,n=e.mediaStreamTrack,i=e.mediaStreamTracks,r=Object(l.a)(e,at),c=Object(d.useState)(null),a=Object(u.a)(c,2),s=a[0],b=a[1],j=Object(d.useMemo)(Te.a,[]),h=Object(d.useCallback)((function(e){s&&it()((function(){var t=100-e;s.style.clipPath="inset(".concat(t,"% 0 0 0)"),s.style.WebkitClipPath="inset(".concat(t,"% 0 0 0)")}),j)}),[s,j]);return Object(d.useEffect)((function(){s&&h(0)}),[h,s]),useMultiAudioMediaStreamTrackLevelMonitor(n||i,h),Object(x.jsx)("div",Object(o.a)(Object(o.a)({className:v()(tt.a.levels,t)},r),{},{children:Object(x.jsx)("div",{className:tt.a["level-container"],children:Object(x.jsx)("div",{ref:b,className:tt.a.level})})}))},st=(n(766),["className"]),lt=function DynamicIcon(e){var t=e.className,n=Object(l.a)(e,st);return Object(x.jsx)("i",Object(o.a)(Object(o.a)({},n),{},{className:"ie8e4f3089b614c28aa33b6aaeff7d8b0-icon".concat(t?" ".concat(t):"")}))};function AudioInputDeviceTableRow(e){var t=e.device,n=e.mediaStreamTracks,i=e.isCapturing,r=e.onToggleCapture,c=e.isMuted,a=e.onToggleMute,o=e.audioQualityPresets,s=e.audioQualityPresetName,l=e.onChangeAudioQualityPresetName;if("audioinput"!==t.kind)throw new TypeError("device is not an audioinput device");return Object(x.jsxs)("tr",{style:i?{backgroundColor:"rgba(0,174,255,.2)"}:null,children:[Object(x.jsx)("td",{children:Object(x.jsxs)(Pe,{children:[Object(x.jsx)("div",{style:{fontWeight:"bold"},children:t.label||"[Unknown Label]"}),Object(x.jsxs)("div",{style:{marginTop:4},children:[Object(x.jsx)("span",{style:{fontSize:".7em"},children:"Quality:"})," ",i?Object(x.jsxs)("button",{onClick:r,style:{minWidth:145,textAlign:"left"},children:[s," ",Object(x.jsx)(Ue,{style:{color:"orange",float:"right"}})]}):Object(x.jsx)("select",{value:s,onChange:function onChange(e){return l(e.target.value)},disabled:i,children:o.map((function(e,t){var n=e.name;return Object(x.jsx)("option",{value:n,children:n},t)}))})]})]})}),Object(x.jsx)("td",{className:"center",children:Object(x.jsx)(Pe,{children:Object(x.jsx)("button",{onClick:r,style:{backgroundColor:i?"red":"#347FE8",width:"100%"},children:i?"Stop":"Start"})})}),Object(x.jsx)("td",{className:"center",children:Object(x.jsx)(Pe,{children:Object(x.jsxs)($e,{disabled:!i,onClick:a,style:{color:i?c?"white":"orange":"inherit"},children:[Object(x.jsx)("div",{style:{textAlign:"center"}}),Object(x.jsx)(lt,{style:{fontSize:"1.5em"}}),Object(x.jsx)("div",{style:{fontSize:".7em",marginTop:4},children:i?c?"Yes":"No":"N/A"})]})})}),Object(x.jsx)("td",{className:"center",style:{width:80,height:70},children:Object(x.jsx)(Pe,{children:i?"audioinput"===t.kind&&Object(x.jsx)(ot,{mediaStreamTracks:n}):Object(x.jsx)(Re.a,{style:{color:"gray",fontSize:".7em"},children:"Off"})})})]})}var ut=n(156),dt=n(73),bt="media-devices",jt="userMetadata",ht=function(e){Object(Me.a)(MediaDeviceCachingService,e);var t=Object(De.a)(MediaDeviceCachingService);function MediaDeviceCachingService(){var e;Object(_e.a)(this,MediaDeviceCachingService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setState({devicesWithUserMetadata:[]}),e.setTitle("Media Device Caching Service"),e._storageEngine=e.useServiceClass(dt.a).getSecureLocalStorageEngine(),Object(we.a)(xe.a.mark((function _callee(){return xe.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e._fetchCachedMediaDeviceUserMetadata().then((function(t){return e.setState({devicesWithUserMetadata:t})}));case 1:case"end":return t.stop()}}),_callee)})))(),e}return Object(Ae.a)(MediaDeviceCachingService,[{key:"setMediaDeviceUserMetadata",value:function(){var e=Object(we.a)(xe.a.mark((function _callee2(e,t){var n,i,c,a;return xe.a.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:if("object"===typeof e){o.next=2;break}throw new TypeError("device must be an object");case 2:if("object"===typeof t){o.next=4;break}throw new TypeError("userMetadata must be an object");case 4:return n={},Object(ut.a)(n,"device",e),Object(ut.a)(n,jt,t),i=n,o.next=7,this._fetchCachedMediaDeviceUserMetadata().then((function(n){return n.filter((function(n){var c=rt.utils.mediaDevice.getIsSameMediaDevice(n.device,e);return c&&(i=Object(r.deepMerge)(n,Object(ut.a)({},jt,t))),!c}))}));case 7:return c=o.sent,a=[].concat(Object(Ce.a)(c),[i]),o.next=11,this._storageEngine.setItem(bt,a);case 11:this.setState({devicesWithUserMetadata:a});case 12:case"end":return o.stop()}}),_callee2,this)})));return function setMediaDeviceUserMetadata(t,n){return e.apply(this,arguments)}}()},{key:"_fetchCachedMediaDeviceUserMetadata",value:function(){var e=Object(we.a)(xe.a.mark((function _callee3(){var e;return xe.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._storageEngine.fetchItem(bt);case 2:if(e=t.sent,!Array.isArray(e)){t.next=7;break}return t.abrupt("return",e);case 7:return t.abrupt("return",[]);case 8:case"end":return t.stop()}}),_callee3,this)})));return function _fetchCachedMediaDeviceUserMetadata(){return e.apply(this,arguments)}}()},{key:"getMediaDeviceUserMetadata",value:function getMediaDeviceUserMetadata(e){var t=this.getState().devicesWithUserMetadata.find((function(t){return rt.utils.mediaDevice.getIsSameMediaDevice(t.device,e)}));if(t)return t.userMetadata}}]),MediaDeviceCachingService}(Ie.c),Ot=function(e){Object(Me.a)(InputMediaDeviceFactoryCollection,e);var t=Object(De.a)(InputMediaDeviceFactoryCollection);function InputMediaDeviceFactoryCollection(){return Object(_e.a)(this,InputMediaDeviceFactoryCollection),t.apply(this,arguments)}return InputMediaDeviceFactoryCollection}(rt.MediaStreamTrackControllerFactoryCollection),ft=function(e){Object(Me.a)(InputMediaDevicesService,e);var t=Object(De.a)(InputMediaDevicesService);function InputMediaDevicesService(){var e;Object(_e.a)(this,InputMediaDevicesService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("Input Media Devices Service"),e.setState({isFetchingMediaDevices:!1,isAudioContextStarted:!1,devices:[]}),e._mediaDeviceCachingService=e.useServiceClass(ht),e._inputMediaDeviceFactoryCollection=e.bindCollectionClass(Ot),e.fetchInputMediaDevices(),e}return Object(Ae.a)(InputMediaDevicesService,[{key:"fetchInputMediaDevices",value:function(){var e=Object(we.a)(xe.a.mark((function _callee(){var e,t,n=this,i=arguments;return xe.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e=!(i.length>0&&void 0!==i[0])||i[0],this.setState({isFetchingMediaDevices:!0}),r.next=4,this.untilAudioContextResumed();case 4:return r.next=6,rt.utils.mediaDevice.fetchInputMediaDevices(e).catch(console.error).finally((function(){return n.setState({isFetchingMediaDevices:!1})}));case 6:return t=r.sent,this.setState({devices:t}),r.abrupt("return",t);case 9:case"end":return r.stop()}}),_callee,this)})));return function fetchInputMediaDevices(){return e.apply(this,arguments)}}()},{key:"untilAudioContextResumed",value:function(){var e=Object(we.a)(xe.a.mark((function _callee2(){return xe.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt.utils.audioContext.untilAudioContextResumed();case 2:this.setState({isAudioContextStarted:!0});case 3:case"end":return e.stop()}}),_callee2,this)})));return function untilAudioContextResumed(){return e.apply(this,arguments)}}()},{key:"getIsFetchingMediaDevices",value:function getIsFetchingMediaDevices(){return this.getState().isFetchingMediaDevices}},{key:"getInputMediaDevices",value:function getInputMediaDevices(){return this.getState().devices||[]}},{key:"getAudioInputMediaDevices",value:function getAudioInputMediaDevices(){return this.getInputMediaDevices().filter((function(e){return e.kind.includes("audioinput")}))}},{key:"getCaptureFactories",value:function getCaptureFactories(){return this._inputMediaDeviceFactoryCollection.getTrackControllerFactories()}},{key:"getIsAudioMediaDeviceBeingCaptured",value:function getIsAudioMediaDeviceBeingCaptured(e){return Boolean(rt.MediaStreamTrackControllerFactory.getFactoriesWithInputMediaDevice(e,"audio").length)}},{key:"getMediaDeviceCaptureFactory",value:function getMediaDeviceCaptureFactory(e){var t=rt.MediaStreamTrackControllerFactory.getFactoriesWithInputMediaDevice(e,"audio");if(t)return t[0]}},{key:"captureSpecificMediaDevice",value:function(){var e=Object(we.a)(xe.a.mark((function _callee3(e){var t,n,i,r=arguments;return xe.a.wrap((function _callee3$(c){for(;;)switch(c.prev=c.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:{},n=r.length>2&&void 0!==r[2]?r[2]:{},c.next=4,rt.utils.mediaDevice.captureSpecificMediaDevice(e,t,n);case 4:return i=c.sent,this._inputMediaDeviceFactoryCollection.addTrackControllerFactory(i),c.abrupt("return",i);case 7:case"end":return c.stop()}}),_callee3,this)})));return function captureSpecificMediaDevice(t){return e.apply(this,arguments)}}()},{key:"uncaptureSpecificMediaDevice",value:function(){var e=Object(we.a)(xe.a.mark((function _callee4(e){return xe.a.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",rt.utils.mediaDevice.uncaptureSpecificMediaDevice(e));case 1:case"end":return t.stop()}}),_callee4)})));return function uncaptureSpecificMediaDevice(t){return e.apply(this,arguments)}}()},{key:"getIsCapturingAnyAudio",value:function getIsCapturingAnyAudio(){return this._inputMediaDeviceFactoryCollection.getAudioTrackControllers().length}},{key:"getIsAllAudioMuted",value:function getIsAllAudioMuted(){return this._inputMediaDeviceFactoryCollection.getIsAudioMuted()}},{key:"setIsAllAudioMuted",value:function setIsAllAudioMuted(e){return this._inputMediaDeviceFactoryCollection.setIsAudioMuted(e)}},{key:"muteAllAudio",value:function muteAllAudio(){return this._inputMediaDeviceFactoryCollection.muteAudio()}},{key:"unmuteAllAudio",value:function unmuteAllAudio(){return this._inputMediaDeviceFactoryCollection.unmuteAudio()}}]),InputMediaDevicesService}(Ie.c),pt=rt.utils.constraints.audioQualityPresets,vt=pt.AUDIO_QUALITY_PRESET_TALK_RADIO;var gt=function InputMediaDevicesSelector(e){var t=e.onDeviceCapture,n=void 0===t?function(e){return null}:t,i=e.onDeviceUncapture,r=function useInputMediaDevicesSelectorState(e){var t=e.onDeviceCapture,n=void 0===t?function(e){return null}:t,i=e.onDeviceUncapture,r=void 0===i?function(e){return null}:i,c=Object(ke.a)(ft).serviceInstance,a=Object(ke.a)(ht).serviceInstance;Object(d.useEffect)((function(){c&&c.fetchInputMediaDevices()}),[c]);var o=Object(d.useCallback)(function(){var e=Object(we.a)(xe.a.mark((function _callee(e,t){var n;return xe.a.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if("audioinput"===e.kind){i.next=3;break}return console.warn('Cannot set device preferred audio quality preset name for "'.concat(e.kind,'" kind.  Expected audioinput kind.')),i.abrupt("return");case 3:return n=rt.utils.constraints.audioQualityPresets.getAudioQualityPresetWithName(t),i.abrupt("return",a.setMediaDeviceUserMetadata(e,{audioQualityPreset:n}));case 5:case"end":return i.stop()}}),_callee)})));return function(t,n){return e.apply(this,arguments)}}(),[a]),s=Object(d.useCallback)(function(){var e=Object(we.a)(xe.a.mark((function _callee2(e){var t,n,i;return xe.a.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return n=a.getMediaDeviceUserMetadata(e),(i=n&&(null===(t=n.audioQualityPreset)||void 0===t?void 0:t.constraints))||"audioinput"!==e.kind||(i=pt.getAudioQualityPresetConstraints(vt)),r.abrupt("return",c.captureSpecificMediaDevice(e,i));case 4:case"end":return r.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),[c,a]),l=Object(d.useCallback)((function(e){var t,n=a.getMediaDeviceUserMetadata(e);return n?null===(t=n.audioQualityPreset)||void 0===t?void 0:t.name:vt.name}),[a]),u=Object(d.useCallback)(function(){var e=Object(we.a)(xe.a.mark((function _callee3(e){return xe.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:if(c.getIsAudioMediaDeviceBeingCaptured(e)){t.next=7;break}return t.next=4,s(e);case 4:n(e),t.next=10;break;case 7:return t.next=9,c.uncaptureSpecificMediaDevice(e);case 9:r(e);case 10:case"end":return t.stop()}}),_callee3)})));return function(t){return e.apply(this,arguments)}}(),[c,s,n,r]),b=(null===c||void 0===c?void 0:c.getAudioInputMediaDevices())||[],j=b.filter((function(e){return null===c||void 0===c?void 0:c.getIsAudioMediaDeviceBeingCaptured(e)}));return{inputMediaDevicesService:c,mediaDevicesCachingService:a,audioInputDevices:b,capturedAudioInputDevices:j,audioQualityPresets:pt,toggleSpecificAudioInputDevice:u,setDevicePreferredAudioQualityPresetName:o,getDevicePreferredAudioQualityPresetName:l}}({onDeviceCapture:n,onDeviceUncapture:void 0===i?function(e){return null}:i}),c=r.inputMediaDevicesService,a=r.mediaDevicesCachingService,o=r.audioInputDevices,s=r.capturedAudioInputDevices,l=r.audioQualityPresets,u=r.toggleSpecificAudioInputDevice,b=r.setDevicePreferredAudioQualityPresetName,j=r.getDevicePreferredAudioQualityPresetName;if(!c||!a)return null;var O=o.length,p=c.getIsFetchingMediaDevices();if(!o.length)return Object(x.jsx)(Re.a,{style:{fontWeight:"bold"},children:p?"Fetching audio devices...":"No audio input devices are currently available."});var v=s.length;return Object(x.jsxs)(D,{children:[Object(x.jsx)(Header,{children:"Select device(s) for sound input:"}),Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Pe,{children:Object(x.jsx)(f.a,{style:{overflow:"auto",border:"4px #22668F solid",borderRadius:4},children:Object(x.jsxs)("table",{style:{width:"100%"},children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Name"}),Object(x.jsx)("td",{className:"center",children:"f(x)"}),Object(x.jsx)("td",{className:"center",children:"Muted"}),Object(x.jsx)("td",{className:"center",children:"Level"})]})}),Object(x.jsx)("tbody",{children:o.map((function(e,t){var n,i=s.includes(e),r=c.getMediaDeviceCaptureFactory(e),a=i&&(null===r||void 0===r||null===(n=r.getOutputMediaStream())||void 0===n?void 0:n.getTracks());return Object(x.jsx)(AudioInputDeviceTableRow,{device:e,mediaStreamTracks:a,isCapturing:i,onToggleCapture:function onToggleCapture(){return u(e)},isMuted:null===r||void 0===r?void 0:r.getIsMuted(),onToggleMute:function onToggleMute(){return null===r||void 0===r?void 0:r.toggleMute()},audioQualityPresets:l,audioQualityPresetName:j(e),onChangeAudioQualityPresetName:function onChangeAudioQualityPresetName(t){return b(e,t)}},t)}))})]})})})}),Object(x.jsx)(Footer,{style:{minHeight:50},children:Object(x.jsxs)(Pe,{children:[Object(x.jsx)(Ze,{style:{fontSize:38,marginLeft:20,color:"rgba(255,255,255,.2)"}}),Object(x.jsx)(h.a,{children:Object(x.jsxs)(Re.a,{children:[Object(x.jsxs)("div",{children:[O," audio input device",1!==O&&"s"," available."]}),Object(x.jsxs)("div",{children:[v," audio input device",1!==v&&"s"," currently being captured."]})]})})]})})]})};var mt=function InputDeviceSelectorModal(e){var t=e.onDeviceCapture,n=e.onDeviceUncapture,i=e.onCancel,r=e.onClose,c=Object(d.useCallback)((function(e){t(e),r()}),[t,r]);return Object(x.jsx)(He,{onClose:r,onCancel:i,children:Object(x.jsx)(Pe,{children:Object(x.jsx)(gt,{onDeviceCapture:c,onDeviceUncapture:n})})})};function useUUID(){return Object(d.useRef)(Object(Te.a)()).current}var xt=["className","label","placeholder","onClose","onCancel","onChange"];var wt=function TextInputModal(e){var t=e.className,n=e.label,i=e.placeholder,r=e.onClose,c=e.onCancel,a=e.onChange,s=void 0===a?function(){return null}:a,b=Object(l.a)(e,xt),j=Object(d.useState)(null),h=Object(u.a)(j,2),O=h[0],f=h[1],p=Object(d.useState)(""),v=Object(u.a)(p,2),g=v[0],m=v[1],w=Object(d.useCallback)((function(e){var t=e.target.value;m(t),s(t)}),[s]),C=Object(d.useCallback)((function(){r(g)}),[r,g]),y=C;useKeyboardEvents(O,{onEnter:C});var S=useUUID();return Object(x.jsx)(He,Object(o.a)(Object(o.a)({},b),{},{className:t,label:n,onCancel:c,onClose:C,children:Object(x.jsx)(Pe,{children:Object(x.jsx)(Re.a,{children:Object(x.jsxs)("div",{style:{textAlign:"left"},children:[n&&Object(x.jsx)("label",{htmlFor:S,children:n}),Object(x.jsxs)(Row,{children:[Object(x.jsx)(Column,{children:Object(x.jsx)("input",{ref:f,id:S,type:"text",onChange:w,placeholder:i,style:{borderTopRightRadius:0,borderBottomRightRadius:0}})}),Object(x.jsx)(Column,{style:{maxWidth:100},children:Object(x.jsx)("button",{style:{borderTopLeftRadius:0,borderBottomLeftRadius:0,backgroundColor:"#347fe8"},disabled:!Boolean(g),onClick:y,children:"Submit"})})]})]})})})}))},Ct=["onClose","onCancel"],yt=["onClose"],St=function(e){Object(Me.a)(UIModalWidgetService,e);var t=Object(De.a)(UIModalWidgetService);function UIModalWidgetService(){var e;Object(_e.a)(this,UIModalWidgetService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("UIModal Widget Service"),e._uiModalService=e.useServiceClass(Ne),e}return Object(Ae.a)(UIModalWidgetService,[{key:"confirm",value:function(){var e=Object(we.a)(xe.a.mark((function _callee(e){var t=this;return xe.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,new Promise((function(n,i){t._uiModalService.showModal((function(t){var r=t.onClose,c=t.onCancel,a=Object(l.a)(t,Ct);return Object(x.jsx)(Ye,Object(o.a)({text:e,onClose:function onClose(){n(),r()},onCancel:function onCancel(){i(),c()}},a))}))}));case 3:return n.abrupt("return",!0);case 6:return n.prev=6,n.t0=n.catch(0),Object(r.consume)(n.t0),n.abrupt("return",!1);case 10:case"end":return n.stop()}}),_callee,null,[[0,6]])})));return function confirm(t){return e.apply(this,arguments)}}()},{key:"showInputMediaDevicesSelectionModal",value:function(){var e=Object(we.a)(xe.a.mark((function _callee2(){var e,t=this;return xe.a.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(e){return t._uiModalService.showModal((function(t){var n=Object.assign({},t);return Object(x.jsx)(mt,Object(o.a)({onDeviceCapture:e},n))}))}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),_callee2)})));return function showInputMediaDevicesSelectionModal(){return e.apply(this,arguments)}}()},{key:"showTextInputModal",value:function(){var e=Object(we.a)(xe.a.mark((function _callee3(e){var t,n,i=this;return xe.a.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.label,r.next=3,new Promise((function(e){return i._uiModalService.showModal((function(n){var i=n.onClose,r=Object(l.a)(n,yt);return Object(x.jsx)(wt,Object(o.a)({label:t,onClose:function onClose(t){i(),e(t)}},r))}))}));case 3:return n=r.sent,r.abrupt("return",n);case 5:case"end":return r.stop()}}),_callee3)})));return function showTextInputModal(t){return e.apply(this,arguments)}}()}]),UIModalWidgetService}(Ie.c);var kt=function DesktopMenuBar(){var e=useUIParadigm(),t=e.uiParadigm,n=e.isUIParadigmAutoSet,i=e.setStaticUIParadigm,c=Object(ke.a)(St,!1).serviceInstance,o=useDesktopContext().activeWindowController,s=useAppOrchestrationContext(),l=s.appRegistrations,u=s.activateAppRegistration,b=s.appRuntimes,j=s.runningAppRegistrations,h=Object(he.a)();Object(d.useEffect)((function(){if(o)return o.on(r.EVT_UPDATED,h),function(){o.off(r.EVT_UPDATED,h)}}),[o,h]);var O=Object(d.useMemo)((function(){return l.map((function(e){return{type:"checkbox",label:e.getTitle(),checked:j.map((function(e){return e.getID()})).includes(e.getID()),click:function click(){return u(e)}}}))}),[l,j,u]),f=Object(d.useMemo)((function(){var e=l.filter((function(e){return e.getIsPinned()})).map((function(e){return{label:e.getTitle(),click:function click(){return u(e)}}}));return e.length?[{type:"separator",label:"Pinned Applications"}].concat(Object(Ce.a)(e)):[]}),[l,u]),p=b.length>0,v={label:"Desktop",submenu:[{label:"Applications",submenu:O}].concat(Object(Ce.a)(f),[{type:"separator",label:"Layout Control"},{label:"UI Paradigm",submenu:[{label:"Desktop Paradigm",click:function click(){return i(Y.b)},type:"checkbox",checked:t===Y.b},{label:"Mobile Paradigm",click:function click(){return i(Y.c)},type:"checkbox",checked:t===Y.c},{label:"Auto Detect",click:function click(){return i(Y.a)},type:"checkbox",checked:n}]}],Object(Ce.a)(t===Y.b?[{label:"Scatter Windows",click:function click(){return b.forEach((function(e){var t=e.getWindowController();t&&t.scatter()}))},disabled:!p},{label:"Center Windows",click:function click(){return b.forEach((function(e){var t=e.getWindowController();t&&t.center()}))},disabled:!p}]:[]),[{type:"separator",label:"Desktop Operations"},{label:"Reload ReShell",click:function(){var e=Object(we.a)(xe.a.mark((function _callee(){return xe.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.confirm("Are you sure you wish to reload?");case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}a.a.reload();case 5:case"end":return e.stop()}}),_callee)})));return function click(){return e.apply(this,arguments)}}()},{label:"Quit ReShell",click:function(){var e=Object(we.a)(xe.a.mark((function _callee2(){return xe.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.confirm("Are you sure you wish to close the desktop?");case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}a.a.destroy();case 5:case"end":return e.stop()}}),_callee2)})));return function click(){return e.apply(this,arguments)}}()}])},g=null===o||void 0===o?void 0:o.getTitle(),m=Object(d.useMemo)((function(){if(o)return{label:g,submenu:[{label:"Quit",click:function click(){return o.destroy()}}]}}),[o,g]),w=function(){if(t===Y.b&&o)return{label:"Window",submenu:[{label:"Minimize",click:function click(){return o.minimize()},disabled:o.getIsMinimized()},{label:"Maximize",click:function click(){return o.maximize()},disabled:o.getIsMaximized()},{label:"Restore",click:function click(){return o.restore()},disabled:!o.getIsMaximized()&&!o.getIsMinimized()},{label:"Scatter",click:function click(){return o.scatter()}},{label:"Center",click:function click(){return o.center()}}]}}();return Object(x.jsx)(Se,{menuStructures:[v,m,w]})};var _t=function TopBar(){return Object(x.jsx)(Row,{children:Object(x.jsx)(Column,{style:{width:"100%"},children:Object(x.jsx)(kt,{})})})},At=n(626),Mt=n.n(At);function DockItem(e){var t=e.appRegistration,n=e.isActiveRegistration,i=e.onClick,r=e.elDock,c=Object(d.useState)(null),a=Object(u.a)(c,2),o=a[0],s=a[1];return Object(d.useEffect)((function(){if(r&&o&&n){var e=o.offsetLeft,t=o.offsetTop;r.scrollTo({top:t,left:e,behavior:"smooth"})}}),[r,o,n]),Object(x.jsx)("button",{ref:s,className:v()(Mt.a["dock-item"],n&&Mt.a.active),onClick:i,children:t.getTitle()})}var Dt=n(701);var It=function Dock(){var e=Object(d.useState)(null),t=Object(u.a)(e,2),n=t[0],i=t[1],r=Object(d.useState)(null),c=Object(u.a)(r,2),a=c[0],o=c[1],s=Object(Dt.a)(a),l=Object(d.useCallback)((function(e){n.scroll({top:0,left:n.scrollLeft+e.deltaY})}),[n]),b=useDesktopContext().activeWindowController,j=useAppOrchestrationContext(),h=j.appRegistrations,O=j.runningAppRegistrations,f=j.activateAppRegistration,p=Object(d.useMemo)((function(){return Object(Ce.a)(new Set([].concat(Object(Ce.a)(h.filter((function(e){return e.getIsPinnedToDock()}))),Object(Ce.a)(O))))}),[h,O]),g=Object(d.useMemo)((function(){return null===b||void 0===b?void 0:b.getAppRegistration()}),[b]);return Object(x.jsx)("div",{ref:i,className:v()(Mt.a.dock,Mt.a["horizontal-orientation"],s&&Mt.a.overflown),onWheel:l,children:Object(x.jsx)("div",{ref:o,className:v()("button-group",Mt.a["content-wrapper"]),children:p.map((function(e){return Object(x.jsx)(DockItem,{appRegistration:e,isActiveRegistration:e===g,onClick:function onClick(){return f(e)},elDock:n},e.getUUID())}))})})},Tt=n(767).a,Nt=n(769),Rt=n.n(Nt),Et=n(610),zt=["children","className"];window.ResizeObserver||Object(Et.install)();var Wt=function AutoScaler(e){var t=e.children,n=e.className,i=Object(l.a)(e,zt),r=Object(d.useState)(null),c=Object(u.a)(r,2),a=c[0],b=c[1],j=Object(d.useState)(null),h=Object(u.a)(j,2),O=h[0],f=h[1],p=Object(d.useMemo)(Te.a,[]);return Object(d.useEffect)((function(){if(a&&O){var e={width:0,height:0},t={width:0,height:0};O.style.visibility="hidden";var n=new ResizeObserver((function(n){it()((function(){var i,r=Object(s.a)(n);try{for(r.s();!(i=r.n()).done;){var c=i.value,o={width:c.target.offsetWidth,height:c.target.offsetHeight};c.target===a?e=o:t=o}}catch(b){r.e(b)}finally{r.f()}var l=e.width/t.width,u=e.height/t.height,d=Math.min(l,u);O.style.transform="scale(".concat(d,", ").concat(d,")"),"hidden"===O.style.visibility&&setTimeout((function(){O.style.visibility="visible"}),4)}),p)}));return n.observe(a),n.observe(O),function unmount(){n.unobserve(a),n.unobserve(O)}}}),[a,O,p]),Object(x.jsx)("div",Object(o.a)(Object(o.a)({},i),{},{ref:b,className:v()(Rt.a["auto-scaler"],n),children:Object(x.jsx)("div",{ref:f,className:Rt.a["content-wrap"],children:t})}))},Pt=n(770),Lt=n.n(Pt),Ut=n(700),Ft=(n(773),["className"]),Vt=function DynamicIcon(e){var t=e.className,n=Object(l.a)(e,Ft);return Object(x.jsx)("i",Object(o.a)(Object(o.a)({},n),{},{className:"ibcd0b21d7ccf498b89d8ce646138a3ec-icon".concat(t?" ".concat(t):"")}))},Bt=n(774),Kt=n.n(Bt),Ht=["body","image","title","uuid","onClose","onClick","autoCloseTime"];var Qt=function Notification(e){var t=e.body,n=e.image,i=e.title,r=e.uuid,c=e.onClose,a=e.onClick,s=e.autoCloseTime,j=void 0===s?4e3:s,h=Object(l.a)(e,Ht),O=Object(d.useState)(!1),f=Object(u.a)(O,2),p=f[0],v=f[1],g=Object(d.useRef)(c),m=Object(d.useCallback)((function(e){e&&e.stopPropagation(),v(!0),setTimeout((function(){g.current(r)}),500)}),[r]),w=Object(d.useState)(null),C=Object(u.a)(w,2),y=C[0],S=C[1];Object(d.useEffect)((function(){if(y){var e=null,t=function startTimeout(){e=setTimeout(m,j)};t();var n=function stopTimeout(){clearTimeout(e)};return y.addEventListener("mouseover",n,{passive:!0}),y.addEventListener("mouseout",t,{passive:!0}),y.addEventListener("touchstart",n,{passive:!0}),function unmount(){y.removeEventListener("mouseover",n,{passive:!0}),y.removeEventListener("mouseout",t,{passive:!0}),y.removeEventListener("touchstart",n,{passive:!0}),n()}}}),[y,j,m]);var k=Object(d.useMemo)((function(){return function(){switch(typeof n){case"string":return Object(x.jsx)("img",{alt:i,src:n,className:Kt.a["main-image"]});case"function":return n();default:return n||Object(x.jsx)(Vt,{})}}}),[n,i]),_=Object(d.useMemo)((function(){return function(e){var t=Object.assign({},e);return"function"===typeof a?Object(x.jsx)($e,Object(o.a)(Object(o.a)({},t),{},{onClick:a,className:Kt.a.action})):Object(x.jsx)(b.a.Fragment,Object(o.a)({},t))}}),[a]);return Object(x.jsx)("div",Object(o.a)(Object(o.a)({ref:S,onTouchEnd:m,onMouseUp:m,className:Kt.a.notification},h),{},{children:Object(x.jsx)(Ut.a,{animationName:p?"slideOutRight":"slideInRight",animationDuration:".5s",children:Object(x.jsxs)("div",{className:Kt.a["body-outer-wrap"],children:[Object(x.jsx)(_,{children:Object(x.jsxs)(Pe,{children:[Object(x.jsx)("div",{className:Kt.a["main-image-wrap"],children:Object(x.jsx)(k,{})}),Object(x.jsx)("div",{className:Kt.a.title,children:i}),Object(x.jsx)("div",{className:Kt.a.body,children:t})]})}),Object(x.jsx)($e,{onClick:m,className:Kt.a.close,children:Object(x.jsx)(Pe,{children:Object(x.jsx)(Ue,{})})})]})})}))};var Yt=function NotificationStack(e){var t=e.notifications,n=void 0===t?[]:t,i=e.onNotificationClose;return Object(x.jsx)("div",{className:Lt.a["notification-stack"],children:Object(x.jsx)("div",{className:Lt.a["inner-wrap"],children:n.map((function(e){var t=e.body,n=e.image,r=e.onClick,c=e.title,a=e.uuid;return Object(x.jsx)("div",{children:Object(x.jsx)(Qt,{body:t,image:n,onClick:r,title:c,uuid:a,onClose:function onClose(){return i(a)}})},a)}))})})},Gt=function(e){Object(Me.a)(UINotificationService,e);var t=Object(De.a)(UINotificationService);function UINotificationService(){var e;Object(_e.a)(this,UINotificationService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("UI Notification Service"),e.setState({notifications:[]}),e}return Object(Ae.a)(UINotificationService,[{key:"showNotification",value:function showNotification(e){var t=e.image,n=e.title,i=e.body,r=e.onClick,c=e.onClose,a=void 0===c?function(){return null}:c;this.setState({notifications:[].concat(Object(Ce.a)(this.getState().notifications),[{image:t,title:n,body:i,onClick:r,onClose:a,uuid:Object(Te.a)()}])})}},{key:"closeNotificationWithUUID",value:function closeNotificationWithUUID(e){var t=this.getState().notifications.filter((function(t){var n=t.uuid,i=t.onClose,r=e!==n;return r||i(),r}));this.setState({notifications:t})}}]),UINotificationService}(Ie.c),Zt=b.a.createContext({});var Xt=function NotificationProvider(e){var t=e.children,n=Object(ke.a)(Gt),i=n.serviceInstance,r=n.serviceState,c=Object(d.useCallback)((function(e){return i.showNotification(e)}),[i]),a=Object(d.useCallback)((function(e){return i.closeNotificationWithUUID(e)}),[i]);return Object(x.jsxs)(Zt.Provider,{value:{showNotification:c},children:[t,Object(x.jsx)(Yt,{notifications:r.notifications,onNotificationClose:a})]})},qt=["view","onClose"];var Jt=function Modal(e){var t=e.view,n=e.onClose,i=Object(l.a)(e,qt);return Object(x.jsx)(h.a,{children:Object(x.jsx)(t,Object(o.a)(Object(o.a)({},i),{},{onClose:n}))})},$t=["view","uuid","onClose"];var en=function ModalStack(e){var t=e.modals,n=void 0===t?[]:t;return Object(x.jsx)(x.Fragment,{children:n.map((function(e){var t=e.view,n=e.uuid,i=e.onClose,r=Object(l.a)(e,$t);return Object(x.jsx)("div",{children:Object(x.jsx)(Jt,Object(o.a)(Object(o.a)({},r),{},{view:t,uuid:n,onClose:i}))},n)}))})},tn=b.a.createContext({});var nn=function ModalProvider(e){var t=e.children,n=Object(ke.a)(Ne),i=n.serviceInstance,r=n.serviceState,c=Object(d.useCallback)((function(e){return i.showModal(e)}),[i]);return Object(x.jsxs)(tn.Provider,{value:{showModal:c},children:[t,Object(x.jsx)(en,{modals:r.modals})]})};var rn=function Desktop(e){var t=e.backgroundView,n=void 0===t?null:t,i=e.appDescriptors;return Object(x.jsx)(Tt,{children:Object(x.jsx)(nn,{children:Object(x.jsxs)(Xt,{children:[Object(x.jsx)(h.a,{style:{backgroundColor:"#424242"},children:n}),Object(x.jsx)(h.a,{children:Object(x.jsxs)(D,{children:[Object(x.jsx)(Header,{style:{whiteSpace:"nowrap",backgroundColor:"rgba(0,0,0,.5)"},children:Object(x.jsx)(_t,{})}),Object(x.jsxs)(Content_Content,{children:[Object(x.jsx)("div",{style:{maxWidth:"50%",position:"absolute",bottom:28,right:10,color:"rgba(255,255,255,.2)",fontSize:"2rem",pointerEvents:"none",zIndex:2147483647},children:Object(x.jsx)(Wt,{style:{whiteSpace:"nowrap"},children:Object(x.jsxs)("div",{style:{textAlign:"left",fontSize:".5em"},children:[Object(x.jsxs)("div",{children:["ReShell ",a.a.getReShellVersion()]}),Object(x.jsxs)("div",{children:["PhantomCore ",c.a.getPhantomCoreVersion()]}),Object(x.jsxs)("div",{children:["Env: ","production"]})]})})}),Object(x.jsx)(ge,{appDescriptors:i,children:Object(x.jsx)(It,{})})]})]})})]})})})},cn=n(775),an=n.n(cn),on=["children","className","onClick"];var sn=function VirtualLink(e){var t=e.children,n=e.className,i=e.onClick,r=Object(l.a)(e,on);return Object(x.jsx)($e,Object(o.a)(Object(o.a)({},r),{},{className:v()("link",an.a["virtual-link"],n),onClick:i,children:t}))},ln=n(776),un=n.n(ln),dn=["color"];var bn=function LED(e){var t=e.color,n=void 0===t?null:t,i=Object(l.a)(e,dn);return Object(x.jsx)("div",Object(o.a)(Object(o.a)({},i),{},{className:v()(un.a.led,un.a[n])}))};function ApplicationSelector(e){var t=e.searchQuery,n=void 0===t?"":t,i=e.onResetSearchQuery,c=useAppOrchestrationContext(),a=c.appRegistrations,o=c.appRuntimes,s=c.activateAppRegistration,l=Object(d.useMemo)((function(){return o.map((function(e){return e.getRegistration()}))}),[o]),u=Object(d.useMemo)((function(){return a.filter((function(e){return!Boolean(n)||e.getTitle().toUpperCase().includes(n.toUpperCase())}))}),[a,n]);return(null===n||void 0===n?void 0:n.length)&&!u.length?Object(x.jsxs)(Re.a,{children:[Object(x.jsx)(Pe,{style:{fontWeight:"bold"},children:"No applications found for search."}),Object(x.jsx)(Pe,{children:Object(x.jsx)("button",{onClick:i,children:"Reset Search Query"})})]}):Object(x.jsx)(Re.a,{canOverflow:!0,children:Object(x.jsx)(Pe,{children:u.map((function(e){var t=l.filter((function(t){return t===e})).length;return Object(x.jsxs)("button",{style:{width:100,height:100,backgroundColor:"transparent",borderColor:t>0?"green":""},onClick:function onClick(){return s(e)},children:[e.getTitle(),Object(x.jsx)("div",{style:{position:"absolute",bottom:0,right:0},children:Object(Ce.a)(new Array(t)).map((function(e,n){return Object(r.consume)(e),Object(x.jsx)(bn,{color:t>0?"green":"gray",style:{margin:"0px 2px"}},n)}))})]},e.getUUID())}))})})}function PortalSwitcher(){return Object(x.jsx)(Re.a,{canOverflow:!0,children:Object.entries(a.a.getPortals()).map((function(e){var t=Object(u.a)(e,1)[0];return Object(x.jsx)("button",{onClick:function onClick(){return window.confirm("Any unsaved state will be lost and the current call will be dropped if switching portals.  Proceed?")&&a.a.switchToPortal(t)},children:t},t)}))})}var jn=Object.keys(a.a.getPortals()).length,hn="applications",On={id:hn,title:"Applications",style:{width:768,height:480},isAutoStart:!0,isPinnedToDock:!0,initialSharedState:{searchQuery:""},titleBarView:function TitleBarView(e){var t=e.sharedState,n=e.setSharedState,i=Object(d.useState)(null),r=Object(u.a)(i,2),c=r[0],a=r[1];useKeyboardEvents(c,{onEscape:function onEscape(){return n({searchQuery:""})}});var o=Object(d.useCallback)((function(e){return n({searchQuery:e.target.value})}),[n]),s=Object(d.useCallback)((function(e){Boolean(t.searchQuery)&&e.stopPropagation()}),[t]);return Object(x.jsx)(Pe,{children:Object(x.jsx)("input",{ref:a,placeholder:"Search Applications",onChange:o,value:t.searchQuery,style:{width:"100%"},onDoubleClick:s})})},view:function View(e){var t=e.windowController,n=e.sharedState,i=e.setSharedState,r=Object(d.useState)(!1),c=Object(u.a)(r,2),a=c[0],o=c[1];Object(d.useEffect)((function(){t.setTitle(a?"Portals":"Applications")}),[t,a]);var s=null===n||void 0===n?void 0:n.searchQuery,l=Object(d.useCallback)((function(){return i({searchQuery:""})}),[i]);return Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:a?Object(x.jsx)(PortalSwitcher,{}):Object(x.jsx)(ApplicationSelector,{searchQuery:s,onResetSearchQuery:l})}),Boolean(jn>1)&&Object(x.jsx)(Footer,{children:Object(x.jsxs)(Pe,{children:[Object(x.jsx)("button",{onClick:function onClick(){return o((function(e){return!e}))},children:a?"Applications":"Portals"})," ",Object(x.jsx)("span",{className:"note",children:a?Object(x.jsxs)(x.Fragment,{children:["Return to"," ",Object(x.jsx)(sn,{onClick:function onClick(){return o(!1)},children:"application list"}),"."]}):Object(x.jsxs)(x.Fragment,{children:["Other applications may be available in"," ",Object(x.jsx)(sn,{onClick:function onClick(){return o(!0)},children:"another portal"}),"."]})})]})})]})}},fn=Object(o.a)(Object(o.a)({},On),{},{isAutoStart:!1}),pn=["onTick","className"];var vn=function Timer(e){var t,n=e.onTick,i=(e.className,Object(l.a)(e,pn)),r=Object(d.useState)(n()),c=Object(u.a)(r,2),a=c[0],s=c[1],b=Object(d.useCallback)((function(){return n()}),[n]);return Object(d.useEffect)((function(){var e=function handleUpdate(){return s(b())};e();var t=window.setInterval(e,1e3);return function unmount(){window.clearInterval(t)}}),[b]),Object(x.jsx)(B,Object(o.a)(Object(o.a)({},i),{},{children:(t=a,new Date(t%86400*1e3).toISOString().substr(11,8))}))};function AppRuntimeTableRow(e){var t=e.appRuntime,n=useDesktopContext().activeWindowController,i=t.getWindowController(),c=!i||i===n,a=Object(d.useState)(null),o=Object(u.a)(a,2),s=o[0],l=o[1],b=Object(d.useState)(null),h=Object(u.a)(b,2),O=h[0],f=h[1],p=Object(d.useState)(null),v=Object(u.a)(p,2),g=v[0],m=v[1],w=Object(d.useState)(null),C=Object(u.a)(w,2),y=C[0],S=C[1],k=Object(d.useState)(null),_=Object(u.a)(k,2),A=_[0],M=_[1],D=Object(d.useState)(null),I=Object(u.a)(D,2),T=I[0],N=I[1];return Object(d.useEffect)((function(){if(i&&s){var e=function handleRenderProfile(e){var t=Object(u.a)(e,7),n=t[0],i=t[1],c=t[2],a=t[3],o=t[4],l=t[5],d=t[6];Object(r.consume)(n),s.innerHTML=i,O.innerHTML=parseFloat(c).toFixed(2),g.innerHTML=parseFloat(a).toFixed(2),y.innerHTML=parseFloat(o/1e3).toFixed(2),A.innerHTML=parseFloat(l/1e3).toFixed(2),T.innerHTML=Object.values(d).length};return i.on(j.b,e),function unmount(){i.off(j.b,e)}}}),[i,s,O,g,y,A,T]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("tr",{style:{textAlign:"center"},children:[Object(x.jsx)("td",{children:t.getTitle()||"[Untitled]"}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:Object(x.jsx)("span",{ref:l,children:"N/A"})}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:Object(x.jsx)("span",{ref:f,children:"N/A"})}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:Object(x.jsx)("span",{ref:m,children:"N/A"})}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:Object(x.jsx)("span",{ref:S,children:"N/A"})}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:Object(x.jsx)("span",{ref:M,children:"N/A"})}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:Object(x.jsx)("span",{ref:N,children:"N/A"})})]},t.getUUID()),Object(x.jsxs)("tr",{style:{textAlign:"center"},children:[Object(x.jsxs)("td",{style:{fontStyle:"italic"},children:["Uptime: ",Object(x.jsx)(vn,{onTick:function onTick(){return t.getInstanceUptime()}})]}),Object(x.jsxs)("td",{colSpan:"3",children:[Object(x.jsx)("button",{onClick:function onClick(){return console.log({appRuntime:t})},disabled:!0,children:"Process"}),Object(x.jsx)("span",{children:" | "}),Object(x.jsx)("button",{onClick:function onClick(){return console.log({environment:t.getEnvironment()})},disabled:!0,children:"Environment"})]}),Object(x.jsx)("td",{children:Object(x.jsx)(bn,{color:c?"green":"gray"})}),Object(x.jsxs)("td",{colSpan:"2",children:[Object(x.jsx)("button",{onClick:function onClick(){return i.bringToTop()},style:{backgroundColor:"blue"},disabled:c,children:"Bring to Top"}),Object(x.jsx)("span",{children:" | "}),Object(x.jsx)("button",{onClick:function onClick(){t.getIsDestroying()||t.destroy()},style:{backgroundColor:"red"},children:"Close"})]})]}),Object(x.jsx)("tr",{children:Object(x.jsx)("td",{colSpan:"7",style:{backgroundColor:"gray",height:4}})})]})}function AppRuntimeTable(e){var t=e.appRuntimes;return Object(x.jsxs)("table",{style:{width:"100%"},children:[Object(x.jsxs)("thead",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{rowSpan:"2",children:"Name"}),Object(x.jsx)("td",{colSpan:"6",style:{backgroundColor:"purple"},children:"Profiler"}),Object(x.jsx)("td",{colSpan:"2"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:"Phase"}),Object(x.jsxs)("td",{style:{backgroundColor:"purple"},children:["Actual",Object(x.jsx)("br",{}),"Duration"]}),Object(x.jsxs)("td",{style:{backgroundColor:"purple"},children:["Base",Object(x.jsx)("br",{}),"Duration"]}),Object(x.jsxs)("td",{style:{backgroundColor:"purple"},children:["Start",Object(x.jsx)("br",{}),"Time"]}),Object(x.jsxs)("td",{style:{backgroundColor:"purple"},children:["Commit",Object(x.jsx)("br",{}),"Time"]}),Object(x.jsx)("td",{style:{backgroundColor:"purple"},children:"Interactions"})]})]}),Object(x.jsx)("tbody",{children:t.map((function(e){return Object(x.jsx)(AppRuntimeTableRow,{appRuntime:e},e.getUUID())}))})]})}var gn=["id","children","title"];var mn=function AppLinkButton(e){var t=e.id,n=e.children,i=void 0===n?null:n,r=e.title,c=void 0===r?null:r,a=Object(l.a)(e,gn),s=function useAppRegistrationLink(e){var t=useAppOrchestrationContext(),n=t.getAppRegistrationTitleWithID,i=t.activateAppRegistrationWithID;return{title:Object(d.useMemo)((function(){return n(e)}),[n,e]),link:Object(d.useCallback)((function(){return i(e)}),[i,e])}}(t),u=s.title,b=s.link,j=Object(d.useMemo)((function(){return function(e){return i?Object(x.jsx)($e,Object(o.a)({},e)):Object(x.jsx)("button",Object(o.a)({},e))}}),[i]);return b?Object(x.jsx)(j,Object(o.a)(Object(o.a)({},a),{},{onClick:b,children:i||c||u})):null},xn=n(578),wn="service-monitor",Cn={id:wn,title:"Service Monitor",style:{width:640,height:480},isPinned:!0,view:function View(){var e=Object(d.useContext)(xn.a).services;return Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(f.a,{style:{overflowY:"auto"},children:Object(x.jsxs)("table",{style:{width:"100%"},children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Object(x.jsx)(Pe,{children:"Service Name"})}),Object(x.jsx)("td",{children:Object(x.jsx)(Pe,{children:"Uptime"})}),Object(x.jsx)("td",{children:Object(x.jsx)(Pe,{children:"f(x)"})})]})}),Object(x.jsx)("tbody",{children:e.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Object(x.jsx)(Pe,{children:e.getTitle()||"[Untitled]"})}),Object(x.jsx)("td",{className:"center",children:Object(x.jsx)(vn,{onTick:function onTick(){return e.getInstanceUptime()}})}),Object(x.jsx)("td",{className:"center",children:Object(x.jsx)(Pe,{children:Object(x.jsx)("button",{onClick:function onClick(){return e.log(e.getState())},children:Object(x.jsx)(B,{children:"log(state)"})})})})]},e.getUUID())}))})]})})}),Object(x.jsxs)(Footer,{children:[Object(x.jsx)("hr",{style:{margin:0,padding:0}}),Object(x.jsx)(Pe,{children:Object(x.jsxs)(f.a,{children:[Object(x.jsxs)("div",{style:{position:"absolute",bottom:0,left:0},children:["PhantomCore uptime:"," ",Object(x.jsx)(vn,{onTick:function onTick(){return c.a.getUptime()}})]}),Object(x.jsx)(mn,{id:yn,style:{float:"right",verticalAlign:"bottom"}})]})})]})]})}},yn="application-monitor",Sn={id:yn,title:"Application Monitor",style:{width:640,height:480},isPinned:!0,view:function View(e){e.windowController;var t=useAppOrchestrationContext().appRuntimes,n=useDesktopContext(),i=n.isProfiling,r=n.setIsProfiling;return Object(d.useEffect)((function(){if(i)return function(){return r(!1)}}),[i,r]),i?Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Pe,{style:{overflowY:"auto"},children:Object(x.jsx)(AppRuntimeTable,{appRuntimes:t})})}),Object(x.jsxs)(Footer,{style:{fontSize:".8rem"},children:[Object(x.jsx)("hr",{style:{margin:0,padding:0}}),Object(x.jsx)(Pe,{children:Object(x.jsxs)(f.a,{children:[Object(x.jsxs)("div",{style:{position:"absolute",bottom:0,left:0},children:["PhantomCore uptime:"," ",Object(x.jsx)(vn,{onTick:function onTick(){return c.a.getUptime()}})]}),Object(x.jsx)(mn,{id:wn,style:{float:"right",verticalAlign:"bottom"}})]})})]})]}):Object(x.jsx)(Re.a,{children:Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{style:{fontWeight:"bold"},children:"Application Profiling is experimental!"}),Object(x.jsxs)("ol",{style:{maxWidth:500,textAlign:"left",display:"inline-block"},children:[Object(x.jsx)("li",{children:"Each window may lose its current state once profiling is enabled."}),Object(x.jsx)("li",{children:"Also, once enabled and closing this application, the state may be lost again!"})]}),Object(x.jsxs)(Pe,{children:[Object(x.jsx)("button",{onClick:function onClick(){return r(!0)},style:{backgroundColor:"red"},children:"Enable Profiling"}),Object(x.jsx)("p",{className:"note",children:"Profiling will be disabled once closing this window"})]})]})})}},kn=["buttons","className"],_n=["content","onClick","disabled","isSelected","style","className","type"];var An=function ButtonPanel(e){var t=e.buttons,n=e.className,i=Object(l.a)(e,kn),r=Object(d.useState)((function(){var e=0;return t.forEach((function(t,n){t.isSelected&&(e=n)})),e})),c=Object(u.a)(r,2),a=c[0],s=c[1],b=Object(d.useRef)(-1);return++b.current,Object(x.jsx)("div",Object(o.a)(Object(o.a)({className:v()("button-group",n)},i),{},{children:t.map((function(e,t){var n=e.content,i=e.onClick,r=e.disabled,c=(e.isSelected,e.style),u=e.className,j=e.type,h=void 0===j?"button":j,O=Object(l.a)(e,_n);return 0===b.current&&a===t&&setTimeout((function(){i()})),Object(d.createElement)("button",Object(o.a)(Object(o.a)({},O),{},{key:t,type:h,onClick:function onClick(){s(t),i()},disabled:r,style:c,className:v()([a===t&&"active",u])}),"string"===typeof n?n:"function"===typeof n?Object(x.jsx)(n,{}):{Content:n})}))}))},Mn=n(777),Dn=n.n(Mn),In=["className","isOn","disabled","onChange"];var Tn=function Toggle(e){var t=e.className,n=e.isOn,i=e.disabled,r=e.onChange,c=void 0===r?function(){return null}:r,a=Object(l.a)(e,In),s=useUUID();return Object(x.jsxs)("div",Object(o.a)(Object(o.a)({className:v()(Dn.a["toggle-wrapper"],i&&Dn.a.disabled,t)},a),{},{children:[Object(x.jsx)("input",{type:"checkbox",id:s,className:Dn.a.checkbox,checked:n,onChange:function onChange(e){return c(e.target.checked)},disabled:i}),Object(x.jsx)("label",{htmlFor:s,className:Dn.a.toggle})]}))},Nn=n(778),Rn=n.n(Nn),En=["className","labelOff","labelOn","masterLabel","isOn","disabled","style"];var zn=function LabeledToggle(e){var t=e.className,n=e.labelOff,i=void 0===n?"Off":n,r=e.labelOn,c=void 0===r?"On":r,a=e.masterLabel,s=void 0===a?"":a,b=e.isOn,j=e.disabled,h=e.style,O=Object(l.a)(e,En),f=Object(d.useMemo)((function(){var e=i.length,t=c.length,n=e===t||e>t?e:t;return[n-e,n-t]}),[i,c]),p=Object(u.a)(f,2),g=p[0],m=p[1];return Object(x.jsxs)("div",{className:v()(Rn.a["labeled-toggle"],j&&Rn.a.disabled,t),style:h,children:[Object(x.jsxs)("div",{className:Rn.a["content-row"],children:[Object(x.jsx)("div",{className:v()(Rn.a.cell,Rn.a["label-wrap"],Rn.a.left,b?null:!j&&Rn.a.active),style:{paddingLeft:"".concat(g/2,"em")},children:i}),Object(x.jsx)("div",{className:Rn.a.cell,children:Object(x.jsx)(Tn,Object(o.a)({isOn:b,disabled:j,style:h},O))}),Object(x.jsx)("div",{className:v()(Rn.a.cell,Rn.a["label-wrap"],Rn.a.right,b?!j&&Rn.a.active:null),style:{paddingRight:"".concat(m/2,"em")},children:c})]}),Object(x.jsx)("div",{className:Rn.a["title-row"],children:s})]})},Wn=["children","target"];var Pn=function ExternalLink(e){var t=e.children,n=e.target,i=void 0===n?"_blank":n,r=Object(l.a)(e,Wn);return Object(x.jsx)("a",Object(o.a)(Object(o.a)({},r),{},{target:i,children:t}))},Ln=["href","target"];var Un=function ExternalLinkButton(e){var t=e.href,n=e.target,i=void 0===n?"_blank":n,r=Object(l.a)(e,Ln);return Object(x.jsx)("button",Object(o.a)(Object(o.a)({},r),{},{onClick:function onClick(){return window.open(t,i)}}))},Fn={PhantomCore:"https://github.com/zenOSmosis/phantom-core",PhantomCollection:"https://github.com/zenOSmosis/phantom-core/tree/main/src/PhantomCollection",ReShellCore:"https://github.com/zenOSmosis/reshell.org-static",SyncObject:"https://github.com/zenOSmosis/sync-object",MediaStreamController:"https://github.com/zenOSmosis/media-stream-track-controller",WebRTCPeer:"https://github.com/zenOSmosis/webrtc-peer"},Vn={minHeight:"4em",whiteSpace:"wrap",width:"100%",height:"100%"};var Bn=function Details(){return Object(x.jsxs)(f.a,{style:{overflowY:"auto"},children:[Object(x.jsxs)("p",{children:["ReShell is a browser-based layout library and UI services engine composed of various"," ",Object(x.jsx)("a",{href:"https://github.com/zenosmosis",target:"_blank",rel:"noreferrer",children:"open-source components"}),"."]}),Object(x.jsxs)("p",{children:["It is currently in an alpha phase, and"," ",Object(x.jsx)("span",{style:{fontWeight:"bold"},children:'other builds (i.e. "portals") may have other built-in applications'}),"."]}),Object(x.jsxs)("p",{children:["Leveraged off of the core code for"," ",Object(x.jsx)(Pn,{href:"https://speaker.app",children:"Speaker.app"})," and other"," ",Object(x.jsx)(Pn,{href:"https://zenosmosis.com",children:"zenOSmosis"})," ","projects based on"," ",Object(x.jsx)(Pn,{href:"https://github.com/zenOSmosis/phantom-core",children:"PhantomCore"}),", a library for managing the JavaScript application lifecycle."]}),Object(x.jsx)("p",{style:{fontWeight:"bold"},children:"Some included technologies:"}),Object(x.jsx)("div",{style:{textAlign:"center"},children:Object.entries(Fn).map((function(e,t){var n=Object(u.a)(e,2),i=n[0],r=n[1];return Object(x.jsx)(Pe,{style:{width:200,display:"inline-block"},children:"string"===typeof r?Object(x.jsx)(Un,{href:r,style:Vn,children:i}):Object(x.jsx)("button",{onClick:r,style:Vn,children:i})},t)}))})]})},Kn={zenOSmosis:"https://zenOSmosis.com",GitHub:"https://github.com/zenosmosis","Speaker.app":"https://speaker.app"};var Hn=function Resources(){return Object(x.jsxs)(Re.a,{canOverflow:!0,children:[Object(x.jsx)("p",{style:{fontWeight:"bold"},children:"Additional resources:"}),Object(x.jsx)("div",{style:{display:"inline-block",textAlign:"left"},children:Object.entries(Kn).map((function(e,t){var n=Object(u.a)(e,2),i=n[0],r=n[1];return Object(x.jsxs)(Pe,{children:[i,":"," ",Object(x.jsx)(Pn,{href:r,children:r})]},t)}))}),Object(x.jsx)("hr",{}),Object(x.jsxs)("p",{children:["To contact us directly, email:"," ",Object(x.jsx)(Pn,{href:"mailto:info@zenosmosis.com",children:"info@zenosmosis.com"}),"."]})]})},Qn=(new Date).getFullYear();var Yn={id:"about-reshell",title:"About ReShell",style:{width:640,height:480},initialSharedState:{screen:"overview"},titleBarView:function TitleBarView(e){var t=e.sharedState,n=e.setSharedState;return Object(x.jsx)(Pe,{children:Object(x.jsx)(An,{buttons:[{content:"Overview",onClick:function onClick(){return n({screen:"overview"})},isSelected:"overview"===t.screen},{content:"Details",onClick:function onClick(){return n({screen:"details"})},isSelected:"details"===t.screen},{content:"Resources",onClick:function onClick(){return n({screen:"resources"})},isSelected:"resources"===t.screen}]},t.screen)})},view:function View(e){var t=e.sharedState,n=e.setSharedState,i=useUIParadigm(),r=i.uiParadigm,c=i.isUIParadigmAutoSet,a=i.setStaticUIParadigm,o=useUUID();return Object(x.jsx)(Pe,{children:Object(x.jsxs)(D,{children:[Object(x.jsxs)(Content_Content,{children:["overview"===t.screen&&Object(x.jsx)(Wt,{children:Object(x.jsxs)(Re.a,{children:[Object(x.jsx)("div",{style:{fontSize:"5rem",fontStyle:"italic"},children:"ReShell"}),Object(x.jsx)(B,{style:{fontSize:"1.5rem"},children:"Web Desktop and UI Service Engine"})]})}),"details"===t.screen&&Object(x.jsx)(Bn,{}),"resources"===t.screen&&Object(x.jsx)(Hn,{})]}),Object(x.jsxs)(Footer,{style:{textAlign:"center"},children:["overview"===t.screen&&Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{marginBottom:4},children:Object(x.jsxs)(B,{children:[Object(x.jsx)(zn,{labelOff:"Mobile",labelOn:"Desktop",isOn:r===Y.b,onChange:function onChange(e){return a(e?Y.b:Y.c)}}),Object(x.jsxs)(B,{children:[Object(x.jsx)("input",{id:o,type:"checkbox",checked:c,onChange:function onChange(e){return a(e.target.checked?Y.a:r)}})," ",Object(x.jsx)("label",{htmlFor:o,style:{display:"inline-block"},children:"Auto-Detect"})]})]})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(sn,{onClick:function onClick(){return n({screen:"details"})},children:"Details"})," ","|"," ",Object(x.jsx)(sn,{onClick:function onClick(){return n({screen:"resources"})},children:"Resources"})]})]}),Object(x.jsx)("div",{style:{opacity:.5},children:"Copyright \xa9 2010 - ".concat(Qn," zenOSmosis. All rights reserved.")})]})]})})}},Gn=Object(o.a)(Object(o.a)({},Yn),{},{isAutoStart:!0}),Zn=n(248),Xn=n(158),qn=n.n(Xn),Jn="check-for-updates",$n={id:Jn,title:"Check for Updates",style:{width:320,height:240},isPinned:!0,view:function View(){var e=Object(d.useState)(!0),t=Object(u.a)(e,2),n=t[0],i=t[1],r=Object(d.useState)(!1),c=Object(u.a)(r,2),o=c[0],s=c[1],l=Object(d.useState)(!1),b=Object(u.a)(l,2),j=b[0],h=b[1],O=Object(d.useState)(null),f=Object(u.a)(O,2),p=f[0],v=f[1],g=Object(d.useRef)(null);g.current=o;var m=Object(d.useCallback)(Object(we.a)(xe.a.mark((function _callee(){var e;return xe.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!g.current){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,h(!1),s(!0),t.next=8,Object(Zn.a)();case 8:e=t.sent,i(e),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0),h(!0),i(!1);case 17:return t.prev=17,s(!1),v((new Date).getTime()),t.finish(17);case 21:case"end":return t.stop()}}),_callee,null,[[3,12,17,21]])}))),[]);return Object(d.useEffect)((function(){m()}),[m]),Object(x.jsxs)(D,{children:[Object(x.jsx)(Header,{children:Object(x.jsx)(Pe,{style:{textAlign:"center"},children:Object(x.jsx)("button",{onClick:m,disabled:o,children:"Check for Updates"})})}),Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Re.a,{canOverflow:!0,children:j?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("p",{children:["There was an error checking for updates."," ",Object(x.jsx)("button",{onClick:m,children:"Try again?"})]})}):n?Object(x.jsx)("p",{children:"You appear to be running the latest version of ReShell."}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("p",{children:["Your version of ReShell appears out of date."," ",Object(x.jsx)("button",{onClick:function onClick(){return a.a.forceUpdate()},children:"Refresh?"})]})})})}),Object(x.jsx)(Footer,{children:Object(x.jsx)(Pe,{children:Object(x.jsxs)("div",{className:"note",children:["Last checked:"," ",p?qn()(p).format("LLL"):"N/A"]})})})]})}},ei=n(779),ti=n.n(ei),ni={id:"color-adjuster",title:"Color Adjuster",style:{width:640,height:400},view:function View(e){e.windowController,e.appServices;var t=Object(d.useState)(!1),n=Object(u.a)(t,2),i=n[0],r=n[1];return Object(d.useEffect)((function(){i?document.body.classList.add("grayscale"):document.body.classList.remove("grayscale")}),[i]),Object(x.jsxs)(D,{className:ti.a["color-adjuster"],children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Re.a,{children:Object(x.jsxs)("button",{onClick:function onClick(){return r((function(e){return!e}))},children:[i?"Disable":"Enable"," Grayscale"]})})}),Object(x.jsx)(Footer,{children:["#B04628","#B9FC6D","#FC7853","#3A65FC","#314EB0"].map((function(e,t){return Object(x.jsx)("div",{style:{backgroundColor:e,height:100,width:"20%",display:"inline-block"},children:Object(x.jsx)(Re.a,{children:Object(x.jsx)("span",{style:{padding:4,backgroundColor:"rgba(0,0,0,.4)",borderRadius:4},children:e})})},t)}))})]})}},ii=n(628),ri=n.n(ii),ci=n(780),ai=n.n(ci),oi=["className","src"];var si=function ObjectViewer(e){var t=e.className,n=e.src,i=Object(l.a)(e,oi);return Object(x.jsx)(f.a,Object(o.a)(Object(o.a)({},i),{},{className:v()(ai.a["object-viewer"],t),children:Object(x.jsx)(ri.a,{src:n,theme:"monokai",style:{width:"100%",height:"100%"}})}))},li="environment",ui={id:li,title:"Environment",style:{width:512,height:384},view:function View(){return Object(x.jsx)(D,{children:Object(x.jsx)(Content_Content,{children:Object(x.jsx)(si,{src:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})})})})}},di=n(257),bi={id:"software-info",title:"Software Info",style:{width:640,height:480},view:function View(){return Object(x.jsxs)(D,{children:[Object(x.jsx)(Header,{children:Object(x.jsx)(Pe,{children:"Package.json content"})}),Object(x.jsx)(Content_Content,{children:Object(x.jsx)(si,{src:di})}),Object(x.jsx)(Footer,{children:Object(x.jsx)(Pe,{children:Object(x.jsxs)(Row,{children:[Object(x.jsx)(Column,{children:Object(x.jsx)(Re.a,{children:Object(x.jsxs)("div",{style:{float:"left",textAlign:"left"},className:"note",children:["ReShell version: ",a.a.getReShellVersion(),Object(x.jsx)("br",{}),"PhantomCore version: ",c.a.getPhantomCoreVersion(),Object(x.jsx)("br",{}),"Portal: ",a.a.getPortalName()]})})}),Object(x.jsx)(Column,{children:Object(x.jsxs)(Re.a,{style:{textAlign:"right"},children:[Object(x.jsx)(mn,{id:Jn})," ",Object(x.jsx)(mn,{id:li})]})})]})})})]})}},ji=n(781),hi=n.n(ji);var Oi=function StaggeredWaveLoading(e){var t=Object.assign({},e);return Object(x.jsx)("div",Object(o.a)(Object(o.a)({className:hi.a["loading-wrapper"]},t),{},{children:Object(x.jsxs)("div",{className:hi.a.loading,children:[Object(x.jsx)("div",{className:hi.a.dot}),Object(x.jsx)("div",{className:hi.a.dot}),Object(x.jsx)("div",{className:hi.a.dot}),Object(x.jsx)("div",{className:hi.a.dot}),Object(x.jsx)("div",{className:hi.a.dot})]})}))},fi=n(627),pi=["children","preloadResources","disabledLoadingIndicator","onError"];var vi=function Preload(e){var t=e.children,n=e.preloadResources,i=e.disabledLoadingIndicator,r=void 0!==i&&i,c=(e.onError,Object(l.a)(e,pi));return Object(fi.a)(n).isPreloaded||r?Object(x.jsx)(b.a.Fragment,{children:t}):Object(x.jsx)(Wt,Object(o.a)(Object(o.a)({},c),{},{children:Object(x.jsx)(Oi,{})}))},gi=n(782),mi=n.n(gi),xi=n.p+"static/media/vu.8cb21748.png",wi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAzCAYAAADRlospAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAq1JREFUeNrU2lGk1ncYB/BPxeEQEYcR56p01XkuYlejFCmOjTSmiGyazaZpSilNWSJKMWUXOUcpTVnKmXeauhoRo5+IiBExDhFxOBxnF+/z8kqxWup9fjfvn9d78fH//57n+f7e/4KxsbFRfNNa2+sVKyK8z9Vae+V3C9HBnog4peBaiG8xg10RcbgcoLV2G59hFociYne1O6C1dgM7MIcTEfF5KUAiLuXjBD9HxJZSgEScxX4swsWI2DjogAXz8/MvK5vHsC839wb8Ochl9GU/2I+zGMYUVpd4hF5AfI1LWJK9YmUpQK4duIER3MJoKUBrbTZ7xG0sS8QHle6A1toMPsFdLMdNLC0DyPUcm3Afq3JPDFcCwNNEPMKHWZ2GKgHgSfaFJ1iHK9n0ygDg70RM42OcrwaAB/k4PcNWnKkGgL8wnuPGV/ixGkDOSJ9mljiAPdUA8Bu2Z5Y4jp3VAPALvszrM7kvSgHgHL7PsjqRFaoUAE7iaDa4y1hTDQAH8VOOGteza5cCyGx9IbPEVM5PpQC9LHEts0QnJ9lSgLkXskQnP8sAZIMb78sSnbwjZQD6TjZ6WWIq90YZgBz61vdlietvKxC9K4Acv9dmlliTfWKoEqAXiNb3ZYmJ/xuI3jUAHuaeeCtZ4n0A4F4GopmcXo9XA8CdPK6ZzRyxrxoA/sC2bHrHMtmVAsBVfPGmWWIQADCJ7/L6/OtkiUEBwGn8kGX1iu65UykAHMlQNPRfs8SgAWQsncTiHP5WVQPITX1V9xT8ZkQsrwaYy/L6u+7/EbciYlklQC9LbNY9PBtNxEglQC9LjOfosRKdiFhSCdDLEhtyCFyNqYgYrgTQWpvOMfwxPsKvETFUBpCIXpb4Bxt13yRYVAaQiEd9WeJha22uFCAR97GitXYQ/h0A2RC5PwhR/WwAAAAASUVORK5CYII=",Ci=["label","className","mediaStreamTrack","mediaStreamTracks"];var yi=function VUMeter(e){var t=e.label,n=void 0===t?"Mono":t,i=e.className,r=e.mediaStreamTrack,c=e.mediaStreamTracks,a=Object(l.a)(e,Ci),s=Object(d.useState)(null),b=Object(u.a)(s,2),j=b[0],h=b[1],O=Object(d.useState)(null),f=Object(u.a)(O,2),p=f[0],g=f[1],m=Object(d.useMemo)(Te.a,[]);Object(d.useEffect)((function(){j&&p&&(j.style.backgroundImage="url(".concat(xi,")"),j.style.backgroundPosition="top left",j.style.backgroundRepeat="no-repeat",p.style.backgroundImage="url(".concat(wi,")"),p.style.backgroundPosition="top left",p.style.backgroundRepeat="no-repeat")}),[j,p]);var w=Object(d.useCallback)((function(e){p&&it()((function(){p.style.transform="rotateZ(".concat(Math.min(e/100*87),"deg)")}),m)}),[p,m]);return Object(d.useEffect)((function(){p&&w(0)}),[w,p]),useMultiAudioMediaStreamTrackLevelMonitor(r||c,w),Object(x.jsx)(vi,{preloadResources:[xi,wi],children:Object(x.jsxs)("div",Object(o.a)(Object(o.a)({ref:h,className:v()(mi.a.vu,i)},a),{},{children:[Object(x.jsx)("div",{className:mi.a.mask,children:Object(x.jsx)("div",{ref:g,className:mi.a.needle,style:{transform:"rotateZ(0deg)"}})}),Object(x.jsx)("p",{className:mi.a["vu-label"],children:n})]}))})},Si="vu-meter",ki={id:Si,title:"VU Meter",style:{width:360,height:360},serviceClasses:[ft],view:function view(e){var t=e.appServices[ft].getCaptureFactories().map((function(e){return e.getAudioTrackControllers().map((function(e){return e.getOutputMediaStreamTrack()}))})).flat();return Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Re.a,{canOverflow:!0,children:Object(x.jsxs)("div",{children:[Object(x.jsx)(yi,{mediaStreamTracks:t}),Object(x.jsx)(ot,{style:{marginLeft:20,height:160,width:40},mediaStreamTracks:t})]})})}),Object(x.jsx)(Footer,{children:Object(x.jsx)(Pe,{children:Object(x.jsx)(mn,{id:zi})})})]})}},_i=["mediaStreamTrack","mediaType","onEl"];function AVBase(e){var t=e.mediaStreamTrack,n=e.mediaType,i=void 0===n?"video":n,r=e.onEl,c=void 0===r?function(e){return null}:r,a=Object(l.a)(e,_i),s=Object(d.useState)(null),j=Object(u.a)(s,2),h=j[0],O=j[1],f=Object(d.useMemo)((function(){return t&&new MediaStream([t])}),[t]);Object(d.useEffect)((function(){h&&(f?(h.srcObject=f,h.play().then((function(){return h.muted=!1})).catch((function(e){return console.warn("Caught",e)}))):h.srcObject=null)}),[h,f]);var p=Object(d.useRef)(c);return Object(d.useEffect)((function(){var e=p.current;h&&"function"===typeof e&&e(h)}),[h]),b.a.createElement(i,Object(o.a)({ref:O,autoPlay:!1,muted:!0,playsInline:!0,controls:!1},a))}var Ai=n(783),Mi=n.n(Ai),Di=["className"];function Video(e){var t=e.className,n=Object(l.a)(e,Di);return Object(x.jsx)(AVBase,Object(o.a)({className:v()(Mi.a.video,t)},n))}var Ii=function(e){Object(Me.a)(ScreenCaptureFactoryCollection,e);var t=Object(De.a)(ScreenCaptureFactoryCollection);function ScreenCaptureFactoryCollection(){return Object(_e.a)(this,ScreenCaptureFactoryCollection),t.apply(this,arguments)}return ScreenCaptureFactoryCollection}(rt.MediaStreamTrackControllerFactoryCollection),Ti=function(e){Object(Me.a)(ScreenCapturerService,e);var t=Object(De.a)(ScreenCapturerService);function ScreenCapturerService(){var e;Object(_e.a)(this,ScreenCapturerService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("Screen Capturer Service"),e.bindCollectionClass(Ii),e}return Object(Ae.a)(ScreenCapturerService,[{key:"getIsScreenCaptureSupported",value:function getIsScreenCaptureSupported(){return rt.utils.screen.getIsScreenCaptureSupported()}},{key:"startScreenCapture",value:function(){var e=Object(we.a)(xe.a.mark((function _callee(){var e,t,n,i=arguments;return xe.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t=i.length>1&&void 0!==i[1]?i[1]:{},r.next=4,rt.utils.screen.captureScreen(e,t);case 4:return n=r.sent,this.getCollectionInstance(Ii).addTrackControllerFactory(n),r.abrupt("return",n);case 7:case"end":return r.stop()}}),_callee,this)})));return function startScreenCapture(){return e.apply(this,arguments)}}()},{key:"getMediaStreamTracks",value:function getMediaStreamTracks(){return this.getCollectionInstance(Ii).getChildren().map((function(e){return e.getTrackControllers().map((function(e){return e.getOutputMediaStreamTrack()}))})).flat()}},{key:"getCaptureFactories",value:function getCaptureFactories(){return this.getCollectionInstance(Ii).getChildren()}}]),ScreenCapturerService}(Ie.c),Ni="screen-capture-window",Ri={id:Ni,title:"Screen Capture",style:{width:512,height:384},serviceClasses:[Ti],view:function View(e){var t,n,i=e.appServices,c=e.windowController,a=i[Ti],o=Object(d.useMemo)((function(){return a.getIsScreenCaptureSupported()}),[a]);Object(d.useEffect)((function(){if(!o){var e=window.setTimeout(c.destroy,3e3);c.once(r.EVT_DESTROYED,(function(){return window.clearTimeout(e)}))}}),[o,c]);var s=Object(d.useState)(null),l=Object(u.a)(s,2),b=l[0],j=l[1],O=function useGetIsUnmounting(){var e=Object(d.useRef)(!1);return Object(d.useEffect)((function(){return function unmount(){e.current=!0}}),[]),Object(d.useCallback)((function(){return e.current}),[])}(),f=Object(d.useCallback)(Object(we.a)(xe.a.mark((function _callee(){var e,t,n,i=arguments;return xe.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t=i.length>1&&void 0!==i[1]?i[1]:{},c.next=4,a.startScreenCapture(e,t);case 4:return n=c.sent,j(n),n.once(r.EVT_DESTROYED,(function(){O()||j(null)})),c.abrupt("return",n);case 8:case"end":return c.stop()}}),_callee)}))),[a,O]);Object(d.useEffect)((function(){if(b)return function(){b.getIsDestroying()||b.destroy()}}),[b]);var p=null===b||void 0===b||null===(t=b.getVideoTrackControllers()[0])||void 0===t?void 0:t.getOutputTrack(),v=null===b||void 0===b||null===(n=b.getAudioTrackControllers()[0])||void 0===n?void 0:n.getOutputTrack();return o?Object(x.jsxs)(D,{style:{backgroundColor:"#424242",color:"#999"},children:[Object(x.jsx)(Content_Content,{children:Object(x.jsxs)(Row,{children:[Object(x.jsxs)(Column,{children:[Object(x.jsx)(Video,{mediaStreamTrack:p}),!b&&Object(x.jsx)(h.a,{children:Object(x.jsx)(Re.a,{children:Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:function onClick(){return f()},style:{backgroundColor:"green",width:200,height:200,borderRadius:200,fontWeight:"bold",fontSize:"1.4rem",border:"8px #ccc solid"},children:"Start Screen Capture"})})})})]}),Object(x.jsx)(Column,{style:{width:50,maxWidth:50},children:Object(x.jsx)(Row,{style:{textAlign:"center"},children:Object(x.jsx)(Column,{children:Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(ot,{mediaStreamTrack:v})}),Object(x.jsx)(Footer,{children:"Audio"})]})})})})]})}),Object(x.jsx)(Footer,{children:Object(x.jsx)(Pe,{children:Object(x.jsxs)(Row,{children:[Object(x.jsx)(Column,{children:Object(x.jsx)(Re.a,{children:Object(x.jsx)(mn,{id:zi})})}),Object(x.jsx)(Column,{children:Object(x.jsx)(Re.a,{children:Object(x.jsx)("button",{style:{backgroundColor:b?"red":"green",whiteSpace:"nowrap"},onClick:function onClick(){b&&!b.getIsDestroying()?b.destroy():f()},children:b?"Stop":"Capture"})})})]})})})]}):Object(x.jsx)(Re.a,{children:Object(x.jsx)("div",{style:{fontWeight:"bold"},children:"Screen capture is not supported in this browser."})})}},Ei=Ri,zi="input-media-devices",Wi={id:zi,title:"Input Media Devices",style:{width:640,height:380},serviceClasses:[ft],view:function View(e){var t=e.appServices[ft];return Object(x.jsx)(Pe,{children:Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(gt,{})}),Object(x.jsxs)(Footer,{children:[Object(x.jsx)("button",{onClick:function onClick(){return t.fetchInputMediaDevices(!0)},style:{float:"right"},children:"Refetch"}),Object(x.jsxs)("span",{className:"button-group",children:[Object(x.jsx)(mn,{id:Si}),Object(x.jsx)(mn,{id:Ni})]})]})]})})}},Pi=function bytesToSize(e){var t=["bytes","kB","MB","GB","TB"];if(0===e)return"0 ".concat(t[0]);var n=parseInt(Math.floor(Math.log(Math.abs(e))/Math.log(1024)),10);return 0===n?"".concat(e," ").concat(t[n]):"".concat((e/Math.pow(1024,n)).toFixed(1)," ").concat(t[n])},Li={id:"memory-info",title:"Memory Info",style:{width:280,height:150},view:function View(){var e=Object(d.useState)({jsHeapSizeLimit:"N/A",totalJSHeapSize:"N/A",usedJSHeapSize:"N/A"}),t=Object(u.a)(e,2),n=t[0],i=n.jsHeapSizeLimit,r=n.totalJSHeapSize,c=n.usedJSHeapSize,a=t[1],o=Object(d.useCallback)((function(){if(window.performance.memory){var e=window.performance.memory,t=e.jsHeapSizeLimit,n=e.totalJSHeapSize,i=e.usedJSHeapSize,r={jsHeapSizeLimit:Pi(t),totalJSHeapSize:Pi(n),usedJSHeapSize:Pi(i)};return a(r),r}}),[]);return Object(d.useEffect)((function(){if(o()){var e=setInterval((function(){o()}),1e3);return function unmount(){clearInterval(e)}}}),[o]),Object(x.jsxs)(D,{style:{backgroundColor:"#424242",color:"#999"},children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Re.a,{children:Object(x.jsxs)("table",{style:{display:"inline-block"},children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Heap Size Limit"}),Object(x.jsx)("td",{children:"Total Heap Size"}),Object(x.jsx)("td",{children:"Used Heap Size"})]})}),Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:i}),Object(x.jsx)("td",{children:r}),Object(x.jsx)("td",{children:c})]})})]})})}),Object(x.jsxs)(Footer,{style:{fontSize:".8rem"},children:[Object(x.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Performance/memory",target:"_blank",rel:"noreferrer",style:{float:"left"},children:"MDN Documentation"}),Object(x.jsx)("span",{style:{float:"right"},children:"Only supported in Chromium-based browsers."})]})]})}};var Ui=function LocalStorageItems(e){var t=e.keyStorageEngineMaps,n=void 0===t?[]:t,i=e.onGetValue,r=e.onEmpty,c=e.onNewItem,a=Object(he.a)();return n.length?Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Pe,{style:{overflowY:"auto"},children:Object(x.jsxs)("table",{style:{width:"100%"},children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"Key"}),Object(x.jsx)("td",{style:{color:"gray"},children:"Value"}),Object(x.jsx)("td",{children:"Encryption"}),Object(x.jsx)("td",{children:"Storage Engine"})]})}),Object(x.jsx)("tbody",{children:n.map((function(e,t){var n=e.key,r=e.storageEngine;return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"center",children:Object(x.jsx)("input",{type:"checkbox",disabled:!0})}),Object(x.jsx)("td",{children:n}),Object(x.jsx)("td",{className:"center",children:Object(x.jsx)("button",{onClick:function onClick(){return i(n,r)},disabled:!0,children:"Get"})}),Object(x.jsx)("td",{className:"center",children:r.getEncryptionType()||"None"}),Object(x.jsx)("td",{className:"center",children:r.getTitle()})]},t)}))})]})})}),Object(x.jsx)(Footer,{children:Object(x.jsxs)(Pe,{style:{overflow:"auto"},children:[Object(x.jsx)("button",{onClick:r,children:"Empty"}),Object(x.jsx)("button",{style:{float:"right"},onClick:a,children:"Reload"})]})})]}):Object(x.jsx)(Re.a,{children:Object(x.jsxs)(Pe,{children:[Object(x.jsx)(Pe,{style:{fontWeight:"bold"},children:"No Key Vault items."}),Object(x.jsx)(Pe,{className:"note",children:"These may be automatically managed by other applications as needed, in order to perform key / value pair storage operations."}),Object(x.jsx)(Pe,{className:"note",children:"You have the ability to clear all local / session storage via this utility."}),Object(x.jsx)(Pe,{children:Object(x.jsx)("button",{onClick:c,children:"Add new item..."})})]})})};function getFormValues(e){for(var t=e.elements,n={},i=0,r=Object(Ce.a)(t);i<r.length;i++){var c=r[i],a=c.name||c.id;a&&(n[a]=c.value)}return n}var Fi=["children","autoComplete","validator","onChange","onSubmit"];var Vi=function Form(e){var t=e.children,n=e.autoComplete,i=void 0===n?"off":n,r=e.validator,c=void 0===r?function(e){return null}:r,a=e.onChange,b=void 0===a?function(e){return null}:a,j=e.onSubmit,h=void 0===j?function(e){return null}:j,O=Object(l.a)(e,Fi),f=function useFormController(e){var t=e.onSubmit,n=e.onChange,i=void 0===n?function(){return null}:n,r=e.validator,c=void 0===r?function(){return null}:r,a=Object(d.useState)(null),o=Object(u.a)(a,2),l=o[0],b=o[1];Object(d.useEffect)((function(){if(l){Object.values(getFormValues(l)).length||console.warn("No form values detected for form element.  All input fields should have a name or id attribute.",l);var e,t=Object(s.a)(l.elements);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("BUTTON"===n.tagName.toUpperCase()&&!n.getAttribute("type")){console.warn('All button elements should have a type attribute specified or they will default to "submit"',n);break}}}catch(i){t.e(i)}finally{t.f()}}}),[l]);var j=Object(d.useState)(!1),h=Object(u.a)(j,2),O=h[0],f=h[1],p=Object(d.useState)({}),v=Object(u.a)(p,2),g=v[0],m=v[1],x=Object(d.useCallback)((function(e){var t=!1,n=Object.fromEntries(Object.entries(c(e)||{}).filter((function(e){var n=Boolean(e[1]);return n&&(t=!0),n}))),i=!t;return f(i),m(n),i}),[c]),w=Object(d.useCallback)((function(e){var t=getFormValues(l);x(t),i(t)}),[x,l,i]),C=Object(d.useCallback)((function(e){e.preventDefault();var n=getFormValues(l);x(n)&&t(n)}),[x,l,t]);return{isValid:O,handleFormValidate:x,handleFormChange:w,handleFormSubmit:C,errors:g,setFormRef:b}}({onSubmit:h,onChange:b,validator:c}),p=f.setFormRef,v=f.handleFormChange,g=f.handleFormSubmit,m=f.handleFormValidate,w=f.errors,C=f.isValid;return Object(x.jsx)("form",Object(o.a)(Object(o.a)({},O),{},{ref:p,autoComplete:i,onChange:v,onSubmit:g,children:t({errors:w,isValid:C,submit:g,validate:m})}))};function KeyEditorForm(e){var t=e.initialKey,n=e.initialValue,i=e.initialStorageEngine,r=e.storageEngines,c=e.onSubmit;return Object(x.jsx)(Re.a,{canOverflow:!0,children:Object(x.jsx)(Vi,{onSubmit:c,validator:function validator(e){return{key:e.key.length<1&&"Key must contain at least one character"}},children:function children(e){var c=e.errors,a=e.isValid;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Pe,{children:Object(x.jsx)("input",{name:"key",type:"text",placeholder:"Key",defaultValue:t,required:!0})}),(null===c||void 0===c?void 0:c.key)&&Object(x.jsx)("div",{className:"note",style:{color:"red"},children:c.key}),Object(x.jsx)(Pe,{children:Object(x.jsx)("textarea",{name:"value",placeholder:"Value",defaultValue:n})}),Object(x.jsxs)(Pe,{style:{marginTop:20,textAlign:"left"},children:[Object(x.jsx)("label",{children:"Storage Engine"}),Object(x.jsx)("select",{name:"storageEngineShortUUID",defaultValue:null===i||void 0===i?void 0:i.getShortUUID(),required:!0,children:r.map((function(e){var t=e.getTitle(),n=e.getShortUUID();return Object(x.jsx)("option",{value:n,children:t},t)}))})]}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{type:"submit",value:"Submit",style:{backgroundColor:"#347fe8"},disabled:!a})})]})}})})}n(784);var Bi=["className"],Ki=function DynamicIcon(e){var t=e.className,n=Object(l.a)(e,Bi);return Object(x.jsx)("i",Object(o.a)(Object(o.a)({},n),{},{className:"id0d6dd5d02e64b979154a770ab790dba-icon".concat(t?" ".concat(t):"")}))},Hi="key-vault",Qi={id:Hi,title:"Key Vault",style:{width:640,height:480},serviceClasses:[dt.a,St],view:function View(e){var t=e.appServices,n=t[dt.a],i=n.getKeyStorageEngineMaps(),r=t[St],c=Object(d.useState)([]),a=Object(u.a)(c,2),o=a[0],l=a[1],b=Object(d.useState)(!1),j=Object(u.a)(b,2),h=j[0],O=j[1];Object(d.useEffect)((function(){Object(we.a)(xe.a.mark((function _callee(){var e,t,n,r,c,a,o;return xe.a.wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:e=[],t=Object(s.a)(i),u.prev=2,t.s();case 4:if((n=t.n()).done){u.next=14;break}return r=n.value,c=r[0],a=r[1],u.next=10,a.fetchItem(c);case 10:o=u.sent,e.push({key:c,storageEngine:a,value:o});case 12:u.next=4;break;case 14:u.next=19;break;case 16:u.prev=16,u.t0=u.catch(2),t.e(u.t0);case 19:return u.prev=19,t.f(),u.finish(19);case 22:l(e);case 23:case"end":return u.stop()}}),_callee,null,[[2,16,19,22]])})))()}),[i]);var f=Object(d.useCallback)((function(e){n.getStorageEngineWithShortUUID(e.storageEngineShortUUID).setItem(e.key,e.value).then((function(){O(!1)}))}),[n]),p=Object(d.useCallback)(Object(we.a)(xe.a.mark((function _callee2(){return xe.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.confirm("Are you sure you wish to empty the Key Vault?");case 2:if(!e.sent){e.next=4;break}n.clearAllStorageEngines();case 4:case"end":return e.stop()}}),_callee2)}))),[r,n]);return useKeyboardEvents(window,{onEscape:function onEscape(){return O(!1)}}),Object(x.jsxs)(D,{children:[Object(x.jsx)(Header,{children:Object(x.jsx)(Pe,{children:Object(x.jsx)("button",{onClick:function onClick(){return O((function(e){return!e}))},children:h?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ki,{})," Back"]}):Object(x.jsx)(x.Fragment,{children:"(+) New Item"})})})}),Object(x.jsx)(Content_Content,{children:h?Object(x.jsx)(KeyEditorForm,{storageEngines:n.getStorageEngines(),onSubmit:f}):Object(x.jsx)(Ui,{keyStorageEngineMaps:o,onEmpty:p,onNewItem:function onNewItem(){return O(!0)}})})]})}};function AppRegistrationSelector(e){var t=e.onRegistrationChange,n=useAppOrchestrationContext().appRegistrations;return console.log({appRegistrations:n}),Object(x.jsx)("div",{children:Object(x.jsxs)("select",{onChange:function onChange(e){return t(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"Select app registration"}),n.map((function(e){return Object(x.jsx)("option",{value:e.getID(),children:e.getTitle()},e.getUUID())}))]})})}var Yi={id:"app-registration-viewer",title:"App Registration Viewer",style:{width:640,height:480},view:function View(){var e=useAppOrchestrationContext().appRegistrations,t=Object(d.useState)(null),n=Object(u.a)(t,2),i=n[0],r=n[1],c=Object(d.useCallback)((function(t){var n=e.find((function(e){return e.getID()===t}));console.log({matchedRegistration:n}),r(n?n.getAppDescriptor():null)}),[e]);return i?Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)("div",{style:{width:"100%",height:"100%",overflowY:"auto"},children:Object(x.jsx)(ri.a,{src:i,theme:"monokai",style:{width:"100%",height:"100%"}})})}),Object(x.jsx)(Footer,{children:Object(x.jsx)(AppRegistrationSelector,{onRegistrationChange:c})})]}):Object(x.jsx)(Re.a,{children:Object(x.jsx)(AppRegistrationSelector,{onRegistrationChange:c})})}},Gi=n(785),Zi=n.n(Gi),Xi=["color","className","style","label"];function LabeledLED(e){var t=e.color,n=e.className,i=e.style,r=e.label,c=Object(l.a)(e,Xi);return Object(x.jsxs)("div",{className:v()(Zi.a["labeled-led"],n),style:i,children:[Object(x.jsx)("div",{className:Zi.a["led-wrap"],children:Object(x.jsx)(bn,Object(o.a)({color:t},c))}),Object(x.jsx)("div",{className:Zi.a["label-wrap"],children:r})]})}var qi=n(786),Ji=n.n(qi),$i=["children","className"];var er=function ButtonGroup(e){var t=e.children,n=e.className,i=Object(l.a)(e,$i);return Object(x.jsx)("div",Object(o.a)(Object(o.a)({},i),{},{className:v()(Ji.a["button-group"],"button-group",n),children:t}))},tr=n(595),nr=300,ir={id:"open-applications",keywords:"open applications",description:"Open Applications app",action:function action(e,t){t.appOrchestrationService.activateAppRegistrationWithID(hn)}},rr={id:"activate-next-window",keywords:"cycle activate next window",description:"Activate next window",action:function action(e,t){var n=t.windowController,i=t.appOrchestrationService.getWindowControllers(),r=i.indexOf(n),c=i[r+1]||i[0];c&&c.bringToTop()}},cr={id:"activate-previous-window",keywords:"cycle activate previous window",description:"Activate previous window",action:function action(e,t){var n=t.windowController,i=t.appOrchestrationService.getWindowControllers(),r=i.indexOf(n),c=i[r-1]||i[i.length-1];c&&c.bringToTop()}},ar={id:"move-window-up",keywords:"reposition move window up",description:"Move a window up",action:function action(e,t){var n=t.windowController;if(n){var i=n.getPosition();n.setPosition({x:i.x,y:i.y-nr})}}},or={id:"move-window-up-and-right",keywords:"reposition move window up and right",description:"Move a window up and right",action:function action(e,t){var n=t.windowController;if(n){var i=n.getPosition();n.setPosition({x:i.x+nr,y:i.y-nr})}}},sr={id:"move-window-up-and-left",keywords:"reposition move window up and left",description:"Move a window up and left",action:function action(e,t){var n=t.windowController;if(n){var i=n.getPosition();n.setPosition({x:i.x-nr,y:i.y-nr})}}},lr={id:"move-window-right",keywords:"reposition move window right",description:"Move a window right",action:function action(e,t){var n=t.windowController;if(n){var i=n.getPosition();n.setPosition({x:i.x+nr,y:i.y})}}},ur={id:"move-window-down",keywords:"reposition move window down",description:"Move a window down",action:function action(e,t){var n=t.windowController,i=n.getPosition();n.setPosition({x:i.x,y:i.y+nr})}},dr={id:"move-window-down-and-right",keywords:"reposition move window down and right",description:"Move a window down and right",action:function action(e,t){var n=t.windowController;if(n){var i=n.getPosition();n.setPosition({x:i.x+nr,y:i.y+nr})}}},br={id:"move-window-down-and-left",keywords:"reposition move window down and left",description:"Move a window down and left",action:function action(e,t){var n=t.windowController,i=n.getPosition();n.setPosition({x:i.x-nr,y:i.y+nr})}},jr={id:"move-window-left",keywords:"reposition move window left",description:"Move a window left",action:function action(e,t){var n=t.windowController;if(n){var i=n.getPosition();n.setPosition({x:i.x-nr,y:i.y})}}},hr={id:"center-window",keywords:"reposition center window",description:"Center a window",action:function action(e,t){var n=t.windowController;n&&n.center()}},Or={id:"center-all-windows",keywords:"reposition center all windows",description:"Center all windows",action:function action(e,t){t.appOrchestrationService.getWindowControllers().forEach((function(e){return e.center()}))}},fr={id:"scatter-window",keywords:"reposition scatter window",description:"Scatter a window",action:function action(e,t){var n=t.windowController;n&&n.scatter()}},pr={id:"scatter-all-windows",keywords:"reposition scatter all windows",description:"Scatter all windows",action:function action(e,t){t.appOrchestrationService.getWindowControllers().forEach((function(e){return e.scatter()}))}},vr={id:"maximize-window",keywords:"resize maximize window",description:"Maximize a window",action:function action(e,t){var n=t.windowController;n&&n.maximize()}},gr={id:"minimize-window",keywords:"resize minimize window",description:"Minimize a window",action:function action(e,t){var n=t.windowController;n&&n.minimize()}},mr={id:"restore-window",keywords:"resize restore window",description:"Restore a window",action:function action(e,t){var n=t.windowController;n&&n.restore()}},xr={id:"close-application",keywords:"close application window",description:"Close an application window",action:function(){var e=Object(we.a)(xe.a.mark((function _callee(e,t){var n;return xe.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.windowController)){e.next=4;break}return e.next=4,n.destroy();case 4:case"end":return e.stop()}}),_callee)})));return function action(t,n){return e.apply(this,arguments)}}()},wr={id:"desktop-paradigm",keywords:"switch select desktop paradigm view display",description:"Switch to desktop UI paradigm",action:function(){var e=Object(we.a)(xe.a.mark((function _callee2(e,t){return xe.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:t.uiParadigmService.setStaticUIParadigm(Y.b);case 2:case"end":return e.stop()}}),_callee2)})));return function action(t,n){return e.apply(this,arguments)}}()},Cr={id:"mobile-paradigm",keywords:"switch select mobile paradigm view display",description:"Switch to mobile UI paradigm",action:function(){var e=Object(we.a)(xe.a.mark((function _callee3(e,t){return xe.a.wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:t.uiParadigmService.setStaticUIParadigm(Y.c);case 2:case"end":return e.stop()}}),_callee3)})));return function action(t,n){return e.apply(this,arguments)}}()},yr={id:"auto-detect-paradigm",keywords:"switch select auto detect paradigm view display",description:"Switch to auto detect UI paradigm",action:function(){var e=Object(we.a)(xe.a.mark((function _callee4(e,t){return xe.a.wrap((function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:t.uiParadigmService.setStaticUIParadigm(Y.a);case 2:case"end":return e.stop()}}),_callee4)})));return function action(t,n){return e.apply(this,arguments)}}()},Sr=function(e){Object(Me.a)(DesktopCommanderControllerService,e);var t=Object(De.a)(DesktopCommanderControllerService);function DesktopCommanderControllerService(){var e;Object(_e.a)(this,DesktopCommanderControllerService);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];(e=t.call.apply(t,[this].concat(r))).setTitle("Desktop Commander Controller Service"),e.setState({lastCommand:null,lastCommandInvokeTime:null}),e._appOrchestrationService=e.useServiceClass(tr.a),e._uiParadigmService=e.useServiceClass(Y.d),e._commands={};for(var a=0,o=Object.keys(i);a<o.length;a++){var s=o[a],l=i[s];e.registerCommand(l)}return e}return Object(Ae.a)(DesktopCommanderControllerService,[{key:"getCommands",value:function getCommands(){return this._commands}},{key:"registerCommand",value:function registerCommand(e){"string"===typeof e.keywords&&(e.keywords=e.keywords.split(" ")),this._commands[e.id]=e}},{key:"getCommandWithId",value:function getCommandWithId(e){return this._commands[e]}},{key:"getLastCommand",value:function getLastCommand(){return this.getState().lastCommand}},{key:"getLastCommandInvokeTime",value:function getLastCommandInvokeTime(){return this.getState().lastCommandInvokeTime}},{key:"execCommand",value:function(){var e=Object(we.a)(xe.a.mark((function _callee(e){var t,n,i,c=arguments;return xe.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return(t=c.length>1&&void 0!==c[1]?c[1]:{}).windowController||(n=this._appOrchestrationService.getActiveWindowController(),t.windowController=n||(null===(i=this._appOrchestrationService.getWindowControllers())||void 0===i?void 0:i[0])),t.appOrchestrationService=this._appOrchestrationService,t.uiParadigmService=this._uiParadigmService,this.setState({lastCommand:e,lastCommandInvokeTime:Object(r.getUnixTime)()}),a.abrupt("return",e.action(this,t));case 6:case"end":return a.stop()}}),_callee,this)})));return function execCommand(t){return e.apply(this,arguments)}}()}]),DesktopCommanderControllerService}(Ie.c),kr=Sr,_r="desktop-commander-debugger",Ar={id:_r,title:"Desktop Commander Debugger",style:{width:640,height:720},serviceClasses:[kr,tr.a],view:function View(e){var t=e.appServices,n=e.windowController,i=Object(d.useState)(null),r=Object(u.a)(i,2),c=r[0],a=r[1];Object(d.useEffect)((function(){c&&c.parentNode.parentNode.scrollTo({top:c.offsetTop-10,left:c.offsetLeft-10})}),[c]);var o=Object(d.useState)(null),s=Object(u.a)(o,2),l=s[0],b=s[1],j=null===l||void 0===l?void 0:l.getUUID(),h=t[kr],O=h.getCommands(),f=h.getLastCommand(),p=t[tr.a],v=p.getAppRuntimes().map((function(e){return{appRuntime:e,windowController:e.getWindowController()}})).filter((function(e){return e.windowController})),g=Object(d.useCallback)((function(e){var t=e.target.value,n=p.getWindowControllerWithUUID(t);b(n)}),[p]),m=p.getActiveWindowController();return Object(d.useEffect)((function(){var e;m&&v.length>1?m!==n&&(e=m):e=n,e&&b(e)}),[m,n,v]),Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Pe,{children:Object(x.jsx)(Re.a,{canOverflow:!0,children:Object.values(O).map((function(e){var t=e===f;return Object(x.jsx)("div",{ref:function ref(e){return t&&a(e)},style:{width:250,height:100,border:"1px #999 solid",borderRadius:8,margin:1,display:"inline-block",textAlign:"left",backgroundColor:t?"green":null},children:Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsxs)(Pe,{style:{overflowY:"auto"},children:[Object(x.jsx)("div",{children:e.description}),Object(x.jsx)("div",{style:{fontStyle:"italic",fontSize:".8em",marginTop:4},children:e.keywords.join(" ")})]})}),Object(x.jsx)(Footer,{style:{textAlign:"right"},children:Object(x.jsx)("button",{onClick:function onClick(){return h.execCommand(e,{windowController:l})},style:{margin:8},children:e.id})})]})},e.id)}))})})}),Object(x.jsxs)(Footer,{children:[Object(x.jsx)("hr",{}),Object(x.jsx)(Pe,{children:Object(x.jsxs)(Re.a,{children:[Object(x.jsx)("label",{children:"Choose a window to send a command:"}),Object(x.jsxs)("select",{onChange:g,value:j,children:[Object(x.jsx)("option",{children:"Choose a window"}),v.map((function(e,t){var n=e.windowController;return Object(x.jsx)("option",{value:n.getUUID(),children:n.getTitle()},t)}))]})]})})]})]})}},Mr=n(629),Dr="mesa-sub-1",Ir=function(e){Object(Me.a)(MesaSubscriptionKeyManagementService,e);var t=Object(De.a)(MesaSubscriptionKeyManagementService);function MesaSubscriptionKeyManagementService(){var e;Object(_e.a)(this,MesaSubscriptionKeyManagementService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("Mesa Subscription Key Management Service"),e.setState({hasCachedSubscriptionKey:!1}),e._keyVaultService=e.useServiceClass(dt.a),e._secureLocalStorageEngine=e._keyVaultService.getSecureLocalStorageEngine(),e._fetchSecureLocalStorageSubscriptionKey(),e.proxyOn(e._keyVaultService,Ie.b,(function(){e._fetchSecureLocalStorageSubscriptionKey()})),e}return Object(Ae.a)(MesaSubscriptionKeyManagementService,[{key:"_setSecureLocalStorageSubscriptionKey",value:function(){var e=Object(we.a)(xe.a.mark((function _callee(e){return xe.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._secureLocalStorageEngine.setItem(Dr,e);case 2:this.setState({hasCachedSubscriptionKey:Boolean(e)});case 3:case"end":return t.stop()}}),_callee,this)})));return function _setSecureLocalStorageSubscriptionKey(t){return e.apply(this,arguments)}}()},{key:"_fetchSecureLocalStorageSubscriptionKey",value:function(){var e=Object(we.a)(xe.a.mark((function _callee2(){var e;return xe.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._secureLocalStorageEngine.fetchItem(Dr);case 2:return e=t.sent,this.setState({hasCachedSubscriptionKey:Boolean(e)}),t.abrupt("return",e);case 5:case"end":return t.stop()}}),_callee2,this)})));return function _fetchSecureLocalStorageSubscriptionKey(){return e.apply(this,arguments)}}()},{key:"deleteCachedSubscriptionKey",value:function(){var e=Object(we.a)(xe.a.mark((function _callee3(){return xe.a.wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.useServiceClass(St).confirm("Are you sure you wish to delete the cached Azure Subscription Key?");case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this._secureLocalStorageEngine.removeItem(Dr);case 6:this.setState({hasCachedSubscriptionKey:!1});case 7:case"end":return e.stop()}}),_callee3,this)})));return function deleteCachedSubscriptionKey(){return e.apply(this,arguments)}}()},{key:"getHasCachedSubscriptionKey",value:function getHasCachedSubscriptionKey(){return this.getState().hasCachedSubscriptionKey}},{key:"acquireSubscriptionKey",value:function(){var e=Object(we.a)(xe.a.mark((function _callee4(){var e;return xe.a.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetchSecureLocalStorageSubscriptionKey();case 2:if(!(e=t.sent)){t.next=5;break}return t.abrupt("return",e);case 5:return t.next=7,this.useServiceClass(St).showTextInputModal({label:"Enter Microsoft Azure Subscription Key"});case 7:if(null!==(e=t.sent)){t.next=10;break}return t.abrupt("return",null);case 10:if(!e){t.next=16;break}return t.next=13,this._setSecureLocalStorageSubscriptionKey(e);case 13:return t.abrupt("return",e);case 16:return t.abrupt("return",this.acquireSubscriptionKey());case 17:case"end":return t.stop()}}),_callee4,this)})));return function acquireSubscriptionKey(){return e.apply(this,arguments)}}()}]),MesaSubscriptionKeyManagementService}(Ie.c),Tr=function(e){Object(Me.a)(MesaSpeechRecognizerService,e);var t=Object(De.a)(MesaSpeechRecognizerService);function MesaSpeechRecognizerService(){var e;Object(_e.a)(this,MesaSpeechRecognizerService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("Mesa Speech Recognizer Service"),e.setState({isConnecting:!1,isConnected:!1,hasRecognizer:!1,isRecognizing:!1,realTimeTranscription:null,finalizedTranscription:null}),e._recognizer=null,e.registerCleanupHandler(Object(we.a)(xe.a.mark((function _callee(){return xe.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!e._recognizer){t.next=3;break}return t.next=3,e._recognizer.destroy();case 3:case"end":return t.stop()}}),_callee)})))),e._inputMediaDevicesService=e.useServiceClass(ft),e._subscriptionKeyService=e.useServiceClass(Ir),e}return Object(Ae.a)(MesaSpeechRecognizerService,[{key:"getIsConnecting",value:function getIsConnecting(){return this.getState().isConnecting}},{key:"getIsConnected",value:function getIsConnected(){return this.getState().isConnected}},{key:"getHasRecognizer",value:function getHasRecognizer(){return this.getState().hasRecognizer}},{key:"getRealTimeTranscription",value:function getRealTimeTranscription(){return this.getState().realTimeTranscription}},{key:"getFinalizedTranscription",value:function getFinalizedTranscription(){return this.getState().finalizedTranscription}},{key:"getIsRecognizing",value:function getIsRecognizing(){return this.getState().isRecognizing}},{key:"startRecognizing",value:function(){var e=Object(we.a)(xe.a.mark((function _callee2(){var e,t,n,i=this;return xe.a.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(!this._recognizer){r.next=3;break}return r.next=3,this._recognizer.destroy();case 3:return r.next=5,this._subscriptionKeyService.acquireSubscriptionKey();case 5:if(e=r.sent){r.next=8;break}return r.abrupt("return");case 8:if((t=this._inputMediaDevicesService.getCaptureFactories()).length){r.next=12;break}return r.next=12,this.useServiceClass(St).showInputMediaDevicesSelectionModal();case 12:if((t=this._inputMediaDevicesService.getCaptureFactories()).length){r.next=15;break}throw new Error("Could not obtain input capture factories");case 15:n=t[0].getOutputMediaStream(),this._recognizer=new Mr.g(n,e),this.setState({hasRecognizer:!0}),this._recognizer.registerCleanupHandler((function(){i.setState({isConnecting:!1,isConnected:!1,hasRecognizer:!1,isRecognizing:!1,realTimeTranscription:null,finalizedTranscription:null})})),i.proxyOn(i._recognizer,Mr.c,(function(){i.setState({isConnecting:!0}),i.setState({isConnected:!1})})),i.proxyOn(i._recognizer,Mr.b,(function(){i.setState({isConnecting:!1}),i.setState({isConnected:!0})})),i.proxyOn(i._recognizer,Mr.a,(function(){i.setState({isRecognizing:!0})})),i.proxyOn(i._recognizer,Mr.d,(function(){i.setState({isRecognizing:!1})})),i.proxyOn(i._recognizer,Mr.f,(function(e){i.setState({realTimeTranscription:e})})),i.proxyOn(i._recognizer,Mr.e,(function(e){i.setState({finalizedTranscription:e}),i.emit(Mr.e,e)}));case 20:case"end":return r.stop()}}),_callee2,this)})));return function startRecognizing(){return e.apply(this,arguments)}}()},{key:"stopRecognizing",value:function(){var e=Object(we.a)(xe.a.mark((function _callee3(){return xe.a.wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(!this._recognizer){e.next=3;break}return e.next=3,this._recognizer.destroy();case 3:case"end":return e.stop()}}),_callee3,this)})));return function stopRecognizing(){return e.apply(this,arguments)}}()}]),MesaSpeechRecognizerService}(Ie.c),Nr=Tr,Rr=function(e){Object(Me.a)(MesaSpeechDesktopControllerService,e);var t=Object(De.a)(MesaSpeechDesktopControllerService);function MesaSpeechDesktopControllerService(){var e;Object(_e.a)(this,MesaSpeechDesktopControllerService);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).setTitle("Mesa Speech Desktop Controller Service"),e.setState({isDesktopControlEnabled:!0}),e._desktopControllerService=e.useServiceClass(kr),e._speechRecognizerService=e.useServiceClass(Nr),e.proxyOn(e._speechRecognizerService,Mr.e,(function(t){e.getIsDesktopControlEnabled()&&e.extractCommandIntentFromText(t)})),e}return Object(Ae.a)(MesaSpeechDesktopControllerService,[{key:"setIsDesktopControlEnabled",value:function setIsDesktopControlEnabled(e){this.setState({isDesktopControlEnabled:Boolean(e)})}},{key:"getIsDesktopControlEnabled",value:function getIsDesktopControlEnabled(){return this.getState().isDesktopControlEnabled}},{key:"extractCommandIntentFromText",value:function(){var e=Object(we.a)(xe.a.mark((function _callee(e){var t,n,i,r,c;return xe.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.toLowerCase().replace(/[^a-z0-9 ]/gi,""),n=t.split(" "),i=Object.values(this._desktopControllerService.getCommands()).map((function(e){var t=n.filter((function(t){return e.keywords.includes(t)})).length;return{command:e,strength:t}})).filter((function(e){return e.strength})),!(r=i.reduce((function(e,t){return!e||t.strength>e.strength||t.strength===e.strength&&t.command.keywords.length<e.command.keywords.length?t:e}),null))){a.next=8;break}return c=r.command,a.next=8,this._desktopControllerService.execCommand(c);case 8:case"end":return a.stop()}}),_callee,this)})));return function extractCommandIntentFromText(t){return e.apply(this,arguments)}}()}]),MesaSpeechDesktopControllerService}(Ie.c),Er="mesa-speech-recognition-debugger",zr={id:Er,title:"Mesa Speech Recognition Debugger",style:{width:640,height:320},serviceClasses:[Nr,Ir,Rr],view:function View(e){var t=e.appServices,n=t[Nr],i=n.getIsConnecting(),r=n.getHasRecognizer(),c=n.getFinalizedTranscription(),a=n.getIsRecognizing(),o=n.getRealTimeTranscription(),s=t[Ir],l=s.getHasCachedSubscriptionKey(),u=t[Rr].getIsDesktopControlEnabled();return Object(x.jsxs)(D,{children:[Object(x.jsx)(Header,{children:Object(x.jsxs)(Pe,{children:[Object(x.jsxs)("button",{onClick:function onClick(){return r?n.stopRecognizing():n.startRecognizing()},style:{backgroundColor:r?"red":"green"},children:[r?"Stop":"Start"," Recognizing"]}),Object(x.jsx)("button",{onClick:s.deleteCachedSubscriptionKey,disabled:!l,style:{float:"right",backgroundColor:"red"},children:"Delete Cached Subscription Key"})]})}),Object(x.jsx)(Content_Content,{children:Object(x.jsxs)(Pe,{style:{overflowY:"auto"},children:[Object(x.jsxs)(Row,{disableVerticalFill:!0,style:{height:80},children:[Object(x.jsx)(Column,{style:{border:"1px #999 solid",borderRadius:4,backgroundColor:"rgba(0,0,0,.4)"},children:Object(x.jsx)(Pe,{children:Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)("div",{children:o||"N/A"})}),Object(x.jsx)(Footer,{children:Object(x.jsx)("div",{style:{fontStyle:"italic",fontSize:".9em",color:"gray"},children:"Real-time"})})]})})}),Object(x.jsx)(Column,{style:{border:"1px #999 solid",borderRadius:4,backgroundColor:"rgba(0,0,0,.4)"},children:Object(x.jsx)(Pe,{children:Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)("div",{children:c||"N/A"})}),Object(x.jsx)(Footer,{children:Object(x.jsx)("div",{style:{fontStyle:"italic",fontSize:".9em",color:"gray"},children:"Finalized"})})]})})})]}),Object(x.jsx)("div",{style:{overflow:"auto",textAlign:"center",marginTop:20},children:Object(x.jsxs)(Pe,{children:[Object(x.jsx)(Pe,{style:{display:"inline-block"},children:Object(x.jsx)(LabeledLED,{color:u?"green":"gray",label:"Desktop Controller"})}),Object(x.jsx)(Pe,{style:{display:"inline-block"},children:Object(x.jsx)(LabeledLED,{color:l?"green":"gray",label:"Subscription Key"})}),Object(x.jsx)(Pe,{style:{display:"inline-block"},children:Object(x.jsx)(LabeledLED,{color:r?i?"yellow":"green":"gray",label:"Recognizer Engine"})}),Object(x.jsx)(Pe,{style:{display:"inline-block"},children:Object(x.jsx)(LabeledLED,{color:r?a?"green":"red":"gray",label:"Speech Detection"})})]})})]})}),Object(x.jsx)(Footer,{children:Object(x.jsx)(Pe,{style:{textAlign:"center"},children:Object(x.jsxs)(er,{children:[Object(x.jsx)(mn,{id:zi}),Object(x.jsx)(mn,{id:Hi}),Object(x.jsx)(mn,{id:_r})]})})})]})}};var Wr=function Footer_Footer(){return Object(x.jsx)(Footer,{children:Object(x.jsx)(Pe,{style:{textAlign:"center"},children:Object(x.jsxs)(er,{children:[Object(x.jsx)(mn,{id:zi}),Object(x.jsx)(mn,{id:Er,title:"Speech Debugger"}),Object(x.jsx)(mn,{id:_r,title:"Command Debugger"})]})})})};var Pr=function WithoutRecognizer(e){var t=e.speechRecognizerService,n=e.hasCachedSubscriptionKey,i=e.subscriptionKeyManagementService;return Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Pe,{children:Object(x.jsxs)(D,{children:[Object(x.jsx)(Content_Content,{children:Object(x.jsx)(f.a,{style:{overflowY:"auto"},children:Object(x.jsx)(Pe,{children:Object(x.jsx)(Pe,{style:{textAlign:"center",borderRadius:4,backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px rgba(255, 255, 255, 0.2) solid"},children:Object(x.jsxs)(Re.a,{canOverflow:!0,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{onClick:t.startRecognizing,style:{backgroundColor:"#347fe8"},children:"Enable Speech Recognition"})," ","in order to control ReShell's desktop."]}),Object(x.jsx)("hr",{style:{width:"90%",marginTop:20}}),n?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{style:{fontWeight:"bold"},children:"There is a cached Azure Subscription Key in local storage."}),Object(x.jsxs)("p",{children:[Object(x.jsx)("button",{onClick:i.deleteCachedSubscriptionKey,style:{backgroundColor:"red"},disabled:!n,children:"Delete Cached Subscription Key"})," ","or open"," ",Object(x.jsx)(mn,{id:Hi})," to manage your keys."]})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:"You will be prompted to enter a Microsoft Azure Subscription Key in order to use this functionality."}),Object(x.jsxs)("p",{children:["The Azure Subscription Key will be stored in local storage, accessible via the"," ",Object(x.jsx)(mn,{id:Hi}),"."]})]})]})})})})}),Object(x.jsx)(Footer,{children:Object(x.jsx)(Re.a,{})})]})})}),Object(x.jsx)(Wr,{})]})},Lr={id:"speech-commander",title:"Speech Commander",style:{width:640,height:480},isAutoStart:!0,serviceClasses:[Rr,Nr,Ir,kr],titleBarView:function TitleBarView(e){var t=e.appServices,n=t[Nr],i=n.getIsConnecting(),r=n.getHasRecognizer(),c=n.getIsRecognizing(),a=t[Rr].getIsDesktopControlEnabled();return Object(x.jsxs)("div",{children:[Object(x.jsx)(zn,{masterLabel:"Speech Recognition",isOn:r,onChange:function onChange(e){e?n.startRecognizing():n.stopRecognizing()}}),Object(x.jsx)(LabeledLED,{color:r?i?"yellow":c?"green":"red":"gray",style:{marginLeft:10,verticalAlign:"bottom"},label:"Talk Detection"}),Object(x.jsx)(LabeledLED,{color:r?a?"green":"red":"gray",style:{marginLeft:10,verticalAlign:"bottom"},label:"Desktop Control"})]})},view:function View(e){var t=e.appServices,n=(e.sharedState,e.setSharedState,t[kr].getLastCommand()),i=t[Ir],r=i.getHasCachedSubscriptionKey(),c=t[Nr],a=c.getHasRecognizer();c.getFinalizedTranscription();var o=c.getIsRecognizing(),s=c.getRealTimeTranscription(),l=c.getFinalizedTranscription(),u=t[Rr],d=o?s:l;return a?Object(x.jsxs)(D,{children:[Object(x.jsx)(Header,{children:Object(x.jsx)(Pe,{style:{textAlign:"center"},children:Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Enable Desktop Speech Control to control ReShell with your speech."}),Object(x.jsx)(zn,{isOn:u.getIsDesktopControlEnabled(),onChange:u.setIsDesktopControlEnabled,masterLabel:"Desktop Speech Control"}),Object(x.jsx)("div",{style:{marginLeft:20,display:"inline-block"},children:Object(x.jsx)(mn,{id:_r,style:{backgroundColor:"#347fe8"},title:"View Example Phrases"})})]})})}),Object(x.jsx)(Content_Content,{children:Object(x.jsx)(Pe,{children:Object(x.jsxs)(Re.a,{children:[d&&Object(x.jsx)("span",{style:{fontWeight:"bold"},children:d}),n&&Object(x.jsxs)("div",{style:{color:"green",marginTop:10},className:"note",children:["Last command: ",n.description]})]})})}),Object(x.jsx)(Wr,{})]}):Object(x.jsx)(Pr,{speechRecognizerService:c,hasCachedSubscriptionKey:r,subscriptionKeyManagementService:i})}};t.default=function ReShellOrgPortal(){return Object(x.jsx)(rn,{appDescriptors:[fn,Sn,Gn,$n,ni,ui,Wi,Li,Ei,Cn,bi,ki,Qi,Yi,zr,Lr,Ar]})}}}]);
//# sourceMappingURL=6.f8a22ee3.chunk.js.map